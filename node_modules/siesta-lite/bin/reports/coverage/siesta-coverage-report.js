/*

Siesta 5.3.0
Copyright(c) 2009-2019 Bryntum AB
https://bryntum.com/contact
https://bryntum.com/products/siesta/license

*/
var $jscomp={scope:{},getGlobal:function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return"jscomp_symbol_"+a+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();if(a[$jscomp.global.Symbol.iterator])return a[$jscomp.global.Symbol.iterator]();var b=0;return{next:function(){return b==a.length?{done:!0}:{done:!1,value:a[b++]}}}};
$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if($jscomp.global.Object.defineProperties){var e=$jscomp.global.Object.getOwnPropertyDescriptor(b,d);e&&$jscomp.global.Object.defineProperty(a,d,e)}else a[d]=b[d]};$jscomp.array=$jscomp.array||{};$jscomp.array.done_=function(){return{done:!0,value:void 0}};
$jscomp.array.arrayIterator_=function(a,b){a instanceof String&&(a=String(a));var c=0;$jscomp.initSymbol();$jscomp.initSymbolIterator();var d={},e=(d.next=function(){if(c<a.length){var d=c++;return{value:b(d,a[d]),done:!1}}e.next=$jscomp.array.done_;return $jscomp.array.done_()},d[Symbol.iterator]=function(){return e},d);return e};
$jscomp.array.findInternal_=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.array.from=function(a,b,c){b=void 0===b?function(a){return a}:b;var d=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();if(a[Symbol.iterator]){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=a[Symbol.iterator]();for(var e;!(e=a.next()).done;)d.push(b.call(c,e.value))}else{e=a.length;for(var f=0;f<e;f++)d.push(b.call(c,a[f]))}return d};$jscomp.array.of=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return $jscomp.array.from(b)};
$jscomp.array.entries=function(){return $jscomp.array.arrayIterator_(this,function(a,b){return[a,b]})};$jscomp.array.installHelper_=function(a,b){!Array.prototype[a]&&Object.defineProperties&&Object.defineProperty&&Object.defineProperty(Array.prototype,a,{configurable:!0,enumerable:!1,writable:!0,value:b})};$jscomp.array.entries$install=function(){$jscomp.array.installHelper_("entries",$jscomp.array.entries)};$jscomp.array.keys=function(){return $jscomp.array.arrayIterator_(this,function(a){return a})};
$jscomp.array.keys$install=function(){$jscomp.array.installHelper_("keys",$jscomp.array.keys)};$jscomp.array.values=function(){return $jscomp.array.arrayIterator_(this,function(a,b){return b})};$jscomp.array.values$install=function(){$jscomp.array.installHelper_("values",$jscomp.array.values)};
$jscomp.array.copyWithin=function(a,b,c){var d=this.length;a=Number(a);b=Number(b);c=Number(null!=c?c:d);if(a<b)for(c=Math.min(c,d);b<c;)b in this?this[a++]=this[b++]:(delete this[a++],b++);else for(c=Math.min(c,d+b-a),a+=c-b;c>b;)--c in this?this[--a]=this[c]:delete this[a];return this};$jscomp.array.copyWithin$install=function(){$jscomp.array.installHelper_("copyWithin",$jscomp.array.copyWithin)};
$jscomp.array.fill=function(a,b,c){null!=c&&a.length||(c=this.length||0);c=Number(c);for(b=Number((void 0===b?0:b)||0);b<c;b++)this[b]=a;return this};$jscomp.array.fill$install=function(){$jscomp.array.installHelper_("fill",$jscomp.array.fill)};$jscomp.array.find=function(a,b){return $jscomp.array.findInternal_(this,a,b).v};$jscomp.array.find$install=function(){$jscomp.array.installHelper_("find",$jscomp.array.find)};
$jscomp.array.findIndex=function(a,b){return $jscomp.array.findInternal_(this,a,b).i};$jscomp.array.findIndex$install=function(){$jscomp.array.installHelper_("findIndex",$jscomp.array.findIndex)};$jscomp.Map=function(a){a=void 0===a?[]:a;this.data_={};this.head_=$jscomp.Map.createHead_();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.set(b[0],b[1])}};
$jscomp.Map.checkBrowserConformance_=function(){var a=$jscomp.global.Map;if(!a||!a.prototype.entries||!Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(f){return!1}};
$jscomp.Map.createHead_=function(){var a={};return a.previous=a.next=a.head=a};$jscomp.Map.getId_=function(a){if(!(a instanceof Object))return String(a);$jscomp.Map.key_ in a||a instanceof Object&&Object.isExtensible&&Object.isExtensible(a)&&$jscomp.Map.defineProperty_(a,$jscomp.Map.key_,++$jscomp.Map.index_);return $jscomp.Map.key_ in a?a[$jscomp.Map.key_]:" "+a};
$jscomp.Map.prototype.set=function(a,b){var c=this.maybeGetEntry_(a),d=c.id,e=c.list,c=c.entry;e||(e=this.data_[d]=[]);c?c.value=b:(c={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},e.push(c),this.head_.previous.next=c,this.head_.previous=c,this.size++);return this};
$jscomp.Map.prototype["delete"]=function(a){var b=this.maybeGetEntry_(a);a=b.id;var c=b.list,d=b.index;return(b=b.entry)&&c?(c.splice(d,1),c.length||delete this.data_[a],b.previous.next=b.next,b.next.previous=b.previous,b.head=null,this.size--,!0):!1};$jscomp.Map.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=$jscomp.Map.createHead_();this.size=0};$jscomp.Map.prototype.has=function(a){return!!this.maybeGetEntry_(a).entry};
$jscomp.Map.prototype.get=function(a){return(a=this.maybeGetEntry_(a).entry)&&a.value};$jscomp.Map.prototype.maybeGetEntry_=function(a){var b=$jscomp.Map.getId_(a),c=this.data_[b];if(c)for(var d=0;d<c.length;d++){var e=c[d];if(a!==a&&e.key!==e.key||a===e.key)return{id:b,list:c,index:d,entry:e}}return{id:b,list:c,index:-1,entry:void 0}};$jscomp.Map.prototype.entries=function(){return this.iter_(function(a){return[a.key,a.value]})};$jscomp.Map.prototype.keys=function(){return this.iter_(function(a){return a.key})};
$jscomp.Map.prototype.values=function(){return this.iter_(function(a){return a.value})};$jscomp.Map.prototype.forEach=function(a,b){for(var c=$jscomp.makeIterator(this.entries()),d=c.next();!d.done;d=c.next())d=d.value,a.call(b,d[1],d[0],this)};
$jscomp.Map.prototype.iter_=function(a){var b=this,c=this.head_;$jscomp.initSymbol();$jscomp.initSymbolIterator();var d={};return d.next=function(){if(c){for(;c.head!=b.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:a(c)};c=null}return{done:!0,value:void 0}},d[Symbol.iterator]=function(){return this},d};$jscomp.Map.index_=0;$jscomp.Map.defineProperty_=Object.defineProperty?function(a,b,c){Object.defineProperty(a,b,{value:String(c)})}:function(a,b,c){a[b]=String(c)};
$jscomp.Map.Entry_=function(){};$jscomp.Map.ASSUME_NO_NATIVE=!1;$jscomp.Map$install=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();!$jscomp.Map.ASSUME_NO_NATIVE&&$jscomp.Map.checkBrowserConformance_()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.key_=Symbol("map-id-key"));$jscomp.Map$install=function(){}};$jscomp.math=$jscomp.math||{};
$jscomp.math.clz32=function(a){a=Number(a)>>>0;if(0===a)return 32;var b=0;0===(a&4294901760)&&(a<<=16,b+=16);0===(a&4278190080)&&(a<<=8,b+=8);0===(a&4026531840)&&(a<<=4,b+=4);0===(a&3221225472)&&(a<<=2,b+=2);0===(a&2147483648)&&b++;return b};$jscomp.math.imul=function(a,b){a=Number(a);b=Number(b);var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};$jscomp.math.sign=function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1};
$jscomp.math.log10=function(a){return Math.log(a)/Math.LN10};$jscomp.math.log2=function(a){return Math.log(a)/Math.LN2};$jscomp.math.log1p=function(a){a=Number(a);if(.25>a&&-.25<a){for(var b=a,c=1,d=a,e=0,f=1;e!=d;)b*=a,f*=-1,d=(e=d)+f*b/++c;return d}return Math.log(1+a)};$jscomp.math.expm1=function(a){a=Number(a);if(.25>a&&-.25<a){for(var b=a,c=1,d=a,e=0;e!=d;)b*=a/++c,d=(e=d)+b;return d}return Math.exp(a)-1};$jscomp.math.cosh=function(a){a=Number(a);return(Math.exp(a)+Math.exp(-a))/2};
$jscomp.math.sinh=function(a){a=Number(a);return 0===a?a:(Math.exp(a)-Math.exp(-a))/2};$jscomp.math.tanh=function(a){a=Number(a);if(0===a)return a;var b=Math.exp(2*-Math.abs(a)),b=(1-b)/(1+b);return 0>a?-b:b};$jscomp.math.acosh=function(a){a=Number(a);return Math.log(a+Math.sqrt(a*a-1))};$jscomp.math.asinh=function(a){a=Number(a);if(0===a)return a;var b=Math.log(Math.abs(a)+Math.sqrt(a*a+1));return 0>a?-b:b};
$jscomp.math.atanh=function(a){a=Number(a);return($jscomp.math.log1p(a)-$jscomp.math.log1p(-a))/2};
$jscomp.math.hypot=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];a=Number(a);b=Number(b);for(var f=Math.max(Math.abs(a),Math.abs(b)),g=$jscomp.makeIterator(d),e=g.next();!e.done;e=g.next())f=Math.max(f,Math.abs(e.value));if(1E100<f||1E-100>f){a/=f;b/=f;g=a*a+b*b;d=$jscomp.makeIterator(d);for(e=d.next();!e.done;e=d.next())e=e.value,e=Number(e)/f,g+=e*e;return Math.sqrt(g)*f}f=a*a+b*b;d=$jscomp.makeIterator(d);for(e=d.next();!e.done;e=d.next())e=e.value,e=Number(e),f+=
e*e;return Math.sqrt(f)};$jscomp.math.trunc=function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b};$jscomp.math.cbrt=function(a){if(0===a)return a;a=Number(a);var b=Math.pow(Math.abs(a),1/3);return 0>a?-b:b};$jscomp.number=$jscomp.number||{};$jscomp.number.isFinite=function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a};
$jscomp.number.isInteger=function(a){return $jscomp.number.isFinite(a)?a===Math.floor(a):!1};$jscomp.number.isNaN=function(a){return"number"===typeof a&&isNaN(a)};$jscomp.number.isSafeInteger=function(a){return $jscomp.number.isInteger(a)&&Math.abs(a)<=$jscomp.number.MAX_SAFE_INTEGER};$jscomp.number.EPSILON=Math.pow(2,-52);$jscomp.number.MAX_SAFE_INTEGER=9007199254740991;$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991;$jscomp.object=$jscomp.object||{};
$jscomp.object.assign=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=$jscomp.makeIterator(c);for(d=c.next();!d.done;d=c.next())if(d=d.value)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e]);return a};$jscomp.object.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};$jscomp.Set=function(a){a=void 0===a?[]:a;this.map_=new $jscomp.Map;if(a){a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}this.size=this.map_.size};
$jscomp.Set.checkBrowserConformance_=function(){var a=$jscomp.global.Set;if(!a||!a.prototype.entries||!Object.seal)return!1;var b=Object.seal({x:4}),a=new a($jscomp.makeIterator([b]));if(a.has(b)||1!=a.size||a.add(b)!=a||1!=a.size||a.add({x:4})!=a||2!=a.size)return!1;var a=a.entries(),c=a.next();if(c.done||c.value[0]!=b||c.value[1]!=b)return!1;c=a.next();return c.done||c.value[0]==b||4!=c.value[0].x||c.value[1]!=c.value[0]?!1:a.next().done};
$jscomp.Set.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};$jscomp.Set.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};$jscomp.Set.prototype.clear=function(){this.map_.clear();this.size=0};$jscomp.Set.prototype.has=function(a){return this.map_.has(a)};$jscomp.Set.prototype.entries=function(){return this.map_.entries()};$jscomp.Set.prototype.values=function(){return this.map_.values()};
$jscomp.Set.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};$jscomp.Set.ASSUME_NO_NATIVE=!1;$jscomp.Set$install=function(){!$jscomp.Set.ASSUME_NO_NATIVE&&$jscomp.Set.checkBrowserConformance_()?$jscomp.Set=$jscomp.global.Set:($jscomp.Map$install(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values);$jscomp.Set$install=function(){}};$jscomp.string=$jscomp.string||{};
$jscomp.string.noNullOrUndefined_=function(a,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");};$jscomp.string.noRegExp_=function(a,b){if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");};
$jscomp.string.fromCodePoint=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(var c="",b=$jscomp.makeIterator(b),d=b.next();!d.done;d=b.next()){d=d.value;d=+d;if(0>d||1114111<d||d!==Math.floor(d))throw new RangeError("invalid_code_point "+d);65535>=d?c+=String.fromCharCode(d):(d-=65536,c+=String.fromCharCode(d>>>10&1023|55296),c+=String.fromCharCode(d&1023|56320))}return c};
$jscomp.string.repeat=function(a){$jscomp.string.noNullOrUndefined_(this,"repeat");var b=String(this);if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var c="";a;)if(a&1&&(c+=b),a>>>=1)b+=b;return c};$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)};
$jscomp.string.codePointAt=function(a){$jscomp.string.noNullOrUndefined_(this,"codePointAt");var b=String(this),c=b.length;a=Number(a)||0;if(0<=a&&a<c){a|=0;var d=b.charCodeAt(a);if(55296>d||56319<d||a+1===c)return d;a=b.charCodeAt(a+1);return 56320>a||57343<a?d:1024*(d-55296)+a+9216}};$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)};
$jscomp.string.includes=function(a,b){b=void 0===b?0:b;$jscomp.string.noRegExp_(a,"includes");$jscomp.string.noNullOrUndefined_(this,"includes");return-1!==String(this).indexOf(a,b)};$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)};
$jscomp.string.startsWith=function(a,b){b=void 0===b?0:b;$jscomp.string.noRegExp_(a,"startsWith");$jscomp.string.noNullOrUndefined_(this,"startsWith");var c=String(this);a+="";for(var d=c.length,e=a.length,f=Math.max(0,Math.min(b|0,c.length)),g=0;g<e&&f<d;)if(c[f++]!=a[g++])return!1;return g>=e};$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)};
$jscomp.string.endsWith=function(a,b){$jscomp.string.noRegExp_(a,"endsWith");$jscomp.string.noNullOrUndefined_(this,"endsWith");var c=String(this);a+="";void 0===b&&(b=c.length);for(var d=Math.max(0,Math.min(b|0,c.length)),e=a.length;0<e&&0<d;)if(c[--d]!=a[--e])return!1;return 0>=e};$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};
"undefined"==typeof Joose&&!function(){var a={};a.C="undefined"!=typeof JOOSE_CFG?JOOSE_CFG:{};a.is_IE="\v"=="v";a.is_NodeJS=!("undefined"==typeof process||!process.pid);a.top=a.is_NodeJS&&global||this;a.stub=function(){return function(){throw Error("Modules can not be instantiated");}};a.VERSION="3.50.1";"undefined"!=typeof module&&(module.exports=a);this.Joose=a;a.A={each:function(a,b,c){c=c||this;for(var d=0,e=a.length;d<e;d++)if(!1===b.call(c,a[d],d))return!1},eachR:function(a,b,c){c=c||this;
for(var d=a.length-1;0<=d;d--)if(!1===b.call(c,a[d],d))return!1},exists:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return!0;return!1},map:function(a,b,c){c=c||this;for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e));return d},grep:function(b,c){var d=[];a.A.each(b,function(a){c(a)&&d.push(a)});return d},remove:function(b,c){var d=[];a.A.each(b,function(a){a!==c&&d.push(a)});return d}};a.S={saneSplit:function(a,b){var c=(a||"").split(b);1!=c.length||c[0]||c.shift();return c},
uppercaseFirst:function(a){return a.substr(0,1).toUpperCase()+a.substr(1,a.length-1)},strToClass:function(b,c){var d=c||a.top;a.A.each(b.split("."),function(a){if(d)d=d[a];else return!1});return d}};var b=function(){},c=["hasOwnProperty","valueOf","toString","constructor"],d=!0,e;for(e in{toString:1})d=!1;a.O={each:function(b,e,f){f=f||this;for(var g in b)if(!1===e.call(f,b[g],g))return!1;if(d)return a.A.each(c,function(a){if(b.hasOwnProperty(a))return e.call(f,b[a],a)})},eachOwn:function(b,c,d){d=
d||this;return a.O.each(b,function(a,e){if(b.hasOwnProperty(e))return c.call(d,a,e)},d)},copy:function(b,c){c=c||{};a.O.each(b,function(a,b){c[b]=a});return c},copyOwn:function(b,c){c=c||{};a.O.eachOwn(b,function(a,b){c[b]=a});return c},getMutableCopy:function(a){b.prototype=a;return new b},extend:function(b,c){return a.O.copy(c,b)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},isInstance:function(a){return a&&a.meta&&a.constructor==a.meta.c},isClass:function(a){return a&&
a.meta&&a.meta.c==a},wantArray:function(a){return a instanceof Array?a:[a]},isFunction:function(a){return"function"==typeof a&&a.constructor!=/ /.constructor}};a.I={Array:function(){return[]},Object:function(){return{}},Function:function(){return arguments.callee},Now:function(){return new Date}};a.Proto=a.stub();a.Proto.Empty=a.stub();a.Proto.Empty.meta={};(function(){a.Proto.Object=a.stub();var b=function(){var a=b.caller;a==c&&(a=a.caller);if(!a.SUPER)throw"Invalid call to SUPER";return a.SUPER[a.methodName].apply(this,
arguments)},c=function(a){return this.SUPER.apply(this,a)};a.Proto.Object.prototype={SUPERARG:c,SUPER:b,INNER:function(){throw"Invalid call to INNER";},BUILD:function(a){return 1==arguments.length&&"object"==typeof a&&a||{}},initialize:function(){},toString:function(){return"a "+this.meta.name}};a.Proto.Object.meta={constructor:a.Proto.Object,methods:a.O.copy(a.Proto.Object.prototype),attributes:{}};a.Proto.Object.prototype.meta=a.Proto.Object.meta})();(function(){a.Proto.Class=function(){return this.initialize(this.BUILD.apply(this,
arguments))||this};var b={VERSION:null,AUTHORITY:null,constructor:a.Proto.Class,superClass:null,name:null,attributes:null,methods:null,meta:null,c:null,defaultSuperClass:a.Proto.Object,BUILD:function(a,b){this.name=a;return{__extend__:b||{}}},initialize:function(a){a=a.__extend__;this.VERSION=a.VERSION;this.AUTHORITY=a.AUTHORITY;delete a.VERSION;delete a.AUTHORITY;this.c=this.extractConstructor(a);this.adaptConstructor(this.c);a.constructorOnly?delete a.constructorOnly:this.construct(a)},construct:function(a){if(this.prepareProps(a)){var b=
this.superClass=this.extractSuperClass(a);this.processSuperClass(b);this.adaptPrototype(this.c.prototype);this.finalize(a)}},finalize:function(a){this.processStem(a);this.extend(a)},prepareProps:function(a){return!0},extractConstructor:function(a){var b=a.hasOwnProperty("constructor")?a.constructor:this.defaultConstructor();delete a.constructor;return b},extractSuperClass:function(a){if(a.hasOwnProperty("isa")&&!a.isa)throw Error("Attempt to inherit from undefined superclass ["+this.name+"]");var b=
a.isa||this.defaultSuperClass;delete a.isa;return b},processStem:function(){var b=this.superClass.meta;this.methods=a.O.getMutableCopy(b.methods||{});this.attributes=a.O.getMutableCopy(b.attributes||{})},initInstance:function(b,c){a.O.copyOwn(c,b)},defaultConstructor:function(){return function(a){var b=this.BUILD,b=b&&b.apply(this,arguments)||a||{},c=this.meta;c.initInstance(this,b);return c.hasMethod("initialize")&&this.initialize(b)||this}},processSuperClass:function(b){var c=b.prototype;if(!b.meta){var d=
a.O.copy(c);d.isa=a.Proto.Empty;delete d.constructor;d=new this.defaultSuperClass.meta.constructor(null,d);b.meta=c.meta=d;d.c=b}this.c.prototype=a.O.getMutableCopy(c);this.c.superClass=c},adaptConstructor:function(a){a.meta=this;a.hasOwnProperty("toString")||(a.toString=function(){return this.meta.name})},adaptPrototype:function(a){a.constructor=this.c;a.meta=this},addMethod:function(a,b){b.SUPER=this.superClass.prototype;b.methodName=a;this.methods[a]=b;this.c.prototype[a]=b},addAttribute:function(a,
b){this.attributes[a]=b;this.c.prototype[a]=b},removeMethod:function(a){delete this.methods[a];delete this.c.prototype[a]},removeAttribute:function(a){delete this.attributes[a];delete this.c.prototype[a]},hasMethod:function(a){return!!this.methods[a]},hasAttribute:function(a){return void 0!==this.attributes[a]},hasOwnMethod:function(a){return this.hasMethod(a)&&this.methods.hasOwnProperty(a)},hasOwnAttribute:function(a){return this.hasAttribute(a)&&this.attributes.hasOwnProperty(a)},extend:function(b){a.O.eachOwn(b,
function(b,c){"meta"!=c&&"constructor"!=c&&(a.O.isFunction(b)&&!b.meta?this.addMethod(c,b):this.addAttribute(c,b))},this)},subClassOf:function(a,b){return this.subClass(b,null,a)},subClass:function(a,b,c){a=a||{};a.isa=c||this.c;return(new this.constructor(b,a)).c},instantiate:function(){var a=function(){};a.prototype=this.c.prototype;a=new a;return this.c.apply(a,arguments)||a}};a.Proto.Class.prototype=a.O.getMutableCopy(a.Proto.Object.prototype);a.O.extend(a.Proto.Class.prototype,b);a.Proto.Class.prototype.meta=
new a.Proto.Class("Joose.Proto.Class",b);a.Proto.Class.meta.addMethod("isa",function(a){var b=function(){};b.prototype=this.c.prototype;return new b instanceof a})})();a.Managed=a.stub();a.Managed.Property=(new a.Proto.Class("Joose.Managed.Property",{name:null,init:null,value:null,definedIn:null,initialize:function(b){a.Managed.Property.superClass.initialize.call(this,b);this.computeValue()},computeValue:function(){this.value=this.init},preApply:function(a){},postUnApply:function(a){},apply:function(a){a[this.name]=
this.value},isAppliedTo:function(a){return a[this.name]==this.value},unapply:function(a){if(!this.isAppliedTo(a))throw"Unapply of property ["+this.name+"] from ["+a+"] failed";delete a[this.name]},cloneProps:function(){return{name:this.name,init:this.init,definedIn:this.definedIn}},clone:function(a){var b=this.cloneProps();b.name=a||b.name;return new this.constructor(b)}})).c;a.Managed.Property.ConflictMarker=(new a.Proto.Class("Joose.Managed.Property.ConflictMarker",{isa:a.Managed.Property,apply:function(a){throw Error("Attempt to apply ConflictMarker ["+
this.name+"] to ["+a+"]");}})).c;a.Managed.Property.Requirement=(new a.Proto.Class("Joose.Managed.Property.Requirement",{isa:a.Managed.Property,apply:function(a){if(!a.meta.hasMethod(this.name))throw Error("Requirement ["+this.name+"], defined in ["+this.definedIn.definedIn.name+"] is not satisfied for class ["+a+"]");},unapply:function(a){}})).c;a.Managed.Property.Attribute=(new a.Proto.Class("Joose.Managed.Property.Attribute",{isa:a.Managed.Property,slot:null,initialize:function(){a.Managed.Property.Attribute.superClass.initialize.apply(this,
arguments);this.slot=this.name},apply:function(a){a.prototype[this.slot]=this.value},isAppliedTo:function(a){return a.prototype[this.slot]==this.value},unapply:function(a){if(!this.isAppliedTo(a))throw"Unapply of property ["+this.name+"] from ["+a+"] failed";delete a.prototype[this.slot]},clearValue:function(a){delete a[this.slot]},hasValue:function(a){return a.hasOwnProperty(this.slot)},getRawValueFrom:function(a){return a[this.slot]},setRawValueTo:function(a,b){a[this.slot]=b;return this}})).c;
a.Managed.Property.MethodModifier=(new a.Proto.Class("Joose.Managed.Property.MethodModifier",{isa:a.Managed.Property,prepareWrapper:function(){throw"Abstract method [prepareWrapper] of "+this+" was called";},apply:function(a){var b=this.name,c=a.prototype,d=c.hasOwnProperty(b),e=c[b],f=a.meta.superClass.prototype,g=this.prepareWrapper({name:b,modifier:this.value,isOwn:d,originalCall:d?e:function(){return f[b].apply(this,arguments)},superProto:f,target:a});d&&(g.__ORIGINAL__=e);g.__CONTAIN__=this.value;
g.__METHOD__=this;this.value.displayName=this.getDisplayName(a);g.displayName="internal wrapper";c[b]=g},getDisplayName:function(a){return a.meta.name+"["+this.name+"]"},isAppliedTo:function(a){return(a=a.prototype[this.name])&&a.__CONTAIN__==this.value},unapply:function(a){var b=this.name,c=a.prototype,d=c[b].__ORIGINAL__;if(!this.isAppliedTo(a))throw"Unapply of method ["+b+"] from class ["+a+"] failed";d?c[b]=d:delete c[b]}})).c;a.Managed.Property.MethodModifier.Override=(new a.Proto.Class("Joose.Managed.Property.MethodModifier.Override",
{isa:a.Managed.Property.MethodModifier,prepareWrapper:function(b){var c=b.modifier,d=b.originalCall,e=b.superProto,f=e.meta.constructor,g=d;f!=a.Proto.Class&&f!=a.Proto.Object||b.isOwn&&d.IS_OVERRIDE||(g=function(){var a=this.SUPER;this.SUPER=e.SUPER;var b=d.apply(this,arguments);this.SUPER=a;return b});b=function(){var a=this.SUPER;this.SUPER=g;var b=c.apply(this,arguments);this.SUPER=a;return b};b.IS_OVERRIDE=!0;return b},getDisplayName:function(a){return a.meta.name+"[override "+this.name+"]"}})).c;
a.Managed.Property.MethodModifier.Put=(new a.Proto.Class("Joose.Managed.Property.MethodModifier.Put",{isa:a.Managed.Property.MethodModifier.Override,prepareWrapper:function(b){if(b.isOwn)throw"Method ["+b.name+"] is applying over something ["+b.originalCall+"] in class ["+b.target+"]";return a.Managed.Property.MethodModifier.Put.superClass.prepareWrapper.call(this,b)},getDisplayName:function(a){return a.meta.name+"["+this.name+"]"}})).c;a.Managed.Property.MethodModifier.After=(new a.Proto.Class("Joose.Managed.Property.MethodModifier.After",
{isa:a.Managed.Property.MethodModifier,prepareWrapper:function(a){var b=a.modifier,c=a.originalCall;return function(){var a=c.apply(this,arguments);b.apply(this,arguments);return a}},getDisplayName:function(a){return a.meta.name+"[after "+this.name+"]"}})).c;a.Managed.Property.MethodModifier.Before=(new a.Proto.Class("Joose.Managed.Property.MethodModifier.Before",{isa:a.Managed.Property.MethodModifier,prepareWrapper:function(a){var b=a.modifier,c=a.originalCall;return function(){b.apply(this,arguments);
return c.apply(this,arguments)}},getDisplayName:function(a){return a.meta.name+"[before "+this.name+"]"}})).c;a.Managed.Property.MethodModifier.Around=(new a.Proto.Class("Joose.Managed.Property.MethodModifier.Around",{isa:a.Managed.Property.MethodModifier,prepareWrapper:function(a){var b=a.modifier,c=a.originalCall,d,e=function(){return c.apply(d,arguments)};return function(){d=this;var a=[e];a.push.apply(a,arguments);return b.apply(this,a)}},getDisplayName:function(a){return a.meta.name+"[around "+
this.name+"]"}})).c;a.Managed.Property.MethodModifier.Augment=(new a.Proto.Class("Joose.Managed.Property.MethodModifier.Augment",{isa:a.Managed.Property.MethodModifier,prepareWrapper:function(a){var b=function(){var a=[],c=b;do a.push(c.IS_AUGMENT?c.__CONTAIN__:c),c=c.IS_AUGMENT&&(c.__ORIGINAL__||c.SUPER[c.methodName]);while(c);c=this.INNER;this.INNER=function(){var b=a.pop();return b?b.apply(this,arguments):void 0};var d=this.INNER.apply(this,arguments);this.INNER=c;return d};b.methodName=a.name;
b.SUPER=a.superProto;b.IS_AUGMENT=!0;return b},getDisplayName:function(a){return a.meta.name+"[augment "+this.name+"]"}})).c;a.Managed.PropertySet=(new a.Proto.Class("Joose.Managed.PropertySet",{isa:a.Managed.Property,properties:null,propertyMetaClass:a.Managed.Property,initialize:function(b){a.Managed.PropertySet.superClass.initialize.call(this,b);this.properties=b.properties||{}},addProperty:function(a,b){var c=b.meta||this.propertyMetaClass;delete b.meta;b.definedIn=this;b.name=a;return this.properties[a]=
new c(b)},addPropertyObject:function(a){return this.properties[a.name]=a},removeProperty:function(a){var b=this.properties[a];delete this.properties[a];return b},haveProperty:function(a){return null!=this.properties[a]},haveOwnProperty:function(a){return this.haveProperty(a)&&this.properties.hasOwnProperty(a)},getProperty:function(a){return this.properties[a]},each:function(b,c){a.O.each(this.properties,b,c||this)},eachOwn:function(b,c){a.O.eachOwn(this.properties,b,c||this)},eachAll:function(a,b){this.each(a,
b)},cloneProps:function(){var b=a.Managed.PropertySet.superClass.cloneProps.call(this);b.propertyMetaClass=this.propertyMetaClass;return b},clone:function(b){b=this.cleanClone(b);b.properties=a.O.copyOwn(this.properties);return b},cleanClone:function(a){var b=this.cloneProps();b.name=a||b.name;return new this.constructor(b)},alias:function(b){var c=this.properties;a.O.each(b,function(a,b){var d=c[b];d&&this.addPropertyObject(d.clone(a))},this)},exclude:function(b){var c=this.properties;a.A.each(b,
function(a){delete c[a]})},beforeConsumedBy:function(){},flattenTo:function(b){var c=b.properties;this.eachOwn(function(d,e){var f=c[e];f instanceof a.Managed.Property.ConflictMarker||(c.hasOwnProperty(e)&&null!=f?f!=d&&(b.removeProperty(e),b.addProperty(e,{meta:a.Managed.Property.ConflictMarker})):b.addPropertyObject(d))},this)},composeTo:function(a){this.eachOwn(function(b,c){a.haveOwnProperty(c)||a.addPropertyObject(b)})},composeFrom:function(){if(arguments.length){var b=this.cleanClone();a.A.each(arguments,
function(c){var d=!(c instanceof a.Managed.PropertySet),e=d?c.propertySet:c;e.beforeConsumedBy(this,b);if(d){if(c.alias||c.exclude)e=e.clone();c.alias&&e.alias(c.alias);c.exclude&&e.exclude(c.exclude)}e.flattenTo(b)},this);b.composeTo(this)}},preApply:function(a){this.eachOwn(function(b){b.preApply(a)})},apply:function(a){this.eachOwn(function(b){b.apply(a)})},unapply:function(a){this.eachOwn(function(b){b.unapply(a)})},postUnApply:function(a){this.eachOwn(function(b){b.postUnApply(a)})}})).c;var f=
1;a.Managed.PropertySet.Mutable=(new a.Proto.Class("Joose.Managed.PropertySet.Mutable",{isa:a.Managed.PropertySet,ID:null,derivatives:null,opened:null,composedFrom:null,initialize:function(b){a.Managed.PropertySet.Mutable.superClass.initialize.call(this,b);this.opened=1;this.derivatives={};this.ID=f++;this.composedFrom=[]},addComposeInfo:function(){this.ensureOpen();a.A.each(arguments,function(b){this.composedFrom.push(b);(b instanceof a.Managed.PropertySet?b:b.propertySet).derivatives[this.ID]=this},
this)},removeComposeInfo:function(){this.ensureOpen();a.A.each(arguments,function(b){for(var c=0;c<this.composedFrom.length;){var d=this.composedFrom[c],d=d instanceof a.Managed.PropertySet?d:d.propertySet;b==d?(delete d.derivatives[this.ID],this.composedFrom.splice(c,1)):c++}},this)},ensureOpen:function(){if(!this.opened)throw"Mutation of closed property set: ["+this.name+"]";},addProperty:function(b,c){this.ensureOpen();return a.Managed.PropertySet.Mutable.superClass.addProperty.call(this,b,c)},
addPropertyObject:function(b){this.ensureOpen();return a.Managed.PropertySet.Mutable.superClass.addPropertyObject.call(this,b)},removeProperty:function(b){this.ensureOpen();return a.Managed.PropertySet.Mutable.superClass.removeProperty.call(this,b)},composeFrom:function(){this.ensureOpen();return a.Managed.PropertySet.Mutable.superClass.composeFrom.apply(this,this.composedFrom)},open:function(){this.opened++;1==this.opened&&(a.O.each(this.derivatives,function(a){a.open()}),this.deCompose())},close:function(){if(!this.opened)throw"Unmatched 'close' operation on property set: ["+
this.name+"]";1==this.opened&&(this.reCompose(),a.O.each(this.derivatives,function(a){a.close()}));this.opened--},reCompose:function(){this.composeFrom()},deCompose:function(){this.eachOwn(function(a,b){a.definedIn!=this&&this.removeProperty(b)},this)}})).c;a.Managed.StemElement=function(){throw"Modules may not be instantiated.";};a.Managed.StemElement.Attributes=(new a.Proto.Class("Joose.Managed.StemElement.Attributes",{isa:a.Managed.PropertySet.Mutable,propertyMetaClass:a.Managed.Property.Attribute})).c;
a.Managed.StemElement.Methods=(new a.Proto.Class("Joose.Managed.StemElement.Methods",{isa:a.Managed.PropertySet.Mutable,propertyMetaClass:a.Managed.Property.MethodModifier.Put,preApply:function(){},postUnApply:function(){}})).c;a.Managed.StemElement.Requirements=(new a.Proto.Class("Joose.Managed.StemElement.Requirements",{isa:a.Managed.PropertySet.Mutable,propertyMetaClass:a.Managed.Property.Requirement,alias:function(){},exclude:function(){},flattenTo:function(a){this.each(function(b,c){a.haveProperty(c)||
a.addPropertyObject(b)})},composeTo:function(a){this.flattenTo(a)},preApply:function(){},postUnApply:function(){}})).c;a.Managed.StemElement.MethodModifiers=(new a.Proto.Class("Joose.Managed.StemElement.MethodModifiers",{isa:a.Managed.PropertySet.Mutable,propertyMetaClass:null,addProperty:function(a,b){var c=b.meta;delete b.meta;b.definedIn=this;b.name=a;var c=new c(b),d=this.properties;d[a]||(d[a]=[]);d[a].push(c);return c},addPropertyObject:function(a){var b=a.name,c=this.properties;c[b]||(c[b]=
[]);c[b].push(a);return a},removeProperty:function(b){if(this.haveProperty(b)){var c=this.properties,d=c[b].pop();c[b].length||a.Managed.StemElement.MethodModifiers.superClass.removeProperty.call(this,b);return d}},alias:function(){},exclude:function(){},flattenTo:function(b){var c=b.properties;this.each(function(b,d){var e=c[d];null==e&&(e=c[d]=[]);a.A.each(b,function(b){a.A.exists(e,b)||e.push(b)})})},composeTo:function(a){this.flattenTo(a)},deCompose:function(){this.each(function(a,b){for(var c=
0;c<a.length;)a[c].definedIn!=this?a.splice(c,1):c++})},preApply:function(a){},postUnApply:function(a){},apply:function(b){this.each(function(c,d){a.A.each(c,function(a){a.apply(b)})})},unapply:function(a){this.each(function(b,c){for(var d=b.length-1;0<=d;d--)b[d].unapply(a)})}})).c;a.Managed.PropertySet.Composition=(new a.Proto.Class("Joose.Managed.PropertySet.Composition",{isa:a.Managed.PropertySet.Mutable,propertyMetaClass:a.Managed.PropertySet.Mutable,processOrder:null,each:function(b,c){var d=
this.properties;c=c||this;a.A.each(this.processOrder,function(a){b.call(c,d[a],a)})},eachR:function(b,c){var d=this.properties;c=c||this;a.A.eachR(this.processOrder,function(a){b.call(c,d[a],a)})},clone:function(a){var b=this.cleanClone(a);this.each(function(a){b.addPropertyObject(a.clone())});return b},alias:function(a){this.each(function(b){b.alias(a)})},exclude:function(a){this.each(function(b){b.exclude(a)})},flattenTo:function(a){var b=a.properties;this.each(function(c,d){var e=b[d]||a.addProperty(d,
{meta:c.constructor});c.flattenTo(e)})},composeTo:function(a){var b=a.properties;this.each(function(c,d){var e=b[d]||a.addProperty(d,{meta:c.constructor});c.composeTo(e)})},deCompose:function(){this.eachR(function(a){a.open()});a.Managed.PropertySet.Composition.superClass.deCompose.call(this)},reCompose:function(){a.Managed.PropertySet.Composition.superClass.reCompose.call(this);this.each(function(a){a.close()})},unapply:function(a){this.eachR(function(b){b.unapply(a)})}})).c;a.Managed.Stem=(new a.Proto.Class("Joose.Managed.Stem",
{isa:a.Managed.PropertySet.Composition,targetMeta:null,attributesMC:a.Managed.StemElement.Attributes,methodsMC:a.Managed.StemElement.Methods,requirementsMC:a.Managed.StemElement.Requirements,methodsModifiersMC:a.Managed.StemElement.MethodModifiers,processOrder:["attributes","methods","requirements","methodsModifiers"],initialize:function(b){a.Managed.Stem.superClass.initialize.call(this,b);b=this.targetMeta;this.addProperty("attributes",{meta:this.attributesMC,properties:b?b.attributes:{}});this.addProperty("methods",
{meta:this.methodsMC,properties:b?b.methods:{}});this.addProperty("requirements",{meta:this.requirementsMC});this.addProperty("methodsModifiers",{meta:this.methodsModifiersMC})},reCompose:function(){var b=this.targetMeta.c;this.preApply(b);a.Managed.Stem.superClass.reCompose.call(this);this.apply(b)},deCompose:function(){var b=this.targetMeta.c;this.unapply(b);a.Managed.Stem.superClass.deCompose.call(this);this.postUnApply(b)}})).c;a.Managed.Builder=(new a.Proto.Class("Joose.Managed.Builder",{targetMeta:null,
_buildStart:function(b,c){b.stem.open();a.A.each("trait traits removeTrait removeTraits does doesnot doesnt".split(" "),function(a){c[a]&&(this[a](b,c[a]),delete c[a])},this)},_extend:function(b){if(!a.O.isEmpty(b)){var c=this.targetMeta;this._buildStart(c,b);a.O.eachOwn(b,function(a,b){var d=this[b];if(!d)throw Error("Unknown builder ["+b+"] was used during extending of ["+c.c+"]");d.call(this,c,a)},this);this._buildComplete(c,b)}},_buildComplete:function(a,b){a.stem.close()},methods:function(b,
c){a.O.eachOwn(c,function(a,c){b.addMethod(c,a)})},removeMethods:function(b,c){a.A.each(c,function(a){b.removeMethod(a)})},have:function(b,c){a.O.eachOwn(c,function(a,c){b.addAttribute(c,a)})},havenot:function(b,c){a.A.each(c,function(a){b.removeAttribute(a)})},havent:function(a,b){this.havenot(a,b)},after:function(b,c){a.O.each(c,function(c,d){b.addMethodModifier(d,c,a.Managed.Property.MethodModifier.After)})},before:function(b,c){a.O.each(c,function(c,d){b.addMethodModifier(d,c,a.Managed.Property.MethodModifier.Before)})},
override:function(b,c){a.O.each(c,function(c,d){b.addMethodModifier(d,c,a.Managed.Property.MethodModifier.Override)})},around:function(b,c){a.O.each(c,function(c,d){b.addMethodModifier(d,c,a.Managed.Property.MethodModifier.Around)})},augment:function(b,c){a.O.each(c,function(c,d){b.addMethodModifier(d,c,a.Managed.Property.MethodModifier.Augment)})},removeModifier:function(b,c){a.A.each(c,function(a){b.removeMethodModifier(a)})},does:function(b,c){a.A.each(a.O.wantArray(c),function(a){b.addRole(a)})},
doesnot:function(b,c){a.A.each(a.O.wantArray(c),function(a){b.removeRole(a)})},doesnt:function(a,b){this.doesnot(a,b)},trait:function(){this.traits.apply(this,arguments)},traits:function(a,b){if(!a.firstPass){if(!a.meta.isDetached)throw"Can't apply trait to not detached class";a.meta.extend({does:b})}},removeTrait:function(){this.removeTraits.apply(this,arguments)},removeTraits:function(a,b){if(!a.meta.isDetached)throw"Can't remove trait from not detached class";a.meta.extend({doesnot:b})},name:function(a,
b){a.name=b}})).c;a.Managed.Class=(new a.Proto.Class("Joose.Managed.Class",{isa:a.Proto.Class,stem:null,stemClass:a.Managed.Stem,stemClassCreated:!1,builder:null,builderClass:a.Managed.Builder,builderClassCreated:!1,isDetached:!1,firstPass:!0,skipTraitsAnchor:{},BUILD:function(){var b=a.Managed.Class.superClass.BUILD.apply(this,arguments),c=b.__extend__,d=a.O.wantArray(c.trait||c.traits||[]);delete c.trait;delete c.traits;a.A.each(a.O.wantArray(c.does||[]),function(b){b=b.meta instanceof a.Managed.Class?
b:b.role;b.meta.meta.isDetached&&d.push(b.meta.constructor)});d.length&&(c.traits=d);return b},initInstance:function(b,c){a.O.each(this.attributes,function(d,e){d instanceof a.Managed.Attribute?d.initFromConfig(b,c):c.hasOwnProperty(e)&&(b[e]=c[e])})},defaultConstructor:function(){return function(a,b){var c=this.meta,d=a==c.skipTraitsAnchor,e=this.BUILD,e=e&&e.apply(this,d?b:arguments)||(d?b[0]:a)||{},f=e.__extend__||e,g=f.trait||f.traits;if(g||f.detached)if(delete f.trait,delete f.traits,delete f.detached,
!d)return d=c.subClass({does:g||[]},c.name).meta,d.isDetached=!0,d.instantiate(c.skipTraitsAnchor,arguments);c.initInstance(this,e);return c.hasMethod("initialize")&&this.initialize(e)||this}},finalize:function(b){a.Managed.Class.superClass.finalize.call(this,b);this.stem.close();this.afterMutate()},processStem:function(){a.Managed.Class.superClass.processStem.call(this);this.builder=new this.builderClass({targetMeta:this});this.stem=new this.stemClass({name:this.name,targetMeta:this});var b=this.getClassInAttribute("builderClass");
b&&(this.builderClassCreated=!0,this.addAttribute("builderClass",this.subClassOf(b)));if(b=this.getClassInAttribute("stemClass"))this.stemClassCreated=!0,this.addAttribute("stemClass",this.subClassOf(b))},extend:function(a){a.builder&&(this.getBuilderTarget().meta.extend(a.builder),delete a.builder);a.stem&&(this.getStemTarget().meta.extend(a.stem),delete a.stem);this.builder._extend(a);this.firstPass=!1;this.stem.opened||this.afterMutate()},getBuilderTarget:function(){var a=this.getClassInAttribute("builderClass");
if(!a)throw"Attempt to extend a builder on non-meta class";return a},getStemTarget:function(){var a=this.getClassInAttribute("stemClass");if(!a)throw"Attempt to extend a stem on non-meta class";return a},getClassInAttribute:function(b){b=this.getAttribute(b);b instanceof a.Managed.Property.Attribute&&(b=b.value);return b},addMethodModifier:function(a,b,c){var d={};d.init=b;d.meta=c;return this.stem.properties.methodsModifiers.addProperty(a,d)},removeMethodModifier:function(a){return this.stem.properties.methodsModifiers.removeProperty(a)},
addMethod:function(a,b,c){c=c||{};c.init=b;return this.stem.properties.methods.addProperty(a,c)},addAttribute:function(a,b,c){c=c||{};c.init=b;return this.stem.properties.attributes.addProperty(a,c)},removeMethod:function(a){return this.stem.properties.methods.removeProperty(a)},removeAttribute:function(a){return this.stem.properties.attributes.removeProperty(a)},hasMethod:function(a){return this.stem.properties.methods.haveProperty(a)},hasAttribute:function(a){return this.stem.properties.attributes.haveProperty(a)},
hasMethodModifiersFor:function(a){return this.stem.properties.methodsModifiers.haveProperty(a)},hasOwnMethod:function(a){return this.stem.properties.methods.haveOwnProperty(a)},hasOwnAttribute:function(a){return this.stem.properties.attributes.haveOwnProperty(a)},getMethod:function(a){return this.stem.properties.methods.getProperty(a)},getAttribute:function(a){return this.stem.properties.attributes.getProperty(a)},eachRole:function(b,c,d){a.A.each(b,function(b,e){c.call(d||this,b,b.meta instanceof
a.Managed.Class?b:b.role,e)},this)},addRole:function(){this.eachRole(arguments,function(a,b){this.beforeRoleAdd(b);var c=a;b!=a?(c.propertySet=b.meta.stem,delete c.role):c=c.meta.stem;this.stem.addComposeInfo(c)},this)},beforeRoleAdd:function(a){a=a.meta;a.builderClassCreated&&this.getBuilderTarget().meta.extend({does:[a.getBuilderTarget()]});a.stemClassCreated&&this.getStemTarget().meta.extend({does:[a.getStemTarget()]});a.meta.isDetached&&!this.firstPass&&this.builder.traits(this,a.constructor)},
beforeRoleRemove:function(a){a=a.meta;a.builderClassCreated&&this.getBuilderTarget().meta.extend({doesnt:[a.getBuilderTarget()]});a.stemClassCreated&&this.getStemTarget().meta.extend({doesnt:[a.getStemTarget()]});a.meta.isDetached&&!this.firstPass&&this.builder.removeTraits(this,a.constructor)},removeRole:function(){this.eachRole(arguments,function(a,b){this.beforeRoleRemove(b);this.stem.removeComposeInfo(b.meta.stem)},this)},getRoles:function(){return a.A.map(this.stem.composedFrom,function(b){return b instanceof
a.Managed.PropertySet?b.targetMeta.c:b.propertySet})},does:function(b){for(var c=this.getRoles(),d=0;d<c.length;d++)if(b==c[d])return!0;for(d=0;d<c.length;d++)if(c[d].meta.does(b))return!0;c=this.superClass.meta;return this.superClass!=a.Proto.Empty&&c&&c.meta&&c.meta.hasMethod("does")?c.does(b):!1},getMethods:function(){return this.stem.properties.methods},getAttributes:function(){return this.stem.properties.attributes},afterMutate:function(){},getCurrentMethod:function(){for(var a=arguments.callee.caller,
b=0;a&&5>b;a=a.caller,b++)if(a.__METHOD__)return a.__METHOD__;return null}})).c;a.Managed.Role=(new a.Managed.Class("Joose.Managed.Role",{isa:a.Managed.Class,have:{defaultSuperClass:a.Proto.Empty,builderRole:null,stemRole:null},methods:{defaultConstructor:function(){return function(){throw Error("Roles cant be instantiated");}},processSuperClass:function(){if(this.superClass!=this.defaultSuperClass)throw Error("Roles can't inherit from anything");},getBuilderTarget:function(){this.builderRole||(this.builderRole=
(new this.constructor).c,this.builderClassCreated=!0);return this.builderRole},getStemTarget:function(){this.stemRole||(this.stemRole=(new this.constructor).c,this.stemClassCreated=!0);return this.stemRole},addRequirement:function(a){this.stem.properties.requirements.addProperty(a,{})}},stem:{methods:{apply:function(){},unapply:function(){}}},builder:{methods:{requires:function(b,c){a.A.each(a.O.wantArray(c),function(a){b.addRequirement(a)},this)}}}})).c;a.Managed.Attribute=(new a.Managed.Class("Joose.Managed.Attribute",
{isa:a.Managed.Property.Attribute,have:{is:null,builder:null,isPrivate:!1,role:null,publicName:null,setterName:null,getterName:null,readable:!1,writeable:!1,hasGetter:!1,hasSetter:!1,required:!1,canInlineSetRaw:!0,canInlineGetRaw:!0},after:{initialize:function(){var a=this.name;this.publicName=a.replace(/^_+/,"");this.slot=this.isPrivate?"$"+a:a;this.setterName=this.setterName||this.getSetterName();this.getterName=this.getterName||this.getGetterName();this.readable=this.hasGetter=/^r/i.test(this.is);
this.writeable=this.hasSetter=/^.w/i.test(this.is)}},override:{computeValue:function(){var b=this.init;!a.O.isClass(b)&&a.O.isFunction(b)||this.SUPER()},preApply:function(a){a.meta.extend({methods:this.getAccessorsFor(a)})},postUnApply:function(a){a.meta.extend({removeMethods:this.getAccessorsFrom(a)})}},methods:{getAccessorsFor:function(a){a=a.meta;var b=this.setterName,c=this.getterName,d={};this.hasSetter&&!a.hasMethod(b)&&(d[b]=this.getSetter(),d[b].ACCESSOR_FROM=this);this.hasGetter&&!a.hasMethod(c)&&
(d[c]=this.getGetter(),d[c].ACCESSOR_FROM=this);return d},getAccessorsFrom:function(a){var b=a.meta;a=this.setterName;var c=this.getterName,d=this.hasSetter&&b.getMethod(a),b=this.hasGetter&&b.getMethod(c),e=[];d&&d.value.ACCESSOR_FROM==this&&e.push(a);b&&b.value.ACCESSOR_FROM==this&&e.push(c);return e},getGetterName:function(){return"get"+a.S.uppercaseFirst(this.publicName)},getSetterName:function(){return"set"+a.S.uppercaseFirst(this.publicName)},getSetter:function(){var a=this,b=a.slot;return a.canInlineSetRaw?
function(a){this[b]=a;return this}:function(){return a.setRawValueTo.apply(this,arguments)}},getGetter:function(){var a=this,b=a.slot;return a.canInlineGetRaw?function(a){return this[b]}:function(){return a.getRawValueFrom.apply(this,arguments)}},getValueFrom:function(a){var b=this.getterName;return this.readable&&a.meta.hasMethod(b)?a[b]():this.getRawValueFrom(a)},setValueTo:function(a,b){var c=this.setterName;if(this.writeable&&a.meta.hasMethod(c))a[c](b);else this.setRawValueTo(a,b)},initFromConfig:function(b,
c){var d=this.name,e,f=!1;if(c.hasOwnProperty(d))e=c[d],f=!0;else{var g=this.init;a.O.isFunction(g)&&!a.O.isClass(g)?(e=g.call(b,c,d),f=!0):this.builder&&(e=b[this.builder.replace(/^this\./,"")](c,d),f=!0)}if(f)this.setRawValueTo(b,e);else if(this.required)throw Error("Required attribute ["+d+"] is missed during initialization of "+b);}}})).c;a.Managed.Attribute.Builder=(new a.Managed.Role("Joose.Managed.Attribute.Builder",{have:{defaultAttributeClass:a.Managed.Attribute},builder:{methods:{has:function(b,
c){a.O.eachOwn(c,function(a,c){if("object"!=typeof a||null==a||a.constructor==/ /.constructor)a={init:a};a.meta=a.meta||b.defaultAttributeClass;/^__/.test(c)&&(c=c.replace(/^_+/,""),a.isPrivate=!0);b.addAttribute(c,a.init,a)},this)},hasnot:function(a,b){this.havenot(a,b)},hasnt:function(a,b){this.hasnot(a,b)}}}})).c;a.Managed.My=(new a.Managed.Role("Joose.Managed.My",{have:{myClass:null,needToReAlias:!1},methods:{createMy:function(b){var c=this instanceof a.Managed.Role,d=b.my||{};delete b.my;b=this.superClass.meta.myClass;
c||d.isa||!b||(d.isa=b);d.meta||d.isa||(d.meta=this.constructor);d.name=this.name+".my";d=this.myClass=g(d);b=this.c;b.prototype.my=b.my=c?d:new d({HOST:b});this.needToReAlias=!0},aliasStaticMethods:function(){this.needToReAlias=!1;var b=this.c,c=this.myClass.prototype;a.O.eachOwn(b,function(a,c){a.IS_ALIAS&&delete b[c]});this.myClass.meta.stem.properties.methods.each(function(a,d){b[d]||((b[d]=function(){return c[d].apply(b.my,arguments)}).IS_ALIAS=!0)})}},override:{extend:function(b){var c=this.myClass;
!c&&this.superClass.meta.myClass&&this.createMy(b);b.my&&(c?(this.needToReAlias=!0,c.meta.extend(b.my),delete b.my):this.createMy(b));this.SUPER(b);!this.needToReAlias||this instanceof a.Managed.Role||this.aliasStaticMethods()}},before:{addRole:function(){var b;a.A.each(arguments,function(c){if(!c)throw Error("Attempt to consume an undefined Role into ["+this.name+"]");c=c.meta instanceof a.Managed.Class?c:c.role;c.meta.meta.hasAttribute("myClass")&&c.meta.myClass&&(this.myClass?(b=this.myClass.meta.stem,
b.opened||b.open(),b.addComposeInfo(c.my.meta.stem)):this.createMy({my:{does:c.meta.myClass}}))},this);b&&(b.close(),this.needToReAlias=!0)},removeRole:function(){if(this.myClass){var b=this.myClass.meta.stem;b.open();a.A.each(arguments,function(a){a.meta.meta.hasAttribute("myClass")&&a.meta.myClass&&(b.removeComposeInfo(a.my.meta.stem),this.needToReAlias=!0)},this);b.close()}}}})).c;a.Namespace=a.stub();a.Namespace.Able=(new a.Managed.Role("Joose.Namespace.Able",{have:{bodyFunc:null},before:{extend:function(a){a.body&&
(this.bodyFunc=a.body,delete a.body)}},after:{afterMutate:function(){var b=this.bodyFunc;delete this.bodyFunc;b&&a.Namespace.Manager.my.executeIn(this.c,b)}}})).c;a.Managed.Bootstrap=(new a.Managed.Role("Joose.Managed.Bootstrap",{does:[a.Namespace.Able,a.Managed.My,a.Managed.Attribute.Builder]})).c;a.Meta=a.stub();a.Meta.Object=(new a.Proto.Class("Joose.Meta.Object",{isa:a.Proto.Object})).c;a.Meta.Class=(new a.Managed.Class("Joose.Meta.Class",{isa:a.Managed.Class,does:a.Managed.Bootstrap,have:{defaultSuperClass:a.Meta.Object}})).c;
a.Meta.Role=(new a.Meta.Class("Joose.Meta.Role",{isa:a.Managed.Role,does:a.Managed.Bootstrap})).c;a.Namespace.Keeper=(new a.Meta.Class("Joose.Namespace.Keeper",{isa:a.Meta.Class,have:{externalConstructor:null},methods:{defaultConstructor:function(){return function(){var b=arguments.callee.meta;if(b instanceof a.Namespace.Keeper)throw Error("Module ["+b.c+"] may not be instantiated. Forgot to 'use' the class with the same name?");var c=b.externalConstructor;if("function"==typeof c)return c.meta=b,
c.apply(this,arguments);throw"NamespaceKeeper of ["+b.name+"] was planted incorrectly.";}},plant:function(a){var b=this.c;b.meta=a.meta;b.meta.c=b;b.meta.externalConstructor=a}}})).c;a.Namespace.Manager=(new a.Managed.Class("Joose.Namespace.Manager",{have:{current:null},methods:{initialize:function(){this.current=[a.top]},getCurrent:function(){return this.current[0]},executeIn:function(a,b){var c=this.current;c.unshift(a);var d=b.call(a,a);c.shift();return d},earlyCreate:function(a,b,c){c.constructorOnly=
!0;return(new b(a,c)).c},create:function(b,c,d){if(!b)return(new c(b,d)).c;var e=this;if(/^\./.test(b))return this.executeIn(a.top,function(){return e.create(b.replace(/^\./,""),c,d)});for(var f=d||{},g=a.S.saneSplit(b,"."),q=this.getCurrent(),r=q==a.top?[]:a.S.saneSplit(q.meta.name,"."),t=0;t<g.length;t++){var u=g[t],v=t==g.length-1;if("meta"==u||"my"==u||!u)throw"Module name ["+b+"] may not include a part called 'meta' or 'my' or empty part.";var w=q[u];r.push(u);var y=r.join("."),x=!1;if("undefined"==
typeof w)v?(w=this.earlyCreate(y,c,f),x=!0):w=(new a.Namespace.Keeper(y)).c,q[u]=w;else if(v&&w&&w.meta)if(q=w.meta,c==a.Namespace.Keeper)q.extend(f);else if(q instanceof a.Namespace.Keeper)q.plant(this.earlyCreate(y,c,f)),x=!0;else{if(!a.C.ignoreRepeatedDeclarations)throw Error("Double declaration of ["+y+"]");}else if(v&&!(w&&w.meta&&w.meta.meta))throw"Trying to setup module "+y+" failed. There is already something: "+w;v&&this.prepareMeta(w.meta);x&&w.meta.construct(f);q=w}return q},prepareMeta:function(){},
prepareProperties:function(a,b,c,d){a&&"string"!=typeof a&&(b=a,a=null);var e;b&&b.meta&&(e=b.meta,delete b.meta);e||(e=b&&"function"==typeof b.isa&&b.isa.meta?b.isa.meta.constructor:c);return d.call(this,a,e,b)},getDefaultHelperFor:function(a){var b=this;return function(c,d){return b.prepareProperties(c,d,a,function(a,c,d){return b.create(a,c,d)})}},register:function(b,c,d){var e=this;if(this.meta.hasMethod(b))c=function(){return e[b].apply(e,arguments)},a.top[b]||(a.top[b]=c),a[b]||(a[b]=c),a.is_NodeJS&&
"undefined"!=typeof exports&&(exports[b]=c);else{var f={};f[b]=d||this.getDefaultHelperFor(c);this.meta.extend({methods:f});this.register(b)}},Module:function(b,c){return this.prepareProperties(b,c,a.Namespace.Keeper,function(a,b,c){"function"==typeof c&&(c={body:c});return this.create(a,b,c)})}}})).c;a.Namespace.Manager.my=new a.Namespace.Manager;a.Namespace.Manager.my.register("Class",a.Meta.Class);a.Namespace.Manager.my.register("Role",a.Meta.Role);a.Namespace.Manager.my.register("Module");var g=
a.Class;e=a.Role;e("Joose.Attribute.Delegate",{have:{handles:null},override:{eachDelegate:function(b,c,d){if("string"==typeof b)return c.call(d,b,b);if(b instanceof Array)return a.A.each(b,function(a){c.call(d,a,a)});b===Object(b)&&a.O.eachOwn(b,function(a,b){c.call(d,b,a)})},getAccessorsFor:function(a){var b=a.meta,c=this.SUPER(a),d=this;this.eachDelegate(this.handles,function(a,e){b.hasMethod(a)||((c[a]=function(){var a=d.getValueFrom(this);return a[e].apply(a,arguments)}).ACCESSOR_FROM=d)});return c},
getAccessorsFrom:function(a){var b=this.SUPER(a),c=this,d=a.meta;this.eachDelegate(this.handles,function(a){var e=d.getMethod(a);e&&e.value.ACCESSOR_FROM==c&&b.push(a)});return b}}});e("Joose.Attribute.Trigger",{have:{trigger:null},after:{initialize:function(){if(this.trigger){if(!this.writeable)throw Error("Can't use `trigger` for read-only attributes");this.hasSetter=!0}}},override:{getSetter:function(){var b=this.SUPER(),c=this.trigger;if(!c)return b;var d=this,e=a.O.isFunction(d.init)?null:d.init;
return function(){var a=d.hasValue(this)?d.getValueFrom(this):e,f=b.apply(this,arguments);c.call(this,d.getValueFrom(this),a);return f}}}});e("Joose.Attribute.Lazy",{have:{lazy:null},before:{computeValue:function(){"function"==typeof this.init&&this.lazy&&(this.lazy=this.init,delete this.init)}},after:{initialize:function(){this.lazy&&(this.readable=this.hasGetter=!0)}},override:{getGetter:function(){var a=this.SUPER(),b=this.lazy;if(!b)return a;var c=this;return function(){if(!c.hasValue(this)){var d=
"function"==typeof b?b:this[b.replace(/^this\./,"")];c.setValueTo(this,d.apply(this,arguments))}return a.call(this)}}}});e("Joose.Attribute.Accessor.Combined",{have:{isCombined:!1},after:{initialize:function(){if(this.isCombined=this.isCombined||/..c/i.test(this.is))this.slot="$$"+this.name,this.hasGetter=!0,this.hasSetter=!1,this.setterName=this.getterName=this.publicName}},override:{getGetter:function(){var a=this.SUPER();if(!this.isCombined)return a;var b=this.getSetter(),c=this;return function(){if(!arguments.length){if(c.readable)return a.call(this);
throw Error("Call to getter of unreadable attribute: ["+c.name+"]");}if(c.writeable)return b.apply(this,arguments);throw Error("Call to setter of read-only attribute: ["+c.name+"]");}}}});a.Managed.Attribute.meta.extend({does:[a.Attribute.Delegate,a.Attribute.Trigger,a.Attribute.Lazy,a.Attribute.Accessor.Combined]});e("Joose.Meta.Singleton",{has:{forceInstance:a.I.Object,instance:null},override:{defaultConstructor:function(){var a=this,b=this.SUPER();this.adaptConstructor(b);return function(c,d){if(c==
a.forceInstance)return b.apply(this,d)||this;var e=a.instance;e||(e=a.instance=new a.c(a.forceInstance,arguments));a.hasMethod("configure")&&e.configure.apply(e,arguments);return e}}}});a.Namespace.Manager.my.register("Singleton",g({isa:a.Meta.Class,meta:a.Meta.Class,does:a.Meta.Singleton}))}();
Role("Siesta.Util.Role.CanFormatStrings",{has:{serializeFormatingPlaceholders:!0},methods:{formatString:function(a,b){if(!b)return a;for(var c,d=[],e=[],f=/\{(\!)?((?:\w|-|_)+?)\}/g;c=f.exec(a);)e.push(c[1]),d.push(c[2]);var g=a;Joose.A.each(d,function(a,c){var d=e[c];g=g.replace(new RegExp("\\{"+(d?"!":"")+a+"\\}","g"),b.hasOwnProperty(a)?d||!this.serializeFormatingPlaceholders?b[a]+"":Siesta.Util.Serializer.stringify(b[a]):"")},this);return g},extractKeysAndSpecialKeys:function(a){var b=Siesta.Test.UserAgent.KeyCodes().keys,
c=this,d=[];a=a.match(/(\[\[(?:\w|-){1,11}\]\])|(\[(?:\w|-){1,11}\])|([\s\S])/g)||[];Joose.A.each(a,function(a,f){if(1<a.length){var g=/\[\[/.test(a),h=a.substring(g?2:1,a.length-(g?2:1)),k=void 0===b[h.toUpperCase()];k||g?(d.push("["),k&&g&&d.push("["),d.push.apply(d,c.extractKeysAndSpecialKeys(h)),d.push("]"),k&&g&&d.push("]")):d.push(a)}else d.push(a)});return d}}});
Role("Siesta.Util.Role.CanEscapeRegExp",{methods:{escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}});
Class("Siesta.Util.TreeStoreFilterer",{has:{idProp:{required:!0},childNodesProp:{required:!0},parentNodeProp:{required:!0},isLeaf:{required:!0}},does:[Siesta.Util.Role.CanEscapeRegExp],methods:{parseFilterValue:function(a){a=a.split(/\s*\>\s*/);var b=1<a.length?a[0]:"";return{testFilterRegexps:this.splitTermByPipe(1<a.length?a[1]:a[0]),groupFilterRegexps:b?this.splitTermByPipe(b):null}},checkCommonFilter:function(a,b,c,d){if(d){for(var e=a,f=!1;e&&e[this.parentNodeProp];)if(e=e[this.parentNodeProp],
this.matchAnyOfRegExps(b(e),d)){f=!0;break}if(!f)return!1}return this.matchAnyOfRegExps(b(a),c)?!0:!c.length},splitTermByPipe:function(a){a=a.split(/\s*\|\s*/);for(var b=[],c=this,d=0;d<a.length;d++)a[d]&&b.push(Joose.A.map(a[d].split(/\s+/),function(a){return new RegExp(c.escapeRegExp(a),"i")}));return b},matchAnyOfRegExps:function(a,b){for(var c=0;c<b.length;c++){for(var d=!0,e=b[c].length,f=0;f<e;f++)if(!b[c][f].test(a)){d=!1;break}if(d)return!0}return!1},collectNodes:function(a,b){var c=b.filter,
d=b.scope||this,e=b.shallow,f=b.checkParents||e,g=b.fullMatchingParents,h=b.onlyParents||g;if(h&&f)throw Error("Can't combine `onlyParents` and `checkParents` options");var k=this.idProp,l=this.parentNodeProp,m=this.childNodesProp,n=this.isLeaf,p=b.rootVisible,q={},r=function(a){q[a[k]]=!0;for(a=a[l];a&&!q[a[k]];)q[a[k]]=!0,a=a[l]},t=function(a,b){b(a);for(var c=a[m],d=c.length,e=0;e<d;e++)n(a)?b(a):t(c[e],b)};p&&(q[a[k]]=!0);var u=function(b){if(!b.hidden){var l,y,x;if(n(b))c.call(d,b,q)&&r(b);else if(h){if(l=
c.call(d,b))if(r(b),g){t(b,function(a){q[a[k]]=!0});return}b=b[m];y=b.length;for(x=0;x<y;x++)l&&n(b[x])?q[b[x][k]]=!0:n(b[x])||u(b[x])}else if(f&&(l=c.call(d,b,q))&&r(b),!f||!e||e&&(l||b==a&&!p))for(b=b[m],y=b.length,x=0;x<y;x++)u(b[x])}};u(a);return q}}});
Siesta.Resource=function(){var a={},b=Class({does:Siesta.Util.Role.CanFormatStrings,has:{dict:null},methods:{get:function(a,b){var e=this.dict[a];if(e)return this.formatString(e,b);window.console&&console.error&&window.top.console.error("TEXT_NOT_DEFINED: "+a);return"TEXT_NOT_DEFINED: "+a}}});return function(c,d,e){var f=Siesta.CurrentLocale[c];if(!f)throw"Missing dictionary for namespace: "+c;var g=a[c];g||(g=a[c]=new b({dict:f,serializeFormatingPlaceholders:!1}));return d?g.get(d,e):g}}();
Siesta.CurrentLocale=Siesta.CurrentLocale||{"Siesta.Project":{preloadHasFailed:"Preload of {url} has failed",preloadHasFailedForTest:"Preload of {url} has failed for test {test}",staticDeprecationWarning:"You are calling static method `{methodName}` of the project class {projectClass}. Such usage is deprecated now, please switch to creation of the project class instance: `var project = new {projectClass}()`",resourceFailedToLoad:"Loading of a {nodeName} resource failed",crossOriginFailed:"Failed to access cross-origin page: {url}. \nIn general tests should reside on the same domain as the app itself,\nbut you can try to disable web security:\nhttps://www.bryntum.com/blog/testing-x-domain-websites-with-siesta-in-chrome/"},
"Siesta.Project.Browser.UI.AboutWindow":{upgradeText:"Upgrade to Siesta Standard",closeText:"Close",titleText:"ABOUT SIESTA (v. {VERSION})",bodyText:'<img height="35" src="https://www.bryntum.com/bryntum-logo.png"/><p>Siesta is a JavaScript unit and functional test tool made by <a target="_blank" href="https://www.bryntum.com">Bryntum</a>. You can test any web page or JavaScript code, including Ext JS, jQuery or NodeJS. Siesta comes in two versions: <strong>Lite</strong> and <strong>Standard</strong>. With Lite, you can launch your tests in the browser UI. With the Standard version, you can also automate your tests and use the automation scripts together with tools like Puppeteer or Selenium WebDriver. </p>Siesta would not be possible without these awesome products & libraries: <br><ul style="padding:0 0 0 30px"><li><a href="http://sencha.com/extjs">Ext JS</a></li><li><a href="http://jquery.com">jQuery</a></li><li><a href="http://http://alexgorbatchev.com/SyntaxHighlighter/">SyntaxHighlighter</a></li><li><a href="http://joose.it/">Joose</a></li><li><a href="https://github.com/gotwarlost/istanbul">Istanbul</a></li></ul>'},
"Siesta.Project.Browser.UI.AssertionGrid":{initializingText:"Initializing test..."},"Siesta.Project.Browser.UI.CoverageReport":{closeText:"Close",showText:"Show: ",lowText:"Low",mediumText:"Med",highText:"High",statementsText:"Statements",branchesText:"Branches",functionsText:"Functions",linesText:"Lines",loadingText:"Loading coverage data...",loadingErrorText:"Loading error",loadingErrorMessageText:"Could not load the report data from this url: ",globalNamespaceText:"[Global namespace]"},"Siesta.Project.Browser.UI.DomContainer":{title:"DOM Panel",
viewDocsText:"View documentation for ",docsUrlText:"http://docs.sencha.com/{0}/apidocs/#!/api/{1}"},"Siesta.Project.Browser.UI.ResultPanel":{rerunText:"Run test",toggleDomVisibleText:"Toggle DOM visible",viewSourceText:"View source",showFailedOnlyText:"Show failed only",componentInspectorText:"Toggle Ext Component Inspector",eventRecorderText:"Event Recorder",closeText:"Close"},"Siesta.Project.Browser.UI.TestGrid":{mouseSimulation:"Mouse simulation",title:"Test list",nameText:"Name",filterTestsText:"Filter tests",
expandCollapseAllText:"Expand / Collapse all",runCheckedText:"Run checked",runFailedText:"Run failed",runAllText:"Run all",observerModeText:"Observer mode",observerModeTooltip:"Sets the `forceDOMVisible` and `runCore=sequential` globally",passText:"Pass",failText:"Fail",optionsText:"Options...",todoPassedText:"todo assertion(s) passed",todoFailedText:"todo assertion(s) failed",viewDomText:"View DOM",transparentExText:"Transparent exceptions",transparentExTooltip:"Disable internal try/catch for any exceptions from tests. Useful for debugging.",
cachePreloadsText:"Cache preloads",autoLaunchText:"Auto launch",autoLaunchTooltip:"Launch the test suite immediately after project page load.",speedRunText:"Fast (still accurate)",speedRunTooltip:"Reduce mouse cursor visualization quality to run tests faster",superSpeedRun:"Very fast, but inaccurate",superSpeedRunTooltip:"Sets the `mouseMovePrecision` option to `Infinity`. Read the docs before using.",breakOnFailText:"Break on fail",breakOnFailTooltip:"Stop the test suite on first failed assertion",
debuggerOnFailText:"Debugger on fail",debuggerOnFailTooltip:"Issue a `debugger` statement on any failed assertion. Useful for debugging",aboutText:"About Siesta",documentationText:"Siesta Documentation",siestaDocsUrl:"https://bryntum.com/docs/siesta",filterFieldTooltip:"Supported patterns for tests filtering:\nWORD - any word, will match with the test file name (no directory part)\nWORD | WORD - any of the alternative patterns\nGROUP > TEST - first match GROUP with the group name, then TEST with tests inside that group\nGROUP1 | GROUP2 > TEST1 | TEST2 - alternation support for groups too\n",
landscape:"Landscape"},"Siesta.Project.Browser.UI.VersionUpdateButton":{newUpdateText:"New Update Available...",updateWindowTitleText:"New version available for download! Current version: ",cancelText:"Cancel",changelogLoadFailedText:"Bummer! Failed to fetch changelog.",downloadText:"Download ",liteText:" (Lite)",standardText:" (Standard)",loadingChangelogText:"Loading changelog..."},"Siesta.Project.Browser.UI.Viewport":{apiLinkText:"API Documentation",apiLinkUrl:"https://bryntum.com/docs/siesta",
uncheckOthersText:"Uncheck others (and check this)",uncheckAllText:"Uncheck all",checkAllText:"Check all",runThisText:"Run this",expandAll:"Expand all",collapseAll:"Collapse all",filterToCurrentGroup:"Filter to current group",filterToFailed:"Filter to failed",httpWarningTitle:"You must use a web server",httpWarningDesc:"You must run Siesta in a web server context, and not using the file:/// protocol",viewSource:"View source"},"Siesta.Project.Browser":{codeCoverageWarningText:"Can not enable code coverage - did you forget to include the `siesta-coverage-all.js` on the project page?",
noJasmine:"No `jasmine` object found on spec runner page",noJasmineSiestaReporter:"Can't find SiestaReporter in Jasmine. \nDid you add the `siesta/bin/jasmine-siesta-reporter.js` file to your spec runner page?"},"Siesta.Result.Assertion":{todoText:"TODO: ",passText:"ok",failText:"fail"},"Siesta.Role.ConsoleReporter":{passText:"PASS",failText:"FAIL",warnText:"WARN",errorText:"ERROR",missingFileText:"Test file [{URL}] not found.",allTestsPassedText:"All tests passed",failuresFoundText:"There are failures"},
"Siesta.Test.Action.Drag":{byOrToMissingText:'Either "to" or "by" configuration option is required for "drag" step',byAndToDefinedText:'Exactly one of "to" or "by" configuration options is required for "drag" step, not both'},"Siesta.Test.Action.Eval":{invalidMethodNameText:"Invalid method name: ",wrongFormatText:"Wrong format of the action string: ",parseErrorText:"Can't parse arguments: "},"Siesta.Test.Action.Wait":{missingMethodText:"Could not find a waitFor method named "},"Siesta.Test.BDD.Expectation":{expectText:"Expect",
needNotText:"Need not",needText:"Need",needMatchingText:"Need matching",needNotMatchingText:"Need not matching",needStringNotContainingText:"Need string not containing",needStringContainingText:"Need string containing",needArrayNotContainingText:"Need array not containing",needArrayContainingText:"Need array containing",needGreaterEqualThanText:"Need value greater or equal than",needGreaterThanText:"Need value greater than",needLessThanText:"Need value less than",needLessEqualThanText:"Need value less or equal than",
needValueNotCloseToText:"Need value not close to",needValueCloseToText:"Need value close to",toBeText:"to be",toBeDefinedText:"to be defined",toBeUndefinedText:"to be undefined",toBeEqualToText:"to be equal to",toBeTruthyText:"to be truthy",toBeFalsyText:"to be falsy",toMatchText:"to match",toContainText:"to contain",toBeLessThanText:"to be less than",toBeGreaterThanText:"to be greater than",toBeCloseToText:"to be close to",toThrowText:"to throw exception",thresholdIsText:"Threshold is ",exactMatchText:"Exact match text",
thrownExceptionText:"Thrown exception",noExceptionThrownText:"No exception thrown",wrongSpy:"Incorrect spy instance",toHaveBeenCalledDescTpl:"Expect method {methodName} to have been called {!need} times",actualNbrOfCalls:"Actual number of calls",expectedNbrOfCalls:"Expected number of calls",toHaveBeenCalledWithDescTpl:"Expect method {methodName} to have been called at least once with the specified arguments"},"Siesta.Test.ExtJS.Ajax":{ajaxIsLoading:"An Ajax call is currently loading",allAjaxRequestsToComplete:"all ajax requests to complete",
ajaxRequest:"ajax request",toComplete:"to complete"},"Siesta.Test.ExtJS.Component":{badInputText:"Expected an Ext.Component, got",toBeVisible:"to be visible",toNotBeVisible:"to not be visible",component:"component",Component:"Component",componentQuery:"componentQuery",compositeQuery:"composite query",toReturnEmptyArray:"to return an empty array",toReturnEmpty:"to return empty",toReturnAVisibleComponent:"to return a visible component",toReturnHiddenCmp:"to return a hidden/missing component",invalidDestroysOkInput:"No components provided, or component query returned empty result",
exception:"Exception",exceptionAnnotation:'Exception thrown while calling "destroy" method of',destroyFailed:"was not destroyed (probably destroy was canceled in the `beforedestroy` listener)",destroyPassed:"All passed components were destroyed ok"},"Siesta.Test.ExtJS.DataView":{view:"view",toRender:"to render"},"Siesta.Test.ExtJS.Element":{top:"top",left:"left",bottom:"bottom",right:"right"},"Siesta.Test.ExtJS.Grid":{waitForRowsVisible:"rows to show for panel with id",waitForCellEmpty:"cell to be empty"},
"Siesta.Test.ExtJS.Observable":{hasListenerInvalid:"1st argument for `t.hasListener` should be an observable instance",hasListenerPass:"Observable has listener for {eventName}",hasListenerFail:"Provided observable has no listeners for event",isFiredWithSignatureNotFired:"event was not fired during the test",observableFired:"Observable fired",correctSignature:"with correct signature",incorrectSignature:"with incorrect signature"},"Siesta.Test.ExtJS.Store":{storesToLoad:"stores to load",failedToLoadStore:"Failed to load the store",
URL:"URL"},"Siesta.Test.Action":{missingTestAction:"Action [{0}] requires `{1}` method in your test class"},"Siesta.Test.BDD":{codeBodyMissing:"Code body is not provided for",codeBodyOf:"Code body of",missingFirstArg:"does not declare a test instance as 1st argument",iitFound:"t.iit should only be used during debugging",noObject:"No object to spy on"},"Siesta.Test.BDD.Spy":{spyingNotOnFunction:"Trying to create a spy over a non-function property"},"Siesta.Test.Browser":{popupsDisabled:"Failed to open the popup for url: {url}. Enable the popups in the browser settings.",
noDomElementFound:"No DOM element found for CSS selector",noActionTargetFound:"No action target found for",waitForEvent:"observable to fire its",event:"event",wrongFormat:"Wrong format for expected number of events",unrecognizedSignature:"Unrecognized signature for `firesOk`",observableFired:"Observable fired",observableFiredOk:"Observable fired expected number of",actualNbrEvents:"Actual number of events",expectedNbrEvents:"Expected number of events",events:"events",noElementFound:"Could not find any element at",
targetElementOfAction:"Target element of action",targetElementOfSomeAction:"Target element of some action",isNotVisible:"is not visible or not reachable",text:"text",toBePresent:"to be present",toNotBePresent:"to not be present",target:"target",toAppear:"to appear",targetMoved:"Moving target detected, retargeting initiated",alertMethodNotCalled:"Expected a call to alert()",focusLostWarning:"Focus has left the test window {url}",focusLostWarningLauncher:"Focus has left the test window {url}, it will be restarted. This behavior is controled with the --restart-on-blur option."},
"Siesta.Test.Date":{isEqualTo:"is equal to",Got:"Got"},"Siesta.Test.Element":{elementContent:"element content",toAppear:"to appear",toDisappear:"to disappear",toAppearAt:"to appear at",monkeyException:"Monkey testing action did not complete properly - probably an exception was thrown",monkeyNoExceptions:"No exceptions thrown during monkey test",monkeyActionLog:"Monkey action log",elementHasClass:"Element has the CSS class",elementHasNoClass:"Element has no CSS class",elementClasses:"Classes of element",
needClass:"Need CSS class",hasStyleDescTpl:"Element has correct {value} for CSS style {property}",elementStyles:"Styles of element",needStyle:"Need style",hasNotStyleDescTpl:"Element does not have: {value} for CSS style {property}",hasTheStyle:"Element has the style",element:"element",toBeTopEl:"to be the top element at its position",toNotBeTopEl:"to not be the top element at its position",selector:"selector",selectors:"selectors",noCssSelector:"A CSS selector must be supplied",waitForSelectorsBadInput:"An array of CSS selectors must be supplied",
Position:"Position",noElementAtPosition:"No element found at the specified position",elementIsAtDescTpl:"DOM element or its child is at [ {x}, {y} ] coordinates",topElement:"Top element",elementIsAtPassTpl:"DOM element is at [ {x}, {y} ] coordinates",allowChildrenDesc:"Need exactly this or its child",allowChildrenAnnotation:"Passed element is not the top-most one and not the child of one",shouldBe:"Should be",noChildrenFailAnnotation:"Passed element is not the top-most one",topLeft:"(t-l)",bottomLeft:"(b-l)",
topRight:"(t-r)",bottomRight:"(b-r)",elementIsNotTopElementPassTpl:"Element is not the top element on the screen",selectorIsAtPassTpl:"Found element matching CSS selector {selector} at [ {xy} ]",elementMatching:"Element matching",selectorIsAtFailAnnotation:"Passed selector does not match any selector at",selectorExistsFailTpl:"No element matching the passed selector found",selectorExistsPassTpl:"Found DOM element(s) matching CSS selector {selector}",selectorNotExistsFailTpl:"Elements found matching the passed selector",
selectorNotExistsPassTpl:"Did not find any DOM element(s) matching CSS selector {selector}",toChangeForElement:"to change for element",selectorCountIsPassTpl:"Found exactly {count} elements matching {selector}",selectorCountIsFailTpl:"Found {got} elements matching the selector {selector}, expected {need}",isInViewPassTpl:"Passed element is within the visible viewport",toAppearInTheViewport:"to appear in the viewport",elementIsEmptyPassTpl:"Passed element is empty",elementIsNotEmptyPassTpl:"Passed element is not empty",
elementToBeEmpty:"element to be empty",elementToNotBeEmpty:"element to not be empty"},"Siesta.Test.ExtJS":{bundleUrlNotFound:"Cannot find Ext JS bundle url",assertNoGlobalExtOverridesInvalid:"Was not able to find the Ext JS bundle URL in the `assertNoGlobalExtOverrides` assertion",assertNoGlobalExtOverridesPassTpl:"No global Ext overrides found",assertNoGlobalExtOverridesGotDesc:"Number of overrides found",foundOverridesFor:"Found overrides for",animationsToFinalize:"animations to finalize",extOverridesInvalid:"Was not able to find the ExtJS bundle URL in the `assertMaxNumberOfGlobalExtOverrides` assertion)",
foundLessOrEqualThan:"Found less or equal than",nbrOverridesFound:"Number of overrides found",globalOverrides:"Ext JS global overrides"},"Siesta.Test.ExtJSCore":{waitedForRequires:"Waiting for required classes took too long - \nCheck the `Net` tab in Firebug and the `loaderPath` config",waitedForExt:"Waiting for Ext.onReady took too long - probably some dependency could not be loaded. \nCheck the `Net` tab in Firebug and the `loaderPath` config",waitedForApp:"Waiting for MVC application launch took too long - no MVC application on test page? \nYou may need to disable the `waitForAppReady` config option",
noComponentMatch:'Your component query: "{component}" returned no components',multipleComponentMatch:'Your component query: "{component}" returned more than 1 component',noComponentFound:"No component found for CQ",knownBugIn:"Known bug in",Class:"Class",wasLoaded:"was loaded",wasNotLoaded:"was not loaded",invalidCompositeQuery:"Invalid composite query selector",ComponentQuery:"ComponentQuery",CompositeQuery:"CompositeQuery",matchedNoCmp:"matched no Ext.Component",messageBoxVisible:"Message box is visible",
messageBoxHidden:"Message box is hidden",waitedForComponentQuery:"Waiting too long for Ext.ComponentQuery"},"Siesta.Test.Function":{Need:"need",atLeast:"at least",exactly:"exactly",methodCalledExactly:"method was called exactly {n} times",exceptionEvalutingClass:"Exception [{e}] caught while evaluating the class name"},"Siesta.Test.More":{isGreaterPassTpl:"`{value1}` is greater than `{value2}`",isLessPassTpl:"`{value1}` is less than `{value2}`",isGreaterEqualPassTpl:"`{value1}` is greater or equal to`{value2}`",
isLessEqualPassTpl:"`{value1}` is less or equal to`{value2}`",isApproxToPassTpl:"`{value1}` is approximately equal to `{value2}`",needGreaterThan:"Need greater than",needGreaterEqualTo:"Need greater or equal to",needLessThan:"Need less than",needLessEqualTo:"Need less or equal to",exactMatch:"Exact match",withinThreshold:"Match within treshhold",needApprox:"Need approx",thresholdIs:"Threshold is",stringMatchesRe:"`{string}` matches regexp {regex}",stringNotMatchesRe:"`{string}` does not match regexp {regex}",
needStringMatching:"Need string matching",needStringNotMatching:"Need string not matching",needStringContaining:"Need string containing",needStringNotContaining:"Need string not containing",stringHasSubstring:"`{string}` has a substring: `{regex}`",stringHasNoSubstring:"`{string}` does not have a substring: `{regex}`",throwsOkInvalid:"throws_ok accepts a function as 1st argument",didntThrow:"Function did not throw an exception",exMatchesRe:"Function throws exception matching to {expected}",exceptionStringifiesTo:"Exception stringifies to",
exContainsSubstring:"Function throws exception containing a substring: {expected}",fnDoesntThrow:"Function does not throw any exceptions",fnThrew:"Function threw an exception",isInstanceOfPass:"Object is an instance of the specified class",needInstanceOf:"Need instance of",isAString:"{value} is a string",aStringValue:"AStringValue",isAnObject:"{value} is an object",anObject:"An object value",isAnArray:"{value} is an array",anArrayValue:"An array value",isANumber:"{value} is a number",aNumberValue:"a number value",
isABoolean:"{value} is a boolean",aBooleanValue:"a number value",isADate:"{value} is a date",aDateValue:"a date value",isARe:"{value} is a regular expression",aReValue:"a regular expression",isAFunction:"{value} is a function",aFunctionValue:"a function",isDeeplyPassTpl:"{obj1} is deeply equal to {obj2}",isDeeplyStrictPassTpl:"{obj1} is strictly deeply equal to {obj2}",globalCheckNotSupported:"Testing leakage of global variables is not supported on this platform",globalVariables:"Global Variables",
noGlobalsFound:"No unexpected global variables found",globalFound:"Unexpected global found",globalName:"Global name",value:"value",conditionToBeFulfilled:"condition to be fulfilled",pageToLoad:"page to load",ms:"ms",waitingFor:"Waiting for",waitedTooLong:"Waited too long for",conditionNotFulfilled:"Condition was not fullfilled during",waitingAborted:"Waiting aborted",Waited:"Waited",checkerException:"checker threw an exception",Exception:"Exception",msFor:"ms for",forcedWaitFinalization:"Forced finalization of waiting for",
chainStepNotCompleted:"The step in `t.chain()` call did not complete within required timeframe, chain can not proceed",stepNumber:"Step number",oneBased:"(1-based)",atLine:"At line",chainStepEx:"Chain step threw an exception",stepFn:"Step function",notUsingNext:'does not use the provided "next" function anywhere',calledMoreThanOnce:"The `next` callback of {num} step (1-based) of `t.chain()` call at line {line} is called more than once.",tooManyDifferences:"Showing {num} of {total} differences"},"Siesta.Test.SenchaTouch":{STSetupFailed:"Waiting for Ext.setup took too long - some dependency could not be loaded? Check the `Net` tab in Firebug",
invalidSwipeDir:"Invalid swipe direction",moveFingerByInvalidInput:"Trying to call moveFingerBy without relative distances",scrollUntilFailed:"scrollUntil failed to achieve its mission",scrollUntilElementVisibleInvalid:"scrollUntilElementVisible: target or scrollable not provided",scrollerReachPos:"scroller to reach position"},"Siesta.Test":{noCodeProvidedToTest:"No code provided to test",addingAssertionsAfterDone:"Adding assertions after the test has finished",testFailedAndAborted:"Assertion failed, test execution aborted",
atLine:"at line",of:"of",character:"character",isTruthy:'`{value}` is a "truthy" value',needTruthy:'Need "truthy" value',isFalsy:'`{value}` is a "falsy" value',needFalsy:'Need "falsy" value',isEqualTo:"`{got}` is equal to `{expected}`",isNotEqualTo:"`{got}` is not equal to `{expected}`",needNot:"Need not",isStrictlyEqual:"`{got}` is strictly equal to `{expected}`",needStrictly:"Need strictly",isStrictlyNotEqual:"`{got}` is strictly not equal to `{expected}`",needStrictlyNot:"Need strictly not",alreadyWaiting:"Already waiting with title",
noOngoingWait:"There is no ongoing `wait` action with title",noMatchingEndAsync:"No matching `endAsync` call within {time}ms",endAsyncMisuse:"Calls to endAsync without argument should only be performed if you have single beginAsync statement",codeBodyMissingForSubTest:"Code body is not provided for sub test [{name}]",codeBodyMissingTestArg:"Code body of sub test [{name}] does not declare a test instance as 1st argument",Subtest:"Subtest",Test:"Test",failedToFinishWithin:"Subtest {name} failed to finish within {timeout}ms",
threwException:"threw an exception",testAlreadyStarted:"Test has already been started",setupTookTooLong:"`setup` method took too long to complete",errorBeforeTestStarted:"Error happened before the test started",testStillRunning:"Your test is still considered to be running, if this is unexpected please see console for more information",testNotFinalized:'Your test [{url}] has not finalized, most likely since a timer (setTimeout) is still active. If this is the expected behavior, try setting "overrideSetTimeout : false" on your Harness configuration.',
missingDoneCall:"Test has completed, but there was no `t.done()` call. Add it at the bottom, or use `t.beginAsync()` for asynchronous code",allTestsPassed:"All tests passed","Snoozed until":"Snoozed until",testTearDownTimeout:"Test's tear down process has timeout out"},"Siesta.Recorder.UI.Editor.Code":{invalidSyntax:"Invalid syntax"},"Siesta.Recorder.UI.Editor.DragTarget":{targetLabel:"Target",toLabel:"To",byLabel:"By",cancelButtonText:"Cancel",saveButtonText:"Save",dragVariantTitle:"Edit `drag` action",
moveCursorVariantTitle:"Edit `moveCursor` action"},"Siesta.Recorder.UI.RecorderPanel":{actionColumnHeader:"Action",offsetColumnHeader:"Offset",queryMatchesNothing:"Query matches no DOM elements or components",queryMatchesMultiple:"Query matches multiple components",noVisibleElsFound:"No visible elements found for target",noTestDetected:"No test detected",noTestStarted:"You need to run a test first, or provide a Page URL",recordTooltip:"Record",stopTooltip:"Stop",playTooltip:"Play",clearTooltip:"Clear all",
codeWindowTitle:"Code",addNewTooltip:"Add a new step",removeAllPromptTitle:"Remove all?",removeAllPromptMessage:"Do you want to clear the recorded events?",Error:"Error",showSource:"Show source",showSourceInNewWindow:"Show source in new window",newRecording:"New recording...",pageUrl:"Page URL"},"Siesta.Recorder.UI.TargetColumn":{headerText:"Target / Value",by:"by",to:"to",coordinateTargetWarning:"Siesta was unable to find a stable selector for this target. Using coordinates as locator is not recommended."}};
$jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.copyWithin",function(a){return a?a:function(a,c,d){var e=this.length;a=Number(a);c=Number(c);d=Number(null!=d?d:e);if(a<c)for(d=Math.min(d,e);c<d;)c in this?this[a++]=this[c++]:(delete this[a++],c++);else for(d=Math.min(d,e+c-a),a+=d-c;d>c;)--d in this?this[--a]=this[d]:delete this[a];return this}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return[a,c]})}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6-impl","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).i}},"es6-impl","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var e=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)e.push(c.call(d,f.value));else for(var f=a.length,g=0;g<f;g++)e.push(c.call(d,a[g]));return e}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");$jscomp.polyfill("Array.of",function(a){return a?a:function(a){return Array.from(arguments)}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return c})}},"es6","es3");
$jscomp.executeAsyncGenerator=function(a){function b(b){return a.next(b)}function c(b){return a["throw"](b)}return new Promise(function(d,e){function f(a){a.done?d(a.value):Promise.resolve(a.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d["delete"](b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(e){return!1}}())return a;var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var e=0,f=function(a){this.id_=(e+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,c){b(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=c;return this};f.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};f.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};f.prototype["delete"]=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return f},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(f){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var b=new WeakMap,c=function(){};c.prototype.previous;c.prototype.next;c.prototype.head;c.prototype.key;c.prototype.value;c=function(a){this.data_={};this.head_=f();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};c.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),
this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};c.prototype["delete"]=function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};c.prototype.has=function(a){return!!d(this,a).entry};c.prototype.get=function(a){return(a=
d(this,a).entry)&&a.value};c.prototype.entries=function(){return e(this,function(a){return[a.key,a.value]})};c.prototype.keys=function(){return e(this,function(a){return a.key})};c.prototype.values=function(){return e(this,function(a){return a.value})};c.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();c.prototype[Symbol.iterator]=c.prototype.entries;
var d=function(a,c){var d;d=c&&typeof c;"object"==d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++g,b.set(c,d)):d="p_"+c;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(var f=0;f<e.length;f++){var p=e[f];if(c!==c&&p.key!==p.key||c===p.key)return{id:d,list:e,index:f,entry:p}}return{id:d,list:e,index:-1,entry:void 0}},e=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,
value:void 0}})},f=function(){var a={};return a.previous=a.next=a.head=a},g=0;return c},"es6-impl","es3");$jscomp.polyfill("Math.acosh",function(a){return a?a:function(a){a=Number(a);return Math.log(a+Math.sqrt(a*a-1))}},"es6-impl","es3");$jscomp.polyfill("Math.asinh",function(a){return a?a:function(a){a=Number(a);if(0===a)return a;var c=Math.log(Math.abs(a)+Math.sqrt(a*a+1));return 0>a?-c:c}},"es6-impl","es3");
$jscomp.polyfill("Math.log1p",function(a){return a?a:function(a){a=Number(a);if(.25>a&&-.25<a){for(var c=a,d=1,e=a,f=0,g=1;f!=e;)c*=a,g*=-1,e=(f=e)+g*c/++d;return e}return Math.log(1+a)}},"es6-impl","es3");$jscomp.polyfill("Math.atanh",function(a){if(a)return a;var b=Math.log1p;return function(a){a=Number(a);return(b(a)-b(-a))/2}},"es6-impl","es3");
$jscomp.polyfill("Math.cbrt",function(a){return a?a:function(a){if(0===a)return a;a=Number(a);var c=Math.pow(Math.abs(a),1/3);return 0>a?-c:c}},"es6-impl","es3");$jscomp.polyfill("Math.clz32",function(a){return a?a:function(a){a=Number(a)>>>0;if(0===a)return 32;var c=0;0===(a&4294901760)&&(a<<=16,c+=16);0===(a&4278190080)&&(a<<=8,c+=8);0===(a&4026531840)&&(a<<=4,c+=4);0===(a&3221225472)&&(a<<=2,c+=2);0===(a&2147483648)&&c++;return c}},"es6-impl","es3");
$jscomp.polyfill("Math.cosh",function(a){if(a)return a;var b=Math.exp;return function(a){a=Number(a);return(b(a)+b(-a))/2}},"es6-impl","es3");$jscomp.polyfill("Math.expm1",function(a){return a?a:function(a){a=Number(a);if(.25>a&&-.25<a){for(var c=a,d=1,e=a,f=0;f!=e;)c*=a/++d,e=(f=e)+c;return e}return Math.exp(a)-1}},"es6-impl","es3");
$jscomp.polyfill("Math.hypot",function(a){return a?a:function(a,c,d){a=Number(a);c=Number(c);var e,f,g,h=Math.max(Math.abs(a),Math.abs(c));for(e=2;e<arguments.length;e++)h=Math.max(h,Math.abs(arguments[e]));if(1E100<h||1E-100>h){a/=h;c/=h;g=a*a+c*c;for(e=2;e<arguments.length;e++)f=Number(arguments[e])/h,g+=f*f;return Math.sqrt(g)*h}g=a*a+c*c;for(e=2;e<arguments.length;e++)f=Number(arguments[e]),g+=f*f;return Math.sqrt(g)}},"es6-impl","es3");
$jscomp.polyfill("Math.imul",function(a){return a?a:function(a,c){a=Number(a);c=Number(c);var d=a&65535,e=c&65535;return d*e+((a>>>16&65535)*e+d*(c>>>16&65535)<<16>>>0)|0}},"es6-impl","es3");$jscomp.polyfill("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}},"es6-impl","es3");$jscomp.polyfill("Math.log2",function(a){return a?a:function(a){return Math.log(a)/Math.LN2}},"es6-impl","es3");
$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6-impl","es3");$jscomp.polyfill("Math.sinh",function(a){if(a)return a;var b=Math.exp;return function(a){a=Number(a);return 0===a?a:(b(a)-b(-a))/2}},"es6-impl","es3");$jscomp.polyfill("Math.tanh",function(a){return a?a:function(a){a=Number(a);if(0===a)return a;var c=Math.exp(-2*Math.abs(a)),c=(1-c)/(1+c);return 0>a?-c:c}},"es6-impl","es3");
$jscomp.polyfill("Math.trunc",function(a){return a?a:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var c=Math.floor(Math.abs(a));return 0>a?-c:c}},"es6-impl","es3");$jscomp.polyfill("Number.EPSILON",function(a){return Math.pow(2,-52)},"es6-impl","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6-impl","es3");$jscomp.polyfill("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991},"es6-impl","es3");
$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6-impl","es3");$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6-impl","es3");$jscomp.polyfill("Number.isNaN",function(a){return a?a:function(a){return"number"===typeof a&&isNaN(a)}},"es6-impl","es3");
$jscomp.polyfill("Number.isSafeInteger",function(a){return a?a:function(a){return Number.isInteger(a)&&Math.abs(a)<=Number.MAX_SAFE_INTEGER}},"es6-impl","es3");$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)$jscomp.owns(e,f)&&(a[f]=e[f])}return a}},"es6-impl","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(a){return a?a:function(){return[]}},"es6-impl","es5");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6-impl","es3");$jscomp.polyfill("Object.setPrototypeOf",function(a){return a?a:"object"!=typeof"".__proto__?null:function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}},"es6","es5");$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var c=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){c(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(d){this.asyncThrow_(d)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var d=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(c){b.reject(c)}};d.prototype.createResolveAndReject_=function(){function a(d){return function(a){c||(c=!0,d.call(b,a))}}var b=this,c=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};d.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.settleSameAsPromise_(a);else{var b;a:switch(typeof a){case "object":b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};d.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(c){this.reject_(c);return}"function"==
typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};d.prototype.reject_=function(a){this.settle_(2,a)};d.prototype.fulfill_=function(a){this.settle_(1,a)};d.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),
a[b]=null;this.onSettledCallbacks_=null}};var e=new b;d.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};d.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(d){c.reject(d)}};d.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(c){l(c)}}:b}var e,l,m=new d(function(a,b){e=a;l=b});this.callWhenSettled_(c(a,e),
c(b,l));return m};d.prototype["catch"]=function(a){return this.then(void 0,a)};d.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?e.asyncExecute(c):this.onSettledCallbacks_.push(function(){e.asyncExecute(c)})};d.resolve=function(a){return a instanceof d?a:new d(function(b,c){b(a)})};d.reject=function(a){return new d(function(b,c){c(a)})};
d.race=function(a){return new d(function(b,c){for(var e=$jscomp.makeIterator(a),l=e.next();!l.done;l=e.next())d.resolve(l.value).callWhenSettled_(b,c)})};d.all=function(a){var b=$jscomp.makeIterator(a),c=b.next();return c.done?d.resolve([]):new d(function(a,e){function f(b){return function(c){n[b]=c;p--;0==p&&a(n)}}var n=[],p=0;do n.push(void 0),p++,d.resolve(c.value).callWhenSettled_(f(n.length-1),e),c=b.next();while(!c.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(d.$jscomp$new$AsyncExecutor=function(){return new b});
return d},"es6-impl","es3");$jscomp.polyfill("Reflect.apply",function(a){if(a)return a;var b=Function.prototype.apply;return function(a,d,e){return b.call(a,d,e)}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(a){return a?a:function(a,c,d){void 0===d&&(d=a);d=Object.create(d.prototype||Object.prototype);return Reflect.apply(a,d,c)||d}},"es6","es5");
$jscomp.polyfill("Reflect.defineProperty",function(a){return a?a:function(a,c,d){try{Object.defineProperty(a,c,d);var e=Object.getOwnPropertyDescriptor(a,c);return e?e.configurable===(d.configurable||!1)&&e.enumerable===(d.enumerable||!1)&&("value"in e?e.value===d.value&&e.writable===(d.writable||!1):e.get===d.get&&e.set===d.set):!1}catch(f){return!1}}},"es6","es5");
$jscomp.polyfill("Reflect.deleteProperty",function(a){return a?a:function(a,c){if(!$jscomp.owns(a,c))return!0;try{return delete a[c]}catch(d){return!1}}},"es6","es3");$jscomp.polyfill("Reflect.getOwnPropertyDescriptor",function(a){return a||Object.getOwnPropertyDescriptor},"es6","es5");$jscomp.polyfill("Reflect.getPrototypeOf",function(a){return a||Object.getPrototypeOf},"es6","es5");$jscomp.findDescriptor=function(a,b){for(var c=a;c;){var d=Reflect.getOwnPropertyDescriptor(c,b);if(d)return d;c=Reflect.getPrototypeOf(c)}};
$jscomp.polyfill("Reflect.get",function(a){return a?a:function(a,c,d){if(2>=arguments.length)return a[c];var e=$jscomp.findDescriptor(a,c);if(e)return e.get?e.get.call(d):e.value}},"es6","es5");$jscomp.polyfill("Reflect.has",function(a){return a?a:function(a,c){return c in a}},"es6","es3");$jscomp.polyfill("Reflect.isExtensible",function(a){return a?a:"function"==typeof Object.isExtensible?Object.isExtensible:function(){return!0}},"es6","es3");
$jscomp.polyfill("Reflect.ownKeys",function(a){return a?a:function(a){var c=[],d=Object.getOwnPropertyNames(a);a=Object.getOwnPropertySymbols(a);for(var e=0;e<d.length;e++)("jscomp_symbol_"==d[e].substring(0,14)?a:c).push(d[e]);return c.concat(a)}},"es6","es5");$jscomp.polyfill("Reflect.preventExtensions",function(a){return a?a:"function"!=typeof Object.preventExtensions?function(){return!1}:function(a){Object.preventExtensions(a);return!Object.isExtensible(a)}},"es6","es3");
$jscomp.polyfill("Reflect.set",function(a){return a?a:function(a,c,d,e){var f=$jscomp.findDescriptor(a,c);return f?f.set?(f.set.call(3<arguments.length?e:a,d),!0):f.writable&&!Object.isFrozen(a)?(a[c]=d,!0):!1:Reflect.isExtensible(a)?(a[c]=d,!0):!1}},"es6","es5");$jscomp.polyfill("Reflect.setPrototypeOf",function(a){return a?a:"object"!=typeof"".__proto__?null:function(a,c){try{return a.__proto__=c,a.__proto__===c}catch(d){return!1}}},"es6","es5");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a($jscomp.makeIterator([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=b||f.value[1]!=b)return!1;f=e.next();return f.done||f.value[0]==b||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:e.next().done}catch(g){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};b.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=function(a){return this.map_.has(a)};b.prototype.entries=
function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var e=this;this.map_.forEach(function(f){return a.call(b,f,f,e)})};return b},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.codePointAt",function(a){return a?a:function(a){var c=$jscomp.checkStringArgs(this,null,"codePointAt"),d=c.length;a=Number(a)||0;if(0<=a&&a<d){a|=0;var e=c.charCodeAt(a);if(55296>e||56319<e||a+1===d)return e;a=c.charCodeAt(a+1);return 56320>a||57343<a?e:1024*(e-55296)+a+9216}}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var d=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=d.length);for(var e=Math.max(0,Math.min(c|0,d.length)),f=a.length;0<f&&0<e;)if(d[--e]!=a[--f])return!1;return 0>=f}},"es6-impl","es3");
$jscomp.polyfill("String.fromCodePoint",function(a){return a?a:function(a){for(var c="",d=0;d<arguments.length;d++){var e=Number(arguments[d]);if(0>e||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?c+=String.fromCharCode(e):(e-=65536,c+=String.fromCharCode(e>>>10&1023|55296),c+=String.fromCharCode(e&1023|56320))}return c}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var c=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var d=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var e=d.length,f=a.length,g=Math.max(0,Math.min(c|0,d.length)),h=0;h<f&&g<e;)if(d[g++]!=a[h++])return!1;return h>=f}},"es6-impl","es3");$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};
$jscomp.polyfill("WeakSet",function(a){if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),d=Object.seal({}),e=new a([b]);if(!e.has(b)||e.has(d))return!1;e["delete"](b);e.add(d);return!e.has(b)&&e.has(d)}catch(f){return!1}}())return a;var b=function(a){this.map_=new WeakMap;if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}};b.prototype.add=function(a){this.map_.set(a,!0);return this};b.prototype.has=
function(a){return this.map_.has(a)};b.prototype["delete"]=function(a){return this.map_["delete"](a)};return b},"es6-impl","es3");try{-1==Array.prototype.values.toString().indexOf("[native code]")&&delete Array.prototype.values}catch(a){}var Ext=Ext||{};
Ext.Boot=Ext.Boot||function(a){function b(a){if(a.$isRequest)return a;a=a.url?a:{url:a};var b=a.url;n(a,{urls:b.charAt?[b]:b,charset:a.charset||r.config.charset});n(this,a)}function c(a){if(a.$isEntry)return a;var b=a.charset||r.config.charset,c=Ext.manifest,c=c&&c.loader,d=void 0!==a.cache?a.cache:c&&c.cache,e;r.config.disableCaching&&(void 0===d&&(d=!r.config.disableCaching),!1===d?e=+new Date:!0!==d&&(e=d),e&&(c=c&&c.cacheParam||r.config.disableCachingParam,e=c+"="+e));n(a,{charset:b,buster:e,
requests:[]});n(this,a)}var d=document,e=[],f={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(d.cookie)?!1:!0,disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:"UTF-8"},g=/\.css(?:\?|$)/i,h=d.createElement("a"),k="undefined"!==typeof window,l={browser:k,node:!k&&"function"===typeof require,phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},m=
Ext.platformTags={},n=function(a,b,c){c&&n(a,c);if(a&&b&&"object"===typeof b)for(var d in b)a[d]=b[d];return a},p=function(){var a=!1,b=Array.prototype.shift.call(arguments),c,d,e,f;"boolean"===typeof arguments[arguments.length-1]&&(a=Array.prototype.pop.call(arguments));e=arguments.length;for(c=0;c<e;c++)if(f=arguments[c],"object"===typeof f)for(d in f)b[a?d.toLowerCase():d]=f[d];return b},q="function"==typeof Object.keys?function(a){return a?Object.keys(a):[]}:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&
b.push(c);return b},r={loading:0,loaded:0,apply:n,env:l,config:f,assetConfig:{},scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,useElements:!0,listeners:[],Request:b,Entry:c,allowMultipleBrowsers:!1,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",edge:"Edge",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},osNames:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",
webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chromeOS:"ChromeOS",other:"Other"},browserPrefixes:{ie:"MSIE ",edge:"Edge/",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},browserPriority:"edge opera dolfin webosbrowser silk chromeiOS chromeMobile ie firefox safari chrome".split(" "),osPrefixes:{tizen:"(Tizen )",
ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chromeOS:"CrOS "},fallbackOSPrefixes:{windows:"win",mac:"mac",linux:"linux"},devicePrefixes:{iPhone:"iPhone",iPod:"iPod",iPad:"iPad"},maxIEVersion:12,detectPlatformTags:function(){var a=this,b=navigator.userAgent,c=/Mobile(\/|\s)/.test(b),d=document.createElement("div"),e=function(){var c=
{},d,e,f,g,h;e=a.browserPriority.length;for(g=0;g<e;g++)d=a.browserPriority[g],h?f=0:(f=a.browserPrefixes[d],(f=(f=b.match(new RegExp("("+f+")([\\w\\._]+)")))&&1<f.length?parseInt(f[2]):0)&&(h=!0)),c[d]=f;c.ie&&(g=document.documentMode,8<=g&&(c.ie=g));f=c.ie||!1;d=Math.max(f,a.maxIEVersion);for(g=8;g<=d;++g)e="ie"+g,c[e+"m"]=f?f<=g:0,c[e]=f?f===g:0,c[e+"p"]=f?f>=g:0;return c}(),f=function(){var c={},d,e,f,g,h,k,l;f=q(a.osPrefixes);h=f.length;for(l=g=0;g<h;g++)e=f[g],d=a.osPrefixes[e],k=(d=b.match(new RegExp("("+
d+")([^\\s;]+)")))?d[1]:null,(d=!k||"HTC_"!==k&&"Silk/"!==k?d&&1<d.length?parseFloat(d[d.length-1]):0:2.3)&&l++,c[e]=d;f=q(a.fallbackOSPrefixes);h=f.length;for(g=0;g<h;g++)e=f[g],0===l?(d=a.fallbackOSPrefixes[e],d=b.toLowerCase().match(new RegExp(d)),c[e]=d?!0:0):c[e]=0;return c}(),g=function(){var c={},d,e,f,g,h;f=q(a.devicePrefixes);h=f.length;for(g=0;g<h;g++)e=f[g],d=a.devicePrefixes[e],d=b.match(new RegExp(d)),c[e]=d?!0:0;return c}(),h=r.loadPlatformsParam();p(m,e,f,g,h,!0);m.phone=m.iphone||
m.ipod||!m.silk&&m.android&&(3>m.android||c)||m.blackberry&&c||m.windowsphone;m.tablet=!m.phone&&(m.ipad||m.android||m.silk||m.rimtablet||m.ie10&&/; Touch/.test(b));m.touch=function(a,b){var c="on"+a.toLowerCase(),e=c in d;!e&&d.setAttribute&&d.removeAttribute&&(d.setAttribute(c,""),e="function"===typeof d[c],"undefined"!==typeof d[c]&&(d[c]=void 0),d.removeAttribute(c));return e}("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints;m.desktop=!m.phone&&!m.tablet;m.cordova=m.phonegap=
!!(window.PhoneGap||window.Cordova||window.cordova);m.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(b);m.androidstock=4.3>=m.android&&(m.safari||m.silk);p(m,h,!0)},loadPlatformsParam:function(){var a=window.location.search.substr(1).split("&"),b={},c,d={},e,f,g;for(c=0;c<a.length;c++)e=a[c].split("="),b[e[0]]=e[1];if(b.platformTags)for(e=b.platformTags.split(","),a=e.length,c=0;c<a;c++)b=e[c].split(":"),f=b[0],g=!0,1<b.length&&(g=b[1],"false"===g||"0"===g)&&(g=!1),d[f]=g;return d},
filterPlatform:function(a,b){a=e.concat(a||e);b=e.concat(b||e);var c=a.length,d=b.length,f=!c&&d,g;for(g=0;g<c&&!f;g++)f=a[g],f=!!m[f];for(g=0;g<d&&f;g++)f=b[g],f=!m[f];return f},init:function(){var a=d.getElementsByTagName("script"),b=a.length,e=/\/ext(\-[a-z\-]+)?\.js$/,f,g,h,k,l,m;for(m=0;m<b;m++)if(g=(f=a[m]).src)h=f.readyState||null,!k&&e.test(g)&&(r.hasReadyState="readyState"in f,r.hasAsync="async"in f||!r.hasReadyState,k=g),r.scripts[l=r.canonicalUrl(g)]||new c({key:l,url:g,done:null===h||
"loaded"===h||"complete"===h,el:f,prop:"src"});k||(f=a[a.length-1],k=f.src,r.hasReadyState="readyState"in f,r.hasAsync="async"in f||!r.hasReadyState);r.baseUrl=k.substring(0,k.lastIndexOf("/")+1);r.origin=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");r.detectPlatformTags();Ext.filterPlatform=r.filterPlatform},canonicalUrl:function(a){h.href=a;a=h.href;var b=f.disableCachingParam,b=b?a.indexOf(b+"="):-1,c,d;0<b&&("?"===
(c=a.charAt(b-1))||"&"===c)&&(d=a.indexOf("&",b),(d=0>d?"":a.substring(d))&&"?"===c&&(++b,d=d.substring(1)),a=a.substring(0,b-1)+d);return a},getConfig:function(a){return a?r.config[a]:r.config},setConfig:function(a,b){if("string"===typeof a)r.config[a]=b;else for(var c in a)r.setConfig(c,a[c]);return r},getHead:function(){return r.docHead||(r.docHead=d.head||d.getElementsByTagName("head")[0])},create:function(a,b,d){d=d||{};d.url=a;d.key=b;return r.scripts[b]=new c(d)},getEntry:function(a,b){var c=
r.canonicalUrl(a),d=r.scripts[c];d||(d=r.create(a,c,b));return d},registerContent:function(a,b,c){return r.getEntry(a,{content:c,loaded:!0,css:"css"===b})},processRequest:function(a,b){a.loadEntries(b)},load:function(a){a=new b(a);if(a.sync||r.syncMode)return r.loadSync(a);r.currentRequest?(a.getEntries(),r.suspendedQueue.push(a)):(r.currentRequest=a,r.processRequest(a,!1));return r},loadSync:function(a){a=new b(a);r.syncMode++;r.processRequest(a,!0);r.syncMode--;return r},loadBasePrefix:function(a){a=
new b(a);a.prependBaseUrl=!0;return r.load(a)},loadSyncBasePrefix:function(a){a=new b(a);a.prependBaseUrl=!0;return r.loadSync(a)},requestComplete:function(a){if(r.currentRequest===a)for(r.currentRequest=null;0<r.suspendedQueue.length;)if(a=r.suspendedQueue.shift(),!a.done){r.load(a);break}r.currentRequest||0!=r.suspendedQueue.length||r.fireListeners()},isLoading:function(){return!r.currentRequest&&0==r.suspendedQueue.length},fireListeners:function(){for(var a;r.isLoading()&&(a=r.listeners.shift());)a()},
onBootReady:function(a){r.isLoading()?r.listeners.push(a):a()},getPathsFromIndexes:function(a,c){return b.prototype.getPathsFromIndexes(a,c)},createLoadOrderMap:function(a){return b.prototype.createLoadOrderMap(a)},fetch:function(a,b,c,d){d=void 0===d?!!b:d;var e=new XMLHttpRequest,f,g,h,k=!1,l=function(){e&&4==e.readyState&&(g=1223===e.status?204:0!==e.status||"file:"!==(self.location||{}).protocol&&"ionp:"!==(self.location||{}).protocol?e.status:200,h=e.responseText,f={content:h,status:g,exception:k},
b&&b.call(c,f),e=null)};d&&(e.onreadystatechange=l);try{e.open("GET",a,d),e.send(null)}catch(m){return k=m,l(),f}d||l();return f},notifyAll:function(a){a.notifyRequests()}};b.prototype={$isRequest:!0,createLoadOrderMap:function(a){var b=a.length,c={},d,e;for(d=0;d<b;d++)e=a[d],c[e.path]=e;return c},getLoadIndexes:function(a,b,c,d,e){var f,g,h,k,l,m;if(b[a])return b;b[a]=!0;for(a=!1;!a;){k=!1;for(l in b)if(b.hasOwnProperty(l)&&(f=c[l])&&(h=this.prepareUrl(f.path),h=r.getEntry(h),!e||!h||!h.done))for(h=
f.requires,d&&f.uses&&(h=h.concat(f.uses)),f=h.length,g=0;g<f;g++)m=h[g],b[m]||(k=b[m]=!0);k||(a=!0)}return b},getPathsFromIndexes:function(a,b){var c=[],d=[],e,f;for(e in a)a.hasOwnProperty(e)&&a[e]&&c.push(e);c.sort(function(a,b){return a-b});e=c.length;for(f=0;f<e;f++)d.push(b[c[f]].path);return d},expandUrl:function(a,b,c,d){"string"==typeof a&&(a=[a]);var e=this.loadOrder,f=this.loadOrderMap;if(e){this.loadOrderMap=f=f||this.createLoadOrderMap(e);b=b||{};var g=a.length,h=[],k,l;for(k=0;k<g;k++)(l=
f[a[k]])?this.getLoadIndexes(l.idx,b,e,c,d):h.push(a[k]);return this.getPathsFromIndexes(b,e).concat(h)}return a},expandUrls:function(a,b){"string"==typeof a&&(a=[a]);var c=[],d={},e,f=a.length,g,h,k,l;for(g=0;g<f;g++)for(e=this.expandUrl(a[g],{},b,!0),h=0,k=e.length;h<k;h++)l=e[h],d[l]||(d[l]=!0,c.push(l));0==c.length&&(c=a);return c},expandLoadOrder:function(){var a=this.urls,b;this.expanded?b=a:(b=this.expandUrls(a,!0),this.expanded=!0);this.urls=b;a.length!=b.length&&(this.sequential=!0);return this},
getUrls:function(){this.expandLoadOrder();return this.urls},prepareUrl:function(a){return this.prependBaseUrl?r.baseUrl+a:a},getEntries:function(){var a=this.entries,b,c,d;if(!a){a=[];d=this.getUrls();for(b=0;b<d.length;b++)c=this.prepareUrl(d[b]),c=r.getEntry(c,{buster:this.buster,charset:this.charset}),c.requests.push(this),a.push(c);this.entries=a}return a},loadEntries:function(a){var b=this,c=b.getEntries(),d=c.length,e=b.loadStart||0,f,g;void 0!==a&&(b.sync=a);b.loaded=b.loaded||0;b.loading=
b.loading||d;for(g=e;g<d;g++)if(f=c[g],e=f.loaded?!0:c[g].load(b.sync),!e){b.loadStart=g;f.onDone(function(){b.loadEntries(a)});break}b.processLoadedEntries()},processLoadedEntries:function(){var a=this.getEntries(),b=a.length,c=this.startIndex||0,d;if(!this.done){for(;c<b;c++){d=a[c];if(!d.loaded){this.startIndex=c;return}d.evaluated||d.evaluate();d.error&&(this.error=!0)}this.notify()}},notify:function(){var a=this;if(!a.done){var b=a.error,c=a[b?"failure":"success"],b="delay"in a?a.delay:b?1:r.config.chainDelay,
d=a.scope||a;a.done=!0;c&&(0===b||0<b?setTimeout(function(){c.call(d,a)},b):c.call(d,a));a.fireListeners();r.requestComplete(a)}},onDone:function(a){var b=this.listeners||(this.listeners=[]);this.done?a(this):b.push(a)},fireListeners:function(){var a=this.listeners,b;if(a)for(;b=a.shift();)b(this)}};c.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){void 0===this.crossDomain&&(this.crossDomain=0!==this.getLoadUrl().indexOf(r.origin));return this.crossDomain},isCss:function(){if(void 0===
this.css)if(this.url){var a=r.assetConfig[this.url];this.css=a?"css"===a.type:g.test(this.url)}else this.css=!1;return this.css},getElement:function(a){var b=this.el;b||(this.isCss()?(a=a||"link",b=d.createElement(a),"link"==a?(b.rel="stylesheet",this.prop="href"):this.prop="textContent",b.type="text/css"):(b=d.createElement(a||"script"),b.type="text/javascript",this.prop="src",this.charset&&(b.charset=this.charset),r.hasAsync&&(b.async=!1)),this.el=b);return b},getLoadUrl:function(){var a=r.canonicalUrl(this.url);
this.loadUrl||(this.loadUrl=this.buster?a+(-1===a.indexOf("?")?"?":"&")+this.buster:a);return this.loadUrl},fetch:function(a){var b=this.getLoadUrl();r.fetch(b,a.complete,this,!!a.async)},onContentLoaded:function(a){var b=a.status,c=a.content;a=a.exception;this.getLoadUrl();this.loaded=!0;!a&&0!==b||l.phantom?200<=b&&300>b||304===b||l.phantom||0===b&&0<c.length?this.content=c:this.evaluated=this.error=!0:this.evaluated=this.error=!0},createLoadElement:function(a){var b=this,c=b.getElement();b.preserve=
!0;c.onerror=function(){b.error=!0;a&&a()};r.hasReadyState?c.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&a&&a()}:c.onload=a;c[b.prop]=b.getLoadUrl()},onLoadElementReady:function(){r.getHead().appendChild(this.getElement());this.evaluated=!0},inject:function(a,b){var c=r.getHead(),e=this.url,f=this.key,g,h;this.isCss()?(this.preserve=!0,h=f.substring(0,f.lastIndexOf("/")+1),g=d.createElement("base"),g.href=h,c.firstChild?c.insertBefore(g,c.firstChild):
c.appendChild(g),g.href=g.href,e&&(a+="\n/*# sourceURL="+f+" */"),e=this.getElement("style"),f="styleSheet"in e,c.appendChild(g),f?(c.appendChild(e),e.styleSheet.cssText=a):(e.textContent=a,c.appendChild(e)),c.removeChild(g)):(e&&(a+="\n//# sourceURL="+f),Ext.globalEval(a));return this},loadCrossDomain:function(){var a=this;a.createLoadElement(function(){a.loaded=a.evaluated=a.done=!0;a.notifyRequests()});a.evaluateLoadElement();return!1},loadElement:function(){var a=this;a.createLoadElement(function(){a.loaded=
a.evaluated=a.done=!0;a.notifyRequests()});a.evaluateLoadElement();return!0},loadSync:function(){var a=this;a.fetch({async:!1,complete:function(b){a.onContentLoaded(b)}});a.evaluate();a.notifyRequests()},load:function(a){var b=this;if(!b.loaded){if(b.loading)return!1;b.loading=!0;if(a)b.loadSync();else{if(b.isCrossDomain())return b.loadCrossDomain();if(!b.isCss()&&r.hasReadyState)b.createLoadElement(function(){b.loaded=!0;b.notifyRequests()});else if(!r.useElements||b.isCss()&&l.phantom)b.fetch({async:!a,
complete:function(a){b.onContentLoaded(a);b.notifyRequests()}});else return b.loadElement()}}return!0},evaluateContent:function(){this.inject(this.content);this.content=null},evaluateLoadElement:function(){r.getHead().appendChild(this.getElement())},evaluate:function(){this.evaluated||this.evaluating||(this.evaluating=!0,void 0!==this.content?this.evaluateContent():this.error||this.evaluateLoadElement(),this.evaluated=this.done=!0,this.cleanup())},cleanup:function(){var b=this.el,c;if(b){if(!this.preserve)for(c in this.el=
null,b.parentNode.removeChild(b),b)try{c!==this.prop&&(b[c]=null),delete b[c]}catch(d){}b.onload=b.onerror=b.onreadystatechange=a}},notifyRequests:function(){var a=this.requests,b=a.length,c,d;for(c=0;c<b;c++)d=a[c],d.processLoadedEntries();this.done&&this.fireListeners()},onDone:function(a){var b=this.listeners||(this.listeners=[]);this.done?a(this):b.push(a)},fireListeners:function(){var a=this.listeners,b;if(a&&0<a.length)for(;b=a.shift();)b(this)}};Ext.disableCacheBuster=function(a,b){var c=new Date;
c.setTime(c.getTime()+864E5*(a?3650:-1));c=c.toGMTString();d.cookie="ext-cache=1; expires="+c+"; path="+(b||"/")};r.init();return r}(function(){});Ext.globalEval=Ext.globalEval||(this.execScript?function(a){execScript(a)}:function(a){eval.call(window,a)});
Function.prototype.bind||function(){var a=Array.prototype.slice,b=function(b){var d=a.call(arguments,1),e=this;if(d.length)return function(){var f=arguments;return e.apply(b,f.length?d.concat(a.call(f)):d)};d=null;return function(){return e.apply(b,arguments)}};Function.prototype.bind=b;b.$extjs=!0}();Ext.setResourcePath=function(a,b){var c=Ext.manifest||(Ext.manifest={}),d=c.resources||(c.resources={});c&&("string"!==typeof a?Ext.apply(d,a):d[a]=b,c.resources=d)};
Ext.getResourcePath=function(a,b,c){"string"!==typeof a&&(b=a.pool,c=a.packageName,a=a.path);var d=Ext.manifest,d=d&&d.resources;b=d[b];var e=[];null==b&&(b=d.path,null==b&&(b="resources"));b&&e.push(b);c&&e.push(c);e.push(a);return e.join("/")};Ext=Ext||{};
(function(){function a(a,b,c){var d,e;for(d in c)c.hasOwnProperty(d)&&(e=c[d],"function"===typeof e&&(e.$name=d,e.$owner=b,e.$previous=a.hasOwnProperty(d)?a[d]:h),a[d]=e)}var b=this,c=Object.prototype.toString,d=["valueOf","toLocaleString","toString","constructor"],e=function(){},f=function(){},g=function(a){return a},h=function(){var a=h.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},k=Ext.manifest||{},l,m=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,
n=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=b;Ext.now=Date.now||(Date.now=function(){return+new Date});Ext.ticks=b.performance&&b.performance.now?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();e.$nullFn=g.$nullFn=e.$emptyFn=g.$identityFn=f.$nullFn=!0;f.$privacy="framework";Ext.suspendLayouts=Ext.resumeLayouts=e;for(l in{toString:1})d=null;Ext.enumerables=d;Ext.apply=function(a,b,c){c&&Ext.apply(a,c);if(a&&b&&"object"===typeof b){for(var e in b)a[e]=b[e];
if(d)for(c=d.length;c--;)e=d[c],b.hasOwnProperty(e)&&(a[e]=b[e])}return a};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",privateFn:f,emptyFn:e,identityFn:g,frameStartTime:Ext.now(),manifest:k,enableAria:!0,enableAriaButtons:!0,enableAriaPanels:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,
BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(a){return"#"+a},id:function(a,b){if(a&&a.id)return a.id;var c=(b||Ext.idPrefix)+ ++Ext.idSeed;a&&(a.id=c);return c},returnId:function(a){return a.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(Moz.+|MS.+|webkit.+)/,canonicalEventName:function(a){return Ext.$eventNameMap[a]||(Ext.$eventNameMap[a]=
Ext.$vendorEventRe.test(a)?a:a.toLowerCase())},applyIf:function(a,b){var c;if(a)for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++)(c=arguments[b])&&(Ext.isArray(c)?this.destroy.apply(this,c):Ext.isFunction(c.destroy)&&c.destroy());return null},destroyMembers:function(a){for(var b,c,d=1,e=arguments,f=e.length;d<f;d++)b=a[c=e[d]],null!=b&&(a[c]=Ext.destroy(b))},override:function(b,c){if(b.$isClass)b.override(c);else if("function"===typeof b)Ext.apply(b.prototype,
c);else{var d=b.self,e;if(d&&d.$isClass){if(e=c.privates)c=Ext.apply({},c),delete c.privates,a(b,d,e);a(b,d,c)}else Ext.apply(b,c)}return b},valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},isEmpty:function(a,b){return null==a||(b?!1:""===a)||Ext.isArray(a)&&0===a.length},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===c.call(a)},isDate:function(a){return"[object Date]"===c.call(a)},isMSDate:function(a){return Ext.isString(a)?n.test(a):!1},isObject:"[object Object]"===
c.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===c.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===c.call(a)},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){a=typeof a;return"string"===a||"number"===a||"boolean"===a},isFunction:"undefined"!==typeof document&&"function"===typeof document.getElementsByTagName("body")?function(a){return!!a&&"[object Function]"===c.call(a)}:function(a){return!!a&&
"function"===typeof a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return"string"===typeof a},isBoolean:function(a){return"boolean"===typeof a},isElement:function(a){return a?1===a.nodeType:!1},isTextNode:function(a){return a?"#text"===a.nodeName:!1},isDefined:function(a){return"undefined"!==typeof a},isIterable:function(a){return!a||"number"!==typeof a.length||"string"===typeof a||Ext.isFunction(a)?
!1:a.propertyIsEnumerable?a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")?!0:m.test(c.call(a)):!!a.item},isDebugEnabled:e,clone:function(a){if(null===a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);var b=c.call(a),e,f;if("[object Date]"===b)return new Date(a.getTime());if("[object Array]"===b)for(b=a.length,f=[];b--;)f[b]=Ext.clone(a[b]);else if("[object Object]"===b&&a.constructor===Object){f={};for(e in a)f[e]=Ext.clone(a[e]);if(d)for(b=d.length;b--;)e=d[b],
a.hasOwnProperty(e)&&(f[e]=a[e])}return f||a},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,c;if(void 0===a){c=0;do a="ExtBox"+ ++c;while(void 0!==b[a]);b[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var a=Array.prototype.slice.call(arguments),b=this.functionFactoryCache,c,d;Ext.isSandboxed&&(c=a.length,0<c&&(c--,a[c]="var Ext=window."+Ext.name+";"+a[c]));c=a.join("");d=b[c];d||(d=Function.prototype.constructor.apply(Function.prototype,
a),b[c]=d);return d},functionFactory:function(){var a=Array.prototype.slice.call(arguments),b;Ext.isSandboxed&&(b=a.length,0<b&&(b--,a[b]="var Ext=window."+Ext.name+";"+a[b]));return Function.prototype.constructor.apply(Function.prototype,a)},Logger:{log:function(a,c){a&&b.console&&(c&&c in b.console||(c="log"),a="["+c.toUpperCase()+"] "+a,b.console[c](a))},verbose:function(a){this.log(a,"verbose")},info:function(a){this.log(a,"info")},warn:function(a){this.log(a,"warn")},error:function(a){throw Error(a);
},deprecate:function(a){this.log(a,"warn")}},getElementById:function(a){return document.getElementById(a)},splitAndUnescape:function(){var a={};return function(b,c){if(!b)return[];if(!c)return[b];var d=a[c]||(a[c]=new RegExp("\\\\"+c,"g")),e=[],f,g;for(f=b.split(c);void 0!==(g=f.shift());){for(;"\\"===g.charAt(g.length-1)&&0<f.length;)g=g+c+f.shift();g=g.replace(d,c);e.push(g)}return e}}()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0})();
(function(){function a(){var a=this.sourceClass,c=this.sourceMethod,d=this.msg;c&&(c=d?c+"(): "+d:c+"()");a&&(c=c?a+"."+c:a);return c||d||""}Ext.Error=function(b){Ext.isString(b)&&(b={msg:b});var c=Error();Ext.apply(c,b);c.message=c.message||c.msg;c.toString=a;return c};Ext.apply(Ext.Error,{ignore:!1,raise:function(b){b=b||{};Ext.isString(b)&&(b={msg:b});var c=this.raise.caller,d;c===Ext.raise&&(c=c.caller);c&&(!b.sourceMethod&&(d=c.$name)&&(b.sourceMethod=d),!b.sourceClass&&(d=c.$owner)&&(d=d.$className)&&
(b.sourceClass=d));if(!0!==this.handle(b))throw a.call(b),new Ext.Error(b);},handle:function(){return this.ignore}})})();Ext.deprecated=function(a){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};
Ext.Array=function(){function a(a,b){var c=a.length,d=Array(c),e;for(e=0;e<c;e++)d[e]=e;d.sort(function(c,d){return b(a[c],a[d])||c-d});for(e=0;e<c;e++)d[e]=a[d[e]];for(e=0;e<c;e++)a[e]=d[e];return a}var b=Array.prototype,c=b.slice,d=function(){var a=[],b;b=20;if(!a.splice)return!1;for(;b--;)a.push("A");a.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=a.length;a.splice(13,0,"XXX");return b+1!==a.length?!1:!0}(),e="indexOf"in b,f=!0;try{"undefined"!==
typeof document&&c.call(document.getElementsByTagName("body"))}catch(u){f=!1}var g=function(a,b){return 0>b?Math.max(0,a.length+b):Math.min(a.length,b)},h=function(a,b,c,d){var e=d?d.length:0,f=a.length;b=g(a,b);if(b===f)e&&a.push.apply(a,d);else{var h=Math.min(c,f-b);c=b+h;var k=c+e-h,l=f-c,f=f-h;if(k<c)for(h=0;h<l;++h)a[k+h]=a[c+h];else if(k>c)for(h=l;h--;)a[k+h]=a[c+h];if(e&&b===f)a.length=f,a.push.apply(a,d);else for(a.length=f+e,h=0;h<e;++h)a[b+h]=d[h]}return a},k=function(a,b,c,d){d&&d.length?
0!==b||c?b<a.length?a.splice.apply(a,[b,c].concat(d)):a.push.apply(a,d):a.unshift.apply(a,d):a.splice(b,c);return a},l=function(a,b,c){return h(a,b,c)},m=function(a,b,c){a.splice(b,c);return a},n=function(a,b,d){var e=g(a,b),f=a.slice(b,g(a,e+d));4>arguments.length?h(a,e,d):h(a,e,d,c.call(arguments,3));return f},p=function(a){return a.splice.apply(a,c.call(arguments,1))},q=d?m:l,r=d?k:h,d=d?p:n,t={binarySearch:function(a,b,c,d,e){var f=a.length,g;c instanceof Function?(e=c,c=0,d=f):d instanceof Function?
(e=d,d=f):(void 0===c&&(c=0),void 0===d&&(d=f),e=e||t.lexicalCompare);for(--d;c<=d;)f=c+d>>1,g=e(b,a[f]),0<=g?c=f+1:0>g&&(d=f-1);return c},defaultCompare:function(a,b){return a<b?-1:a>b?1:0},lexicalCompare:function(a,b){a=String(a);b=String(b);return a<b?-1:a>b?1:0},each:function(a,b,c,d){a=t.from(a);var e=a.length;if(!0!==d)for(d=0;d<e;d++){if(!1===b.call(c||a[d],a[d],d,a))return d}else for(d=e-1;-1<d;d--)if(!1===b.call(c||a[d],a[d],d,a))return d;return!0},forEach:"forEach"in b?function(a,b,c){return a.forEach(b,
c)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},indexOf:e?function(a,c,d){return b.indexOf.call(a,c,d)}:function(a,b,c){var d=a.length;for(c=0>c?Math.max(0,d+c):c||0;c<d;c++)if(a[c]===b)return c;return-1},contains:e?function(a,c){return-1!==b.indexOf.call(a,c)}:function(a,b){var c,d;c=0;for(d=a.length;c<d;c++)if(a[c]===b)return!0;return!1},toArray:function(a,b,d){if(!a||!a.length)return[];"string"===typeof a&&(a=a.split(""));if(f)return c.call(a,b||0,d||a.length);var e=[];d=
d?0>d?a.length+d:d:a.length;for(b=b||0;b<d;b++)e.push(a[b]);return e},pluck:function(a,b){var c=[],d,e,f;d=0;for(e=a.length;d<e;d++)f=a[d],c.push(f[b]);return c},map:"map"in b?function(a,b,c){return a.map(b,c)}:function(a,b,c){var d=[],e=a.length,f;for(f=0;f<e;f++)d[f]=b.call(c,a[f],f,a);return d},every:"every"in b?function(a,b,c){return a.every(b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;++d)if(!b.call(c,a[d],d,a))return!1;return!0},some:"some"in b?function(a,b,c){return a.some(b,c)}:function(a,
b,c){for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return!0;return!1},equals:function(a,b){var c=a.length,d;if(a===b)return!0;if(c!==b.length)return!1;for(d=0;d<c;++d)if(a[d]!==b[d])return!1;return!0},clean:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)e=a[c],Ext.isEmpty(e)||b.push(e);return b},unique:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)e=a[c],-1===t.indexOf(b,e)&&b.push(e);return b},filter:"filter"in b?function(a,b,c){return a.filter(b,c)}:function(a,b,c){for(var d=[],e=
0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d},findBy:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c||a,a[d],d))return a[d];return null},from:function(a,b){if(void 0===a||null===a)return[];if(Ext.isArray(a))return b?c.call(a):a;var d=typeof a;return!a||void 0===a.length||"string"===d||"function"===d&&a.apply?[a]:t.toArray(a)},remove:function(a,b){var c=t.indexOf(a,b);-1!==c&&q(a,c,1);return a},removeAt:function(a,b,c){var d=a.length;0<=b&&b<d&&(c=Math.min(c||1,d-b),q(a,
b,c));return a},include:function(a,b){t.contains(a,b)||a.push(b)},clone:function(a){return c.call(a)},merge:function(){var a=c.call(arguments),b=[],d,e;d=0;for(e=a.length;d<e;d++)b=b.concat(a[d]);return t.unique(b)},intersect:function(){var a=[],b=c.call(arguments),d,e,f,g,h,k,l,m,n,p,r;if(!b.length)return a;d=b.length;for(n=e=0;n<d;n++)if(f=b[n],!g||f.length<g.length)g=f,e=n;g=t.unique(g);q(b,e,1);h=g.length;d=b.length;for(n=0;n<h;n++){k=g[n];for(p=m=0;p<d;p++)for(e=b[p],f=e.length,r=0;r<f;r++)if(l=
e[r],k===l){m++;break}m===d&&a.push(k)}return a},difference:function(a,b){var d=c.call(a),e=d.length,f,g,h;f=0;for(h=b.length;f<h;f++)for(g=0;g<e;g++)d[g]===b[f]&&(q(d,g,1),g--,e--);return d},reduce:Array.prototype.reduce?function(a,b,c){return 3===arguments.length?Array.prototype.reduce.call(a,b,c):Array.prototype.reduce.call(a,b)}:function(a,b,c){a=Object(a);var d=0,e=a.length>>>0,f=c;if(3>arguments.length)for(;;){if(d in a){f=a[d++];break}if(++d>=e)throw new TypeError("Reduce of empty array with no initial value");
}for(;d<e;++d)d in a&&(f=b(f,a[d],d,a));return f},slice:[1,2].slice(1,void 0).length?function(a,b,d){return c.call(a,b,d)}:function(a,b,d){return"undefined"===typeof b?c.call(a):"undefined"===typeof d?c.call(a,b):c.call(a,b,d)},sort:function(b,c){return a(b,c||t.lexicalCompare)},flatten:function(a){function b(a){var d,e,f;d=0;for(e=a.length;d<e;d++)f=a[d],Ext.isArray(f)?b(f):c.push(f);return c}var c=[];return b(a)},min:function(a,b){var c=a[0],d,e,f;d=0;for(e=a.length;d<e;d++)f=a[d],b?1===b(c,f)&&
(c=f):f<c&&(c=f);return c},max:function(a,b){var c=a[0],d,e,f;d=0;for(e=a.length;d<e;d++)f=a[d],b?-1===b(c,f)&&(c=f):f>c&&(c=f);return c},mean:function(a){return 0<a.length?t.sum(a)/a.length:void 0},sum:function(a){var b=0,c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],b+=e;return b},toMap:function(a,b,c){var d={},e=a.length;if(b)if("string"===typeof b)for(;e--;)d[a[e][b]]=e+1;else for(;e--;)d[b.call(c,a[e])]=e+1;else for(;e--;)d[a[e]]=e+1;return d},toValueMap:function(a,b,c,d){var e={},f=a.length,g,h,k,
l,m;if(b)for((k="string"!==typeof b)||(d=c),g=1===d,d=2===d;f--;)m=a[f],l=k?b.call(c,m):m[b],g?l in e?e[l].push(m):e[l]=[m]:d&&l in e?(h=e[l])instanceof Array?h.push(m):e[l]=[h,m]:e[l]=m;else for(;f--;)m=a[f],e[m]=m;return e},erase:q,insert:function(a,b,c){return r(a,b,0,c)},move:function(a,b,c){if(c!==b){for(var d=a[b],e=c>b?1:-1;b!=c;b+=e)a[b]=a[b+e];a[c]=d}},replace:r,splice:d,push:function(a){var b=arguments.length,c=1,d;for(void 0===a?a=[]:Ext.isArray(a)||(a=[a]);c<b;c++)d=arguments[c],Array.prototype.push[Ext.isIterable(d)?
"apply":"call"](a,d);return a},numericSortFn:function(a,b){return a-b}};Ext.each=t.each;t.union=t.merge;Ext.min=t.min;Ext.max=t.max;Ext.sum=t.sum;Ext.mean=t.mean;Ext.flatten=t.flatten;Ext.clean=t.clean;Ext.unique=t.unique;Ext.pluck=t.pluck;Ext.toArray=function(){return t.toArray.apply(t,arguments)};return t}();
Ext.String=function(){var a=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,b=/('|\\)/g,c=/([-.*+?\^${}()|\[\]\/\\])/g,d=/^\s+|\s+$/g,e=/\s+/,f=/(^[^a-z]*|[^\w])/gi,g,h,k,l,m=function(a,b){return g[b]},n=function(a,b){return b in h?h[b]:String.fromCharCode(parseInt(b.substr(2),
10))},p=function(a,b){return null===a||void 0===a||null===b||void 0===b?!1:b.length<=a.length},q;return q={insert:function(a,b,c){if(!a)return b;if(!b)return a;var d=a.length;c||0===c||(c=d);0>c&&(c*=-1,c=c>=d?0:d-c);return a=0===c?b+a:c>=a.length?a+b:a.substr(0,c)+b+a.substr(c)},startsWith:function(a,b,c){var d=p(a,b);d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=0===a.lastIndexOf(b,0));return d},endsWith:function(a,b,c){var d=p(a,b);d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=-1!==a.indexOf(b,
a.length-b.length));return d},createVarName:function(a){return a.replace(f,"")},htmlEncode:function(a){return a?String(a).replace(k,m):a},htmlDecode:function(a){return a?String(a).replace(l,n):a},hasHtmlCharacters:function(a){return k.test(a)},addCharacterEntities:function(a){var b=[],c=[],d,e;for(d in a)e=a[d],h[d]=e,g[e]=d,b.push(e),c.push(d);k=new RegExp("("+b.join("|")+")","g");l=new RegExp("("+c.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){g={};h={};this.addCharacterEntities({"&amp;":"&",
"&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,b){return Ext.isEmpty(b)?a:a+(-1===a.indexOf("?")?"?":"&")+b},trim:function(b){b&&(b=b.replace(a,""));return b||""},capitalize:function(a){a&&(a=a.charAt(0).toUpperCase()+a.substr(1));return a||""},uncapitalize:function(a){a&&(a=a.charAt(0).toLowerCase()+a.substr(1));return a||""},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){c=a.substr(0,b-2);var d=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),c.lastIndexOf("?"));
if(-1!==d&&d>=b-15)return c.substr(0,d)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(c,"\\$1")},createRegex:function(a,b,c,d){var e=a;null==a||a.exec||(e=q.escapeRegex(String(a)),!1!==b&&(e="^"+e),!1!==c&&(e+="$"),e=new RegExp(e,!1!==d?"i":""));return e},escape:function(a){return a.replace(b,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){a=String(a);for(c=c||" ";a.length<b;)a=c+a;return a},repeat:function(a,b,c){1>b&&(b=0);for(var d=
[];b--;)d.push(a);return d.join(c||"")},splitWords:function(a){return a&&"string"==typeof a?a.replace(d,"").split(e):a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;
Ext.Date=function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(h,function(a,c){return b[c]})}var b,c=Date,d=/(\\.)/g,e=/([gGhHisucUOPZ]|MS)/,f=/([djzmnYycU]|MS)/,g=/\\/gi,h=/\{(\d+)\}/g,k=/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//,l=Ext.String.leftPad;Date.prototype.toISOString||(Date.prototype.toISOString=function(){return l(this.getUTCFullYear(),4,"0")+"-"+l(this.getUTCMonth()+1,2,"0")+"-"+l(this.getUTCDate(),2,"0")+"T"+l(this.getUTCHours(),2,"0")+":"+l(this.getUTCMinutes(),
2,"0")+":"+l(this.getUTCSeconds(),2,"0")+"."+l(this.getUTCMilliseconds(),3,"0")+"Z"});return b={now:c.now,toString:function(a){a||(a=new c);return a.getFullYear()+"-"+l(a.getMonth()+1,2,"0")+"-"+l(a.getDate(),2,"0")+"T"+l(a.getHours(),2,"0")+":"+l(a.getMinutes(),2,"0")+":"+l(a.getSeconds(),2,"0")},getElapsed:function(a,c){return Math.abs(a-(c||b.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];e&&(e="function"===typeof e?e():e,b.parseCodes[c]=e);return e?Ext.applyIf({c:e.c?
a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a,b){var d=(a||"").match(k);return d?new c(1*((d[1]||"")+d[2])):null},time:function(a,b){var d=parseInt(a,10);return d||0===d?new c(d):null},timestamp:function(a,b){var d=parseInt(a,10);return d||0===d?new c(1E3*d):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return b.format(this,"U")}},
y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"January February March April May June July August September October November December".split(" "),monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return b.monthNames[a].substring(0,
3)},getShortDayName:function(a){return b.dayNames[a].substring(0,3)},getMonthNumber:function(a){return b.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return e.test(a.replace(d,""))},formatContainsDateInfo:function(a){return f.test(a.replace(d,""))},unescapeFormat:function(a){return a.replace(g,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",
N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",
Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",
O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var a=[],c,d;for(c=0;12>c;++c)d="Y-m-dTH:i:sP".charAt(c),a.push("T"===d?"'T'":b.getFormatCode(d));return a.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(a,d,e,f,g,h,k){f=f||0;g=g||0;h=h||0;k=k||0;var l=b.add(new c(100>a?100:a,d-1,e,f,g,h,k),b.YEAR,100>a?a-100:0);return a===l.getFullYear()&&d===l.getMonth()+
1&&e===l.getDate()&&f===l.getHours()&&g===l.getMinutes()&&h===l.getSeconds()&&k===l.getMilliseconds()},parse:function(a,c,d){var e=b.parseFunctions;null==e[c]&&b.createParser(c);return e[c].call(b,a,Ext.isDefined(d)?d:b.useStrict)},parseDate:function(a,c,d){return b.parse(a,c,d)},getFormatCode:function(a){var c=b.formatCodes[a];c&&(c="function"===typeof c?c():c,b.formatCodes[a]=c);return c||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var c=[],d=!1,e,f;for(f=0;f<a.length;++f)e=a.charAt(f),
d||"\\"!==e?d?(d=!1,c.push("'"+Ext.String.escape(e)+"'")):"\n"===e?c.push("'\\n'"):c.push(b.getFormatCode(e)):d=!0;b.formatFunctions[a]=Ext.functionFactory("var m=this;return "+c.join("+"))},createParser:function(c){for(var d=b.parseRegexes.length,e=1,f=[],g=[],h=!1,k,l=0,w=c.length,y=[];l<w;++l)k=c.charAt(l),h||"\\"!==k?h?(h=!1,g.push(Ext.String.escape(k))):(k=b.formatCodeToRegex(k,e),e+=k.g,g.push(k.s),k.g&&k.c&&(k.calcAtEnd?y.push(k.c):f.push(k.c))):h=!0;f=f.concat(y);b.parseRegexes[d]=new RegExp("^"+
g.join("")+"$","i");b.parseFunctions[c]=Ext.functionFactory("input","strict",a("var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,\ndef = me.defaults,\nfrom = Ext.Number.from,\nresults = String(input).match(me.parseRegexes[{0}]);\nif(results){\n{1}\nif(u != null){\nv = new Date(u * 1000);\n}else{\ndt = me.clearTime(new Date);\ny = from(y, from(def.y, dt.getFullYear()));\nm = from(m, from(def.m - 1, dt.getMonth()));\ndayMatched = d !== undefined;\nd = from(d, from(def.d, dt.getDate()));\nif (!dayMatched) {\ndt.setDate(1);\ndt.setMonth(m);\ndt.setFullYear(y);\ndaysInMonth = me.getDaysInMonth(dt);\nif (d > daysInMonth) {\nd = daysInMonth;\n}\n}\nh  = from(h, from(def.h, dt.getHours()));\ni  = from(i, from(def.i, dt.getMinutes()));\ns  = from(s, from(def.s, dt.getSeconds()));\nms = from(ms, from(def.ms, dt.getMilliseconds()));\nif(z >= 0 && y >= 0){\nv = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);\nv = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);\n}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){\nv = null;\n}else{\nif (W) {\nyear = y || (new Date()).getFullYear();\njan4 = new Date(year, 0, 4, 0, 0, 0);\nd = jan4.getDay();\nweek1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));\nv = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));\n} else {\nv = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);\n}\n}\n}\n}\nif(v){\nif(zz != null){\nv = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn (v != null) ? v : null;",
d,f.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],c=0;7>c;a.push(b.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},
W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;12>c;a.push(b.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},
o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",
s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",
s:"(\\d+)"},O:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn = o.substring(3,5) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{4})"},P:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn = o.substring(4,6) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",
s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a=[],c=[b.formatCodeToRegex("Y",1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("H",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {\nif(results[8] == 'Z'){\nzz = 0;\n}else if (results[8].indexOf(':') > -1){",
b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}\n}"].join("\n")}],d,e;d=0;for(e=c.length;d<e;++d)a.push(c[d].c);return{g:1,c:a.join(""),s:[c[0].s,"(?:-",c[1].s,"(?:-",c[2].s,"(?:(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,c){return b.format(a,c)},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},format:function(a,
c){var d=b.formatFunctions;if(!Ext.isDate(a))return"";null==d[c]&&b.createFormat(c);return d[c].call(a)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(0<c?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(a){var c=0,d=b.clone(a),e=a.getMonth(),f;f=0;
d.setDate(1);for(d.setMonth(0);f<e;d.setMonth(++f))c+=b.getDaysInMonth(d);return c+a.getDate()-1},getWeekOfYear:function(){return function(a){a=c.UTC(a.getFullYear(),a.getMonth(),a.getDate()+3)/864E5;a=Math.floor(a/7);var b=(new c(6048E5*a)).getUTCFullYear();return a-Math.floor(c.UTC(b,0,7)/6048E5)+1}}(),isLeapYear:function(a){a=a.getFullYear();return!(0!==(a&3)||!(a%100||0===a%400&&a))},getFirstDayOfMonth:function(a){a=(a.getDay()-(a.getDate()-1))%7;return 0>a?a+7:a},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},
getFirstDateOfMonth:function(a){return new c(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new c(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return 1===d&&b.isLeapYear(c)?29:a[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new c(a.getTime())},
isDST:function(a){return(new c(a.getFullYear(),0,1)).getTimezoneOffset()!==a.getTimezoneOffset()},clearTime:function(a,c){if(isNaN(a.getTime()))return a;if(c)return b.clearTime(b.clone(a));var d=a.getDate(),e,f;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(a.getDate()!==d){e=1;for(f=b.add(a,b.HOUR,e);f.getDate()!==d;e++,f=b.add(a,b.HOUR,e));a.setDate(d);a.setHours(f.getHours())}return a},add:function(a,c,d){var e=b.clone(a),f,g,h=0;if(!c||0===d)return e;g=d-parseInt(d,10);
if(d=parseInt(d,10))switch(c.toLowerCase()){case b.MILLI:e.setTime(e.getTime()+d);break;case b.SECOND:e.setTime(e.getTime()+1E3*d);break;case b.MINUTE:e.setTime(e.getTime()+6E4*d);break;case b.HOUR:e.setTime(e.getTime()+36E5*d);break;case b.DAY:e.setDate(e.getDate()+d);break;case b.MONTH:f=a.getDate();28<f&&(f=Math.min(f,b.getLastDateOfMonth(b.add(b.getFirstDateOfMonth(a),b.MONTH,d)).getDate()));e.setDate(f);e.setMonth(a.getMonth()+d);break;case b.YEAR:f=a.getDate(),28<f&&(f=Math.min(f,b.getLastDateOfMonth(b.add(b.getFirstDateOfMonth(a),
b.YEAR,d)).getDate())),e.setDate(f),e.setFullYear(a.getFullYear()+d)}if(g){switch(c.toLowerCase()){case b.MILLI:h=1;break;case b.SECOND:h=1E3;break;case b.MINUTE:h=6E4;break;case b.HOUR:h=36E5;break;case b.DAY:h=864E5;break;case b.MONTH:f=b.getDaysInMonth(e);h=864E5*f;break;case b.YEAR:f=b.isLeapYear(e)?366:365,h=864E5*f}h&&e.setTime(e.getTime()+h*g)}return e},subtract:function(a,c,d){return b.add(a,c,-d)},between:function(a,b,c){a=a.getTime();return b.getTime()<=a&&a<=c.getTime()},compat:function(){var a;
a="useStrict formatCodeToRegex parseFunctions parseRegexes formatFunctions y2kYear MILLI SECOND MINUTE HOUR DAY MONTH YEAR defaults dayNames monthNames monthNumbers getShortMonthName getShortDayName getMonthNumber formatCodes isValid parseDate getFormatCode createFormat createParser parseCodes".split(" ");var d="dateFormat format getTimezone getGMTOffset getDayOfYear getWeekOfYear isLeapYear getFirstDayOfMonth getLastDayOfMonth getDaysInMonth getSuffix clone isDST clearTime add between".split(" "),
e=a.length,f=d.length,g,h,k;for(k=0;k<e;k++)g=a[k],c[g]=b[g];for(a=0;a<f;a++)h=d[a],c.prototype[h]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b[h].apply(b,a)}},diff:function(a,c,d){var e;e=+c-a;switch(d){case b.MILLI:return e;case b.SECOND:return Math.floor(e/1E3);case b.MINUTE:return Math.floor(e/6E4);case b.HOUR:return Math.floor(e/36E5);case b.DAY:return Math.floor(e/864E5);case "w":return Math.floor(e/6048E5);case b.MONTH:return e=12*c.getFullYear()+c.getMonth()-
(12*a.getFullYear()+a.getMonth()),b.add(a,d,e)>c?e-1:e;case b.YEAR:return e=c.getFullYear()-a.getFullYear(),b.add(a,d,e)>c?e-1:e}},align:function(a,d,e){var f=new c(+a);switch(d.toLowerCase()){case b.MILLI:return f;case b.SECOND:return f.setUTCSeconds(f.getUTCSeconds()-f.getUTCSeconds()%e),f.setUTCMilliseconds(0),f;case b.MINUTE:return f.setUTCMinutes(f.getUTCMinutes()-f.getUTCMinutes()%e),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case b.HOUR:return f.setUTCHours(f.getUTCHours()-f.getUTCHours()%
e),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case b.DAY:return 7!==e&&14!==e||f.setUTCDate(f.getUTCDate()-f.getUTCDay()+1),f.setUTCHours(0),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case b.MONTH:return f.setUTCMonth(f.getUTCMonth()-(f.getUTCMonth()-1)%e,1),f.setUTCHours(0),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case b.YEAR:return f.setUTCFullYear(f.getUTCFullYear()-f.getUTCFullYear()%e,1,1),f.setUTCHours(0),f.setUTCMinutes(0),f.setUTCSeconds(0),
f.setUTCMilliseconds(0),a}}}}();
(function(){var a=function(){},b=/^\?/,c=/(\[):?([^\]]*)\]/g,d=/^([^\[]+)/,e=/\+/g,f=Ext.Object={chain:Object.create||function(b){a.prototype=b;b=new a;a.prototype=null;return b},clear:function(a){for(var b in a)delete a[b];return a},freeze:Object.freeze?function(a,b){if(a&&"object"===typeof a&&!Object.isFrozen(a)&&(Object.freeze(a),b))for(var c in a)f.freeze(a[c],b);return a}:Ext.identityFn,toQueryObjects:function(a,b,c){var d=f.toQueryObjects,e=[],n,p;if(Ext.isArray(b))for(n=0,p=b.length;n<p;n++)c?
e=e.concat(d(a+"["+n+"]",b[n],!0)):e.push({name:a,value:b[n]});else if(Ext.isObject(b))for(n in b)b.hasOwnProperty(n)&&(c?e=e.concat(d(a+"["+n+"]",b[n],!0)):e.push({name:a,value:b[n]}));else e.push({name:a,value:b});return e},toQueryString:function(a,b){var c=[],d=[],e,n,p,q;for(e in a)a.hasOwnProperty(e)&&(c=c.concat(f.toQueryObjects(e,a[e],b)));e=0;for(n=c.length;e<n;e++)p=c[e],q=p.value,Ext.isEmpty(q)?q="":Ext.isDate(q)&&(q=Ext.Date.toString(q)),d.push(encodeURIComponent(p.name)+"="+encodeURIComponent(String(q)));
return d.join("&")},fromQueryString:function(a,f){var k=a.replace(b,"").split("&"),l={},m,n,p,q,r,t,u,v,w;p=0;for(q=k.length;p<q;p++)if(n=k[p],0<n.length)if(n=n.split("="),m=n[0],m=m.replace(e,"%20"),m=decodeURIComponent(m),n=n[1],void 0!==n?(n=n.replace(e,"%20"),n=decodeURIComponent(n)):n="",f)if(u=m.match(c),r=m.match(d),m=r[0],v=[],null===u)l[m]=n;else{r=0;for(t=u.length;r<t;r++)w=u[r],w=2===w.length?"":w.substring(1,w.length-1),v.push(w);v.unshift(m);m=l;r=0;for(t=v.length;r<t;r++)if(w=v[r],r===
t-1)Ext.isArray(m)&&""===w?m.push(n):m[w]=n;else{if(void 0===m[w]||"string"===typeof m[w])u=v[r+1],m[w]=Ext.isNumeric(u)||""===u?[]:{};m=m[w]}}else l.hasOwnProperty(m)?(Ext.isArray(l[m])||(l[m]=[l[m]]),l[m].push(n)):l[m]=n;return l},each:function(a,b,c){var d=Ext.enumerables,e,f;if(a){c=c||a;for(f in a)if(a.hasOwnProperty(f)&&!1===b.call(c,f,a[f],a))return;if(d)for(e=d.length;e--&&(!a.hasOwnProperty(f=d[e])||!1!==b.call(c,f,a[f],a)););}},eachValue:function(a,b,c){var d=Ext.enumerables,e,f;c=c||a;
for(f in a)if(a.hasOwnProperty(f)&&!1===b.call(c,a[f]))return;if(d)for(e=d.length;e--&&(!a.hasOwnProperty(f=d[e])||!1!==b.call(c,a[f])););},merge:function(a){for(var b=1,c=arguments.length,d=f.merge,e=Ext.clone,n,p,q,r;b<c;b++)for(p in n=arguments[b],n)(q=n[p])&&q.constructor===Object?(r=a[p])&&r.constructor===Object?d(r,q):a[p]=e(q):a[p]=q;return a},mergeIf:function(a){for(var b=1,c=arguments.length,d=Ext.clone,e,f,p;b<c;b++)for(f in e=arguments[b],e)f in a||(p=e[f],a[f]=p&&p.constructor===Object?
d(p):p);return a},getAllKeys:function(a){var b=[],c;for(c in a)b.push(c);return b},getKey:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null},getValues:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},getKeys:"function"==typeof Object.keys?function(a){return a?Object.keys(a):[]}:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},getSize:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0},equals:function(){var a=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]!==b[c])return!1;return!0};return function(b,c){return b===c?!0:b&&c?a(b,c)&&a(c,b):b||c?!1:b===c}}(),fork:function(a){var b,c,d;if(a&&a.constructor===Object)for(c in b=f.chain(a),a)(d=a[c])&&(d.constructor===Object?b[c]=f.fork(d):d instanceof Array&&(b[c]=Ext.Array.clone(d)));else b=a;return b},defineProperty:"defineProperty"in Object?Object.defineProperty:function(a,b,c){Object.prototype.__defineGetter__&&
(c.get&&a.__defineGetter__(b,c.get),c.set&&a.__defineSetter__(b,c.set))},classify:function(a){var b=[],c={},d=function(){for(var a=0,d=b.length,e;a<d;a++)e=b[a],this[e]=new c[e]},e,n;for(e in a)a.hasOwnProperty(e)&&(n=a[e])&&n.constructor===Object&&(b.push(e),c[e]=f.classify(n));d.prototype=a;return d}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf})();
(function(){var a=[""],b=/([^\d\.])/,c=/[^\d]/g,d=/[\-+]/g,e=/\s/g,f=/_/g,g={classic:1,modern:1},h;Ext.Version=h=function(a,e){var g=this.padModes,n,p,q;a.isVersion&&(a=a.version);this.version=q=String(a).toLowerCase().replace(f,".").replace(d,"");n=q.charAt(0);n in g?(q=q.substring(1),g=g[n]):g=e?g[e]:0;this.pad=g;n=q.search(b);this.shortVersion=q;-1!==n&&(this.release=p=q.substr(n,a.length),this.shortVersion=q.substr(0,n),p=h.releaseValueMap[p]||p);this.releaseValue=p||g;this.shortVersion=this.shortVersion.replace(c,
"");this.parts=q=q.split(".");for(p=q.length;p--;)q[p]=parseInt(q[p],10);Infinity===g&&q.push(g);this.major=q[0]||g;this.minor=q[1]||g;this.patch=q[2]||g;this.build=q[3]||g;return this};h.prototype={isVersion:!0,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(a){var b=this.pad,c=this.parts,d=c.length;a=a.isVersion?a:new h(a);var e=a.pad,f=a.parts,g=f.length,t=Math.max(d,g),u,v,w;for(u=0;u<t;u++){v=u<d?c[u]:b;w=u<g?f[u]:e;if(v<w)return-1;if(v>w)return 1}v=this.releaseValue;w=a.releaseValue;
return v<w?-1:v>w?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(a){return 0<this.compareTo(a)},isGreaterThanOrEqual:function(a){return 0<=this.compareTo(a)},isLessThan:function(a){return 0>
this.compareTo(a)},isLessThanOrEqual:function(a){return 0>=this.compareTo(a)},equals:function(a){return 0===this.compareTo(a)},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(a){return 0<this.compareTo(a)},lt:function(a){return 0>this.compareTo(a)},gtEq:function(a){return 0<=this.compareTo(a)},ltEq:function(a){return 0>=
this.compareTo(a)}};Ext.apply(h,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return a?isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10):0},compare:function(a,b){return(a.isVersion?a:new h(a)).compareTo(b)},set:function(a,b,c){var d=h.aliases.to[b];c=c.isVersion?c:new h(c);a[b]=c;if(d)for(b=d.length;0<b--;)a[d[b]]=c;return c}});Ext.apply(Ext,
{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(a){var b=Ext.compatVersions;return(a?b[h.aliases.from[a]||a]:b.ext||b.touch||b.core)||Ext.getVersion(a)},setCompatVersion:function(a,b){h.set(Ext.compatVersions,a,b)},setVersion:function(a,b){a in g&&(Ext.toolkit=a);Ext.lastRegisteredVersion=h.set(Ext.versions,a,b);return this},getVersion:function(a){var b=Ext.versions;return a?b[h.aliases.from[a]||a]:b.ext||b.touch||b.core},checkVersion:function(b,c){var d=Ext.isArray(b),
f=h.aliases.from,g=d?b:a,q=g.length,r=Ext.versions,t=r.ext||r.touch,u,v,w,y;d||(a[0]=b);for(d=0;d<q;++d){if(Ext.isString(v=g[d])){0<=v.indexOf(" ")&&(v=v.replace(e,""));u=v.indexOf("@");if(0>u)w=v,y=t;else{y=v.substring(0,u);if(!(y=r[f[y]||y])){if(c)return!1;continue}w=v.substring(u+1)}u=w.indexOf("-");0>u?"+"===w.charAt(u=w.length-1)?(v=w.substring(0,u),w=null):v=w:(v=0<u?w.substring(0,u):null,w=w.substring(u+1));u=!0;v&&(v=new h(v,"~"),u=v.ltEq(y));u&&w&&(w=new h(w,"~"),u=w.gtEq(y))}else u=Ext.checkVersion(v.and||
v.or,!v.or),v.not&&(u=!u);if(u){if(!c)return!0}else if(c)return!1}return!!c},deprecate:function(a,b,c,d){1>h.compare(Ext.getVersion(a),b)&&c.call(d)}})})();(function(a){var b=a&&a.packages||{};a=a&&a.compatibility;var c,d;for(c in b)d=b[c],Ext.setVersion(c,d.version);if(a)if(Ext.isString(a))Ext.setCompatVersion("core",a);else for(c in a)Ext.setCompatVersion(c,a[c]);b.ext||b.touch||(Ext.setVersion("ext","6.0.1.250"),Ext.setVersion("core","6.0.1.250"))})(Ext.manifest);
(Ext.env||(Ext.env={})).Browser=function(a,b){var c=Ext.Boot.browserPrefixes,d=Ext.Boot.browserNames,e=this.enginePrefixes,f=this.engineNames,g=a.match(new RegExp("((?:"+Ext.Object.getValues(c).join(")|(?:")+"))([\\w\\._]+)")),h=a.match(new RegExp("((?:"+Ext.Object.getValues(e).join(")|(?:")+"))([\\w\\._]+)")),k=d.other,l=f.other,m="",n="",p="",q=!1,r,t;this.userAgent=a;/Edge\//.test(a)&&(g=a.match(/(Edge\/)([\w.]+)/));g&&(k=d[Ext.Object.getKey(c,g[1])],"Safari"===k&&/^Opera/.test(a)&&(k="Opera"),
m=new Ext.Version(g[2]));h&&(l=f[Ext.Object.getKey(e,h[1])],n=new Ext.Version(h[2]));"Trident"===l&&"IE"!==k&&(k="IE",(c=a.match(/.*rv:(\d+.\d+)/))&&c.length&&(c=c[1],m=new Ext.Version(c)));k&&m&&Ext.setVersion(k,m);a.match(/FB/)&&"Other"===k&&(k=d.safari,l=f.webkit);a.match(/Android.*Chrome/g)&&(k="ChromeMobile");a.match(/OPR/)&&(k="Opera",g=a.match(/OPR\/(\d+.\d+)/),m=new Ext.Version(g[1]));Ext.apply(this,{engineName:l,engineVersion:n,name:k,version:m});this.setFlag(k,!0,b);if(m){p=m.getMajor()||
"";if(this.is.IE){p=parseInt(p,10);r=document.documentMode;if(7===r||7===p&&8!==r&&9!==r&&10!==r)p=7;else if(8===r||8===p&&8!==r&&9!==r&&10!==r)p=8;else if(9===r||9===p&&7!==r&&8!==r&&10!==r)p=9;else if(10===r||10===p&&7!==r&&8!==r&&9!==r)p=10;else if(11===r||11===p&&7!==r&&8!==r&&9!==r&&10!==r)p=11;e=Math.max(p,Ext.Boot.maxIEVersion);for(r=7;r<=e;++r)c="isIE"+r,p<=r&&(Ext[c+"m"]=!0),p===r&&(Ext[c]=!0),p>=r&&(Ext[c+"p"]=!0)}this.is.Opera&&12>=parseInt(p,10)&&(Ext.isOpera12m=!0);Ext.chromeVersion=
Ext.isChrome?p:0;Ext.firefoxVersion=Ext.isFirefox?p:0;Ext.ieVersion=Ext.isIE?p:0;Ext.operaVersion=Ext.isOpera?p:0;Ext.safariVersion=Ext.isSafari?p:0;Ext.webKitVersion=Ext.isWebKit?p:0;this.setFlag(k+p,!0,b);this.setFlag(k+m.getShortVersion())}for(r in d)d.hasOwnProperty(r)&&(t=d[r],this.setFlag(t,k===t));this.setFlag(t);n&&(this.setFlag(l+(n.getMajor()||"")),this.setFlag(l+n.getShortVersion()));for(r in f)f.hasOwnProperty(r)&&(t=f[r],this.setFlag(t,l===t,b));this.setFlag("Standalone",!!navigator.standalone);
this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)q=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova");/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(a)&&(q=!0);this.setFlag("WebView",q);this.isStrict=Ext.isStrict="CSS1Compat"===document.compatMode;this.isSecure=Ext.isSecure;this.identity=k+p+(this.isStrict?
"Strict":"Quirks")};
Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(a){return!!this.is[a]},
name:null,version:null,engineName:null,engineVersion:null,setFlag:function(a,b,c){void 0===b&&(b=!0);this.is[a]=b;this.is[a.toLowerCase()]=b;c&&(Ext["is"+a]=b);return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(a){var b=this.propertyPrefixes[this.engineName];return 0<b.length?b+Ext.String.capitalize(a):a},getPreferredTranslationMethod:function(a){return"object"===
typeof a&&"translationMethod"in a&&"auto"!==a.translationMethod?a.translationMethod:"csstransform"}};(function(a){Ext.browser=new Ext.env.Browser(a,!0);Ext.userAgent=a.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"})(Ext.global.navigator.userAgent);
Ext.env.OS=function(a,b,c){var d=Ext.Boot.osNames,e=Ext.Boot.osPrefixes,f,g="",h=this.is,k,l;c=c||Ext.browser;for(k in e)if(e.hasOwnProperty(k)&&(l=e[k],l=a.match(new RegExp("(?:"+l+")([^\\s;]+)")))){f=d[k];g=(e=l[1])&&"HTC_"===e?new Ext.Version("2.3"):e&&"Silk/"===e?new Ext.Version("2.3"):new Ext.Version(l[l.length-1]);break}f||(f=d[(a.toLowerCase().match(/mac|win|linux/)||["other"])[0]],g=new Ext.Version(""));this.name=f;this.version=g;b&&this.setFlag(b.replace(/ simulator$/i,""));this.setFlag(f);
g&&(this.setFlag(f+(g.getMajor()||"")),this.setFlag(f+g.getShortVersion()));for(k in d)d.hasOwnProperty(k)&&(a=d[k],h.hasOwnProperty(f)||this.setFlag(a,f===a));"iOS"===this.name&&568===window.screen.height&&this.setFlag("iPhone5");if(c.is.Safari||c.is.Silk)(this.is.Android2||this.is.Android3||501===c.version.shortVersion)&&c.setFlag("AndroidStock"),this.is.Android4&&(c.setFlag("AndroidStock"),c.setFlag("AndroidStock4"))};
Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(a){return!!this[a]},name:null,version:null,setFlag:function(a,b){void 0===b&&(b=!0);this.flags&&(this.flags[a]=b);this.is[a]=b;this.is[a.toLowerCase()]=b;return this}};
(function(){var a=Ext.global.navigator,b=a.userAgent,c=Ext.env.OS,d=Ext.is||(Ext.is={}),e;c.prototype.flags=d;Ext.os=a=new c(b,a.platform);e=a.name;Ext["is"+e]=!0;Ext.isMac=d.Mac=d.MacOS;var d=window.location.search.match(/deviceType=(Tablet|Phone)/),f=window.deviceType;d&&d[1]?b=d[1]:"iPhone"===f?b="Phone":"iPad"===f?b="Tablet":a.is.Android||a.is.iOS||a.is.WindowsPhone||!/Windows|Linux|MacOS/.test(e)?b=a.is.iPad||a.is.RIMTablet||a.is.Android3||Ext.browser.is.Silk||a.is.Android&&-1===b.search(/mobile/i)?
"Tablet":"Phone":(b="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple);a.setFlag(b,!0);a.deviceType=b;delete c.prototype.flags})();
Ext.feature={has:function(a){return!!this.has[a]},testElements:{},getTestElement:function(a,b){if(void 0===a)a="div";else if("string"!==typeof a)return a;if(b)return document.createElement(a);this.testElements[a]||(this.testElements[a]=document.createElement(a));return this.testElements[a]},isStyleSupported:function(a,b){var c=this.getTestElement(b).style,d=Ext.String.capitalize(a);return"undefined"!==typeof c[a]||"undefined"!==typeof c[Ext.browser.getStylePrefix(a)+d]?!0:!1},isStyleSupportedWithoutPrefix:function(a,
b){return"undefined"!==typeof this.getTestElement(b).style[a]?!0:!1},isEventSupported:function(a,b){void 0===b&&(b=window);var c=this.getTestElement(b),d="on"+a.toLowerCase(),e=d in c;!e&&c.setAttribute&&c.removeAttribute&&(c.setAttribute(d,""),e="function"===typeof c[d],"undefined"!==typeof c[d]&&(c[d]=void 0),c.removeAttribute(d));return e},getStyle:function(a,b){var c=a.ownerDocument.defaultView;return((c?c.getComputedStyle(a,null):a.currentStyle)||a.style)[b]},getSupportedPropertyName:function(a,
b){var c=Ext.browser.getVendorProperyName(b);return c in a?c:b in a?b:null},detect:function(a){var b=document,c=this.toRun||this.tests,d=c.length,e=b.createElement("div"),f=[],g=Ext.supports,h=this.has,k,l,m,n,p;e.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';
a&&b.body.appendChild(e);for(n=this.preDetected[Ext.browser.identity]||[];d--;){m=c[d];p=n[d];k=m.name;l=m.names;if(void 0===p){if(!a&&m.ready){f.push(m);continue}p=m.fn.call(this,b,e)}if(k)g[k]=h[k]=p;else if(l)for(;l.length;)k=l.pop(),g[k]=h[k]=p}a&&b.body.removeChild(e);this.toRun=f},report:function(){var a=[],b=this.tests.length,c;for(c=0;c<b;++c)a.push(this.has[this.tests[c].name]?1:0);Ext.log(Ext.browser.identity+": ["+a.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var a=
document.createElement("div");a.expandoProp={};return a.cloneNode().expandoProp===a.expandoProp}},{name:"CSSPointerEvents",fn:function(a){return"pointerEvents"in a.documentElement.style}},{name:"CSS3BoxShadow",fn:function(a){return"boxShadow"in a.documentElement.style||"WebkitBoxShadow"in a.documentElement.style||"MozBoxShadow"in a.documentElement.style}},{name:"CSS3NegationSelector",fn:function(a){try{a.querySelectorAll("foo:not(bar)")}catch(b){return!1}return!0}},{name:"ClassList",fn:function(a){return!!a.documentElement.classList}},
{name:"Canvas",fn:function(){var a=this.getTestElement("canvas");return!!(a&&a.getContext&&a.getContext("2d"))}},{name:"Svg",fn:function(a){return!(!a.createElementNS||!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var a=this.getTestElement(),b;a.innerHTML="\x3c!--[if vml]><br><![endif]--\x3e";b=1===a.childNodes.length;a.innerHTML="";return b}},{name:"touchScroll",fn:function(){var a=0;Ext.os.is.Desktop&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)?
a=1:Ext.supports.Touch&&(a=2);return a}},{name:"Touch",fn:function(){var a=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)?Ext.supports.TouchEvents&&1!==a||1<a:Ext.supports.TouchEvents||0<a}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",
fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},
{name:"CreateContextualFragment",fn:function(){var a=document.createRange?document.createRange():!1;return a&&!!a.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},
{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test",
"test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(a){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var a=new XMLHttpRequest;return a&&"upload"in a&&"onprogress"in a.upload}return!1}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&2>Ext.os.version.getMinor())}},
{name:"matchesSelector",fn:function(){var a=document.documentElement;return a.matches?"matches":a.webkitMatchesSelector?"webkitMatchesSelector":a.msMatchesSelector?"msMatchesSelector":a.mozMatchesSelector?"mozMatchesSelector":null}},{name:"RightMargin",ready:!0,fn:function(a,b){var c=a.defaultView;return!(c&&"0px"!==c.getComputedStyle(b.firstChild.firstChild,null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&533>a}},{name:"DisplayChangeTextAreaSelectionBug",
fn:function(){var a=Ext.webKitVersion;return 0<a&&534.24>a}},{name:"TransparentColor",ready:!0,fn:function(a,b,c){c=a.defaultView;return!(c&&"transparent"!==c.getComputedStyle(b.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(a,b,c){return(c=a.defaultView)&&c.getComputedStyle}},{name:"Float",fn:function(a){return"cssFloat"in a.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(a){var b="borderRadius BorderRadius MozBorderRadius WebkitBorderRadius OBorderRadius KhtmlBorderRadius".split(" "),
c=!1,d;for(d=0;d<b.length;d++)void 0!==a.documentElement.style[b[d]]&&(c=!0);return c&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(a,b){b.style.cssText="background-image:-webkit-gradient(linear, left top, right bottom, from(black), to(white));background-image:linear-gradient(left top, black, white);background-image:-moz-linear-gradient(left top, black, white);background-image:-ms-linear-gradient(left top, black, white);background-image:-o-linear-gradient(left top, black, white)";return-1!==
(""+b.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(a){return"onmouseenter"in a.documentElement&&"onmouseleave"in a.documentElement}},{name:"MouseWheel",fn:function(a){return"onmousewheel"in a.documentElement}},{name:"Opacity",fn:function(a,b){if(Ext.isIE8)return!1;b.firstChild.style.cssText="opacity:0.73";return"0.73"==b.firstChild.style.opacity}},{name:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{name:"Direct2DBug",
fn:function(a){return Ext.isString(a.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(a){return"getBoundingClientRect"in a.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(a){var b=a.body,c=!1;a=a.createElement("div");var d=a.style;a.getBoundingClientRect&&(d.position="absolute",d.top="0",d.WebkitTransform=d.MozTransform=d.msTransform=d.OTransform=d.transform="rotate(90deg)",d.width="100px",d.height="30px",b.appendChild(a),c=100!==
a.getBoundingClientRect().height,b.removeChild(a));return c}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:!0,fn:function(){var a=this.getTestElement(),b;a.innerHTML="<div>a</div>";b=a.firstChild;a.innerHTML="<div>b</div>";return"a"!==b.innerHTML}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(a,b){return 210===b.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(a,b){return 210===b.childNodes[1].firstChild.offsetHeight}},
{name:"TextAreaMaxLength",fn:function(a){return"maxlength"in a.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(a,b){return"10%"===Ext.feature.getStyle(b.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(a){var b=!1,c,d;Ext.getScrollbarSize().height&&(d=this.getTestElement(),c=d.style,c.height="50px",c.width="50px",c.overflow="auto",c.position="absolute",d.innerHTML='<div style="display:table;height:100%;"><div style="width:51px;"></div></div>',
a.body.appendChild(d),50===d.firstChild.offsetHeight&&(b=!0),a.body.removeChild(d));return b}},{name:"xOriginBug",ready:!0,fn:function(a,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var c=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),
e=document.getElementById("b3").getBoundingClientRect();return d.left!==c.left&&e.right!==c.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(a){var b=!1,c,d;d=a.createElement("div");c=d.style;c.height="50px";c.width="50px";c.padding="10px";c.overflow="hidden";c.position="absolute";d.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';a.body.appendChild(d);70===d.scrollWidth&&(b=!0);a.body.removeChild(d);return b}},{name:"rtlVertScrollbarOnRight",ready:!0,
fn:function(a,b){b.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var c=b.firstChild,d=c.firstChild;return d.offsetLeft+d.offsetWidth!==c.offsetLeft+c.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(a,b){b.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var c=b.firstChild;return c.clientHeight===c.offsetHeight}},
{identity:"defineProperty",fn:function(){return Ext.isIE8m?(Ext.Object.defineProperty=Ext.emptyFn,!1):!0}},{identify:"nativeXhr",fn:function(){if("undefined"!==typeof XMLHttpRequest)return!0;XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return null}};return!1}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?525<=parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10):!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera&&12>Ext.operaVersion)}},
{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var a=document.documentMode;return"onhashchange"in window&&(void 0===a||7<a)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var a=document.createElement("div"),b=document.createElement("div");a.setAttribute("style","display:table;table-layout:fixed;");b.setAttribute("style","display:table-cell;min-width:50px;");a.appendChild(b);document.body.appendChild(a);a.offsetWidth;a.style.width=
"25px";b=a.offsetWidth;document.body.removeChild(a);return 50===b}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:!0,fn:function(a){function b(a){var b=[],c=0,d;-1!==a.indexOf("rgb(")?b=a.replace("rgb(","").replace(")","").split(", "):-1!==a.indexOf("#")&&(d=7===a.length?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/,(a=a.match(d))&&(b=["0x"+a[1],"0x"+a[2],"0x"+a[3]]));for(a=0;a<b.length;a++)c+=
parseInt(b[a]);return c}var c=a.body,d,e,f;d=a.createElement("div");a=a.createElement("img");e=d.style;Ext.apply(e,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"});a.alt="";a.src=Ext.BLANK_IMAGE_URL;d.appendChild(a);c.appendChild(d);e=d.currentStyle||d.style;f=e.backgroundImage;e={Images:1===a.offsetWidth&&"uninitialized"!==a.readyState,
BackgroundImages:!(null!==f&&("none"===f||"url(invalid-url:)"===f)),BorderColors:e.borderTopColor!==e.borderRightColor,LightOnDark:0<b(e.color)-b(e.backgroundColor)};Ext.supports.HighContrastMode=!e.BackgroundImages;c.removeChild(d);d=a=null;return e}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();
Ext.Function=function(){var a=0,b,c=[],d=[],e=0,f={},g=window,h=Ext.global,k=!(!h.setImmediate||!h.clearImmediate),l=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||function(b){var c=Ext.now(),d=Math.max(0,16-(c-a)),e=g.setTimeout(function(){b(c+d)},d);a=c+d;return e},m=function(){var a=c.length,e,g,k;b=null;for(g=0;g<a;g++)k=c[g],e=k[3],f[e]&&(k[0].apply(k[1]||h,k[2]||d),delete f[e]);c=c.slice(a)},n=function(){Ext.elevateFunction(m)},
p={flexSetter:function(a){return function(b,c){var d,e;if(null!==b)if("string"!==typeof b){for(d in b)b.hasOwnProperty(d)&&a.call(this,d,b[d]);if(Ext.enumerables)for(e=Ext.enumerables.length;e--;)d=Ext.enumerables[e],b.hasOwnProperty(d)&&a.call(this,d,b[d])}else a.call(this,b,c);return this}},bind:function(a,b,c,d){if(2===arguments.length)return function(){return a.apply(b,arguments)};var e=Array.prototype.slice;return function(){var f=c||arguments;!0===d?(f=e.call(arguments,0),f=f.concat(c)):"number"===
typeof d&&(f=e.call(arguments,0),Ext.Array.insert(f,d,c));return a.apply(b||h,f)}},bindCallback:function(a,b,c,d,e){return function(){var f=Ext.Array.slice(arguments);return Ext.callback(a,b,c?c.concat(f):f,d,e)}},pass:function(a,b,c){Ext.isArray(b)||(b=Ext.isIterable(b)?Ext.Array.clone(b):void 0!==b?[b]:[]);return function(){var d=b.slice();d.push.apply(d,arguments);return a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,
arguments)}},createInterceptor:function(a,b,c,d){return Ext.isFunction(b)?(d=Ext.isDefined(d)?d:null,function(){var e=arguments;return!1!==b.apply(c||this||h,e)?a.apply(this||h,e):d}):a},createDelayed:function(a,b,c,d,e){if(c||d)a=Ext.Function.bind(a,c,d,e);return function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(a,c,d):a.apply(c,d)},b)}},defer:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);if(0<b)return setTimeout(function(){Ext.elevateFunction?
Ext.elevateFunction(a):a()},b);a();return 0},interval:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);return setInterval(function(){Ext.elevateFunction?Ext.elevateFunction(a):a()},b)},createSequence:function(a,b,c){return b?function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}:a},createBuffered:function(a,b,c,d){var e;return function(){var f=d||Array.prototype.slice.call(arguments,0),g=c||this;e&&clearTimeout(e);e=setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(a,
g,f):a.apply(g,f)},b)}},createAnimationFrame:function(a,b,c,d){var e;d=d||3;return function(){var f=c||Array.prototype.slice.call(arguments,0);b=b||this;3===d&&e&&p.cancelAnimationFrame(e);if(d&1||!e)e=p.requestAnimationFrame(function(){e=null;a.apply(b,f)})}},requestAnimationFrame:function(a,d,g){var h=++e,k=Array.prototype.slice.call(arguments,0);k[3]=h;f[h]=1;c.push(k);b||(b=l(Ext.elevateFunction?n:m));return h},cancelAnimationFrame:function(a){delete f[a]},createThrottled:function(a,b,c){var d=
0,e,f,g,h=function(){Ext.elevateFunction?Ext.elevateFunction(a,c,f):a.apply(c,f);d=Ext.now();g=null};return function(){c||(c=this);e=Ext.now()-d;f=arguments;e>=b?(clearTimeout(g),h()):g||(g=Ext.defer(h,b-e))}},createBarrier:function(a,b,c){return function(){--a||b.apply(c,arguments)}},interceptBefore:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);e.apply(this,arguments);return a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=
function(){e.apply(this,arguments);return c.apply(d||this,arguments)}},makeCallback:function(a,b){return function(){return b[a].apply(b,arguments)}},memoize:function(a,b,c){var d={},e=c&&Ext.isFunction(c);return function(f){var g=e?c.apply(b,arguments):f;g in d||(d[g]=a.apply(b,arguments));return d[g]}}};Ext.asap=k?function(a,b,c){if(null!=b||null!=c)a=p.bind(a,b,c);return setImmediate(function(){Ext.elevateFunction?Ext.elevateFunction(a):a()})}:function(a,b,c){if(null!=b||null!=c)a=p.bind(a,b,c);
return setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(a):a()},0,!0)};Ext.asapCancel=k?function(a){clearImmediate(a)}:function(a){clearTimeout(a)};Ext.defer=p.defer;Ext.interval=p.interval;Ext.pass=p.pass;Ext.bind=p.bind;Ext.deferCallback=p.requestAnimationFrame;return p}();
Ext.Number=new function(){var a=this,b="1"!==(.9).toFixed(),c=Math,d={count:!1,inclusive:!1,wrap:!0};Ext.apply(a,{Clip:{DEFAULT:d,COUNT:Ext.applyIf({count:!0},d),INCLUSIVE:Ext.applyIf({inclusive:!0},d),NOWRAP:Ext.applyIf({wrap:!1},d)},clipIndices:function(a,b,c){c=c||d;var h=0,k=c.wrap,l,m,n;b=b||[];for(n=0;2>n;++n)l=m,m=b[n],null==m?m=h:n&&c.count?(m+=l,m=m>a?a:m):(k&&(m=0>m?a+m:m),n&&c.inclusive&&++m,m=0>m?0:m>a?a:m),h=a;b[0]=l;b[1]=m<l?l:m;return b},constrain:function(a,b,c){var d=parseFloat(a);
null===b&&(b=a);null===c&&(c=a);return d<b?b:d>c?c:d},snap:function(b,c,d,h){var k;if(void 0===b||b<d)return d||0;c&&(k=b%c,0!==k&&(b-=k,2*k>=c?b+=c:2*k<-c&&(b-=c)));return a.constrain(b,d,h)},snapInRange:function(b,c,d,h){var k;d=d||0;if(void 0===b||b<d)return d;c&&(k=(b-d)%c)&&(b-=k,2*k>=c&&(b+=c));void 0!==h&&b>(h=a.snapInRange(h,c,d))&&(b=h);return b},sign:function(a){a=+a;return 0===a||isNaN(a)?a:0<a?1:-1},toFixed:b?function(a,b){b=b||0;var d=c.pow(10,b);return(c.round(a*d)/d).toFixed(b)}:function(a,
b){return a.toFixed(b)},from:function(a,b){isFinite(a)&&(a=parseFloat(a));return isNaN(a)?b:a},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return a.from.apply(this,arguments)}};
Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(f){return a.test(f)?f:f.replace(b,d).replace(c,e)}}(),callback:function(a,b,c,d,e,f){if(a){var g=b in Ext._namedScopes;a.charAt?(b&&!g||!e||(b=e.resolveListenerScope(g?b:f)),
a=b[a]):g?b=f||e:b||(b=e);var h;a&&Ext.isFunction(a)&&(b=b||Ext.global,d?Ext.defer(a,d,b,c):h=Ext.elevateFunction?Ext.elevateFunction(a,b,c):c?a.apply(b,c):a.call(b));return h}},coerce:function(a,b){var c=Ext.typeOf(a),d=Ext.typeOf(b),e="string"===typeof a;if(c!==d)switch(d){case "string":return String(a);case "number":return Number(a);case "boolean":return!e||a&&"false"!==a?!!a:!1;case "null":return!e||a&&"null"!==a?a:null;case "undefined":return!e||a&&"undefined"!==a?a:void 0;case "date":return e&&
isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a))}return a},copyTo:function(a,b,c,d){"string"===typeof c&&(c=c.split(Ext.propertyNameSplitRe));for(var e,f=0,g=c?c.length:0;f<g;f++)if(e=c[f],d||b.hasOwnProperty(e))a[e]=b[e];return a},copy:function(a,b,c,d){"string"===typeof c&&(c=c.split(Ext.propertyNameSplitRe));for(var e,f=0,g=c?c.length:0;f<g;f++)if(e=c[f],b.hasOwnProperty(e)||d&&e in b)a[e]=b[e];return a},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(a,b,c){"string"===typeof c&&
(c=c.split(Ext.propertyNameSplitRe));for(var d,e=0,f=c?c.length:0;e<f;e++)d=c[e],void 0===a[d]&&(a[d]=b[d]);return a},copyIf:function(a,b,c){"string"===typeof c&&(c=c.split(Ext.propertyNameSplitRe));for(var d,e=0,f=c?c.length:0;e<f;e++)d=c[e],!(d in a)&&d in b&&(a[d]=b[d]);return a},extend:function(){var a=Object.prototype.constructor,b=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return function(c,d,e){Ext.isObject(d)&&(e=d,d=c,c=e.constructor!==a?e.constructor:function(){d.apply(this,
arguments)});var f=function(){},g=d.prototype;f.prototype=g;f=c.prototype=new f;f.constructor=c;c.superclass=g;g.constructor===a&&(g.constructor=d);c.override=function(a){Ext.override(c,a)};f.override=b;f.proto=f;c.override(e);c.extend=function(a){return Ext.extend(c,a)};return c}}(),iterate:function(a,b,c){Ext.isEmpty(a)||(void 0===c&&(c=a),Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,b,c):Ext.Object.each.call(Ext.Object,a,b,c))},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(a){var b=
a;a&&"<"===a.charAt(0)&&(a=Ext._resourcePoolRe.exec(a))&&(b=Ext.getResourcePath(a[3],a[1],a[2]));return b},urlEncode:function(){var a=Ext.Array.from(arguments),b="";Ext.isString(a[1])&&(b=a[1]+"&",a[1]=!1);return b+Ext.Object.toQueryString.apply(Ext.Object,a)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(a){var b=Ext._scrollbarSize;if(a||!b){a=document.body;var c=document.createElement("div");c.style.width=c.style.height="100px";c.style.overflow=
"scroll";c.style.position="absolute";a.appendChild(c);Ext._scrollbarSize=b={width:c.offsetWidth-c.clientWidth,height:c.offsetHeight-c.clientHeight};a.removeChild(c)}return b},typeOf:function(){var a=/\S/,b=Object.prototype.toString,c={number:1,string:1,"boolean":1,undefined:1},d={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(e){if(null===e)return"null";var f=typeof e,g,h;return c[f]?f:(g=d[h=b.call(e)])?
g:"function"===f?"function":"object"===f?void 0!==e.nodeType?3===e.nodeType?a.test(e.nodeValue)?"textnode":"whitespace":"element":"object":h}}(),factory:function(a,b,c,d){var e=Ext.ClassManager,f;if(!a||a.isInstance)return c&&c!==a&&c.destroy(),a;if(d){if("string"===typeof a)return e.instantiateByAlias(d+"."+a);if(Ext.isObject(a)&&"type"in a)return e.instantiateByAlias(d+"."+a.type,a)}if(!0===a)return c||Ext.create(b);"xtype"in a?f=e.instantiateByAlias("widget."+a.xtype,a):"xclass"in a&&(f=Ext.create(a.xclass,
a));return f?(c&&c.destroy(),f):c?c.setConfig(a):Ext.create(b,a)},log:function(){var a=function(){};a.info=a.warn=a.error=Ext.emptyFn;return a}()});Ext.Config=function(a){var b=a.charAt(0).toUpperCase()+a.substr(1);this.name=a;this.names={internal:"_"+a,initializing:"is"+b+"Initializing",apply:"apply"+b,update:"update"+b,get:"get"+b,set:"set"+b,initGet:"initGet"+b,changeEvent:a.toLowerCase()+"change"};this.root=this};Ext.Config.map={};
Ext.Config.get=function(a){var b=Ext.Config.map;return b[a]||(b[a]=new Ext.Config(a))};
Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(a){return a.$configPrefixed?this.names.internal:this.name},mergeNew:function(a,
b,c,d){var e;if(b){if(a)for(e in b=Ext.Object.chain(b),a)d&&e in b||(b[e]=a[e])}else b=a;return b},mergeSets:function(a,b,c){b=b?Ext.Object.chain(b):{};var d,e;if(a instanceof Array)for(d=a.length;d--;)e=a[d],c&&e in b||(b[e]=!0);else if(a)if(a.constructor===Object)for(d in a)e=a[d],c&&d in b||(b[d]=e);else c&&a in b||(b[a]=!0);return b},makeGetter:function(){var a=this.name,b=this.names.internal;return function(){return this[this.$configPrefixed?b:a]}},makeInitGetter:function(){var a=this.name,b=
this.names,c=b.set,d=b.get,e=b.initializing;return function(){this[e]=!0;delete this[d];this[c](this.config[a]);delete this[e];return this[d].apply(this,arguments)}},makeSetter:function(){var a=this.name,b=this.names,c=b.internal,d=b.get,e=b.apply,f=b.update,b=function(b){var h=this.$configPrefixed?c:a,k=this[h];delete this[d];if((!this[e]||void 0!==(b=this[e](b,k)))&&b!==(k=this[h])&&(this[h]=b,this[f]))this[f](b,k);return this};b.$isDefault=!0;return b},makeEventedSetter:function(){var a=this.name,
b=this.names,c=b.internal,d=b.get,e=b.apply,f=b.update,g=b.changeEvent,h=function(a,b,c,d){a[d]=b;if(a[f])a[f](b,c)},b=function(b){var l=this.$configPrefixed?c:a,m=this[l];delete this[d];if((!this[e]||void 0!==(b=this[e](b,m)))&&b!==(m=this[l]))if(this.isConfiguring){if(this[l]=b,this[f])this[f](b,m)}else this.fireEventedAction(g,[this,b,m],h,this,[this,b,m,l]);return this};b.$isDefault=!0;return b}};
(function(){var a=Ext.Config,b=a.map,c=Ext.Object;Ext.Configurator=function(a){var b=a.prototype,f=a.superclass?a.superclass.self.$config:null;this.cls=a;(this.superCfg=f)?(this.configs=c.chain(f.configs),this.cachedConfigs=c.chain(f.cachedConfigs),this.initMap=c.chain(f.initMap),this.values=c.chain(f.values),this.needsFork=f.needsFork):(this.configs={},this.cachedConfigs={},this.initMap={},this.values={});b.config=b.defaultConfig=this.values;a.$config=this};Ext.Configurator.prototype={self:Ext.Configurator,
needsFork:!1,initList:null,add:function(b,e){var f=this.cls,g=this.configs,h=this.cachedConfigs,k=this.initMap,l=f.prototype,m=e&&e.$config.configs,n=this.values,p,q,r,t,u,v,w,y,x;for(w in b){if(q=(p=(x=b[w])&&x.constructor===Object)&&"$value"in x?x:null)r=!!q.cached,p=(x=q.$value)&&x.constructor===Object;t=q&&q.merge;if(u=g[w]){if(e){t=u.merge;if(!t)continue;q=null}else t=t||u.merge;v=n[w];t?x=t.call(u,x,v,f,e):p&&v&&v.constructor===Object&&(x=c.merge({},v,x))}else{m?(u=m[w],q=null):u=a.get(w);g[w]=
u;if(u.cached||r)h[w]=!0;p=u.names;l[y=p.get]||(l[y]=u.getter||u.getGetter());l[y=p.set]||(l[y]=q&&q.evented?u.eventedSetter||u.getEventedSetter():u.setter||u.getSetter())}q&&(u.owner!==f&&(g[w]=u=Ext.Object.chain(u),u.owner=f),Ext.apply(u,q),delete u.$value);!this.needsFork&&x&&(x.constructor===Object||x instanceof Array)&&(this.needsFork=!0);null!==x?k[w]=!0:(l.$configPrefixed?l[g[w].names.internal]=null:l[g[w].name]=null,w in k&&(k[w]=!1));n[w]=x}},configure:function(a,b){var f=this.configs,g=
this.initMap,h=this.initListMap,k=this.initList,l=this.cls.prototype,m=this.values,n=0,p=!k,q,r,t,u,v,w,m=this.needsFork?c.fork(m):c.chain(m);a.isConfiguring=!0;if(p)for(w in this.initList=k=[],this.initListMap=h={},a.isFirstInstance=!0,g)u=g[w],r=f[w],t=r.cached,u?(u=r.names,v=m[w],!l[u.set].$isDefault||l[u.apply]||l[u.update]||"object"===typeof v?(t?(q||(q=[])).push(r):(k.push(r),h[w]=!0),a[u.get]=r.initGetter||r.getInitGetter()):l[r.getInternalName(l)]=v):t&&(l[r.getInternalName(l)]=void 0);if(v=
q&&q.length){for(g=0;g<v;++g)r=q[g].getInternalName(l),a[r]=null;for(g=0;g<v;++g)u=(r=q[g]).names,t=u.get,a.hasOwnProperty(t)&&(a[u.set](m[r.name]),delete a[t]);for(g=0;g<v;++g)r=q[g].getInternalName(l),l[r]=a[r],delete a[r]}b&&b.platformConfig&&(b=this.resolvePlatformConfig(a,b));p&&a.afterCachedConfig&&!a.afterCachedConfig.$nullFn&&a.afterCachedConfig(b);a.config=m;g=0;for(v=k.length;g<v;++g)r=k[g],a[r.names.get]=r.initGetter||r.getInitGetter();a.transformInstanceConfig&&(b=a.transformInstanceConfig(b));
if(b)for(w in b)v=b[w],(r=f[w])?(r.lazy||++n,h[w]||(a[r.names.get]=r.initGetter||r.getInitGetter()),r.merge?v=r.merge(v,m[w],a):v&&v.constructor===Object&&(v=(l=m[w])&&l.constructor===Object?c.merge(m[w],v):Ext.clone(v))):a[w]=v,m[w]=v;if(!a.beforeInitConfig||a.beforeInitConfig.$nullFn||!1!==a.beforeInitConfig(b)){if(b)for(w in b){if(!n)break;(r=f[w])&&!r.lazy&&(--n,u=r.names,t=u.get,a.hasOwnProperty(t)&&(a[u.set](m[w]),delete a[u.get]))}g=0;for(v=k.length;g<v;++g)r=k[g],u=r.names,t=u.get,!r.lazy&&
a.hasOwnProperty(t)&&(a[u.set](m[r.name]),delete a[t]);delete a.isConfiguring}},getCurrentConfig:function(a){var c=a.defaultConfig,f={},g;for(g in c)f[g]=a[b[g].names.get]();return f},merge:function(a,b,c){var g=this.configs,h,k,l;for(h in c){k=c[h];if(l=g[h])l.merge?k=l.merge(k,b[h],a):k&&k.constructor===Object&&(k=(l=b[h])&&l.constructor===Object?Ext.Object.merge(l,k):Ext.clone(k));b[h]=k}return b},reconfigure:function(a,c,f){var g=a.config,h=[],k=a.$configStrict&&!(f&&!1===f.strict),l=this.configs,
m=f&&f.defaults,n;for(n in c)if(!m||!a.hasOwnProperty(n)){g[n]=c[n];if(f=l[n])a[f.names.get]=f.initGetter||f.getInitGetter();else if(f=a.self.prototype[n],k&&"function"===typeof f&&!f.$nullFn)continue;h.push(n)}g=0;for(k=h.length;g<k;g++)if(n=h[g],f=l[n])m=f.names,f=m.get,a.hasOwnProperty(f)&&(a[m.set](c[n]),delete a[f]);else if(f=b[n]||Ext.Config.get(n),m=f.names,a[m.set])a[m.set](c[n]);else a[n]=c[n]},resolvePlatformConfig:function(a,b){var c=b&&b.platformConfig,g=b,h,k,l;if(c&&(k=Ext.getPlatformConfigKeys(c),
l=k.length))for(g=Ext.merge({},g),h=0,l=k.length;h<l;++h)this.merge(a,g,c[k[h]]);return g}}})();
Ext.Base=function(a){var b=[],c,d=[],e=function(a){return function(){return this[a].apply(this,arguments)}},f=Ext.Version,g=/^\d/,h={},k={},l=function(){},m=l.prototype;Ext.apply(l,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(a){var b=[],c=Ext.getCompatVersion(a.name),d,h,k,l,m,y,x,z;for(h in a)g.test(h)&&(k=new Ext.Version(h),k.deprecations=a[h],b.push(k));b.sort(f.compare);for(a=
b.length;a--;){d=(k=b[a]).deprecations;h=this.prototype;z=d.statics;k=c&&c.lt(k);if(!k)break;for(;d;){if(m=d.methods)for(y in m){x=m[y];l=null;if(x)if(Ext.isString(x))k&&(l=e(x));else{if(x.message||x.fn)x=x.fn;d=h.hasOwnProperty(y)&&h[y];k&&x&&(x.$owner=this,x.$name=y,d&&(x.$previous=d),l=x)}l&&(h[y]=l)}d=z;z=null;h=this}}},extend:function(a){var b=a.prototype,c,d,e;c=this.prototype=Ext.Object.chain(b);c.self=this;this.superclass=c.superclass=b;if(!a.$isClass)for(d in m)d in c&&(c[d]=m[d]);if(e=b.$inheritableStatics)for(d=
0,b=e.length;d<b;d++)c=e[d],this.hasOwnProperty(c)||(this[c]=a[c]);a.$onExtended&&(this.$onExtended=a.$onExtended.slice());this.getConfigurator()},$onExtended:[],triggerExtended:function(){var a=this.$onExtended,b=a.length,c,d;if(0<b)for(c=0;c<b;c++)d=a[c],d.fn.apply(d.scope||this,arguments)},onExtended:function(a,b){this.$onExtended.push({fn:a,scope:b});return this},addStatics:function(a){this.addMembers(a,!0);return this},addInheritableStatics:function(a){var b,c,d=this.prototype,e;b=d.$inheritableStatics;
c=d.$hasInheritableStatics;b||(b=d.$inheritableStatics=[],c=d.$hasInheritableStatics={});for(e in a)a.hasOwnProperty(e)&&(d=a[e],this[e]=d,c[e]||(c[e]=!0,b.push(e)));return this},addMembers:function(a,b,c){c=Ext.Function.clone;var d=b?this:this.prototype,e=!b&&d.defaultConfig,f=Ext.enumerables,g=a.privates,h,k,l;g&&(delete a.privates,b||(l=g.statics,delete g.statics),this.addMembers(g,b,void 0),l&&this.addMembers(l,!0,void 0));for(k in a)if(a.hasOwnProperty(k)){b=a[k];if("function"===typeof b&&!b.$isClass&&
!b.$nullFn)b.$owner&&(b=c(b)),d.hasOwnProperty(k)&&(b.$previous=d[k]),b.$owner=this,b.$name=k;else if(e&&k in e&&!d.config.hasOwnProperty(k)){(h||(h={}))[k]=b;continue}d[k]=b}h&&this.addConfig(h);if(f)for(h=0,e=f.length;h<e;++h)a.hasOwnProperty(k=f[h])&&((b=a[k])&&!b.$nullFn&&(b.$owner&&(b=c(b)),b.$owner=this,b.$name=k,d.hasOwnProperty(k)&&(b.$previous=d[k])),d[k]=b);return this},addMember:function(a,b){h[a]=b;this.addMembers(h);delete h[a];return this},borrow:function(a,b){var c=a.prototype,d={},
e,f,g;b=Ext.Array.from(b);e=0;for(f=b.length;e<f;e++)g=b[e],d[g]=c[g];return this.addMembers(d)},override:function(a){var b=a.statics,c=a.inheritableStatics,d=a.config,e=a.mixins,f=a.cachedConfig;if(b||c||d)a=Ext.apply({},a);b&&(this.addMembers(b,!0),delete a.statics);c&&(this.addInheritableStatics(c),delete a.inheritableStatics);d&&(this.addConfig(d),delete a.config);f&&(this.addCachedConfig(f),delete a.cachedConfig);delete a.mixins;this.addMembers(a);e&&this.mixin(e);return this},callParent:function(a){var c;
return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,b){var c,d,e,f,g,h;if("string"!==typeof a)if(a instanceof Array)for(f=0,g=a.length;f<g;f++)c=a[f],this.mixin(c.prototype.mixinId||c.$className,c);else for(c in a)this.mixin(c,a[c]);else{c=b.prototype;d=this.prototype;c.onClassMixedIn&&
c.onClassMixedIn.call(b,this);d.hasOwnProperty("mixins")||(d.mixins="mixins"in d?Ext.Object.chain(d.mixins):{});for(e in c)f=c[e],"mixins"===e?Ext.applyIf(d.mixins,f):"mixinId"!==e&&"config"!==e&&void 0===d[e]&&(d[e]=f);if(e=c.$inheritableStatics)for(f=0,g=e.length;f<g;f++)h=e[f],this.hasOwnProperty(h)||(this[h]=b[h]);"config"in c&&this.addConfig(c.config,b);d.mixins[a]=c;c.afterClassMixedIn&&c.afterClassMixedIn.call(b,this);return this}},addConfig:function(a,b){(this.$config||this.getConfigurator()).add(a,
b)},addCachedConfig:function(a,b){var c={},d;for(d in a)c[d]={cached:!0,$value:a[d]};this.addConfig(c,b)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){k[a]=function(){return this[b].apply(this,arguments)};this.override(k);delete k[a]})});for(c in l)l.hasOwnProperty(c)&&d.push(c);l.$staticMembers=d;l.getConfigurator();l.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,
isConfiguring:!1,isFirstInstance:!1,destroyed:!1,statics:function(){var a=this.statics.caller,b=this.self;return a?a.$owner:b},callParent:function(a){var c;return((c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name])).apply(this,a||b)},callSuper:function(a){var c;return((c=this.callSuper.caller)&&(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]).apply(this,a||b)},self:l,constructor:function(){return this},getConfigurator:function(){return this.$config||
this.self.getConfigurator()},initConfig:function(a){var b=this.getConfigurator();this.initConfig=Ext.emptyFn;this.initialConfig=a||{};b.configure(this,a);return this},beforeInitConfig:Ext.emptyFn,getConfig:function(a,b){var c;a?(c=Ext.Config.map[a],c=c.names.get,c=b&&this.hasOwnProperty(c)?this.config[a]:this[c]()):c=this.getCurrentConfig();return c},setConfig:function(a,b,c){var d;a&&("string"===typeof a?(d={},d[a]=b):d=a,this.getConfigurator().reconfigure(this,d,c));return this},getCurrentConfig:function(){return this.getConfigurator().getCurrentConfig(this)},
hasConfig:function(a){return a in this.defaultConfig},getInitialConfig:function(a){var b=this.config;return a?b[a]:b},$links:null,link:function(a,b){(this.$links||(this.$links={}))[a]=!0;return this[a]=b},unlink:function(a){var b,c,d,e;b=0;for(c=a.length;b<c;b++)d=a[b],(e=this[d])&&(e.isInstance&&!e.destroyed?e.destroy():e.parentNode&&"nodeType"in e&&e.parentNode.removeChild(e)),this[d]=null;return this},destroy:function(){var a=this.$links;this.initialConfig=this.config=null;this.destroy=Ext.emptyFn;
this.isDestroyed=this.destroyed=!0;a&&(this.$links=null,this.unlink(Ext.Object.getKeys(a)))}});m.callOverridden=m.callParent;return l}(Ext.Function.flexSetter);
(function(a,b){(Ext.util||(Ext.util={})).Cache=a=function(a){a&&Ext.apply(this,a);this.head=a={key:null,value:null};this.map={};a.next=a.prev=a};a.prototype=b={maxSize:100,count:0,clear:function(){var a=this.head,b=a.next;a.next=a.prev=a;if(!this.evict.$nullFn)for(;b!==a;b=b.next)this.evict(b.key,b.value);this.count=0},each:function(a,b){b=b||this;for(var e=this.head,f=e.next;f!==e&&!a.call(b,f.key,f.value);f=f.next);},get:function(a){var b=this.head,e=this.map,f=e[a];if(f)f.prev!==b&&(this.unlinkEntry(f),
this.linkEntry(f));else for(e[a]=f={key:a,value:this.miss.apply(this,arguments)},this.linkEntry(f),++this.count;this.count>this.maxSize;)this.unlinkEntry(b.prev,!0),--this.count;return f.value},evict:Ext.emptyFn,linkEntry:function(a){var b=this.head,e=b.next;a.next=e;a.prev=b;b.next=a;e.prev=a},unlinkEntry:function(a,b){var e=a.next,f=a.prev;f.next=e;e.prev=f;b&&this.evict(a.key,a.value)}};b.destroy=b.clear})();
(function(){function a(a){return function(){return this.constructor.apply(this,arguments)||null}}var b,c=Ext.Base,d=c.$staticMembers,e=function(a,b){return a.length-b.length||(a<b?-1:a>b?1:0)};Ext.Class=b=function(a,c,d){"function"!=typeof a&&(d=c,c=a,a=null);c||(c={});a=b.create(a,c);b.process(a,c,d);return a};Ext.apply(b,{makeCtor:a,onBeforeCreated:function(a,b,c){a.addMembers(b);c.onCreated.call(a,a)},create:function(b,e){var h=d.length,k;for(b||(b=a());h--;)k=d[h],b[k]=c[k];return b},process:function(a,
c,d){var e=c.preprocessors||b.defaultPreprocessors,l=this.preprocessors,m={onBeforeCreated:this.onBeforeCreated},n=[],p,q,r,t,u,v,w;delete c.preprocessors;a._classHooks=m;r=0;for(t=e.length;r<t;r++)if(p=e[r],"string"==typeof p)if(p=l[p],q=p.properties,!0===q)n.push(p.fn);else{if(q)for(u=0,v=q.length;u<v;u++)if(w=q[u],c.hasOwnProperty(w)){n.push(p.fn);break}}else n.push(p);m.onCreated=d?d:Ext.emptyFn;m.preprocessors=n;this.doProcess(a,c,m)},doProcess:function(a,b,c){for(var d=c.preprocessors,e=d.shift(),
m=this.doProcess;e;e=d.shift())if(!1===e.call(this,a,b,c,m))return;c.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.preprocessors[a]={name:a,properties:c||!1,fn:b};this.setDefaultPreprocessorPosition(a,d,e);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},
setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(a,b,c){var d=this.defaultPreprocessors;if("string"==typeof b){if("first"===b)return d.unshift(a),this;if("last"===b)return d.push(a),this;b="after"===b?1:-1}c=Ext.Array.indexOf(d,c);-1!==c&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this}});b.registerPreprocessor("extend",function(a,b,c){var d=Ext.Base,e=d.prototype,m=b.extend,n;delete b.extend;d=m&&m!==Object?m:
d;m=d.prototype;if(!d.$isClass)for(n in e)m[n]||(m[n]=e[n]);a.extend(d);a.triggerExtended.apply(a,arguments);b.onClassExtended&&(a.onExtended(b.onClassExtended,a),delete b.onClassExtended)},!0);b.registerPreprocessor("privates",function(a,b){var c=b.privates,d=c.statics,e=c.privacy||!0;delete b.privates;delete c.statics;a.addMembers(c,!1,e);d&&a.addMembers(d,!0,e)});b.registerPreprocessor("statics",function(a,b){a.addStatics(b.statics);delete b.statics});b.registerPreprocessor("inheritableStatics",
function(a,b){a.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});Ext.createRuleFn=function(a){return new Function("$c","with($c) { return ("+a+"); }")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=e;Ext.getPlatformConfigKeys=function(a){var b=[],c;for(c in a)a=Ext.expressionCache.get(c),a(Ext.platformTags)&&b.push(c);b.sort(e);return b};b.registerPreprocessor("platformConfig",function(a,b,c){c=b.platformConfig;var d=b.config,e,m,n,p,q,
r,t,u,v;delete b.platformConfig;n=a.getConfigurator();e=n.configs;q=Ext.getPlatformConfigKeys(c);u=0;for(v=q.length;u<v;++u){m=c[q[u]];p=a=null;for(r in m)t=m[r],d&&r in d?((a||(a={}))[r]=t,(p||(p={}))[r]=d[r],delete d[r]):r in e?(a||(a={}))[r]=t:b[r]=t;p&&n.add(p);a&&n.add(a)}});b.registerPreprocessor("config",function(a,b){b.hasOwnProperty("$configPrefixed")&&(a.prototype.$configPrefixed=b.$configPrefixed);a.addConfig(b.config);delete b.config});b.registerPreprocessor("cachedConfig",function(a,
b){b.hasOwnProperty("$configPrefixed")&&(a.prototype.$configPrefixed=b.$configPrefixed);a.addCachedConfig(b.cachedConfig);delete b.cachedConfig});b.registerPreprocessor("mixins",function(a,b,c){var d=b.mixins,e=c.onCreated;delete b.mixins;c.onCreated=function(){c.onCreated=e;a.mixin(d);return c.onCreated.apply(this,arguments)}});Ext.extend=function(a,c,d){2===arguments.length&&Ext.isObject(c)&&(d=c,c=a,a=null);var e;if(!c)throw Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");
d.extend=c;d.preprocessors="extend statics inheritableStatics mixins platformConfig config".split(" ");a?(e=new b(a,d),e.prototype.constructor=a):e=new b(d);e.prototype.override=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return e}})();Ext.Inventory=function(){this.names=[];this.paths={};this.alternateToName={};this.aliasToName={};this.nameToAliases={};this.nameToAlternates={}};
Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(a,b,c){return this.addMapping(a,b,this.aliasToName,this.nameToAliases,c)},addAlternate:function(a,b){return this.addMapping(a,b,this.alternateToName,this.nameToAlternates)},addMapping:function(a,b,c,d,e){var f=a.$className||a;a=f;e=this._array1;var g,h,k,l;Ext.isString(f)&&(a={},a[f]=b);for(h in a)for(b=a[h],Ext.isString(b)&&(e[0]=b,b=e),k=b.length,l=d[h]||(d[h]=[]),f=0;f<k;++f)(g=b[f])&&c[g]!==h&&(c[g]=
h,l.push(g))},getAliasesByName:function(a){return this.nameToAliases[a]||null},getAlternatesByName:function(a){return this.nameToAlternates[a]||null},getNameByAlias:function(a){return this.aliasToName[a]||""},getNameByAlternate:function(a){return this.alternateToName[a]||""},getNamesByExpression:function(a,b,c){var d=this.aliasToName,e=this.alternateToName,f=this.nameToAliases,g=this.nameToAlternates;c=c?b:{};var h=[];a=Ext.isString(a)?[a]:a;var k=a.length,l=this.wildcardRe,m,n,p,q,r,t;for(n=0;n<
k;++n)if(0>(m=a[n]).indexOf("*"))(r=d[m])||(r=e[m])||(r=m),r in c||b&&r in b||(c[r]=1,h.push(r));else for(r in t=new RegExp("^"+m.replace(l,"(.*?)")+"$"),f)if(!(r in c||b&&r in b)){if(!(p=t.test(r))){for(q=(m=f[r]).length;!p&&0<q--;)p=t.test(m[q]);if((m=g[r])&&!p)for(q=m.length;!p&&0<q--;)p=t.test(m[q])}p&&(c[r]=1,h.push(r))}return h},getPath:function(a){var b=this.paths,c="",d;if(a in b)c=b[a];else{if(d=this.getPrefix(a))a=a.substring(d.length+1),(c=b[d])&&(c+="/");c+=a.replace(this.dotRe,"/")+".js"}return c},
getPrefix:function(a){if(a in this.paths)return a;for(var b=this.getPrefixes(),c=b.length,d,e;0<c--;)if(d=(e=b[c]).length,d<a.length&&"."===a.charAt(d)&&e===a.substring(0,d))return e;return""},getPrefixes:function(){var a=this.prefixes;a||(this.prefixes=a=this.names.slice(0),a.sort(this._compareNames));return a},removeName:function(a){var b=this.aliasToName,c=this.alternateToName,d=this.nameToAliases,e=this.nameToAlternates,f=d[a],g=e[a],h;delete d[a];delete e[a];if(f)for(d=f.length;d--;)a===(h=f[d])&&
delete b[h];if(g)for(d=g.length;d--;)a===(h=g[d])&&delete c[h]},resolveName:function(a){var b;a in this.nameToAliases||(b=this.aliasToName[a])||(b=this.alternateToName[a]);return b||a},select:function(a,b){var c=this,d={},e={excludes:d,exclude:function(){c.getNamesByExpression(arguments,d,!0);return this}},f;for(f in a)e[f]=c.selectMethod(d,a[f],b||a);return e},selectMethod:function(a,b,c){var d=this;return function(e){var f=Ext.Array.slice(arguments,1);f.unshift(d.getNamesByExpression(e,a));return b.apply(c,
f)}},setPath:Ext.Function.flexSetter(function(a,b){this.paths[a]=b;this.names.push(a);this.prefixes=null;return this}),_compareNames:function(a,b){var c=a.length-b.length;c||(c=a<b?-1:1);return c}};
Ext.ClassManager=function(a,b,c,d,e){var f=Ext.Class.makeCtor,g=[],h={Ext:{name:"Ext",value:Ext}},k=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(a){if(k.classes[a]||k.existCache[a])return!0;if(!k.lookupName(a,!1))return!1;k.triggerCreated(a);return!0},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(a,b){k.existCache[a]=b||1;k.classState[a]+=40;k.notify(a,k.createdListeners,
k.nameCreatedListeners)},onCreated:function(a,b,c){k.addListener(a,b,c,k.createdListeners,k.nameCreatedListeners)},notify:function(a,b,c){var d=k.getAlternatesByName(a),e=[a],f,g,h,l,m;f=0;for(g=b.length;f<g;f++)l=b[f],l.fn.call(l.scope,a);for(;e;){f=0;for(g=e.length;f<g;f++)if(m=e[f],b=c[m]){a=0;for(h=b.length;a<h;a++)l=b[a],l.fn.call(l.scope,m);delete c[m]}e=d;d=null}},addListener:function(a,b,c,d,e){if(Ext.isArray(c))for(a=Ext.Function.createBarrier(c.length,a,b),b=0;b<c.length;b++)this.addListener(a,
null,c[b],d,e);else{var f={fn:a,scope:b};c?this.isCreated(c)?a.call(b,c):(e[c]||(e[c]=[]),e[c].push(f)):d.push(f)}},$namespaceCache:h,addRootNamespaces:function(a){for(var b in a)h[b]={name:b,value:a[b]}},clearNamespaceCache:function(){g.length=0;for(var a in h)h[a].value||delete h[a]},getNamespaceEntry:function(a){if("string"!==typeof a)return a;var b=h[a];b||(b=a.lastIndexOf("."),b=0>b?{name:a}:{name:a.substring(b+1),parent:k.getNamespaceEntry(a.substring(0,b))},h[a]=b);return b},lookupName:function(a,
b){for(var c=k.getNamespaceEntry(a),d=Ext.global,e=0,f;c;c=c.parent)g[e++]=c;for(;d&&0<e--;)c=g[e],f=d,d=c.value||d[c.name],!d&&b&&(f[c.name]=d={});return d},setNamespace:function(a,b){var c=k.getNamespaceEntry(a),d=Ext.global;c.parent&&(d=k.lookupName(c.parent,!0));return d[c.name]=b},setXType:function(a,b){var c=a.$className,d=(c?a:k.get(c=a)).prototype,e=d.xtypes,f=d.xtypesChain,g=d.xtypesMap;d.hasOwnProperty("xtypes")||(d.xtypes=e=[],d.xtypesChain=f=f?f.slice(0):[],d.xtypesMap=g=Ext.apply({},
g));k.addAlias(c,"widget."+b,!0);e.push(b);f.push(b);g[b]=!0},set:function(a,b){var c=k.getName(b);k.classes[a]=k.setNamespace(a,b);c&&c!==a&&k.addAlternate(c,a);return k},get:function(a){return k.classes[a]||k.lookupName(a,!1)},addNameAliasMappings:function(a){k.addAlias(a)},addNameAlternateMappings:function(a){k.addAlternate(a)},getByAlias:function(a){return k.get(k.getNameByAlias(a))},getByConfig:function(a,b){var c=a.xclass;c||((c=a.xtype)?b="widget.":c=a.type,c=k.getNameByAlias(b+c));return k.get(c)},
getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){var e=f(b);"function"===typeof c&&(c=c(e));c.$className=b;return new a(e,c,function(){var a=c.postprocessors||k.defaultPostprocessors,e=k.postprocessors,f=[],g,h,l,m,n,p,q;delete c.postprocessors;h=0;for(l=a.length;h<l;h++)if(g=a[h],"string"===typeof g)if(g=e[g],p=g.properties,!0===p)f.push(g.fn);else{if(p)for(m=0,n=p.length;m<n;m++)if(q=p[m],c.hasOwnProperty(q)){f.push(g.fn);break}}else f.push(g);
c.postprocessors=f;c.createdFn=d;k.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=c.postprocessors.shift(),e=c.createdFn;d?!1!==d.call(this,a,b,c,this.processCreate)&&this.processCreate(a,b,c):(a&&this.set(a,b),delete b._classHooks,e&&e.call(b,b),a&&this.triggerCreated(a))},createOverride:function(a,b,c){var d=this,e=b.override,f=b.requires,g=b.uses,h=b.mixins,l,m=1,n,p=function(){var k,m,q,r,t;if(!n){m=f?f.slice(0):[];if(h)if(l=h instanceof Array)for(q=0,t=h.length;q<t;++q)Ext.isString(k=
h[q])&&m.push(k);else for(r in h)Ext.isString(k=h[r])&&m.push(k);n=!0;if(m.length){Ext.require(m,p);return}}if(l)for(q=0,t=h.length;q<t;++q)Ext.isString(k=h[q])&&(h[q]=Ext.ClassManager.get(k));else if(h)for(r in h)Ext.isString(k=h[r])&&(h[r]=Ext.ClassManager.get(k));k=d.get(e);delete b.override;delete b.compatibility;delete b.requires;delete b.uses;Ext.override(k,b);Ext.Loader.history.push(a);g&&Ext.Loader.addUsedClasses(g);c&&c.call(k,k)};k.overrideMap[a]=!0;"compatibility"in b&&Ext.isString(m=b.compatibility)&&
(m=Ext.checkVersion(m));if(m)d.onCreated(p,d,e);d.triggerCreated(a,2);return d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),a=this.getNameByAlias(a);b[0]=a;return Ext.create.apply(Ext,b)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(a,b){b=d(b,!0);b.unshift(a);return Ext.create.apply(Ext,b)},getInstantiator:function(a){var b=this.instantiators,c,d;c=b[a];if(!c){d=[];for(c=0;c<a;c++)d.push("a["+c+"]");c=b[a]=new Function("c","a","return new c("+
d.join(",")+")")}return c},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.postprocessors[a]={name:a,properties:c||!1,fn:b};this.setDefaultPostprocessorPosition(a,d,e);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=d(a);return this},setDefaultPostprocessorPosition:function(a,b,c){var d=this.defaultPostprocessors;if("string"===typeof b){if("first"===b)return d.unshift(a),this;if("last"===b)return d.push(a),
this;b="after"===b?1:-1}c=Ext.Array.indexOf(d,c);-1!==c&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this}});k.registerPostprocessor("alias",function(a,c,d){a=Ext.Array.from(d.alias);var e;d=0;for(e=a.length;d<e;d++)b=a[d],this.addAlias(c,b)},["xtype","alias"]);k.registerPostprocessor("singleton",function(a,b,c,d){if(c.singleton)d.call(this,a,new b,c);else return!0;return!1});k.registerPostprocessor("alternateClassName",function(a,b,c){a=c.alternateClassName;var d,e;a instanceof Array||(a=[a]);
c=0;for(d=a.length;c<d;c++)e=a[c],this.set(e,b)});k.registerPostprocessor("debugHooks",function(a,b,c){delete (b.isInstance?b.self:b).prototype.debugHooks});k.registerPostprocessor("deprecated",function(a,b,c){a=b.isInstance?b.self:b;a.addDeprecations(c.deprecated);delete a.prototype.deprecated});Ext.apply(Ext,{create:function(){var a=arguments[0],b=typeof a,d=c.call(arguments,1);"function"===b?b=a:("string"!==b&&0===d.length&&(d=[a],(a=a.xclass)||(a=d[0].xtype)&&(a="widget."+a)),a=k.resolveName(a),
b=k.get(a));b||(Ext.syncRequire(a),b=k.get(a));return k.getInstantiator(d.length)(b,d)},widget:function(a,b){var c=a,d,e,f;"string"!==typeof c?(b=a,c=b.xtype,e=b.xclass):b=b||{};if(b.isComponent)return b;e||(d="widget."+c,e=k.getNameByAlias(d));e&&(f=k.get(e));return f?new f(b):Ext.create(e||d,b)},createByAlias:b(k,"instantiateByAlias"),define:function(a,b,c){if(b.override)return k.classState[a]=20,k.createOverride.apply(k,arguments);k.classState[a]=10;return k.create.apply(k,arguments)},undefine:function(a){delete k.classes[a];
delete k.existCache[a];delete k.classState[a];k.removeName(a);a=k.getNamespaceEntry(a);var b=a.parent?k.lookupName(a.parent,!1):Ext.global;if(b)try{delete b[a.name]}catch(c){b[a.name]=void 0}},getClassName:b(k,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},getClass:b(k,"getClass"),namespace:function(){var a=e,b;for(b=arguments.length;0<b--;)a=
k.lookupName(arguments[b],!0);return a}});Ext.addRootNamespaces=k.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;a.registerPreprocessor("className",function(a,b){"$className"in b&&(a.$className=b.$className)},!0,"first");a.registerPreprocessor("alias",function(a,b){var c=a.prototype,e=d(b.xtype),f=d(b.alias),g=Array.prototype.slice.call(c.xtypesChain||[]),h=Ext.merge({},c.xtypesMap||{}),k,l,m,n;k=0;for(l=f.length;k<l;k++)m=f[k],"widget."===m.substring(0,7)&&(n=m.substring(7),Ext.Array.include(e,
n));a.xtype=b.xtype=e[0];b.xtypes=e;k=0;for(l=e.length;k<l;k++)n=e[k],h[n]||(h[n]=!0,g.push(n));b.xtypesChain=g;b.xtypesMap=h;Ext.Function.interceptAfter(b,"onClassCreated",function(){var a=c.mixins,b,d;for(b in a)if(a.hasOwnProperty(b)&&(d=a[b],e=d.xtypes))for(k=0,l=e.length;k<l;k++)n=e[k],h[n]||(h[n]=!0,g.push(n))});k=0;for(l=e.length;k<l;k++)n=e[k],Ext.Array.include(f,"widget."+n);b.alias=f},["xtype","alias"]);if(Ext.manifest){var l=Ext.manifest,m=l.classes,n=l.paths,p={},q={},r,t;if(n){if(l.bootRelative)for(t in l=
Ext.Boot.baseUrl,n)n.hasOwnProperty(t)&&(n[t]=l+n[t]);k.setPath(n)}if(m)for(r in m)q[r]=[],p[r]=[],n=m[r],n.alias&&(p[r]=n.alias),n.alternates&&(q[r]=n.alternates);k.addAlias(p);k.addAlternate(q)}return k}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);
Ext.env.Ready={blocks:0<(location.search||"").indexOf("ext-pauseReadyFire")?1:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var a=Ext.env.Ready,b=document;if(!a.bound)if("complete"===b.readyState)a.onReadyEvent({type:b.readyState||"body"});else a.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(a.bound=2,b.addEventListener("deviceready",a.onReadyEvent,!1)),b.addEventListener("DOMContentLoaded",a.onReadyEvent,!1),window.addEventListener("load",
a.onReadyEvent,!1)},block:function(){++this.blocks;Ext.isReady=!1},fireReady:function(){var a=Ext.env.Ready;a.state||(Ext._readyTime=Ext.ticks(),Ext.isDomReady=!0,a.state=1,Ext.feature.detect(!0),a.delay?navigator.standalone?a.timer=Ext.defer(function(){a.timer=null;a.handleReadySoon()},1):a.handleReadySoon():a.handleReady())},handleReady:function(){1===this.state&&(this.state=2,Ext._beforeReadyTime=Ext.ticks(),this.invokeAll(),Ext._afterReadyTime=Ext.ticks())},handleReadySoon:function(a){var b=this;
b.timer||(b.timer=Ext.defer(function(){b.timer=null;b.handleReady()},a||b.delay))},invoke:function(a){var b=a.delay;b?Ext.defer(a.fn,b,a.scope):Ext.elevateFunction?Ext.elevateFunction(a.fn,a.scope):a.fn.call(a.scope)},invokeAll:function(){Ext.elevateFunction?Ext.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var a=this.listeners,b;this.blocks||(Ext.isReady=!0);for(this.firing=!0;a.length;){this.sortGeneration!==this.generation&&(this.sortGeneration=this.generation,
a.sort(this.sortFn));b=a.pop();if(this.blocks&&!b.dom){a.push(b);break}this.invoke(b)}this.firing=!1},makeListener:function(a,b,c){a={fn:a,id:++this.nextId,scope:b,dom:!1,priority:0};c&&Ext.apply(a,c);a.phase=a.dom?0:1;return a},on:function(a,b,c){var d=Ext.env.Ready;a=d.makeListener(a,b,c);2!==d.state||d.firing||!a.dom&&d.blocks?(d.listeners.push(a),++d.generation,d.bound||d.bind()):d.invoke(a)},onReadyEvent:function(a){var b=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(b.doReadyEvent,b,
arguments):b.doReadyEvent(a)},doReadyEvent:function(a){0<this.bound&&(this.unbind(),this.bound=-1);this.state||this.fireReady()},sortFn:function(a,b){return-(a.phase-b.phase||b.priority-a.priority||a.id-b.id)},unblock:function(){this.blocks&&(--this.blocks||2!==this.state||this.firing||this.invokeAll())},unbind:function(){var a=document;1<this.bound&&a.removeEventListener("deviceready",this.onReadyEvent,!1);a.removeEventListener("DOMContentLoaded",this.onReadyEvent,!1);window.removeEventListener("load",
this.onReadyEvent,!1)}};
(function(){var a=Ext.env.Ready;Ext.isIE9m&&Ext.apply(a,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var b=!0;try{document.documentElement.doScroll("left")}catch(c){b=!1}if(b&&document.body)a.onReadyEvent({type:"doScroll"});else a.scrollTimer=Ext.defer(a.pollScroll,20);return b},bind:function(){if(!a.bound){var b=document,c;try{c=void 0===window.frameElement}catch(d){}if(!c||!b.documentElement.doScroll)a.pollScroll=Ext.emptyFn;else if(a.pollScroll())return;if("complete"===b.readyState)a.onReadyEvent({type:"already "+
(b.readyState||"body")});else b.attachEvent("onreadystatechange",a.onReadyStateChange),window.attachEvent("onload",a.onReadyEvent),a.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",a.onReadyStateChange);window.detachEvent("onload",a.onReadyEvent);Ext.isNumber(a.scrollTimer)&&(clearTimeout(a.scrollTimer),a.scrollTimer=null)},onReadyStateChange:function(){var b=document.readyState;if(a.readyStatesRe.test(b))a.onReadyEvent({type:b})}});Ext.onDocumentReady=function(b,c,d){var e=
{dom:!0};d&&Ext.apply(e,d);a.on(b,c,e)};Ext.onReady=function(b,c,d){a.on(b,c,d)};Ext.onInternalReady=function(b,c,d){a.on(b,c,Ext.apply({priority:1E3},d))};a.bind()})();
Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Boot,d=Ext.Class,e=Ext.env.Ready,f=Ext.Function.alias,g=["extend","mixins","requires"],h={},k=[],l=[],m=[],n={},p={},q={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:b.paths,preserveScripts:!0,scriptCharset:void 0},r={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(a,{isInHistory:h,isLoading:!1,history:k,config:q,readyListeners:l,optionalRequires:m,requiresMap:n,
hasFileLoadError:!1,scriptsLoading:0,syncModeEnabled:!1,missingQueue:p,init:function(){var c=document.getElementsByTagName("script"),c=c[c.length-1].src,d=c.substring(0,c.lastIndexOf("/")+1),f=Ext._classPathMetadata,c=Ext.Microloader,g=Ext.manifest,h,k;b.getPath("Ext")||b.setPath("Ext",d+"src");f&&(Ext._classPathMetadata=null,a.addClassPathMappings(f));if(g&&(d=g.loadOrder,f=Ext.Boot.baseUrl,d&&g.bootRelative))for(g=d.length,h=0;h<g;h++)k=d[h],k.path=f+k.path;c&&(e.block(),c.onMicroloaderReady(function(){e.unblock()}))},
setConfig:Ext.Function.flexSetter(function(b,d){if("paths"===b)a.setPath(d);else{q[b]=d;var e=r[b];e&&c.setConfig(!0===e?b:e,d)}return a}),getConfig:function(a){return a?q[a]:q},setPath:function(){b.setPath.apply(b,arguments);return a},addClassPathMappings:function(c){b.setPath(c);return a},addBaseUrlClassPathMappings:function(a){for(var b in a)a[b]=c.baseUrl+a[b];Ext.Loader.addClassPathMappings(a)},getPath:function(a){return b.getPath(a)},require:function(c,d,e,f){if(f)return a.exclude(f).require(c,
d,e);c=b.getNamesByExpression(c);return a.load(c,d,e)},syncRequire:function(){var b=a.syncModeEnabled;a.syncModeEnabled=!0;var c=a.require.apply(a,arguments);a.syncModeEnabled=b;return c},exclude:function(c){var d=b.select({require:function(b,c,d){return a.load(b,c,d)},syncRequire:function(b,c,d){var e=a.syncModeEnabled;a.syncModeEnabled=!0;b=a.load(b,c,d);a.syncModeEnabled=e;return b}});d.exclude(c);return d},load:function(c,d,e){d&&(d.length&&(d=a.makeLoadCallback(c,d)),d=d.bind(e||Ext.global));
var f=[],g=c.length,h,k,l=[],m=b.classState;for(k=0;k<g;++k)h=b.resolveName(c[k]),b.isCreated(h)||(f.push(h),p[h]=a.getPath(h),m[h]||l.push(p[h]));(h=f.length)?(a.missingCount+=h,b.onCreated(function(){d&&Ext.callback(d,e,arguments);a.checkReady()},a,f),q.enabled||Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(1<f.length?"es":"")+": "+f.join(", ")),l.length?a.loadScripts({url:l,_classNames:f}):a.checkReady()):(d&&d.call(e),a.checkReady());
return a.syncModeEnabled&&1===g?b.get(c[0]):a},makeLoadCallback:function(a,c){return function(){for(var d=[],e=a.length;0<e--;)d[e]=b.get(a[e]);return c.apply(this,d)}},onLoadFailure:function(){var b=this.onError;a.hasFileLoadError=!0;--a.scriptsLoading;b&&b.call(this.userScope,this);a.checkReady()},onLoadSuccess:function(){var b=this.onLoad;--a.scriptsLoading;b&&b.call(this.userScope,this);a.checkReady()},onReady:function(b,c,d,f){if(d)e.on(b,c,f);else b=e.makeListener(b,c,f),a.isLoading?l.push(b):
e.invoke(b)},addUsedClasses:function(b){var c,d,e;if(b)for(b="string"===typeof b?[b]:b,d=0,e=b.length;d<e;d++)c=b[d],"string"!==typeof c||Ext.Array.contains(m,c)||m.push(c);return a},triggerReady:function(){var b;b=m;if(a.isLoading&&b.length)m=[],a.require(b);else{a.isLoading=!1;for(l.sort(e.sortFn);l.length&&!a.isLoading;)b=l.pop(),e.invoke(b);e.unblock()}},historyPush:function(c){!c||h[c]||b.overrideMap[c]||(h[c]=!0,k.push(c));return a},loadScripts:function(b){var d=Ext.manifest,e=d&&d.loadOrder,
f=d&&d.loadOrderMap;++a.scriptsLoading;e&&!f&&(d.loadOrderMap=f=c.createLoadOrderMap(e));a.checkReady();b=Ext.apply({loadOrder:e,loadOrderMap:f,charset:q.scriptCharset,success:a.onLoadSuccess,failure:a.onLoadFailure,sync:a.syncModeEnabled,_classNames:[]},b);b.userScope=b.scope;b.scope=b;c.load(b)},loadScriptsSync:function(b){var c=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:b});a.syncModeEnabled=c},loadScriptsSyncBasePrefix:function(b){var c=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:b,
prependBaseUrl:!0});a.syncModeEnabled=c},loadScript:function(b){var c=!(b instanceof Array)&&"string"!==typeof b;a.loadScripts({url:c?b.url:b,scope:c&&b.scope,onLoad:c&&b.onLoad,onError:c&&b.onError,_classNames:[]})},flushMissingQueue:function(){var a,c=0,d=0;for(a in p)c++,b.isCreated(a)?delete p[a]:2===b.existCache[a]?delete p[a]:++d;this.missingCount=d},checkReady:function(){var b=a.isLoading,c;a.flushMissingQueue();(c=a.missingCount+a.scriptsLoading)&&!b?(e.block(),a.isLoading=!!c):!c&&b&&a.triggerReady()}});
Ext.require=f(a,"require");Ext.syncRequire=f(a,"syncRequire");Ext.exclude=f(a,"exclude");d.registerPreprocessor("loader",function(c,d,e,f){var h=this,k=[],l=b.getName(c),m,p,q,r,D,G,E;m=0;for(q=g.length;m<q;m++)if(G=g[m],d.hasOwnProperty(G))if(E=d[G],"string"===typeof E)k.push(E);else if(E instanceof Array)for(p=0,r=E.length;p<r;p++)D=E[p],"string"===typeof D&&k.push(D);else if("function"!==typeof E)for(p in E)E.hasOwnProperty(p)&&(D=E[p],"string"===typeof D&&k.push(D));if(0!==k.length)return l&&
(n[l]=k),(l?a.exclude(l):a).require(k,function(){m=0;for(q=g.length;m<q;m++)if(G=g[m],d.hasOwnProperty(G))if(E=d[G],"string"===typeof E)d[G]=b.get(E);else if(E instanceof Array)for(p=0,r=E.length;p<r;p++)D=E[p],"string"===typeof D&&(d[G][p]=b.get(D));else if("function"!==typeof E)for(var a in E)E.hasOwnProperty(a)&&(D=E[a],"string"===typeof D&&(d[G][a]=b.get(D)));f.call(h,c,d,e)}),!1},!0,"after","className");b.registerPostprocessor("uses",function(b,c,d){var e=Ext.manifest;c=e&&e.loadOrder;var e=
e&&e.classes,f,g;if(c&&(b=e[b])&&!isNaN(f=b.idx)){f=c[f];b=f.uses;g={};e=b.length;for(f=0;f<e;f++)g[b[f]]=!0;b=Ext.Boot.getPathsFromIndexes(g,c,!0);0<b.length&&a.loadScripts({url:b,sequential:!0})}d.uses&&(b=d.uses,a.addUsedClasses(b))});b.onCreated(a.historyPush);a.init()};Ext._endTime=Ext.ticks();Ext._beforereadyhandler&&Ext._beforereadyhandler();
Ext.define("Ext.Mixin",function(a){return{statics:{addHook:function(a,c,d,e){var f=Ext.isFunction(a),g=function(){var c=arguments,d=f?a:e[a],g=this.callParent(c);d.apply(this,c);return g},h=c.hasOwnProperty(d)&&c[d];f&&(a.$previous=Ext.emptyFn);g.$name=d;g.$owner=c.self;h?(g.$previous=h.$previous,h.$previous=g):c[d]=g}},onClassExtended:function(b,c){var d=c.mixinConfig,e=c.xhooks,f=b.superclass,g=c.onClassMixedIn,h,k,l;e&&(delete c.xhooks,(d||(c.mixinConfig=d={})).on=e);if(d){if(f=f.mixinConfig)c.mixinConfig=
d=Ext.merge({},f,d);c.mixinId=d.id;h=d.before;k=d.after;e=d.on;l=d.extended}if(h||k||e||l)c.onClassMixedIn=function(b){var c=this.prototype,d=b.prototype,f;h&&Ext.Object.each(h,function(a,d){b.addMember(a,function(){if(!1!==c[d].apply(this,arguments))return this.callParent(arguments)})});k&&Ext.Object.each(k,function(a,d){b.addMember(a,function(){var a=this.callParent(arguments);c[d].apply(this,arguments);return a})});if(e)for(f in e)a.addHook(e[f],d,f,c);if(l)b.onExtended(function(){var a=Ext.Array.slice(arguments,
0);a.unshift(b);return l.apply(this,a)},this);g&&g.apply(this,arguments)}}}});Ext.util=Ext.util||{};Ext.util.DelayedTask=function(a,b,c,d,e){var f=this,g,h=function(){var d=Ext.GlobalEvents;clearInterval(f.id);f.id=null;a.apply(b,c||[]);!1!==e&&d.hasListeners.idle&&d.fireEvent("idle")};d="boolean"===typeof d?d:!0;f.id=null;f.delay=function(e,l,m,n){d&&f.cancel();"number"===typeof e&&(g=e);a=l||a;b=m||b;c=n||c;f.id||(f.id=Ext.interval(h,g))};f.cancel=function(){f.id&&(clearInterval(f.id),f.id=null)}};
Ext.define("Ext.util.Event",function(){var a=Array.prototype.slice,b=Ext.Array.insert,c=Ext.Array.toArray,d={};return{isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(a,c,d,h,k){var l=!1,m=this.observable,n=this.name,p,q,r,t;if(-1===this.findListener(a,c)){c=this.createListener(a,c,d,h,k);this.firing&&(this.listeners=this.listeners.slice(0));a=this.listeners;r=l=a.length;h=d&&d.priority;k=this._highestNegativePriorityIndex;
q=void 0!==k;if(h)if(p=0>h,!p||q)for(q=p?k:0;q<l;q++){if(t=a[q].o?a[q].o.priority||0:0,t<h){r=q;break}}else this._highestNegativePriorityIndex=r;else q&&(r=k);!p&&r<=k&&this._highestNegativePriorityIndex++;r===l?a[l]=c:b(a,r,[c]);m.isElement&&m._getPublisher(n).subscribe(m,n,!1!==d.delegated,d.capture);l=!0}return l},createListener:function(a,b,c,d,k){var l=Ext._namedScopes[b];d={fn:a,scope:b,ev:this,caller:d,manager:k,namedScope:l,defaultScope:l?b||this.observable:void 0,lateBound:"string"===typeof a};
k=!1;c&&(d.o=c,c.single&&(a=this.createSingle(a,d,c,b),k=!0),c.target&&(a=this.createTargeted(a,d,c,b,k),k=!0),c.delay&&(a=this.createDelayed(a,d,c,b,k),k=!0),c.buffer&&(a=this.createBuffered(a,d,c,b,k),k=!0),this.observable.isElement&&(b=c.type))&&(d.type=b);d.fireFn=a;d.wrapped=k;return d},findListener:function(a,b){for(var c=this.listeners,d=c.length,k;d--;)if((k=c[d])&&k.fn===a&&k.scope==b)return d;return-1},removeListener:function(a,b,c){var d=!1,k=this.observable,l=this.name,m,n,p,q;c=c||this.findListener(a,
b);if(-1!=c){m=this.listeners[c];n=m.o;d=this._highestNegativePriorityIndex;this.firing&&(this.listeners=this.listeners.slice(0));m.task&&(m.task.cancel(),delete m.task);if(p=m.tasks&&m.tasks.length){for(;p--;)m.tasks[p].cancel();delete m.tasks}this.listeners.splice(c,1);if(m=m.manager)if(m=m.managedListeners)for(q=m.length;q--;)p=m[q],p.item===this.observable&&p.ename===l&&p.fn===a&&p.scope===b&&m.splice(q,1);d&&(c<d?this._highestNegativePriorityIndex--:c===d&&c===this.listeners.length&&delete this._highestNegativePriorityIndex);
k.isElement&&k._getPublisher(l).unsubscribe(k,l,!1!==n.delegated,n.capture);d=!0}return d},clearListeners:function(){for(var a=this.listeners,b=a.length,c;b--;)c=a[b],this.removeListener(c.fn,c.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return 0<this.suspended},fireDelegated:function(a,b){this.firingObservable=a;return this.fire.apply(this,b)},fire:function(){var b=this.listeners,c=b.length,d=this.observable,h=d.isElement,
k=d.isComponent,l=this.firingObservable,m,n,p,q,r,t,u,v,w,y;if(!this.suspended&&0<c)for(this.firing=!0,q=arguments.length?a.call(arguments,0):[],t=q.length,h&&(y=q[0]),p=0;p<c;p++){r=b[p];m=r.o;if(h){u&&y.setCurrentTarget(u);if(v=r.type)w=y,y=q[0]=w.chain({type:v});Ext.EventObject=y}v=q;if(m){if(n=m.delegate)if(h)if(n=y.getTarget("#"+y.currentTarget.id+" "+n))q[1]=n,u=y.currentTarget,y.setCurrentTarget(n);else continue;else if(k&&!l.is("#"+d.id+" "+m.delegate))continue;h&&(m.preventDefault&&y.preventDefault(),
m.stopPropagation&&y.stopPropagation(),m.stopEvent&&y.stopEvent());q[t]=m;m.args&&(v=m.args.concat(q))}m=this.getFireInfo(r);r=m.fn;n=m.scope;m.fn=m.scope=null;if(!1===r.apply(n,v))return Ext.EventObject=null,this.firing=!1;w&&(y=q[0]=w,w=null);Ext.EventObject=null}this.firing=!1;return!0},getFireInfo:function(a,b){var c=this.observable,h=a.fireFn,k=a.scope,l=a.namedScope;if(!b&&a.wrapped)return d.fn=h,d;h=b?a.fn:h;if(a.lateBound){if(!k||l)k=(a.caller||c).resolveListenerScope(a.defaultScope);h=k[h]}else if(l&&
l.isController)k=(a.caller||c).resolveListenerScope(a.defaultScope);else if(!k||l)k=c;d.fn=h;d.scope=k;return d},createTargeted:function(a,b,c,d,k){return function(){if(c.target===arguments[0]){var l;k||(l=b.ev.getFireInfo(b,!0),a=l.fn,d=l.scope,l.fn=l.scope=null);return a.apply(d,arguments)}}},createBuffered:function(a,b,d,h,k){b.task=new Ext.util.DelayedTask;return function(){var l;k||(l=b.ev.getFireInfo(b,!0),a=l.fn,h=l.scope,l.fn=l.scope=null);b.task.delay(d.buffer,a,h,c(arguments))}},createDelayed:function(a,
b,d,h,k){return function(){var l=new Ext.util.DelayedTask,m;k||(m=b.ev.getFireInfo(b,!0),a=m.fn,h=m.scope,m.fn=m.scope=null);b.tasks||(b.tasks=[]);b.tasks.push(l);l.delay(d.delay||10,a,h,c(arguments))}},createSingle:function(a,b,c,d,k){return function(){var c=b.ev;c.removeListener(b.fn,d)&&c.observable&&c.observable.hasListeners[c.name]--;k||(c=c.getFireInfo(b,!0),a=c.fn,d=c.scope,c.fn=c.scope=null);return a.apply(d,arguments)}}}});
Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var a=this.id,b,c,d,e;a||0===a||(a=this.self.prototype,b=this.defaultIdSeparator,d=Ext.mixin.Identifiable.uniqueIds,a.hasOwnProperty("identifiablePrefix")||(e=(c=this.xtype)?this.defaultIdPrefix+c.replace(this.idCleanRegex,b)+b:(e=a.$className)?e.replace(this.idCleanRegex,
b).toLowerCase()+b:this.defaultIdPrefix+"anonymous"+b,a.identifiablePrefix=e),e=this.identifiablePrefix,d.hasOwnProperty(e)||(d[e]=0),a=this.id=this.id=e+ ++d[e]);this.getUniqueId=this.getOptimizedId;return a},setId:function(a){this.id=this.id=a},getId:function(){var a=this.id;a||(a=this.getUniqueId());this.getId=this.getOptimizedId;return a}});
Ext.define("Ext.mixin.Observable",function(a){var b=Ext.emptyFn,c=[],d=Array.prototype.slice,e=function(a){if(a instanceof e)return a;this.observable=a;arguments[1].isObservable&&(this.managedListeners=!0);this.args=d.call(arguments,1)};e.prototype.destroy=function(){this.destroy=Ext.emptyFn;var a=this.observable;a[this.managedListeners?"mun":"un"].apply(a,this.args)};return{extend:Ext.Mixin,mixinConfig:{id:"observable",after:{destroy:"clearListeners"}},mixins:[Ext.mixin.Identifiable],statics:{releaseCapture:function(a){a.fireEventArgs=
this.prototype.fireEventArgs},capture:function(a,b,c){this.captureArgs(a,function(a,d){return b.apply(c,[a].concat(d))},c)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(a,b){if(a&&(a.isObservable||(Ext.applyIf(a,new this),this.captureArgs(a.prototype,a.fireEventArgs,a)),Ext.isObject(b)))a.on(b);return a},prepareClass:function(b,c,d){var e=b.listeners=[];d=d||b.prototype;var l=d.listeners,m=c?c.listeners:b.superclass.self.listeners;
m&&e.push(m);l&&((m=l.scope)?(m=Ext._namedScopes[m])&&m.isController&&(l.scope="self.controller"):l.scope="self",e.push(l),d.listeners=null);b.HasListeners||(e=function(){},c=b.superclass.HasListeners||c&&c.HasListeners||a.HasListeners,b.prototype.HasListeners=b.HasListeners=e,e.prototype=b.hasListeners=new c)}},isObservable:!0,eventsSuspended:0,constructor:function(a){var b=this.self,c,d;if(!this.$observableInitialized){this.$observableInitialized=!0;this.hasListeners=new this.HasListeners;this.eventedBeforeEventNames=
{};this.events=this.events||{};(c=b.listeners)&&!this._addDeclaredListeners(c)&&(b.listeners=null);if(b=a&&a.listeners||this.listeners)if(b instanceof Array)for(d=0,c=b.length;d<c;++d)this.addListener(b[d]);else this.addListener(b);(c=a&&a.bubbleEvents||this.bubbleEvents)&&this.enableBubble(c);this.$applyConfigs?a&&Ext.apply(this,a):this.initConfig(a);b&&(this.listeners=null)}},onClassExtended:function(b,c){b.HasListeners||a.prepareClass(b,b.prototype.$observableMixedIn?void 0:c)},$eventOptions:{scope:1,
delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(a){a instanceof Array?Ext.each(a,this._addDeclaredListeners,this):(this._addedDeclaredListeners=!0,this.addListener(a));return this._addedDeclaredListeners},addManagedListener:function(a,c,d,k,l,m){this.managedListeners=this.managedListeners||[];var n,p;if("string"!==typeof c){p=4<arguments.length?l:c;l=c;for(c in l)l.hasOwnProperty(c)&&(n=
l[c],a.$eventOptions[c]||this.addManagedListener(a,c,n.fn||n,n.scope||l.scope||k,n.fn?n:p,!0));if(l&&l.destroyable)return new e(this,a,l)}else if(d!==b&&(a.doAddListener(c,d,k,l,null,this,this),!m&&l&&l.destroyable))return new e(this,a,c,d,k)},removeManagedListener:function(a,b,c,d){var e,m,n;if("string"!==typeof b)for(b in c=b,c)c.hasOwnProperty(b)&&(e=c[b],a.$eventOptions[b]||this.removeManagedListener(a,b,e.fn||e,e.scope||c.scope||d));else for(e=this.managedListeners?this.managedListeners.slice():
[],b=Ext.canonicalEventName(b),n=0,m=e.length;n<m;n++)this.removeManagedListenerItem(!1,e[n],a,b,c,d)},fireEvent:function(a){return this.fireEventArgs(a,d.call(arguments,1))},resolveListenerScope:function(a){var b=Ext._namedScopes[a];b&&(b.isSelf||b.isThis)&&(a=null);return a||this},fireEventArgs:function(a,b){a=Ext.canonicalEventName(a);var d=this.events,d=d&&d[a],e=!0;this.hasListeners[a]&&(e=this.doFireEvent(a,b||c,d?d.bubble:!1));return e},fireAction:function(a,b,c,d,e,m){"string"!==typeof c||
d||(c=this[c]);e=e?Ext.Object.chain(e):{};e.single=!0;e.priority="after"===m?-99.5:99.5;this.doAddListener(a,c,d,e);this.fireEventArgs(a,b)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var a=this.fn,b=this.scope,c=this.fnArgs,d,e;if(!--this._paused){if(a&&(d=Ext.Array.slice(c||this.args),!1===c&&d.shift(),this.fn=null,d.push(this),Ext.isFunction(a)?e=a.apply(b,d):b&&Ext.isString(a)&&Ext.isFunction(b[a])&&(e=b[a].apply(b,d)),!1===e))return!1;if(!this._paused)return this.owner.fireEventArgs(this.eventName,
this.args)}}},fireEventedAction:function(a,b,c,d,e){var m=this.eventedBeforeEventNames,m=m[a]||(m[a]="before"+a);a=Ext.apply({owner:this,eventName:a,fn:c,scope:d,fnArgs:e,args:b},this.$eventedController);b.push(a);c=this.fireEventArgs(m,b);b.pop();return!1===c?!1:a.resume()},doFireEvent:function(a,b,c){var d=this,e,m,n=!0;do if(d.eventsSuspended){(e=d.eventQueue)&&e.push([a,b]);break}else if((m=d.events&&d.events[a])&&!0!==m&&!1===(n=m.fire.apply(m,b)))break;while(c&&(d=d.getBubbleParent()));return n},
getBubbleParent:function(){var a=this.getBubbleTarget&&this.getBubbleTarget();return a&&a.isObservable?a:null},addListener:function(a,b,c,d,l,m){var n=Ext._namedScopes,p,q,r,t;if("string"!==typeof a){d=a;q=(p=(c=d.scope)&&n[c])&&p.isSelf;t=(this.isComponent||this.isWidget)&&d.element?this.$elementEventOptions:this.$eventOptions;for(a in d)b=d[a],t[a]||((r=b.scope)&&q&&(p=n[r])&&p.isController&&(r="self.controller"),this.doAddListener(a,b.fn||b,r||c,b.fn?b:d,l,m));if(d&&d.destroyable)return new e(this,
d)}else if(this.doAddListener(a,b,c,d,l,m),d&&d.destroyable)return new e(this,a,b,c,d);return this},removeListener:function(a,b,c,d){if("string"!==typeof a)for(a in c=a,c)c.hasOwnProperty(a)&&(b=c[a],this.$eventOptions[a]||this.doRemoveListener(a,b.fn||b,b.scope||c.scope));else this.doRemoveListener(a,b,c);return this},onBefore:function(a,b,c,d){return this.addListener(a,b,c,d,"before")},onAfter:function(a,b,c,d){return this.addListener(a,b,c,d,"after")},unBefore:function(a,b,c,d){return this.removeListener(a,
b,c,d,"before")},unAfter:function(a,b,c,d){return this.removeListener(a,b,c,d,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var a=this.events,b=this.hasListeners,c,d;if(a){for(d in a)a.hasOwnProperty(d)&&(c=a[d],c.isEvent&&
(delete b[d],c.clearListeners()));this.events=null}this.clearManagedListeners()},clearManagedListeners:function(){for(var a=this.managedListeners?this.managedListeners.slice():[],b=0,c=a.length;b<c;b++)this.removeManagedListenerItem(!0,a[b]);this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,m){if(a||!(b.item!==c||b.ename!==d||e&&b.fn!==e||m&&b.scope!==m))b.item.doRemoveListener(b.ename,b.fn,b.scope,b.options),a||Ext.Array.remove(this.managedListeners,b)},hasListener:function(a){a=
Ext.canonicalEventName(a);return!!this.hasListeners[a]},isSuspended:function(a){var b=0<this.eventsSuspended,c=this.events;return!b&&a&&c&&(a=c[a])&&a.isEvent?a.isSuspended():b},suspendEvents:function(a){++this.eventsSuspended;a&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var a=this.events,b=arguments.length,c,d,e;for(c=0;c<b;c++)e=arguments[c],e=Ext.canonicalEventName(e),(d=a[e])&&d.isEvent||(d=this._initEvent(e)),d.suspend()},resumeEvent:function(){var a=this.events||0,b=a&&
arguments.length,c,d;for(c=0;c<b;c++)(d=a[arguments[c]])&&d.resume&&d.resume()},resumeEvents:function(a){var b=this.eventQueue,c;if(this.eventsSuspended&&!--this.eventsSuspended&&(delete this.eventQueue,!a&&b))for(a=b.length,c=0;c<a;c++)this.fireEventArgs.apply(this,b[c])},relayEvents:function(a,b,c){var d=b.length,l=0,m,n={};if(Ext.isObject(b))for(l in b)c=b[l],n[l]=this.createRelayer(c);else for(;l<d;l++)m=b[l],n[m]=this.createRelayer(c?c+m:m);this.mon(a,n,null,null,void 0);return new e(this,a,
n)},createRelayer:function(a,b){var c=this;return function(){return c.fireEventArgs.call(c,a,b?d.apply(arguments,b):arguments)}},enableBubble:function(a){if(a){var b="string"==typeof a?arguments:a,c=this.events,d=c&&b.length,e,m,n;for(n=0;n<d;++n)e=b[n],e=Ext.canonicalEventName(e),(m=c[e])&&m.isEvent||(m=this._initEvent(e)),this.hasListeners._incr_(e),m.bubble=!0}},destroy:function(){this.clearListeners();this.callParent()},privates:{doAddListener:function(a,c,d,e,l,m,n){var p;if(l=l||e&&e.order)p=
e&&e.priority,p||(e=e?Ext.Object.chain(e):{},e.priority=this.$orderToPriority[l]);a=Ext.canonicalEventName(a);!n&&d&&d.isObservable&&d!==this&&(n=d);n&&(l=n.managedListeners=n.managedListeners||[],l.push({item:this,ename:a,fn:c,scope:d,options:e}));(l=(this.events||(this.events={}))[a])&&l.isEvent||(l=this._initEvent(a));c!==b&&l.addListener(c,d,e,m,n)&&this.hasListeners._incr_(a)},doRemoveListener:function(a,b,c){var d=this.events;a=Ext.canonicalEventName(a);(d=d&&d[a])&&d.isEvent&&d.removeListener(b,
c)&&this.hasListeners._decr_(a)},_initEvent:function(a){return this.events[a]=new Ext.util.Event(this,a)}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){function a(a){var b=(this.methodEvents=this.methodEvents||{})[a],c,d,e,f=this,p;b||(this.methodEvents[a]=b={},b.originalFn=this[a],b.methodName=a,b.before=[],b.after=[],p=function(a,b,g){void 0!==(d=a.apply(b||f,g))&&("object"==typeof d?(c=void 0!==d.returnValue?d.returnValue:d,e=!!d.cancel):!1===d?e=!0:c=d)},this[a]=function(){var a=
Array.prototype.slice.call(arguments,0),g,t,u;c=d=void 0;e=!1;t=0;for(u=b.before.length;t<u;t++)if(g=b.before[t],p(g.fn,g.scope,a),e)return c;void 0!==(d=b.originalFn.apply(f,a))&&(c=d);t=0;for(u=b.after.length;t<u&&(g=b.after[t],p(g.fn,g.scope,a),!e);t++);return c});return b}var b=this,c=b.prototype,d=function(){},e=function(a){if(!a.HasListeners){var c=a.prototype;c.$observableMixedIn=1;b.prepareClass(a,this);a.onExtended(function(a,c){b.prepareClass(a,null,c)});c.onClassMixedIn?Ext.override(a,
{onClassMixedIn:function(a){e.call(this,a);this.callParent(arguments)}}):c.onClassMixedIn=function(a){e.call(this,a)}}f.call(this,a)},f=c.onClassMixedIn;d.prototype={_decr_:function(a,b){null==b&&(b=1);(this[a]-=b)||delete this[a]},_incr_:function(a){this.hasOwnProperty(a)?++this[a]:this[a]=1}};c.HasListeners=b.HasListeners=d;b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});b.observeClass=b.observe;Ext.apply(c,{onClassMixedIn:e,
beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,b,c){a=this.getMethodEvent(a);var d,e;d=0;for(e=a.before.length;d<e;d++)if(a.before[d].fn==b&&a.before[d].scope==c){Ext.Array.erase(a.before,d,1);return}d=0;for(e=a.after.length;d<e;d++)if(a.after[d].fn==b&&a.after[d].scope==c){Ext.Array.erase(a.after,d,1);break}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":
"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})});
Ext.define("Ext.util.HashMap",{mixins:[Ext.mixin.Observable],generation:0,config:{keyFn:null},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.clear(!0);if(a=this.getKeyFn())this.getKey=a},getCount:function(){return this.length},getData:function(a,b){void 0===b&&(b=a,a=this.getKey(b));return[a,b]},getKey:function(a){return a.id},add:function(a,b){1===arguments.length&&(b=a,a=this.getKey(b));if(this.containsKey(a))return this.replace(a,b);this.map[a]=b;++this.length;this.generation++;
this.hasListeners.add&&this.fireEvent("add",this,a,b);return b},replace:function(a,b){var c=this.map,d;1===arguments.length&&(b=a,a=this.getKey(b));this.containsKey(a)||this.add(a,b);d=c[a];c[a]=b;this.generation++;this.hasListeners.replace&&this.fireEvent("replace",this,a,b,d);return b},remove:function(a){a=this.findKey(a);return void 0!==a?this.removeAtKey(a):!1},removeAtKey:function(a){var b;return this.containsKey(a)?(b=this.map[a],delete this.map[a],--this.length,this.generation++,this.hasListeners.remove&&
this.fireEvent("remove",this,a,b),!0):!1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:void 0},clear:function(a){if(a||this.generation)this.map={},this.length=0,this.generation=a?0:this.generation+1;!0!==a&&this.hasListeners.clear&&this.fireEvent("clear",this);return this},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&void 0!==b[a]},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},
getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length;b=b||this;for(d in c)if(c.hasOwnProperty(d)&&!1===a.call(b,d,c[d],e))break;return this},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);a.resumeEvents();return a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b},
destroy:function(){this.callParent();this.map=null}},function(a){a=a.prototype;a.removeByKey=a.removeAtKey});
Ext.define("Ext.promise.Consequence",function(a){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(a,c,d){this.onFulfilled=a;this.onRejected=c;this.onProgress=d;this.deferred=new Ext.promise.Deferred;this.promise=this.deferred.promise},trigger:function(a,c){var d=this.deferred;switch(a){case "fulfill":this.propagate(c,this.onFulfilled,d,d.resolve);break;case "reject":this.propagate(c,this.onRejected,d,d.reject)}},update:function(a){Ext.isFunction(this.onProgress)&&
(a=this.onProgress(a));this.deferred.update(a)},propagate:function(a,c,d,e){Ext.isFunction(c)?this.schedule(function(){try{d.resolve(c(a))}catch(e){d.reject(e)}}):e.call(this.deferred,a)},schedule:function(b){var c=a.queueSize++;a.queue[c]=b;c||Ext.asap(a.dispatch)},statics:{queue:Array(1E4),queueSize:0,dispatch:function(){var b=a.queue,c,d;for(d=0;d<a.queueSize;++d)c=b[d],b[d]=null,c();a.queueSize=0}}}});
Ext.define("Ext.promise.Deferred",{promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){this.promise=new Ext.promise.Promise(this);this.consequences=[];this.completed=!1;this.completionValue=this.completionAction=null},then:function(a,b,c){a=new Ext.promise.Consequence(a,b,c);this.completed?a.trigger(this.completionAction,this.completionValue):this.consequences.push(a);return a.promise},resolve:function(a){var b=this,c,d;if(!b.completed)try{if(a===
b.promise)throw new TypeError("A Promise cannot be resolved with itself.");if((Ext.isObject(a)||Ext.isFunction(a))&&Ext.isFunction(d=a.then)){c=!1;try{d.call(a,function(a){c||(c=!0,b.resolve(a))},function(a){c||(c=!0,b.reject(a))})}catch(e){c||b.reject(e)}}else b.complete("fulfill",a)}catch(e){b.reject(e)}},reject:function(a){this.completed||this.complete("reject",a)},update:function(a){var b=this.consequences,c,d,e;if(!this.completed)for(d=0,e=b.length;d<e;d++)c=b[d],c.update(a)},complete:function(a,
b){var c=this.consequences,d,e,f;this.completionAction=a;this.completionValue=b;this.completed=!0;e=0;for(f=c.length;e<f;e++)d=c[e],d.trigger(this.completionAction,this.completionValue);this.consequences=null}});
Ext.define("Ext.promise.Promise",function(a){var b;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){b=Ext.promise.Deferred},all:function(c){return a.when(c).then(function(c){var e=new b,f=c.length,g=Array(f),h,k,l,m,n;if(f)for(l=function(b,c){return a.when(b).then(function(a){g[c]=a;--f||e.resolve(g);return a},function(a){return e.reject(a)})},h=m=0,n=c.length;m<n;h=++m)k=c[h],h in c?l(k,h):f--;else e.resolve(g);return e.promise})},is:function(a){return(Ext.isObject(a)||
Ext.isFunction(a))&&Ext.isFunction(a.then)},rethrowError:function(a){Ext.asap(function(){throw a;})},when:function(a){var b=new Ext.promise.Deferred;b.resolve(a);return b.promise}},owner:null,constructor:function(a){this.owner=a},then:function(a,b,e,f){var g;1===arguments.length&&Ext.isObject(arguments[0])&&(g=arguments[0],a=g.success,b=g.failure,e=g.progress,f=g.scope);f&&(a&&(a=Ext.Function.bind(a,f)),b&&(b=Ext.Function.bind(b,f)),e&&(e=Ext.Function.bind(e,f)));return this.owner.then(a,b,e)},otherwise:function(a,
b){var e;1===arguments.length&&Ext.isObject(arguments[0])&&(e=arguments[0],a=e.fn,b=e.scope);null!=b&&(a=Ext.Function.bind(a,b));return this.owner.then(null,a)},always:function(b,d){var e;1===arguments.length&&Ext.isObject(arguments[0])&&(e=arguments[0],b=e.fn,d=e.scope);null!=d&&(b=Ext.Function.bind(b,d));return this.owner.then(function(d){try{b()}catch(e){a.rethrowError(e)}return d},function(d){try{b()}catch(e){a.rethrowError(e)}throw d;})},done:function(){this.owner.then(null,a.rethrowError)},
cancel:function(a){null==a&&(a=null);this.owner.reject(new this.self.CancellationError(a))},log:function(a){null==a&&(a="");return this._owner.then(function(b){Ext.log(""+(a||"Promise")+" resolved with value: "+b);return b},function(b){Ext.log(""+(a||"Promise")+" rejected with reason: "+b);throw b;})}}},function(a){a._ready()});
Ext.define("Ext.Promise",function(){var a;return{statics:{_ready:function(){a=Ext.promise.Promise},all:function(){return a.all.apply(a,arguments)},race:function(){},reject:function(a){var c=new Ext.promise.Deferred;c.reject(a);return c.promise},resolve:function(a){var c=new Ext.promise.Deferred;c.resolve(a);return c.promise}},constructor:function(a){var c=new Ext.promise.Deferred;a(c.resolve.bind(c),c.reject.bind(c));return c.promise}}},function(a){var b=Ext.global.Promise;b&&b.resolve?Ext.Promise=
b:a._ready()});
Ext.define("Ext.Deferred",function(a){var b;return{extend:Ext.promise.Deferred,statics:{_ready:function(){b=Ext.promise.Promise},all:function(){return b.all.apply(b,arguments)},any:function(b){return a.some(b,1).then(function(a){return a[0]},function(a){if(a instanceof Error&&"Too few Promises were resolved."===a.message)Ext.raise("No Promises were resolved.");else throw a;})},delay:function(b,d){var e;1===arguments.length&&(d=b,b=void 0);d=Math.max(d,0);e=new a;setTimeout(function(){e.resolve(b)},d);
return e.promise},map:function(b,d){return a.resolved(b).then(function(b){var c,g,h,k,l,m,n,p;k=b.length;m=Array(b.length);c=new a;if(k)for(l=function(b,e){return a.resolved(b).then(function(a){return d(a,e,m)}).then(function(a){m[e]=a;--k||c.resolve(m);return a},function(a){return c.reject(a)})},g=n=0,p=b.length;n<p;g=++n)h=b[g],g in b?l(h,g):k--;else c.resolve(m);return c.promise})},memoize:function(b,d,e){var f=Ext.Function.memoize(b,d,e);return function(){return a.all(Ext.Array.slice(arguments)).then(function(a){return f.apply(d,
a)})}},parallel:function(b,d){null==d&&(d=null);var e=Ext.Array.slice(arguments,2);return a.map(b,function(a){if(!Ext.isFunction(a))throw Error("Invalid parameter: expected a function.");return a.apply(d,e)})},pipeline:function(b,d,e){null==e&&(e=null);return a.reduce(b,function(a,b){if(!Ext.isFunction(b))throw Error("Invalid parameter: expected a function.");return b.call(e,a)},d)},reduce:function(b,d,e){var f=3===arguments.length;return a.resolved(b).then(function(b){var c=[b,function(c,e,f){return a.resolved(c).then(function(c){return a.resolved(e).then(function(a){return d(c,
a,f,b)})})}];f&&c.push(e);return Ext.Array.reduce.apply(Ext.Array,c)})},rejected:function(a){var b=new Ext.Deferred;b.reject(a);return b.promise},resolved:function(a){var b=new Ext.Deferred;b.resolve(a);return b.promise},sequence:function(b,d){null==d&&(d=null);var e=Ext.Array.slice(arguments,2);return a.reduce(b,function(b,c){if(!Ext.isFunction(c))throw Error("Invalid parameter: expected a function.");return a.resolved(c.apply(d,e)).then(function(a){b.push(a);return b})},[])},some:function(b,d){return a.resolved(b).then(function(b){var c,
g,h,k,l,m,n,p,q,r;p=[];n=d;m=b.length-n+1;c=new a;if(b.length<d)c.reject(Error("Too few Promises were resolved."));else for(k=function(a){0<n&&p.push(a);n--;0===n&&c.resolve(p);return a},h=function(a){m--;0===m&&c.reject(Error("Too few Promises were resolved."));return a},g=q=0,r=b.length;q<r;g=++q)l=b[g],g in b&&a.resolved(l).then(k,h);return c.promise})},timeout:function(b,d){var e=new a,f;f=setTimeout(function(){f&&e.reject(Error("Promise timed out."))},d);a.resolved(b).then(function(a){clearTimeout(f);
f=null;e.resolve(a)},function(a){clearTimeout(f);f=null;e.reject(a)});return e.promise}}}},function(a){a._ready()});Ext.Factory=function(a){this.aliasPrefix=a+".";this.cache={};this.name=a.replace(this.fixNameRe,this.fixNameFn);this.type=a};
Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(a,b){var c=Ext.ClassManager,d=this.cache,e,f,g,h;if(a){if(a[this.instanceProp])return a;"string"===typeof a&&(h=a,a={},a[this.defaultProperty]=h);f=a.xclass;h=a.type}if(f){if(!(g=c.get(f)))return c.instantiate(f,a)}else if((h=h||b||this.defaultType)||(g=this.defaultClass),!g&&!(g=d[h])){e=this.aliasPrefix+h;f=c.getNameByAlias(e);if(!(g=f&&c.get(f)))return c.instantiateByAlias(e,a);d[h]=g}return g.isInstance?g:
new g(a)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(a){return a.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(a,b){var c=Ext.Factory,d,e;a.constructor===Object?Ext.Object.each(a,c.define,c):(e=new Ext.Factory(a),b&&(b.constructor===Object?(Ext.apply(e,b),"string"===typeof(d=e.xclass)&&(e.defaultClass=Ext.ClassManager.get(d))):e.defaultType=b),c[e.name]=d=e.create.bind(e),d.instance=e);return d};
Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(a){var b=a.prototype,c=b.factoryConfig,d=b.alias,e={},f;(d=d&&d.length&&d[0])&&0<(f=d.lastIndexOf("."))&&(e.type=d.substring(0,f),e.defaultType=d.substring(f+1));c&&(delete b.factoryConfig,Ext.apply(e,c));b=Ext.Factory.define(e.type,e);a.create===Ext.Base.create&&(a.create=b)}});
Ext.define("Ext.data.request.Base",{mixins:[Ext.mixin.Factoryable],factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(a){Ext.apply(this,a.options||{},a.ownerConfig);this.id=++Ext.data.Connection.requestId;this.owner=a.owner;this.options=a.options;this.requestOptions=a.requestOptions},start:function(){var a=this.getTimeout();a&&this.async&&(this.timer=Ext.defer(this.onTimeout,a,this))},abort:function(){this.clearTimer();this.timedout||(this.aborted=
!0);this.abort=Ext.emptyFn},createDeferred:function(){return this.deferred=new Ext.Deferred},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var a=this.getPromise();return a.then.apply(a,arguments)},onComplete:function(){var a=this.deferred,b=this.result;this.clearTimer();a&&(this.success?a.resolve(b):a.reject(b))},onTimeout:function(){this.timedout=!0;this.timer=null;this.abort(!0)},getTimeout:function(){return this.timeout},
clearTimer:function(){var a=this.timer;a&&(clearTimeout(a),this.timer=null)},destroy:function(){this.abort();this.owner=this.options=this.requestOptions=this.result=null;this.callParent()},privates:{createException:function(){var a;a={request:this,requestId:this.id,status:this.aborted?-1:0,statusText:this.aborted?"transaction aborted":"communication failure",getResponseHeader:this._getHeader,getAllResponseHeaders:this._getHeaders};this.aborted&&(a.aborted=!0);this.timedout&&(a.timedout=!0);return a},
_getHeader:function(a){var b=this.headers;return b&&b[a.toLowerCase()]},_getHeaders:function(){return this.headers}}});
Ext.define("Ext.data.request.Ajax",{extend:Ext.data.request.Base,alias:"request.ajax",statics:{parseStatus:function(a){a=1223==a?204:a;var b=200<=a&&300>a||304==a,c=!1;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=!0}return{success:b,isException:c}}},start:function(a){var b=this.options,c=this.requestOptions,d=this.isXdr,e;e=this.xhr=this.openRequest(b,c,this.async,this.username,this.password);d||this.setupHeaders(e,b,c.data,c.params);this.async&&!d&&(e.onreadystatechange=
Ext.Function.bind(this.onStateChange,this));d&&this.processXdrRequest(this,e);this.callParent([a]);e.send(a);return this.async?this:this.onComplete()},abort:function(a){var b=this.xhr;if(a||this.isLoading()){try{b.onreadystatechange=null}catch(c){b.onreadystatechange=Ext.emptyFn}b.abort();this.callParent([a]);this.onComplete();this.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var a=this.xhr,b=a&&a.readyState,c=Ext.data.flash&&Ext.data.flash.BinaryXhr;return!a||
this.aborted||this.timedout?!1:c&&a instanceof c?4!==b:0!==b&&4!==b},openRequest:function(a,b,c,d,e){var f=this.newRequest(a);d?f.open(b.method,b.url,c,d,e):this.isXdr?f.open(b.method,b.url):f.open(b.method,b.url,c);if(a.binary||this.binary)window.Uint8Array?f.responseType="arraybuffer":f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined");if(a.withCredentials||this.withCredentials)f.withCredentials=!0;return f},newRequest:function(a){a.binaryData?a=window.Uint8Array?this.getXhrInstance():
new Ext.data.flash.BinaryXhr:this.cors&&Ext.isIE9m?(a=this.getXdrInstance(),this.isXdr=!0):(a=this.getXhrInstance(),this.isXdr=!1);return a},setupHeaders:function(a,b,c,d){var e=Ext.apply({},b.headers||{},this.defaultHeaders),f=this.defaultPostHeader,g=b.jsonData,h=b.xmlData,k=this.useDefaultXhrHeader,l,m;e.hasOwnProperty("Content-Type")||!c&&!d||(c&&(b.rawData?f="text/plain":h&&Ext.isDefined(h)?f="text/xml":g&&Ext.isDefined(g)&&(f="application/json")),e["Content-Type"]=f);k&&!e["X-Requested-With"]&&
(e["X-Requested-With"]=this.defaultXhrHeader);void 0!==e["Content-Type"]&&null!==e["Content-Type"]||delete e["Content-Type"];try{for(l in e)e.hasOwnProperty(l)&&(m=e[l],a.setRequestHeader(l,m))}catch(n){this.owner.fireEvent("exception",l,m)}return e},getXdrInstance:function(){var a;8<=Ext.ieVersion?a=new XDomainRequest:Ext.raise({msg:"Your browser does not support CORS"});return a},getXhrInstance:function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},
function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;b<c;++b)try{d=a[b];d();break}catch(e){}return d}(),processXdrRequest:function(a,b){delete a.headers;a.contentType=a.options.contentType||this.defaultXdrContentType;b.onload=Ext.Function.bind(this.onStateChange,this,[!0]);b.onerror=b.ontimeout=Ext.Function.bind(this.onStateChange,this,[!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};
a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.defaultXdrContentType},onStateChange:function(a){var b=this.xhr,c=Ext.GlobalEvents;if(b&&4==b.readyState||this.isXdr)this.clearTimer(),this.onComplete(a),this.cleanup(),c.hasListeners.idle&&c.fireEvent("idle")},onComplete:function(a){var b=this.owner,c=this.options,d=this.xhr,e={success:!1,isException:!1},f;if(!d||this.destroyed)return this.result=e;try{f=Ext.data.request.Ajax.parseStatus(d.status),f.success&&(f.success=4===
d.readyState)}catch(g){f=e}(e=this.success=this.isXdr?a:f.success)?(d=this.createResponse(d),b.fireEvent("requestcomplete",b,d,c),Ext.callback(c.success,c.scope,[d,c])):(d=f.isException||this.aborted||this.timedout?this.createException(d):this.createResponse(d),b.fireEvent("requestexception",b,d,c),Ext.callback(c.failure,c.scope,[d,c]));this.result=d;Ext.callback(c.callback,c.scope,[c,e,d]);b.onRequestComplete(this);this.callParent([a]);return d},createResponse:function(a){for(var b=this.isXdr,c=
{},d=b?[]:a.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),e=d.length,f,g,h;e--;)f=d[e],g=f.indexOf(":"),0<=g&&(h=f.substr(0,g).toLowerCase()," "==f.charAt(g+1)&&++g,c[h]=f.substr(g+1));d={request:this,requestId:this.id,status:a.status,statusText:a.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return c}};b&&this.processXdrResponse(d,a);this.binary?d.responseBytes=this.getByteArray(a):(d.responseText=a.responseText,d.responseXML=a.responseXML);
return d},destroy:function(){this.xhr=null;this.callParent()},privates:{getByteArray:function(a){var b=a.response,c=a.responseBody,d;if(a instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr))d=a.responseBytes;else if(window.Uint8Array)d=b?new Uint8Array(b):[];else if(Ext.isIE9p)try{d=(new VBArray(c)).toArray()}catch(e){d=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(a.responseBody,d=[]);else for(d=[],a=a.responseText,b=a.length,c=0;c<b;c++)d.push(a.charCodeAt(c)&
255);return d},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text="Function getIEByteArray(byteArray, out)\nDim len, i\nlen = LenB(byteArray)\nFor i = 1 to len\nout.push(AscB(MidB(byteArray, i, 1)))\nNext\nEnd Function";Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=!0}}});
Ext.define("Ext.data.request.Form",{extend:Ext.data.request.Base,alias:"request.form",start:function(a){var b=this.options,c=this.requestOptions;this.callParent([a]);this.form=this.upload(b.form,c.url,c.data,b);return this},abort:function(a){var b;if(this.isLoading())try{b=this.frame.dom,b.stop?b.stop():b.document.execCommand("Stop")}catch(c){}this.callParent([a]);this.onComplete();this.cleanup()},cleanup:function(){var a=this.frame;a&&(a.un("load",this.onComplete,this),Ext.removeNode(a));this.frame=
this.form=null},isLoading:function(){return!!this.frame},upload:function(a,b,c,d){a=Ext.getDom(a);var e=document.createElement("iframe");d=Ext.get(e);var f=d.id,g=[],h={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},k=function(b,c){l=document.createElement("input");Ext.fly(l).set({type:"hidden",value:c,name:b});a.appendChild(l);g.push(l)},l,m;d.set({name:f,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(e);
document.frames&&(document.frames[f].name=f);Ext.fly(a).set({target:f,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:b||h.action});if(c)for(m in b=Ext.Object.fromQueryString(c)||{},b)if(b.hasOwnProperty(m))if(c=b[m],Ext.isArray(c))for(e=c.length,f=0;f<e;f++)k(m,c[f]);else k(m,c);this.frame=d;d.on({load:this.onComplete,scope:this,single:!Ext.isOpera});a.submit();Ext.fly(a).set(h);m=g.length;for(d=0;d<m;d++)Ext.removeNode(g[d]);return a},getDoc:function(){var a=this.frame.dom;
return a&&(a.contentWindow.document||a.contentDocument)||(window.frames[a.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var a=this.frame,b=this.owner,c=this.options,d,e,f,g,h;if(a){if(this.aborted||this.timedout)this.result=h=this.createException(),h.responseXML=null,h.responseText='{success:false,message:"'+Ext.String.trim(h.statusText)+'"}',d=c.failure,f=!1;else try{if(e=this.getDoc(),this.result=h={responseText:"",responseXML:null},e){if(Ext.isOpera&&
e.location==Ext.SSL_SECURE_URL)return;e.body&&((g=e.body.firstChild)&&/pre/i.test(g.tagName)?h.responseText=g.textContent||g.innerText:(g=e.getElementsByTagName("textarea")[0])?h.responseText=g.value:h.responseText=e.body.textContent||e.body.innerText);h.responseXML=e.XMLDocument||e;d=c.success;f=!0;h.status=200}else Ext.raise("Could not acquire a suitable connection for the file upload service.")}catch(k){this.result=h=this.createException(),h.status=400,h.statusText=(k.message||k.description)+"",
h.responseText='{success:false,message:"'+Ext.String.trim(h.statusText)+'"}',h.responseXML=null,d=c.failure,f=!1}this.frame=null;this.success=f;b.fireEvent(f?"requestcomplete":"requestexception",b,h,c);Ext.callback(d,c.scope,[h,c]);Ext.callback(c.callback,c.scope,[c,f,h]);b.onRequestComplete(this);Ext.asap(a.destroy,a);this.callParent()}},destroy:function(){this.cleanup();this.callParent()}});
Ext.define("Ext.data.Connection",{mixins:{observable:Ext.mixin.Observable},statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3E4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},
constructor:function(a){this.mixins.observable.constructor.call(this,a);this.requests={}},request:function(a){a=a||{};var b;if(!1!==this.fireEvent("beforerequest",this,a))return b=this.setOptions(a,a.scope||Ext.global),a=this.createRequest(a,b),a.start(b.data);Ext.callback(a.callback,a.scope,[a,void 0,void 0]);return Ext.Deferred.rejected([a,void 0,void 0])},createRequest:function(a,b){var c=a.type||b.type;c||(c=this.isFormUpload(a)?"form":"ajax");(a.autoAbort||this.getAutoAbort())&&this.abort();
c=Ext.Factory.request({type:c,owner:this,options:a,requestOptions:b,ownerConfig:this.getConfig()});this.requests[c.id]=c;this.latestId=c.id;return c},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||this.enctypeRe.test(b.getAttribute("enctype")):!1},getForm:function(a){return Ext.getDom(a.form)},setOptions:function(a,b){var c=a.params||{},d=this.getExtraParams(),e=a.urlParams,f=a.url||this.getUrl(),g=a.cors,h=a.jsonData;void 0!==g&&this.setCors(g);Ext.isFunction(c)&&(c=c.call(b,
a));Ext.isFunction(f)&&(f=f.call(b,a));f=this.setupUrl(a,f);g=a.rawData||a.binaryData||a.xmlData||h||null;h&&!Ext.isPrimitive(h)&&(g=Ext.encode(g));a.binaryData&&this.nativeBinaryPostSupport()&&(g=new Uint8Array(a.binaryData),Ext.isChrome&&22>Ext.chromeVersion||Ext.isSafari||Ext.isGecko)&&(g=g.buffer);Ext.isObject(c)&&(c=Ext.Object.toQueryString(c));Ext.isObject(d)&&(d=Ext.Object.toQueryString(d));c+=d?(c?"&":"")+d:"";e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;c=this.setupParams(a,c);d=(a.method||
this.getMethod()||(c||g?"POST":"GET")).toUpperCase();this.setupMethod(a,d);h=!1!==a.disableCaching?a.disableCaching||this.getDisableCaching():!1;"GET"===d&&h&&(f=Ext.urlAppend(f,(a.disableCachingParam||this.getDisableCachingParam())+"="+(new Date).getTime()));("GET"==d||g)&&c&&(f=Ext.urlAppend(f,c),c=null);e&&(f=Ext.urlAppend(f,e));return{url:f,method:d,data:g||c||null}},setupUrl:function(a,b){var c=this.getForm(a);c&&(b=b||c.action);return b},setupParams:function(a,b){var c=this.getForm(a);c&&!this.isFormUpload(a)&&
(c=Ext.Element.serializeForm(c),b=b?b+"&"+c:c);return b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},isLoading:function(a){a||(a=this.getLatest());return a?a.isLoading():!1},abort:function(a){a||(a=this.getLatest());a&&a.isLoading()&&a.abort()},abortAll:function(){var a=this.requests,b;for(b in a)this.abort(a[b])},getLatest:function(){var a=this.latestId,b;a&&(b=this.requests[a]);return b||null},clearTimeout:function(a){a||(a=this.getLatest());a&&a.clearTimer()},onRequestComplete:function(a){delete this.requests[a.id]},
nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1});
Ext.define("Ext.AnimationQueue",{singleton:!0,constructor:function(){this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=!1;this.isIdle=!0;this.run=Ext.Function.bind(this.run,this);Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},start:function(a,b,c){this.queue.push(arguments);this.isRunning||(this.hasOwnProperty("idleTimer")&&(clearTimeout(this.idleTimer),delete this.idleTimer),this.hasOwnProperty("idleQueueTimer")&&(clearTimeout(this.idleQueueTimer),delete this.idleQueueTimer),
this.isIdle=!1,this.isRunning=!0,this.doStart())},watch:function(){this.isRunning&&500<=Ext.now()-this.lastRunTime&&this.run()},run:function(){if(this.isRunning){var a=this.runningQueue,b=Ext.now(),c;this.frameStartTime=this.lastRunTime=b;a.push.apply(a,this.queue);b=0;for(c=a.length;b<c;b++)this.invoke(a[b]);a.length=0;this.doIterate()}},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},
doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(a,b,c){if(this.isRunning){var d=this.queue,e=d.length,f,g;for(f=0;f<e;f++)g=d[f],g[0]===a&&g[1]===b&&g[2]===c&&(d.splice(f,1),f--,e--);0===e&&(this.doStop(),this.isRunning=!1,this.idleTimer=Ext.defer(this.whenIdle,100,this))}},onIdle:function(a,b,c){var d=this.idleQueue,e,f,g;e=0;for(f=d.length;e<f;e++)if(g=d[e],a===g[0]&&b===g[1]&&c===g[2])return;d.push(arguments);this.isIdle&&this.processIdleQueue()},unIdle:function(a,
b,c){var d=this.idleQueue,e,f,g;e=0;for(f=d.length;e<f;e++)if(g=d[e],a===g[0]&&b===g[1]&&c===g[2])return d.splice(e,1),!0;return!1},queueTask:function(a,b,c){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(a,b,c){var d=this.taskQueue,e,f,g;e=0;for(f=d.length;e<f;e++)g=d[e],a===g[0]&&b===g[1]&&c===g[2]&&(d.splice(e,1),e--,f--)},invoke:function(a){var b=a[0],c=a[1];a=a[2];b="string"==typeof b?c[b]:b;Ext.isArray(a)?b.apply(c,a):b.call(c,a)},whenIdle:function(){this.isIdle=
!0;this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){delete this.idleQueueTimer;if(this.isIdle){var a=this.idleQueue;0<a.length&&(a=a.shift(),this.invoke(a),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){delete this.taskQueueTimer;
var a=this.taskQueue;0<a.length&&(a=a.shift(),this.invoke(a),this.processTaskQueue())}});
Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(a){Ext.apply(this,a||{});this.all={};this.references={};this.onAvailableCallbacks={}},create:function(a,b){return"string"===typeof a?Ext.widget(a):a.isComponent?a:"xclass"in a?Ext.create(a.xclass,a):Ext.widget(a.xtype||b,a)},get:function(a){return this.all[a]},register:function(a){var b=this.all,c=a.getId(),d=this.onAvailableCallbacks;b[c]=a;a.getReference&&a.getReference()&&
(this.references[c]=a);++this.count;this.hasFocusListener||(Ext.on("focus",this.onGlobalFocus,this),this.hasFocusListener=!0);(d=d&&d[c])&&d.length&&this.notifyAvailable(a)},unregister:function(a){var b=a.getId();a.getReference&&a.getReference()&&(this.references[b]=null,delete this.references[b]);this.all[b]=null;delete this.all[b];this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var a=this.references,b;if(this.referencesDirty){for(b in a)a.hasOwnProperty(b)&&
a[b].fixReference();this.referencesDirty=!1}},onAvailable:function(a,b,c){var d=this.onAvailableCallbacks,e=this.all;a in e?(a=e[a],b.call(c||a,a)):a&&(Ext.isArray(d[a])||(d[a]=[]),d[a].push(function(a){b.call(c||a,a)}))},notifyAvailable:function(a){for(var b=this.onAvailableCallbacks[a&&a.getId()]||[];b.length;)b.shift()(a)},each:function(a,b){return Ext.Object.each(this.all,a,b)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},
onGlobalFocus:function(a){var b=a.toElement,c=a.fromElement,d=Ext.Component.fromElement(b),e=Ext.Component.fromElement(c),f,g;if(d!==e){f=this.getCommonAncestor(e,d);if(e&&!e.destroyed&&!e.destroying)for(e.handleBlurEvent&&e.handleBlurEvent(a),g=e;g&&g!==f;g=g.getRefOwner())if(!g.destroyed&&!g.destroying)g.onFocusLeave({event:a.event,type:"focusleave",target:c,relatedTarget:b,fromComponent:e,toComponent:d});if(d&&!d.destroyed)for(d.handleFocusEvent&&d.handleFocusEvent(a),g=d;g&&g!==f;g=g.getRefOwner())g.onFocusEnter({event:a.event,
type:"focusenter",relatedTarget:c,target:b,fromComponent:e,toComponent:d})}},getCommonAncestor:function(a,b){if(a===b)return a;for(;a&&!a.isAncestor(b)&&a!==b;)a=a.getRefOwner();return a},privates:{clearAll:function(){this.all={};this.references={};this.onAvailableCallbacks={}},fromElement:function(a,b,c){a=Ext.getDom(a);var d=this.all,e=0,f,g;"number"!==typeof b&&(f=Ext.getDom(b),b=Number.MAX_VALUE);for(;a&&1===a.nodeType&&e<b&&a!==f;){if(g=a.getAttribute("data-componentid")||a.id){if((g=d[g])&&
(!c||Ext.ComponentQuery.is(g,c)))return g;e++}a=a.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});
Ext.ns("Ext.util").Operators={"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&-1!==a.indexOf(b)},"%=":function(a,b){return 0===a%b},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}};
Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,config:{maxSize:null},add:function(a,b){var c,d;this.removeAtKey(a);d=this.last;c={prev:d,next:null,key:a,value:b};d?d.next=c:this.first=c;this.last=c;this.callParent([a,c]);this.prune();return b},insertBefore:function(a,b,c){var d,e;return(c=this.map[this.findKey(c)])?((d=this.findKey(b))?this.unlinkEntry(e=this.map[d]):e={prev:c.prev,next:c,key:a,value:b},c.prev?e.prev.next=e:this.first=e,e.next=c,c.prev=e,this.prune(),b):this.add(a,b)},get:function(a){if(a=
this.map[a])return a.next&&this.moveToEnd(a),a.value},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent([a])},unlinkEntry:function(a){a&&(a.next?a.next.prev=a.prev:this.last=a.prev,a.prev?a.prev.next=a.next:this.first=a.next,a.prev=a.next=null)},moveToEnd:function(a){this.unlinkEntry(a);(a.prev=this.last)?this.last.next=a:this.first=a;this.last=a},getArray:function(a){for(var b=[],c=this.first;c;)b.push(a?
c.key:c.value),c=c.next;return b},each:function(a,b,c){var d=c?this.last:this.first,e=this.length;for(b=b||this;d&&!1!==a.call(b,d.key,d.value,e);)d=c?d.prev:d.next;return this},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b].value===a)return b},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c].value);a.resumeEvents();return a},prune:function(){var a=this.getMaxSize(),a=a?this.length-a:
0;if(0<a)for(;this.first&&a;a--)this.removeAtKey(this.first.key)},destroy:function(){this.first=this.last=null;this.callParent()}});
Ext.define("Ext.ComponentQuery",{singleton:!0},function(){var a=this,b=Ext.util.Operators,c=/(\d*)n\+?(\d*)/,d=/\D/,e=/^(\s)+/,f=/\\(.)/g,g=new Ext.util.LruCache({maxSize:100}),h=function(a,b){return b.method.apply(this,[a].concat(b.args))},k=function(a,b){for(var c=[],d=0,e=a.length,f,g=">"!==b;d<e;d++)f=a[d],f.getRefItems&&(c=c.concat(f.getRefItems(g)));return c},l=function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)for(e=a[c];e=e.getRefOwner();)b.push(e);return b},m=function(a,b,c){if("*"===b)return a.slice();
for(var d=[],e=0,f=a.length,g;e<f;e++)g=a[e],g.isXType(b,c)&&d.push(g);return d},n=function(a,b){for(var c=[],d=0,e=a.length,f;d<e;d++)f=a[d],f.getItemId()===b&&c.push(f);return c},p=/^(\s?([>\^])\s?|\s|$)/,q=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,r=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:m,argTransform:function(a){void 0!==a[1]&&(a[1]=a[1].replace(f,"$1"));return a.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:function(a,
c,d,e){var f=[],g=0,h=a.length,k,l,m,n,p,q;"@"===c.charAt(0)&&(k=!0,c=c.substr(1));"?"===c.charAt(0)&&(l=k=!0,c=c.substr(1));for(;g<h;g++){m=a[g];if(n=m.getConfigurator&&m.self.$config.configs[c])n=m[n.names.get]();else if(k&&!m.hasOwnProperty(c))continue;else n=m[c];if(l)f.push(m);else if("~="===d){if(n)for(Ext.isArray(n)||(n=n.split(" ")),p=0,q=n.length;p<q;p++)if(b[d](Ext.coerce(n[p],e),e)){f.push(m);break}}else"/="===d?null!=n&&e.test(n)&&f.push(m):(e?b[d](Ext.coerce(n,e),e):m[c])&&f.push(m)}return f},
argTransform:function(a){var b=a[1],c=a[2];a=a[4];var d;void 0!==a&&(a=a.replace(f,"$1"));"/="===c&&(a=(d=g.get(a))?d:g.add(a,new RegExp(a)));return[b,c,a]}},{re:/^#((?:\\\.|[\w\-])+)/,method:n},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(b,c,d){return a.pseudos[c](b,d)},argTransform:function(a){void 0!==a[2]&&(a[2]=a[2].replace(f,"$1"));return a.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:"var r = [],i = 0,it = items,l = it.length,c;for (; i < l; i++) {c = it[i];if (c.{0}) {r.push(c);}}return r;"}];
a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(a){var b=this.operations,c=[],d,e,f;e=0;for(f=b.length;e<f;e++)d=b[e],c=c.concat(this._execute(a,d));return c},_execute:function(a,b){var c=0,d=b.length,e,f;a?Ext.isIterable(a)?f=a:a.isMixedCollection&&(f=a.items):f=Ext.ComponentManager.getAll();for(;c<d;c++)if(e=b[c],f="^"===e.mode?l(f||[a]):e.mode?k(f||[a],e.mode):h(f||k([a]),e),c===d-1)return f;return[]},is:function(a){var b=this.operations,c,d=b.length,
e;if(0===d)return!0;for(e=0;e<d;e++)if(c=b[e],c=this._is(a,c))return c;return!1},_is:function(a,b){var c=b.length,d=[a],e,f,g,m;for(e=c-1;0<=e;--e){c=b[e];if(f=c.mode)if("^"===f)d=k(d," ");else if(">"===f){g=[];f=0;for(c=d.length;f<c;++f)(m=d[f].getRefOwner())&&g.push(m);d=g}else d=l(d);else d=h(d,c);if(0===d.length)return!1}return!0},getMatches:function(a,b){var c=b.length,d;for(d=0;d<c&&(a=h(a,b[d]),0!==a.length);++d);return a},isMultiMatch:function(){return 1<this.operations.length}});Ext.apply(a,
{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(b,c){for(var d=0,e=b.length,f=[],g=-1,h;d<e;++d)h=b[d],a.is(h,c)||(f[++g]=h);return f},first:function(a){var b=[];0<a.length&&b.push(a[0]);return b},last:function(a){var b=a.length,c=[];0<b&&c.push(a[b-1]);return c},focusable:function(a){for(var b=a.length,c=[],d=0,e;d<b;d++)e=a[d],e.isFocusable&&e.isFocusable()&&c.push(e);return c},"nth-child":function(a,b){var e=[],f=c.exec("even"===b&&"2n"||"odd"===b&&"2n+1"||!d.test(b)&&"n+"+b||
b),g=(f[1]||1)-0,f=f[2]-0,h,k,l;for(h=0;k=a[h];h++)l=h+1,1===g?0!==f&&l!==f||e.push(k):0===(l+f)%g&&e.push(k);return e},scrollable:function(a){for(var b=a.length,c=[],d=0,e;d<b;d++)e=a[d],(e.scrollable||e._scrollable)&&c.push(e);return c}},query:function(b,c){if(!b)return Ext.ComponentManager.all.getArray();var d,e=[],f={},g=a.cache.get(b),h,k;g||(g=a.cache.add(b,a.parse(b)));d=g.execute(c);if(g.isMultiMatch()){g=d.length;for(k=0;k<g;k++)h=d[k],f[h.id]||(e.push(h),f[h.id]=!0);d=e}return d},visitPreOrder:function(b,
c,d,e,f){a._visit(!0,b,c,d,e,f)},visitPostOrder:function(b,c,d,e,f){a._visit(!1,b,c,d,e,f)},_visit:function(b,c,d,e,f,g){var h=a.cache.get(c),k=[d],l,m=0,n;h||(h=a.cache.add(c,a.parse(c)));n=h.is(d);d.getRefItems&&(l=d.getRefItems(),m=l.length);g&&Ext.Array.push(k,g);if(b&&n&&!1===e.apply(f||d,k))return!1;for(h=0;h<m;h++)if(!1===a._visit.call(a,b,c,l[h],e,f,g))return!1;if(!b&&n&&!1===e.apply(f||d,k))return!1},is:function(b,c){if(!c)return!0;var d=a.cache.get(c);d||(d=a.cache.add(c,a.parse(c)));return d.is(b)},
parse:function(b){var c=[],d,e,f;b=Ext.splitAndUnescape(b,",");e=0;for(f=b.length;e<f;e++)d=Ext.String.trim(b[e]),c.push(a._parse(d));return new a.Query({operations:c})},_parse:function(a){for(var b=[],c=Ext.String.trim,d=r.length,g,h,k,l,C,B;a&&g!==a;){g=a;if(h=a.match(q))l=h[1],k=c(h[2]).replace(f,"$1"),"#"===l?b.push({method:n,args:[k]}):b.push({method:m,args:[k,!!h[3]]}),a=a.replace(h[0],"").replace(e,"$1");for(;!(h=a.match(p));)for(B=0;a&&B<d;B++){k=r[B];h=a.match(k.re);l=k.method;C=k.argTransform;
if(h){C=C?C(h):h.slice(1);b.push({method:Ext.isString(k.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[l].concat(h.slice(1)))):k.method,args:C});a=a.replace(h[0],"").replace(e,"$1");break}B===d-1&&Ext.raise('Invalid ComponentQuery selector: "'+a+'"')}h[1]&&(b.push({mode:h[2]||h[1]}),a=a.replace(h[0],"").replace(e,""))}return b}});Ext.all=function(){return a.query.apply(a,arguments)};Ext.first=function(){var b=a.query.apply(a,arguments);return b&&b[0]||null}});
Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:[Ext.mixin.Observable],initialized:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.initialized=!0},onClassExtended:function(a,b){if(b.hasOwnProperty("eventedConfig")){var c=b.config,d=b.eventedConfig,e;c?Ext.applyIf(c,d):a.addConfig(d);for(e in d)d.hasOwnProperty(e)&&(c=Ext.Config.get(e),b[c.names.set]=c.eventedSetter||c.getEventedSetter())}}});
Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)([?!])?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);c&&(a[0]+=c[0],a[1]+=c[1]);return a},alignTo:function(a,b,c,d){var e=this.el;return this.setXY(this.getAlignToXY(a,b,c),e.anim&&d?e.anim(d):!1)},calculateAnchorXY:function(a,b,c,d){var e=this.el,f=document,g=e.dom===f.body||e.dom===f,e=Math.round,h;a=(a||"tl").toLowerCase();
d=d||{};f=d.width||(g?Ext.Element.getViewportWidth():this.getWidth());d=d.height||(g?Ext.Element.getViewportHeight():this.getHeight());switch(a){case "tl":h=[0,0];break;case "bl":h=[0,d];break;case "tr":h=[f,0];break;case "c":h=[e(.5*f),e(.5*d)];break;case "t":h=[e(.5*f),0];break;case "l":h=[0,e(.5*d)];break;case "r":h=[f,e(.5*d)];break;case "b":h=[e(.5*f),d];break;case "tc":h=[e(.5*f),0];break;case "bc":h=[e(.5*f),d];break;case "br":h=[f,d]}return[h[0]+b,h[1]+c]},convertPositionSpec:Ext.identityFn,
getAlignToXY:function(a,b,c){var d,e,f,g,h,k,l;a=Ext.get(a.el||a);c=c||[0,0];b=(b&&"?"!==b?/-/.test(b)||""===b?b||"tl-bl":"tl-"+b:"tl-bl?").toLowerCase();b=this.convertPositionSpec(b);e=b.match(this._alignRe);k=e[1];h=e[2];d=!!e[3];f=this.getAnchorXY(k,!0);g=this.getAnchorToXY(a,h,!1);b=g[0]-f[0]+c[0];c=g[1]-f[1]+c[1];d&&(d="!"===e[3]?a:this.constrainTo||this.container||this.el.parent(),d=Ext.get(d.el||d),e=d.getConstrainRegion(),e.right=e.left+d.el.dom.clientWidth,d=this.getWidth(),f=this.getHeight(),
a=a.getRegion(),g=k.charAt(0),k=k.charAt(k.length-1),l=h.charAt(0),h=h.charAt(h.length-1),g=b<a.right&&b+d>=a.left&&("t"==g&&"b"==l||"b"==g&&"t"==l),h=c<a.bottom&&c+f>=a.top&&("r"==k&&"l"==h||"l"==k&&"r"==h),b+d>e.right&&(h?(b=a.left-d,h=!1):b=e.right-d),b<e.left&&(b=h?a.right:e.left),c+f>e.bottom&&(g?(c=a.top-f,g=!1):c=e.bottom-f),c<e.top&&(c=g?a.bottom:e.top));return[b,c]},getAnchorXY:function(a,b,c){var d=this.getXY(),e=this.el,f=document,f=e.dom==f.body||e.dom==f,e=e.getScroll();return this.calculateAnchorXY(a,
f?e.left:b?0:d[0],f?e.top:b?0:d[1],c)},getBox:function(a,b){var c=b?this.getLocalXY():this.getXY(),d=c[0],c=c[1],e=this.getWidth(),f=this.getHeight(),g,h,k;a&&(g=this.getBorderPadding(),h=g.beforeX,k=g.beforeY,d+=h,c+=k,e-=h+g.afterX,f-=k+g.afterY);return{x:d,left:d,0:d,y:c,top:c,1:c,width:e,height:f,right:d+e,bottom:c+f}},calculateConstrainedPosition:function(a,b,c,d){var e=this.floatParent,f=e?e.getTargetEl():null,g,h,k=!1;c&&e?(e=f.getXY(),g=f.getBorderPadding(),e[0]+=g.beforeX,e[1]+=g.beforeY,
b&&(h=[b[0]+e[0],b[1]+e[1]])):h=b;a=a||this.constrainTo||f||this.container||this.el.parent();c&&h&&(h=this.reverseTranslateXY(h));if(a=(this.constrainHeader&&this.header.rendered?this.header:this).getConstrainVector(a,h,d))k=b||this.getPosition(c),k[0]+=a[0],k[1]+=a[1];return k},getConstrainRegion:function(){var a=this.el,b="BODY"===a.dom.nodeName,c=a.dom,d=a.getBorders(),e=a.getXY(),f=e[0]+d.beforeX,d=e[1]+d.beforeY;b?(c=a.getScroll(),f=c.left,d=c.top,a=Ext.Element.getViewportWidth(),c=Ext.Element.getViewportHeight()):
(a=c.clientWidth,c=c.clientHeight);return new Ext.util.Region(d,f+a,d+c,f)},getConstrainVector:function(a,b,c){var d=this.getRegion(),e=[0,0],f=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,g=!1,h,k=this.constraintInsets;a instanceof Ext.util.Region||(a=Ext.get(a.el||a),h=a.getViewSize(),a=a.getConstrainRegion(),a.right=a.left+h.width,a.bottom=a.top+h.height);k&&(k=Ext.isObject(k)?k:Ext.Element.parseBox(k),a.adjust(k.top,k.right,k.bottom,k.left));b&&d.translateBy(b[0]-
d.x,b[1]-d.y);c&&(d.right=d.left+c[0],d.bottom=d.top+c[1]);f&&a.adjust(f[0],-f[1],-f[2],f[3]);d.right>a.right&&(g=!0,e[0]=a.right-d.right);d.left+e[0]<a.left&&(g=!0,e[0]=a.left-d.left);d.bottom>a.bottom&&(g=!0,e[1]=a.bottom-d.bottom);d.top+e[1]<a.top&&(g=!0,e[1]=a.top-d.top);return g?e:!1},getOffsetsTo:function(a){var b=this.getXY();a=Ext.fly(a.el||a).getXY();return[b[0]-a[0],b[1]-a[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getClientRegion:function(){var a,
b=this.getBox(),c=this.dom;if(a=c.offsetWidth-c.clientWidth)"rtl"===this.getStyle("direction")?b.left+=a:b.right-=a;if(a=c.offsetHeight-c.clientHeight)b.bottom-=a;return new Ext.util.Region(b.top,b.right,b.bottom,b.left)},getViewRegion:function(){var a=this.el,b,c,d;"BODY"===a.dom.nodeName?(b=a.getScroll(),a=b.left,b=b.top,c=Ext.Element.getViewportWidth(),d=Ext.Element.getViewportHeight()):(b=this.getBorderPadding(),c=this.getXY(),a=c[0]+b.beforeX,b=c[1]+b.beforeY,c=this.getWidth(!0),d=this.getHeight(!0));
return new Ext.util.Region(b,a+c,b+d,a)},move:function(a,b,c){var d=this.getXY(),e=d[0],f=d[1],d=[e-b,f],g=[e+b,f],h=[e,f-b];b=[e,f+b];b={l:d,left:d,r:g,right:g,t:h,top:h,up:h,b:b,bottom:b,down:b};a=a.toLowerCase();this.setXY([b[a][0],b[a][1]],c)},setBox:function(a){var b,c;a.isRegion&&(a={x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});this.constrainBox(a);b=a.x;c=a.y;this.setXY([b,c]);this.setSize(a.width,a.height);this.afterSetPosition(b,c);return this},constrainBox:function(a){var b,
c;if(this.constrain||this.constrainHeader)if(b="x"in a?a.x:a.left,c="y"in a?a.y:a.top,b=this.calculateConstrainedPosition(null,[b,c],!1,[a.width,a.height]))a.x=b[0],a.y=b[1]},translatePoints:function(a,b){var c=this.translateXY(a,b);return{left:c.x,top:c.y}},translateXY:function(a,b){var c=this.el,d=c.getStyle(this._positionTopLeft),e="relative"===d.position,f=parseFloat(d.left),d=parseFloat(d.top),g=this.getXY();Ext.isArray(a)&&(b=a[1],a=a[0]);isNaN(f)&&(f=e?0:c.dom.offsetLeft);isNaN(d)&&(d=e?0:
c.dom.offsetTop);f="number"===typeof a?a-g[0]+f:void 0;d="number"===typeof b?b-g[1]+d:void 0;return{x:f,y:d}},reverseTranslateXY:function(a){var b=a,c=this.el,d=c.dom.offsetParent,e,f;d&&(b=c.isStyle("position","relative"),e=Ext.fly(d).getXY(),f=a[0]+e[0]+d.clientLeft,a=a[1]+e[1]+d.clientTop,b&&(f+=c.getPadding("l"),a+=c.getPadding("t")),b=[f,a]);return b}});
Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(a,b,c,d,e,f){var g=this,h=!Ext.isEmpty(e),k=function(){g.alignTo(a,b,c,d);Ext.callback(f,g)},l=g.getAnchor();g.removeAnchor();Ext.apply(l,{fn:k,scroll:h});Ext.on("resize",k,null);if(h)Ext.getWin().on("scroll",k,null,{buffer:isNaN(e)?50:e});k();return g},getAnchor:function(){var a=this.el,b;if(a.dom)return a=a.getData(),b=a._anchor,b||(b=a._anchor={}),b},removeAnchor:function(){var a=this.getAnchor();if(a&&
a.fn){Ext.un("resize",a.fn);if(a.scroll)Ext.getWin().on("scroll",a.fn);delete a.fn}return this},setBox:function(a,b){a.isRegion&&(a={x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});b?(this.constrainBox(a),this.animate(Ext.applyIf({to:a,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[a.x,a.y])}},b))):this.callParent([a]);return this}});
Ext.define("Ext.dom.UnderlayPool",{constructor:function(a){this.elementConfig=a;this.cache=[]},checkOut:function(){var a=this.cache.shift();a||(a=Ext.Element.create(this.elementConfig),a.setVisibilityMode(2));return a},checkIn:function(a){this.cache.push(a)},reset:function(){for(var a=this.cache,b=a.length;b--;)a[b].destroy();this.cache=[]}});
Ext.define("Ext.dom.Underlay",{constructor:function(a){Ext.apply(this,a)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var a=this.el;a&&(a.hide(),this.getPool().checkIn(a),this.el=null,this.hidden=!0)},realign:function(a,b,c,d){var e=this.el,f=this.target,g=this.offsets,h=Math.max;e&&(null==a&&(a=f.getX()),null==b&&(b=f.getY()),null==c&&(c=f.getWidth()),
null==d&&(d=f.getHeight()),g&&(a+=g.x,b+=g.y,c=h(c+g.w,0),d=h(d+g.h,0)),e.setXY([a,b]),e.setSize(c,d))},setZIndex:function(a){this.zIndex=a;this.el&&this.el.setStyle("z-index",a)},show:function(){var a=this.target,b=this.zIndex,c=this.el,d=this.getInsertionTarget().dom;c||(c=this.el=this.getPool().checkOut());this.beforeShow();null==b&&(b=parseInt(a.getStyle("z-index"),10));b&&c.setStyle("z-index",b);c.setStyle("position",this.fixed?"fixed":"");b=c.dom;b.nextSibling!==d&&a.dom.parentNode.insertBefore(b,
d);c.show();this.realign();this.hidden=!1}});
Ext.define("Ext.dom.Shadow",{extend:Ext.dom.Underlay,alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:Ext.baseCSSPrefix+(Ext.supports.CSS3BoxShadow?"css":"ie")+"-shadow",constructor:function(a){var b,c,d;this.callParent([a]);this.elementConfig={cls:this.cls,role:"presentation"};a=this.offset;d=Math.floor(a/2);this.opacity=50;switch(this.mode.toLowerCase()){case "drop":b={x:0,y:0,w:a,h:a};c=Ext.supports.CSS3BoxShadow?{x:a,y:a,h:-a,w:-a}:{x:-d,y:-d,h:-d,w:-d};break;case "sides":b={x:-a,y:0,
w:2*a,h:a};c=Ext.supports.CSS3BoxShadow?{x:0,y:a,h:-a,w:0}:{x:1+d-2*a,y:-(1+d),h:-1,w:d-1};break;case "frame":b={x:-a,y:-a,w:2*a,h:2*a};c=Ext.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+d-2*a,y:1+d-2*a,h:a-d-1,w:a-d-1};break;case "bottom":b={x:-a,y:0,w:2*a,h:a},c=Ext.supports.CSS3BoxShadow?{x:0,y:a,h:-a,w:0}:{x:0,y:a,h:0,w:0}}this.offsets=c;this.outerOffsets=b},getShadowSize:function(){var a=this.el?this.offset:0,a=[a,a,a,a],b=this.mode.toLowerCase();this.el&&"frame"!==b&&(a[0]=0,"drop"==b&&(a[3]=
0));return a},boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;"boxShadow"in b||("WebkitBoxShadow"in b?a="WebkitBoxShadow":"MozBoxShadow"in b&&(a="MozBoxShadow"));return a}(),beforeShow:function(){var a=this.el.dom.style,b=this.shim;Ext.supports.CSS3BoxShadow?a[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888":a.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+this.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")";b&&b.realign()},
setOpacity:function(a){var b=this.el;b&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(a=Math.floor(100*a/2)/100),this.opacity=a,b.setOpacity(a))}});Ext.define("Ext.dom.Shim",{extend:Ext.dom.Underlay,cls:Ext.baseCSSPrefix+"shim",constructor:function(a){this.callParent([a]);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var a=this.shadow;return a&&a.el||this.target}});
Ext.define("Ext.dom.ElementEvent",{extend:Ext.util.Event,addListener:function(a,b,c,d,e){var f=this.name;c=c||{};!1===c.delegated||Ext.event.publisher.Dom.instance.directEvents[f]?(f=c.capture?this.directCaptures||(this.directCaptures=new Ext.util.Event(this.observable,f)):this.directs||(this.directs=new Ext.util.Event(this.observable,f)),a=f.addListener(a,b,c,d,e)):c.capture?(f=this.captures||(this.captures=new Ext.util.Event(this.observable,f)),a=f.addListener(a,b,c,d,e)):a=this.callParent([a,b,
c,d,e]);return a},removeListener:function(a,b){var c=this.captures,d=this.directs,e=this.directCaptures,f=!1,g=this.findListener(a,b);-1!==g?f=this.callParent([a,b,g]):(d&&(g=d.findListener(a,b)),-1!==g?f=d.removeListener(a,b,g):(c&&(g=c.findListener(a,b)),-1!==g?f=c.removeListener(a,b,g):e&&(g=e.findListener(a,b),-1!==g&&(f=e.removeListener(a,b,g)))));return f},clearListeners:function(){var a=this.directCaptures,b=this.directs,c=this.captures;a&&a.clearListeners();b&&b.clearListeners();c&&c.clearListeners();
this.callParent()},suspend:function(){var a=this.directCaptures,b=this.directs,c=this.captures;a&&a.suspend();b&&b.suspend();c&&c.suspend();this.callParent()},resume:function(){var a=this.directCaptures,b=this.directs,c=this.captures;a&&a.resume();b&&b.resume();c&&c.resume();this.callParent()}});
Ext.define("Ext.event.publisher.Publisher",{handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var a=this.type;this.handles={};this.registerEvents();Ext.event.publisher.Publisher.publishers[a]=this},registerEvents:function(a){var b=Ext.event.publisher.Publisher.publishersByEvent;a=a||this.handledEvents;var c=a.length,d,e;for(e=0;e<c;e++)d=a[e],this.handles[d]=1,b[d]=this},fire:function(a,b,c){a.hasListeners[b]&&(a=a.events[b])&&a.fire.apply(a,c)}});
Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=null==a||isNaN(a)?0:a;this.y=null==b||isNaN(b)?0:b;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(a){isNaN(a)?(this.x=Math.round(this.x),this.y=Math.round(this.y)):(a=Math.pow(10,a),this.x=
Math.round(this.x*a)/a,this.y=Math.round(this.y*a)/a)},isZero:function(){return 0==this.x&&0==this.y}});
Ext.define("Ext.util.Region",{isRegion:!0,statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){this.y=this.top=this[1]=a;this.right=b;this.bottom=c;this.x=this.left=this[0]=d},contains:function(a){return a.x>=this.x&&a.right<=this.right&&a.y>=this.y&&a.bottom<=this.bottom},intersect:function(a){var b=Math.max(this.y,a.y),c=Math.min(this.right,a.right),d=Math.min(this.bottom,a.bottom);a=Math.max(this.x,
a.x);return d>b&&c>a?new this.self(b,c,d,a):!1},union:function(a){return new this.self(Math.min(this.y,a.y),Math.max(this.right,a.right),Math.max(this.bottom,a.bottom),Math.min(this.x,a.x))},constrainTo:function(a){var b=Ext.Number.constrain;this.top=this.y=b(this.top,a.y,a.bottom);this.bottom=b(this.bottom,a.y,a.bottom);this.left=this.x=b(this.left,a.x,a.right);this.right=b(this.right,a.x,a.right);return this},adjust:function(a,b,c,d){this.top=this.y+=a;this.left=this.x+=d;this.right+=b;this.bottom+=
c;return this},getOutOfBoundOffset:function(a,b){if(Ext.isObject(a)){b=a;var c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}return"x"==a?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b)},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(a,b){return Ext.isObject(a)?(b=a,this.isOutOfBoundX(b.x)||
this.isOutOfBoundY(b.y)):"x"==a?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){return Ext.isObject(a)?(c=b,b=a,a=b.copy?b.copy():{x:b.x,y:b.y},a.x=this.restrictX(b.x,c),a.y=this.restrictY(b.y,c),a):"x"==a?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,b){b||(b=1);a<=this.x?a-=(a-this.x)*b:a>=this.right&&(a-=(a-this.right)*b);return a},restrictY:function(a,
b){b||(b=1);a<=this.y?a-=(a-this.y)*b:a>=this.bottom&&(a-=(a-this.bottom)*b);return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){this.top=this.y=this[1]=a.y;this.right=a.right;this.bottom=a.bottom;this.left=this.x=this[0]=a.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){1==arguments.length&&
(b=a.y,a=a.x);this.top=this.y+=b;this.right+=a;this.bottom+=b;this.left=this.x+=a;return this},round:function(){this.top=this.y=Math.round(this.y);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=this.x=Math.round(this.x);return this},equals:function(a){return this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left}});
Ext.define("Ext.util.Point",{extend:Ext.util.Region,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(a){var b=a.changedTouches;return this.fromTouch(b&&0<b.length?b[0]:a)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){return a?a instanceof this?a:new this(a.x,a.y):new this(0,0)}},constructor:function(a,b){null==a&&(a=0);null==b&&(b=0);this.callParent([b,a,b,a])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,
arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x===a.x&&this.y===a.y},isCloseTo:function(a,b){if("number"==typeof b)return this.getDistanceTo(a)<=b;var c=a.x,d=a.y,e=b.x,f=b.y;return this.x<=c+e&&this.x>=c-e&&this.y<=d+f&&this.y>=d-f},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(a){a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getRegion());return a.contains(this)},
roundedEquals:function(a){a&&"object"===typeof a||(a=this.origin);return Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(a){a&&"object"===typeof a||(a=this.origin);var b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a)},getAngleTo:function(a){a&&"object"===typeof a||(a=this.origin);return Math.atan2(this.y-a.y,this.x-a.x)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy});
Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",isStopped:!1,defaultPrevented:!1,isEvent:!0,statics:{resolveTextNode:function(a){return a&&3===a.nodeType?a.parentNode:a},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,
mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(a){var b=this.self,c=this.self.resolveTextNode,d=a.changedTouches,e=d?d[0]:a,d=a.type,f;this.pageX=e.pageX;this.pageY=e.pageY;this.target=this.delegatedTarget=c(a.target);if(e=a.relatedTarget)this.relatedTarget=
c(e);this.browserEvent=this.event=a;this.type=d;this.button=a.button||0;this.shiftKey=a.shiftKey;this.ctrlKey=a.ctrlKey||a.metaKey||!1;this.altKey=a.altKey;this.charCode=a.charCode;this.keyCode=a.keyCode;this.buttons=a.buttons;0===this.button&&0===this.buttons&&(this.buttons=1);void 0!==b.forwardTab&&b.focusEvents[d]&&(this.forwardTab=b.forwardTab);b.mouseEvents[d]||b.clickEvents[d]?f="mouse":b.pointerEvents[d]?f=b.pointerTypes[a.pointerType]:b.touchEvents[d]&&(f="touch");f&&(this.pointerType=f);
this.timeStamp=this.time=+(a.timeStamp||new Date)},chain:function(a){var b=Ext.Object.chain(this);b.parentEvent=this;return Ext.apply(b,a)},correctWheelDelta:function(a){var b=Math.round(a/this.WHEEL_SCALE);!b&&a&&(b=0>a?-1:1);return b},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},getRelatedTarget:function(a,
b,c){var d=this.relatedTarget,e=null;d&&(e=a?Ext.fly(d).findParent(a,b,c):c?Ext.get(d):d);return e},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var a=this.browserEvent,b=0,c=0;Ext.isDefined(a.wheelDeltaX)?(b=a.wheelDeltaX,c=a.wheelDeltaY):a.wheelDelta?c=a.wheelDelta:a.detail&&(c=-a.detail,100<c?c=3:-100>c&&(c=-3),
Ext.isDefined(a.axis)&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0));return{x:this.correctWheelDelta(b),y:this.correctWheelDelta(c)}},getX:function(){return this.getXY()[0]},getXY:function(){var a=this.xy;if(!a){var a=this.xy=[this.pageX,this.pageY],b=a[0],c,d;b||0===b||(b=this.browserEvent,c=document,d=c.documentElement,c=c.body,a[0]=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a[1]=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0))}return a},
getY:function(){return this.getXY()[1]},hasModifier:function(){return!!(this.ctrlKey||this.altKey||this.shiftKey||this.metaKey)},isNavKeyPress:function(a){var b=this.keyCode;return("keypress"!==this.type||Ext.isGecko)&&33<=b&&40>=b||!a&&(b===this.RETURN||b===this.TAB||b===this.ESC)},isSpecialKey:function(){var a=this.keyCode,b=Ext.isGecko,c="keypress"===this.type;return b&&c&&0===this.charCode||this.isNavKeyPress()||a===this.BACKSPACE||a===this.ENTER||16<=a&&20>=a||(!c||b)&&44<=a&&46>=a},makeUnpreventable:function(){this.browserEvent.preventDefault=
Ext.emptyFn},preventDefault:function(){var a=this.parentEvent;this.defaultPrevented=!0;a&&(a.defaultPrevented=!0);this.browserEvent.preventDefault();return this},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var a=this.browserEvent,b=this.parentEvent;this.isStopped=!0;b&&(b.isStopped=!0);if(!a.stopPropagation)return a.cancelBubble=!0,this;a.stopPropagation();return this},within:function(a,
b,c){var d;a&&(d=b?this.getRelatedTarget():this.getTarget());return d?Ext.fly(a).contains(d)||!(!c||d!==Ext.getDom(a)):!1},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(a){var b=a.prototype,c;Ext.isGecko?c=3:Ext.isMac?(c=Ext.isSafari&&532<=Ext.webKitVersion?120:12,c*=3):c=120;c={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,
INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,
F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:c};var d={},e;Ext.apply(a,c);Ext.apply(b,c);delete c.WHEEL_SCALE;delete c.RETURN;for(e in c)a=c[e],d[a]=e;b.keyCodes=d;b.getTrueXY=b.getXY});
Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){function a(a,b){var d="mousemove"!==a;return function(e,l){var m=l.getXY(),m=c.createMouseEvent(e.ownerDocument,a,!0,d,b,m[0],m[1],l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget);c.fireEvent(e,a,m)}}function b(a,b){}var c,d={},e;!Ext.isIE9m&&document.createEvent?c={createHtmlEvent:function(a,b,c,d){a=a.createEvent("HTMLEvents");a.initEvent(b,
c,d);return a},createMouseEvent:function(a,b,c,d,e,m,n,p,q,r,t,u,v){var w=a.createEvent("MouseEvents"),y=a.defaultView||window;w.initMouseEvent?w.initMouseEvent(b,c,d,y,e,m,n,m,n,p,q,r,t,u,v):(w=a.createEvent("UIEvents"),w.initEvent(b,c,d),w.view=y,w.detail=e,w.screenX=m,w.screenY=n,w.clientX=m,w.clientY=n,w.ctrlKey=p,w.altKey=q,w.metaKey=t,w.shiftKey=r,w.button=u,w.relatedTarget=v);return w},createUIEvent:function(a,b,c,d,e){var m=a.createEvent("UIEvents");m.initUIEvent(b,c,d,a.defaultView||window,
e);return m},fireEvent:function(a,b,c){a.dispatchEvent(c)}}:document.createEventObject&&(e={0:1,1:4,2:2},c={createHtmlEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=c;a.cancelable=d;return a},createMouseEvent:function(a,b,c,d,l,m,n,p,q,r,t,u,v){a=a.createEventObject();a.bubbles=c;a.cancelable=d;a.detail=l;a.screenX=m;a.screenY=n;a.clientX=m;a.clientY=n;a.ctrlKey=p;a.altKey=q;a.shiftKey=r;a.metaKey=t;a.button=e[u]||u;a.relatedTarget=v;return a},createUIEvent:function(a,b,c,d,e){a=a.createEventObject();
a.bubbles=c;a.cancelable=d;return a},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)}});Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(a,b){var e=b[0],k=b[1];d[a]=function(b,d){var g=c.createHtmlEvent(a,e,k);c.fireEvent(b,a,g)}});Ext.each("click dblclick mousedown mouseup mouseover mousemove mouseout".split(" "),function(b){d[b]=a(b,1)});Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],
focus:[!1,!1],blur:[!1,!1]},function(a,b){var e=b[0],k=b[1];d[a]=function(b,d){var g=c.createUIEvent(b.ownerDocument,a,e,k,1);c.fireEvent(b,a,g)}});c||(d={},c={});return function(a){var c=d[this.type]||b;a=a?a.dom||a:this.getTarget();c(a,this)}}(),preventDefault:function(){var a=this.browserEvent,b=this.parentEvent,c,d;if("unknown"!==typeof a.type)if(this.defaultPrevented=!0,b&&(b.defaultPrevented=!0),a.preventDefault)a.preventDefault();else if("mousedown"===a.type&&(d=a.target,c=d.getAttribute("unselectable"),
"on"!==c&&(d.setAttribute("unselectable","on"),Ext.defer(function(){d.setAttribute("unselectable",c)},1))),a.returnValue=!1,a.ctrlKey||111<a.keyCode&&124>a.keyCode)a.keyCode=-1;return this},stopPropagation:function(){"unknown"!==typeof this.browserEvent.type&&(this.mousedownEvents[this.type]&&Ext.GlobalEvents.fireMouseDown(this),this.callParent());return this},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var a=this,b,c=function(b){9===b.keyCode&&
(a.forwardTab=!b.shiftKey)},d=function(b){9===b.keyCode&&delete a.forwardTab};Ext.isIE9m?(b={0:0,1:0,4:1,2:2},a.override({statics:{enableIEAsync:function(a){var b,c={};for(b in a)c[b]=a[b];return c}},constructor:function(a,c,d,h){this.callParent([a,c,d,h]);this.button=b[a.button];"contextmenu"===a.type&&(this.button=2);this.toElement=a.toElement;this.fromElement=a.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(a){this.browserEvent=this.self.enableIEAsync(a)},
getRelatedTarget:function(a,b,c){var d,k;this.relatedTarget||(d=this.type,this.mouseLeaveRe.test(d)?k=this.toElement:this.mouseEnterRe.test(d)&&(k=this.fromElement),k&&(this.relatedTarget=this.self.resolveTextNode(k)));return this.callParent([a,b,c])}}),document.attachEvent("onkeydown",c),document.attachEvent("onkeyup",d),window.attachEvent("onunload",function(){document.detachEvent("onkeydown",c);document.detachEvent("onkeyup",d)})):document.addEventListener&&(document.addEventListener("keydown",
c,!0),document.addEventListener("keyup",d,!0))});
Ext.define("Ext.event.publisher.Dom",{extend:Ext.event.publisher.Publisher,type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,
MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){this.bubbleSubscribers={};this.captureSubscribers={};this.directSubscribers={};this.directCaptureSubscribers={};this.delegatedListeners={};this.initHandlers();Ext.onInternalReady(this.onReady,this);this.callParent()},registerEvents:function(){for(var a=Ext.event.publisher.Publisher.publishersByEvent,b=this.handledDomEvents,c=b.length,d=0,e;d<c;d++)e=b[d],this.handles[e]=1,a[e]=this;
this.callParent()},onReady:function(){var a=this.handledDomEvents,b,c;if(a)for(c=0,b=a.length;c<b;c++)this.addDelegatedListener(a[c]);Ext.getWin().on("unload",this.destroy,this)},initHandlers:function(){this.onDelegatedEvent=Ext.bind(this.onDelegatedEvent,this);this.onDirectEvent=Ext.bind(this.onDirectEvent,this);this.onDirectCaptureEvent=Ext.bind(this.onDirectCaptureEvent,this)},addDelegatedListener:function(a){this.delegatedListeners[a]=1;this.target.addEventListener(a,this.onDelegatedEvent,!!this.captureEvents[a])},
removeDelegatedListener:function(a){delete this.delegatedListeners[a];this.target.removeEventListener(a,this.onDelegatedEvent,!!this.captureEvents[a])},addDirectListener:function(a,b,c){b.dom.addEventListener(a,c?this.onDirectCaptureEvent:this.onDirectEvent,c)},removeDirectListener:function(a,b,c){b.dom.removeEventListener(a,c?this.onDirectCaptureEvent:this.onDirectEvent,c)},subscribe:function(a,b,c,d){var e;c&&!this.directEvents[b]?(c=d?this.captureSubscribers:this.bubbleSubscribers,this.handles[b]||
this.delegatedListeners[b]||this.addDelegatedListener(b),c[b]?++c[b]:c[b]=1):(c=d?this.directCaptureSubscribers:this.directSubscribers,e=a.id,c=c[b]||(c[b]={}),c[e]?++c[e]:(c[e]=1,this.addDirectListener(b,a,d)))},unsubscribe:function(a,b,c,d){var e;c&&!this.directEvents[b]?(a=this.captureSubscribers,e=this.bubbleSubscribers,c=d?a:e,c[b]&&--c[b],this.handles[b]||e[b]||a[b]||this.removeDelegatedListener(b)):(c=d?this.directCaptureSubscribers:this.directSubscribers,e=a.id,c=c[b],c[e]&&--c[e],c[e]||(delete c[e],
this.removeDirectListener(b,a,d)))},getPropagatingTargets:function(a){for(var b=[],c;a;)b.push(a),c=a.parentNode,c||(c=a.defaultView),a=c;return b},publish:function(a,b,c){var d,e,f;Ext.isArray(b)||(b=this.captureEvents[a]?(d=Ext.cache[b.id])?[d]:[]:this.getPropagatingTargets(b));f=b.length;if(this.captureSubscribers[a])for(e=f;e--;)if(d=Ext.cache[b[e].id])if(this.fire(d,a,c,!1,!0),c.isStopped)break;if(!c.isStopped&&this.bubbleSubscribers[a])for(e=0;e<f;e++)if(d=Ext.cache[b[e].id])if(this.fire(d,
a,c,!1,!1),c.isStopped)break},fire:function(a,b,c,d,e){a.hasListeners[b]&&(b=a.events[b])&&(e&&d?b=b.directCaptures:e?b=b.captures:d&&(b=b.directs),b&&(c.setCurrentTarget(a.dom),b.fire(c,c.target)))},onDelegatedEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[a]):this.doDelegatedEvent(a)},doDelegatedEvent:function(a,b){var c=a.timeStamp;a=new Ext.event.Event(a);if(this.isEventBlocked(a))return!1;this.beforeEvent(a);Ext.frameStartTime=c;this.reEnterCount++;this.publish(a.type,
a.target,a);this.reEnterCount--;!1!==b&&this.afterEvent(a);return a},onDirectEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[a,!1]):this.doDirectEvent(a,!1)},onDirectCaptureEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[a,!0]):this.doDirectEvent(a,!0)},doDirectEvent:function(a,b){var c=a.currentTarget,d=a.timeStamp;a=new Ext.event.Event(a);if(!this.isEventBlocked(a)){this.beforeEvent(a);Ext.frameStartTime=d;if(c=Ext.cache[c.id])this.reEnterCount++,
this.fire(c,a.type,a,!0,b),this.reEnterCount--;this.afterEvent(a)}},beforeEvent:function(a){var b=a.browserEvent;a=Ext.event.publisher.Dom;"touchstart"===b.type&&(b=b.touches,1===b.length&&(b=b[0],a.lastTouchStartX=b.pageX,a.lastTouchStartY=b.pageY))},afterEvent:function(a){var b=a.browserEvent.type,c=Ext.event.publisher.Dom,d=Ext.GlobalEvents;a.self.pointerEvents[b]&&"mouse"!==a.pointerType&&(c.lastScreenPointerEventTime=Ext.now());"touchend"===b&&(c.lastTouchEndTime=Ext.now());this.reEnterCount||
!d.hasListeners.idle||d.idleEventMask[b]||d.fireEvent("idle")},isEventBlocked:function(a){var b=a.type,c=Ext.event.publisher.Dom,d=Ext.now();return Ext.isGecko&&"click"===a.type&&2===a.button?!0:this.blockedPointerEvents[b]&&"mouse"!==a.pointerType||this.blockedCompatibilityMouseEvents[b]&&1E3>d-c.lastScreenPointerEventTime||Ext.supports.TouchEvents&&a.self.mouseEvents[a.type]&&15>Math.abs(a.pageX-c.lastTouchStartX)&&15>Math.abs(a.pageY-c.lastTouchStartY)&&1E3>Ext.now()-c.lastTouchEndTime},destroy:function(){for(var a in this.delegatedListeners)this.removeDelegatedListener(a);
this.callParent()},reset:function(){var a=Ext.event.publisher.Dom;a.lastScreenPointerEventTime=a.lastTouchEndTime=a.lastTouchStartX=a.lastTouchStartY=void 0}},function(a){var b=document,c=b.defaultView,d=a.prototype;Ext.os.is.iOS&&5>Ext.os.version.getMajor()||Ext.browser.is.AndroidStock||!c||!c.addEventListener?d.target=b:d.target=c;a.instance=new a});
Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(a){if(Ext.isIE9m){var b=document.documentElement,c=document.body,d=a.prototype,e;d.target=document;d.directBoundListeners={};e=function(a,b,c){a.target=a.srcElement||window;a.currentTarget=this;if(c)b.onDirectCaptureEvent(a);else b.onDirectEvent(a)};a.override({addDelegatedListener:function(a){this.delegatedListeners[a]=1;this.target.attachEvent("on"+a,this.onDelegatedEvent)},removeDelegatedListener:function(a){delete this.delegatedListeners[a];
this.target.detachEvent("on"+a,this.onDelegatedEvent)},addDirectListener:function(a,b,c){var d=b.dom,l=Ext.Function.bind(e,d,[this,c],!0),m=this.directBoundListeners;(m[a]||(m[a]={}))[d.id]=l;d.attachEvent?d.attachEvent("on"+a,l):this.callParent(arguments)},removeDirectListener:function(a,b){var c=b.dom;c.detachEvent?c.detachEvent("on"+a,this.directBoundListeners[a][c.id]):this.callParent(arguments)},doDelegatedEvent:function(a,d){a.target=a.srcElement||window;"focusin"===a.type?a.relatedTarget=a.fromElement===
c||a.fromElement===b?null:a.fromElement:"focusout"===a.type&&(a.relatedTarget=a.toElement===c||a.toElement===b?null:a.toElement);return this.callParent([a,d])}});Ext.apply(d.directEvents,d.captureEvents);Ext.apply(d.directEvents,{change:1,input:1,paste:1});d.captureEvents={}}});
Ext.define("Ext.event.publisher.Gesture",{extend:Ext.event.publisher.Dom,type:"gesture",config:{async:!0},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(a){var b=this.handledDomEvents,c=Ext.supports,d=c.TouchEvents,e=Ext.Function,f=this.onTouchStart,g=this.onTouchMove,h=this.onTouchEnd,k=e.createAnimationFrame(this.onTouchStart,this,null,1),l=e.createAnimationFrame(this.onTouchMove,this),e=e.createAnimationFrame(this.onTouchEnd,
this,null,1);this._handlers={touchstart:f,touchmove:g,touchend:h,touchcancel:h,pointerdown:f,pointermove:g,pointerup:h,pointercancel:h,MSPointerDown:f,MSPointerMove:g,MSPointerUp:h,MSPointerCancel:h,mousedown:f,mousemove:g,mouseup:h};this._asyncHandlers={touchstart:k,touchmove:l,touchend:e,touchcancel:e,pointerdown:k,pointermove:l,pointerup:e,pointercancel:e,MSPointerDown:k,MSPointerMove:l,MSPointerUp:e,MSPointerCancel:e,mousedown:k,mousemove:l,mouseup:e};this.activeTouchesMap={};this.activeTouches=
[];this.changedTouches=[];this.recognizers=[];d&&(this.onTargetTouchMove=this.onTargetTouchMove.bind(this),this.onTargetTouchEnd=this.onTargetTouchEnd.bind(this));c.PointerEvents?(b.push("pointerdown","pointermove","pointerup","pointercancel"),this.mousePointerType="mouse"):c.MSPointerEvents?(b.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"),this.mousePointerType=4):d&&b.push("touchstart","touchmove","touchend","touchcancel");(!b.length||d&&Ext.isWebKit&&Ext.os.is.Desktop)&&
b.push("mousedown","mousemove","mouseup");this.initConfig(a);return this.callParent()},onReady:function(){this.callParent();Ext.Array.sort(this.recognizers,function(a,b){var c=a.priority,d=b.priority;return c>d?1:c<d?-1:0})},registerRecognizer:function(a){var b=a.handledEvents,c=b.length,d;a.setOnRecognized(this.onRecognized);a.setCallbackScope(this);for(d=0;d<c;d++)this.handledEvents.push(b[d]);this.registerEvents(b);this.recognizers.push(a)},onRecognized:function(a,b,c){var d=b.changedTouches,e=
d.length,f,g;c=c||{};c.type=a;c.target=d[0].target;c.isStopped=!1;b=b.chain(c);if(1<e){c=[];for(f=0;f<e;f++)g=d[f],c.push(g.targets);d=this.getCommonTargets(c)}else d=d[0].targets;this.publish(a,d,b)},getCommonTargets:function(a){var b=a[0],c=a.length;if(1===c)return b;for(var d=[],e=1,f,g,h;;){f=b[b.length-e];if(!f)break;for(h=1;h<c;h++)if(g=a[h],g[g.length-e]!==f)return d;d.unshift(f);e++}return d},invokeRecognizers:function(a,b){var c=this.recognizers,d=c.length,e,f;if("onStart"===a)for(e=0;e<
d;e++)c[e].isActive=!0;for(e=0;e<d;e++)f=c[e],f.isActive&&!1===f[a].call(f,b)&&(f.isActive=!1)},updateTouches:function(a,b){var c=a.browserEvent,c=c.changedTouches||[c],d=this.activeTouches,e=this.activeTouchesMap,f=[],g,h,k,l,m;l=0;for(m=c.length;l<m;l++)g=c[l],h="identifier"in g?g.identifier:"pointerId"in g?g.pointerId:1,k=e[h],k||(k=Ext.event.Event.resolveTextNode(g.target),k=e[h]={identifier:h,target:k,targets:this.getPropagatingTargets(k)},d.push(k)),b&&(delete e[h],Ext.Array.remove(d,k)),h=
g.pageX,g=g.pageY,k.pageX=h,k.pageY=g,k.point=new Ext.util.Point(h,g),f.push(k);a.touches=Ext.Array.clone(d);a.changedTouches=f},doDelegatedEvent:function(a){if(a=this.callParent([a,!1]))(!a.button||1>a.button)&&this.handlers[a.type].call(this,a),this.afterEvent(a)},onTouchStart:function(a){var b=a.target,c=a.browserEvent.touches;"touchstart"===a.browserEvent.type&&(b.addEventListener("touchmove",this.onTargetTouchMove),b.addEventListener("touchend",this.onTargetTouchEnd),b.addEventListener("touchcancel",
this.onTargetTouchEnd));c&&c.length<=this.activeTouches.length&&this.removeGhostTouches(c);this.updateTouches(a);this.isStarted||(this.isStarted=!0,this.invokeRecognizers("onStart",a),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause());this.invokeRecognizers("onTouchStart",a)},onTouchMove:function(a){var b=this.mousePointerType;this.isStarted&&(b&&a.browserEvent.pointerType===b&&0===a.buttons?(a.type=Ext.dom.Element.prototype.eventMap.touchend,a.button=0,this.onTouchEnd(a)):(this.updateTouches(a),
0<a.changedTouches.length&&this.invokeRecognizers("onTouchMove",a)))},onTouchEnd:function(a){this.isStarted&&(this.updateTouches(a,!0),this.invokeRecognizers(this.isCancelEvent[a.type]?"onTouchCancel":"onTouchEnd",a),this.activeTouches.length||(this.isStarted=!1,this.invokeRecognizers("onEnd",a),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()))},onTargetTouchMove:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,this,[a]):this.doTargetTouchMove(a)},doTargetTouchMove:function(a){if(!Ext.getBody().contains(a.target))this.onTouchMove(new Ext.event.Event(a))},
onTargetTouchEnd:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchEnd,this,[a]):this.doTargetTouchEnd(a)},doTargetTouchEnd:function(a){var b=a.target;b.removeEventListener("touchmove",this.onTargetTouchMove);b.removeEventListener("touchend",this.onTargetTouchEnd);b.removeEventListener("touchcancel",this.onTargetTouchEnd);if(!Ext.getBody().contains(b))this.onTouchEnd(new Ext.event.Event(a))},updateAsync:function(a){this.handlers=a?this._asyncHandlers:this._handlers},reset:function(){var a=
this.recognizers,b=a.length,c,d;this.activeTouchesMap={};this.activeTouches=[];this.changedTouches=[];this.isStarted=!1;for(c=0;c<b;c++)d=a[c],d.reset(),d.isActive=!1;this.callParent()},privates:{removeGhostTouches:function(a){var b=a.length,c=this.activeTouches,d=this.activeTouchesMap,e,f;for(e=0;e<b;++e);for(e=c.length;e--;)f=c[e],b=f.identifier,a[b]||(Ext.Array.remove(c,f),delete d[b])}}},function(a){a.instance=new a});
Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(a,b){var c=a.browserEvent,d=a.getXY();c.pageX=d[0];c.pageY=d[1];this.callParent([a,b])},doDelegatedEvent:function(a){this.callParent([Ext.event.Event.enableIEAsync(a)])}})});
Ext.define("Ext.mixin.Templatable",{extend:Ext.Mixin,mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var a=document.createDocumentFragment();a.appendChild(Ext.Element.create(this.getElementConfig(),!0));return a},initElement:function(){var a=this.self.prototype;a.elementTemplate=this.getElementTemplate();a.initElement=a.doInitElement;this.initElement.apply(this,
arguments)},linkElement:function(a,b){this.link(a,b)},doInitElement:function(){var a=this.referenceAttributeName,b,c,d,e,f;b=this.elementTemplate.cloneNode(!0).querySelectorAll(this.referenceSelector);c=0;for(d=b.length;c<d;c++)e=b[c],f=e.getAttribute(a),e.removeAttribute(a),this.linkElement(f,e)}});
Ext.define("Ext.TaskQueue",{singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},requestRead:function(a,b,c){this.request(!0);this.readQueue.push(arguments)},requestWrite:function(a,b,c){this.request(!1);this.writeQueue.push(arguments)},request:function(a){this.pending||(this.pendingTime=Date.now(),this.pending=!0,(this.mode=a)?Ext.defer(this.run,1,this):Ext.Function.requestAnimationFrame(this.run))},
watch:function(){this.pending&&500<=Date.now()-this.pendingTime&&this.run()},run:function(){this.pending=!1;var a=this.readQueue,b=this.writeQueue,c=null,d;this.mode?(d=a,0<b.length&&(c=!1)):(d=b,0<a.length&&(c=!0));var a=d.slice(),e,f,g;d=d.length=0;for(b=a.length;d<b;d++)e=a[d],f=e[0],g=e[1],"string"===typeof f&&(f=g[f]),2<e.length?f.apply(g,e[2]):f.call(g);a.length=0;null!==c&&this.request(c)}});
Ext.define("Ext.util.sizemonitor.Abstract",{mixins:[Ext.mixin.Templatable],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(a){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(a);this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){a.append(this.detectorsContainer);
a.addCls(Ext.baseCSSPrefix+"size-monitored")},applyArgs:function(a){return a.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var a=this.getElement();if(!a||a.destroyed)return!1;var b=
a.getWidth(),a=a.getHeight(),c=this.getContentWidth(),d=this.getContentHeight(),e=this.contentWidth,f=this.contentHeight,g=this.info,h=!1;this.width=b;this.height=a;this.contentWidth=c;this.contentHeight=d;e=(e!==c?1:0)+(f!==d?2:0);0<e&&(g.width=b,g.height=a,g.contentWidth=c,g.contentHeight=d,g.flag=e,h=!0,this.getCallback().apply(this.getScope(),this.getArgs()));return h},refresh:function(a){(this.refreshSize()||a)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var a=this.getElement();
this.bindListeners(!1);a&&!a.destroyed&&a.removeCls(Ext.baseCSSPrefix+"size-monitored");delete this._element;this.callParent()}});
Ext.define("Ext.util.sizemonitor.Scroll",{extend:Ext.util.sizemonitor.Abstract,getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(a){this.onScroll=Ext.Function.bind(this.onScroll,this);this.callParent(arguments)},bindListeners:function(a){a=a?"addEventListener":"removeEventListener";this.expandMonitor[a]("scroll",
this.onScroll,!0);this.shrinkMonitor[a]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var a=this.expandMonitor,b=this.shrinkMonitor;a&&!a.destroyed&&(a.scrollLeft=1E6,a.scrollTop=1E6);b&&!b.destroyed&&(b.scrollLeft=1E6,b.scrollTop=1E6)}});
Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:Ext.util.sizemonitor.Abstract,constructor:function(a){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);this.callParent(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",
children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(a){a=a?"addEventListener":"removeEventListener";this.expandMonitor[a](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0);this.shrinkMonitor[a](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(a){Ext.browser.is.Webkit&&a.horizontalOverflow&&a.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(a){(!Ext.browser.is.Webkit||a.horizontalOverflow||a.verticalOverflow)&&
Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(!this.destroyed){var a=this.expandHelper,b=this.shrinkHelper,c=this.getContentBounds(),d=c.width,c=c.height;a&&!a.destroyed&&(a=a.style,a.width=d+1+"px",a.height=c+1+"px");b&&!b.destroyed&&(a=b.style,a.width=d+"px",a.height=c+"px");Ext.TaskQueue.requestRead("refresh",this)}}});Ext.define("Ext.util.SizeMonitor",{constructor:function(a){var b=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new b.OverflowChange(a):new b.Scroll(a)}});
Ext.define("Ext.event.publisher.ElementSize",{extend:Ext.event.publisher.Publisher,type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};this.callParent(arguments)},subscribe:function(a){var b=a.id,c=this.subscribers,d=this.monitors;c[b]?++c[b]:(c[b]=1,d[b]=new Ext.util.SizeMonitor({element:a,callback:this.onElementResize,scope:this,args:[a]}));a.on("painted","forceRefresh",d[b]);return!0},unsubscribe:function(a){var b=a.id,c=this.subscribers,d=this.monitors;
c[b]&&!--c[b]&&(delete c[b],c=d[b],a.un("painted","forceRefresh",c),c.destroy(),delete d[b])},onElementResize:function(a,b){Ext.TaskQueue.requestRead("fire",this,[a,"resize",[a,b]])}},function(a){a.instance=new a});
Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(a){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(a)},bindListeners:function(a){this.monitorElement[a?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){this.monitorElement=Ext.Element.create({classList:[Ext.baseCSSPrefix+
"paint-monitor",this.monitorClass]},!0);a.appendChild(this.monitorElement);a.addCls(Ext.baseCSSPrefix+"paint-monitored");this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var a=this.monitorElement,b=a.parentNode,c=this.getElement();this.bindListeners(!1);delete this.monitorElement;c&&!c.destroyed&&(c.removeCls(Ext.baseCSSPrefix+"paint-monitored"),delete this._element);b&&b.removeChild(a);this.callParent()}});
Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(a){a.animationName===Ext.baseCSSPrefix+"paint-monitor-helper"&&this.getCallback().apply(this.getScope(),this.getArgs())}});Ext.define("Ext.util.PaintMonitor",{constructor:function(a){return new Ext.util.paintmonitor.CssAnimation(a)}});
Ext.define("Ext.event.publisher.ElementPaint",{extend:Ext.event.publisher.Publisher,type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};this.callParent(arguments)},subscribe:function(a){var b=a.id,c=this.subscribers;c[b]?++c[b]:(c[b]=1,this.monitors[b]=new Ext.util.PaintMonitor({element:a,callback:this.onElementPainted,scope:this,args:[a]}))},unsubscribe:function(a){a=a.id;var b=this.subscribers,c=this.monitors;b[a]&&!--b[a]&&(delete b[a],c[a].destroy(),
delete c[a])},onElementPainted:function(a){Ext.TaskQueue.requestRead("fire",this,[a,"painted",[a]])}},function(a){a.instance=new a});
Ext.define("Ext.dom.Element",function(a){var b=window,c=document,d=/\w/g,e=/\s+/,f=/[\s]+/,g=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,h=/table-row|table-.*-group/,k=/top/i,l={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},m={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},n={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},p=[m.l,m.r,m.t,m.b],q=[l.l,l.r,l.t,l.b],r=/\d+$/,t=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,
u=/(-[a-z])/gi,v=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,w=/^\d+(?:\.\d*)?px$/i,y={},x=function(a,b){return b.charAt(1).toUpperCase()},z=function(a,b){var c,d,e;if(1===a.nodeType&&(a._extData=null,b))for(c=a.childNodes,d=0,e=c.length;d<e;++d)z(c[d],b)},A=Ext.baseCSSPrefix+"hidden-visibility",C=Ext.baseCSSPrefix+"hidden-display",B=Ext.baseCSSPrefix+"hidden-offsets",H=Ext.baseCSSPrefix+"hidden-clip",D=Ext.baseCSSPrefix+"sized",G=Ext.baseCSSPrefix+"unsized",E=Ext.baseCSSPrefix+"stretched",
I=Ext.baseCSSPrefix+"no-touch-scroll",J=0,K=0,F=!1,N=!1,Q,L,M;return{alternateClassName:["Ext.Element"],mixins:[Ext.util.Positionable,Ext.mixin.Observable],observableType:"element",isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(a){var b;"string"===typeof a&&(a=c.getElementById(a));if(!a)return null;
this.dom=a;(b=a.id)?this.id=b:b=a.id=this.getUniqueId();this.el=this;Ext.cache[b]=this;this.mixins.observable.constructor.call(this)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:t,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},addUnits:function(a,b){return"number"===typeof a?a+(b||"px"):""===a||"auto"===a||null==a?a||"":r.test(a)?a+(b||"px"):t.test(a)?a:a||""},create:function(a,
b){var d,e,f,g,h,k;a||(a={});if(a.isElement)return b?a.dom:a;if("nodeType"in a)return b?a:Ext.get(a);if("string"===typeof a)return c.createTextNode(a);(d=a.tag)||(d="div");d=a.namespace?c.createElementNS(a.namespace,d):c.createElement(d);e=d.style;a.hidden&&(f=a.className,a.className=(null==f?"":f+" ")+C,delete a.hidden);for(g in a)if("tag"!==g)switch(f=a[g],g){case "style":if("string"===typeof f)d.setAttribute(g,f);else for(h in f)f.hasOwnProperty(h)&&(e[h]=f[h]);break;case "className":case "cls":d.className=
f;break;case "classList":d.className=f.join(" ");break;case "text":d.textContent=f;break;case "html":d.innerHTML=f;break;case "children":h=0;for(k=f.length;h<k;h++)d.appendChild(this.create(f[h],!0));break;default:null!=f&&d.setAttribute(g,f)}return b?d:this.get(d)},detach:function(){var a=this.dom;a&&a.parentNode&&"BODY"!==a.tagName&&a.parentNode.removeChild(a);return this},fly:function(a,b){return Ext.fly(a,b)},fromPoint:function(a,b){return Ext.get(c.elementFromPoint(a,b))},get:function(d){var e=
Ext.cache,f,g,h,k,l;if(!d)return null;d.isFly&&(d=d.dom);if("string"===typeof d){f=d;if(e.hasOwnProperty(f)){g=e[f];if(g.skipGarbageCollection||!Ext.isGarbage(g.dom))return g;g.destroy()}if("ext-window"===f)return a.get(b);if("ext-document"===f)return a.get(c);if(f=Ext.getElementById?Ext.getElementById(f):c.getElementById(f))return new a(f)}(f=d.nodeType)?(h=9===f,l=this.validNodeTypes[f]):k=d.window==d;if(l||k){f=d.id;if(e.hasOwnProperty(f)){g=e[f];if(g.skipGarbageCollection||d===g.dom||!Ext.isGarbage(g.dom))return g;
g.destroy()}d===c&&(d.id="ext-document");d==b&&(d.id="ext-window");d=new a(d);if(k||h)d.skipGarbageCollection=!0;return d}return d.isElement||d.isComposite?d:Ext.isIterable(d)?this.select(d):null},getActiveElement:function(a){var b=c.activeElement;b&&b.focus||(b=c.body);return a?Ext.get(b):b},getDocumentHeight:function(){return Math.max(Ext.isStrict?c.documentElement.scrollHeight:c.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?c.documentElement.scrollWidth:
c.body.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==b.orientation?"portrait":"landscape":b.innerHeight>b.innerWidth?"portrait":"landscape"},getViewportHeight:function(){var d=a._viewportHeight;return Ext.isIE9m?c.documentElement.clientHeight:null!=d?d:b.innerHeight},getViewportWidth:function(){var d=a._viewportWidth;return Ext.isIE9m?c.documentElement.clientWidth:null!=d?d:b.innerWidth},getViewSize:function(){return{width:a.getViewportWidth(),
height:a.getViewportHeight()}},normalize:function(a){return y[a]||(y[a]=a.replace(u,x))},_onWindowFocusChange:function(b){Ext.fly(b.target).is(a.editableSelector)&&(J=new Date,F="focusin"===b.type||"pointerup"===b.type)},_onWindowResize:function(){var b=window.innerWidth,c=window.innerHeight,d=new Date,e,f;e=b-a._windowWidth;f=c-a._windowHeight;a._windowWidth=b;a._windowHeight=c;(1E3>d-J||1E3>d-K)&&0===e&&F&&f<=-a.minKeyboardHeight?N=!0:(N&&0===e&&f>=a.minKeyboardHeight&&(N=!1,K=new Date),N||(a._viewportWidth=
b,a._viewportHeight=c))},parseBox:function(a){a=a||0;var b=typeof a;if("number"===b)return{top:a,right:a,bottom:a,left:a};if("string"!==b)return a;a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},parseStyles:function(a){var b={},c;if(a)for(v.lastIndex=0;c=v.exec(a);)b[c[1]]=c[2]||"";return b},select:function(a,b,d){return Ext.fly(d||c).select(a,
b)},query:function(a,b,d){return Ext.fly(d||c).query(a,b)},unitizeBox:function(a,b){a=this.parseBox(a);return this.addUnits(a.top,b)+" "+this.addUnits(a.right,b)+" "+this.addUnits(a.bottom,b)+" "+this.addUnits(a.left,b)},serializeForm:function(a){a=a.elements||(c.forms[a]||Ext.getDom(a)).elements;var b=!1,d=encodeURIComponent,e="",f=a.length,g,h,k,l,m,n,p;for(m=0;m<f;m++)if(g=a[m],h=g.name,k=g.type,l=g.options,!g.disabled&&h)if(/select-(one|multiple)/i.test(k))for(n=l.length,k=0;k<n;k++)p=l[k],p.selected&&
(g=p.hasAttribute("value"),e+=Ext.String.format("{0}={1}&",d(h),d(g?p.value:p.text)));else/file|undefined|reset|button/i.test(k)||/radio|checkbox/i.test(k)&&!g.checked||"submit"==k&&b||(e+=d(h)+"="+d(g.value)+"&",b=/submit/i.test(k));return e.substr(0,e.length-1)},getCommonAncestor:function(a,b,c){M=M||new Ext.dom.Fly;for(M.attach(Ext.getDom(a));!M.isAncestor(b);)if(M.dom.parentNode)M.attach(M.dom.parentNode);else{M.attach(document.body);break}return c?M.dom:Ext.get(M)}},addCls:function(a,b,c){var d=
this.getData(),f,g,h,k,l,m;if(!a)return this;d.isSynchronized||this.synchronize();g=this.dom;h=d.classMap;d=d.classList;b=b?b+"-":"";c=c?"-"+c:"";"string"===typeof a&&(a=a.split(e));k=0;for(l=a.length;k<l;k++)if(m=a[k])m=b+m+c,h[m]||(h[m]=!0,d.push(m),f=!0);f&&(g.className=d.join(" "));return this},addStyles:function(a,b){var c=0,e=(a||"").match(d),f,g=e.length,h,k=[];if(1===g)c=Math.abs(parseFloat(this.getStyle(b[e[0]]))||0);else if(g){for(f=0;f<g;f++)h=e[f],k.push(b[h]);k=this.getStyle(k);for(f=
0;f<g;f++)h=e[f],c+=parseFloat(k[b[h]])||0}return c},addUnits:function(b,c){return a.addUnits(b,c)},adjustDirect2DDimension:function(a){var b=this.dom,c=this.getStyle("display"),d=b.style.display,e=b.style.position,f="width"===a?0:1,g=b.currentStyle;"inline"===c&&(b.style.display="inline-block");b.style.position=c.match(h)?"absolute":"static";a=(parseFloat(g[a])||2*parseFloat(g.msTransformOrigin.split(" ")[f]))%1;b.style.position=e;"inline"===c&&(b.style.display=d);return a},animate:function(a){a=
new Ext.fx.Animation(a);a.setElement(this);this._activeAnimation=a;a.on({animationend:this._onAnimationEnd});Ext.Animator.run(a);return a},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(a,b){var c,d,e;if(a.nodeType||a.dom||"string"===typeof a)return a=Ext.getDom(a),this.dom.appendChild(a),b?a:Ext.get(a);if(a.length){c=Ext.fly(document.createDocumentFragment());
d=a.length;for(e=0;e<d;e++)c.appendChild(a[e],b);this.dom.appendChild(c.dom);return b?c.dom:c}return this.createChild(a,null,b)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},applyStyles:function(b){b&&("function"===typeof b&&(b=b.call()),"string"===typeof b&&(b=a.parseStyles(b)),"object"===typeof b&&this.setStyle(b));return this},blur:function(){var a=this.dom;if(a!==c.body){try{a.blur()}catch(b){}return this}return this.focus(void 0,a)},cacheScrollValues:function(){var a=
[],b=[],c,d,e,f;L=L||new Ext.dom.Fly;c=this.query("*");e=0;for(f=c.length;e<f;e++)if(d=c[e],0<d.scrollTop||0!==d.scrollLeft)b.push(d),a.push(L.attach(d).getScroll());return function(){var c,d,e;d=0;for(e=b.length;d<e;d++)c=a[d],L.attach(b[d]),L.setScrollLeft(c.left),L.setScrollTop(c.top)}},center:function(a){return this.alignTo(a||c,"c-c")},child:function(a,b){var c=Ext.get(this).id;return this.selectNode(Ext.makeIdSelector(c)+" > "+a,!!b)},clone:function(a,b){var c=this.dom.cloneNode(a);Ext.supports.CloneNodeCopiesExpando&&
z(c,a);return b?c:Ext.get(c)},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)},createChild:function(a,b,c){a=a||{tag:"div"};return b?Ext.DomHelper.insertBefore(b,a,!0!==c):Ext.DomHelper.append(this.dom,a,!0!==c)},contains:function(a){if(!a)return!1;a=Ext.getDom(a);return a===this.dom||this.isAncestor(a)},destroy:function(){var a=this.dom;
a&&a.parentNode&&a.parentNode.removeChild(a);this.collect();this.isFly||this.callParent()},detach:function(){var a=this.dom;a&&a.parentNode&&"BODY"!==a.tagName&&a.parentNode.removeChild(a);return this},disableShadow:function(){var a=this.shadow;a&&(a.hide(),a.disabled=!0)},disableShim:function(){var a=this.shim;a&&(a.hide(),a.disabled=!0)},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(a){a.preventDefault()},destroyable:!0,delegated:!1})},disableTouchScroll:function(){this.addCls(I);
this.on({touchmove:function(a){a.preventDefault()},translate:!1})},doReplaceWith:function(a){var b=this.dom;b.parentNode.replaceChild(Ext.getDom(a),b)},doScrollIntoView:function(a,b,c,d,e,f){L=L||new Ext.dom.Fly;var g=this.dom;e=L.attach(a)[e]();var h=a.scrollTop,k=this.getScrollIntoViewXY(a,e,h),l=k.x,k=k.y;d&&(c?c=Ext.apply({listeners:{afteranimate:function(){L.attach(g).highlight()}}},c):L.attach(g).highlight());k!==h&&L.attach(a).scrollTo("top",k,c);if(!1!==b&&l!==e)L.attach(a)[f]("left",l,c);
return this},down:function(a,b){return this.selectNode(a,!!b)},enableShadow:function(a,b){var c=this.shadow||(this.shadow=new Ext.dom.Shadow(Ext.apply({target:this},a))),d=this.shim;d&&(d.offsets=c.outerOffsets,d.shadow=c,c.shim=d);!0===b||!1!==b&&this.isVisible()?c.show():c.hide();c.disabled=!1},enableShim:function(a,b){var c=this.shim||(this.shim=new Ext.dom.Shim(Ext.apply({target:this},a))),d=this.shadow;d&&(c.offsets=d.outerOffsets,c.shadow=d,d.shim=c);!0===b||!1!==b&&this.isVisible()?c.show():
c.hide();c.disabled=!1},findParent:function(a,b,d){var e=this.dom,f=c.documentElement,g=0;b||0===b?"number"!==typeof b&&(f=Ext.getDom(b),b=Number.MAX_VALUE):b=50;for(;e&&1===e.nodeType&&g<b&&e!==f;){if(Ext.fly(e).is(a))return d?Ext.get(e):e;g++;e=e.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode);return d?d.findParent(a,b,c):null},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},focus:function(a,b){b=b||this.dom;Number(a)?Ext.defer(this.focus,
a,this,[null,b]):(Ext.GlobalEvents.fireEvent("beforefocus",b),b.focus());return this},collect:function(){var a=this.dom,b=this.shadow,c=this.shim;this.isFly||(this.mixins.observable.destroy.call(this),delete Ext.cache[this.id],this.destroyed=!0,this.el=null);a&&(a._extData=this.dom=null);b&&(b.hide(),this.shadow=null);c&&(c.hide(),this.shim=null)},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getAttribute:function(a,b){var c=this.dom;return b?c.getAttributeNS(b,a)||c.getAttribute(b+
":"+a):c.getAttribute(a)||c[a]||null},getAttributes:function(){var a=this.dom.attributes,b={},c,d,e;d=0;for(e=a.length;d<e;d++)c=a[d],b[c.name]=c.value;return b},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},getById:function(a,b){var d=c.getElementById(a)||this.dom.querySelector(Ext.makeIdSelector(a));return b?d:d?Ext.get(d):null},getBorderPadding:function(){var a=this.getStyle(p),b=this.getStyle(q);return{beforeX:(parseFloat(b[l.l])||0)+(parseFloat(a[m.l])||0),afterX:(parseFloat(b[l.r])||
0)+(parseFloat(a[m.r])||0),beforeY:(parseFloat(b[l.t])||0)+(parseFloat(a[m.t])||0),afterY:(parseFloat(b[l.b])||0)+(parseFloat(a[m.b])||0)}},getBorders:function(){var a=this.getStyle(q);return{beforeX:parseFloat(a[l.l])||0,afterX:parseFloat(a[l.r])||0,beforeY:parseFloat(a[l.t])||0,afterY:parseFloat(a[l.b])||0}},getBorderWidth:function(a){return this.addStyles(a,l)},getData:function(a){var b=this.dom,c;b&&(c=b._extData,c||a||(b._extData=c={}));return c},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},
getHeight:function(a,b){var c,d;if(this.isStyle("display","none"))return 0;c=this.dom.offsetHeight;Ext.supports.Direct2DBug&&(d=this.adjustDirect2DDimension("height"),b?c+=d:0<d&&.5>d&&c++);a&&(c-=this.getBorderWidth("tb")+this.getPadding("tb"));return 0>c?0:c},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a,b=this.getStyle("left");b&&"auto"!==b?w.test(b)?b=parseFloat(b):(b=this.getX(),(a=this.dom.offsetParent)&&
(b-=Ext.fly(a).getX())):b=0;return b},getLocalXY:function(){var a;a=this.getStyle(["left","top"]);var b=a.left,c=a.top;b&&"auto"!==b?w.test(b)?b=parseFloat(b):(b=this.getX(),(a=this.dom.offsetParent)&&(b-=Ext.fly(a).getX())):b=0;c&&"auto"!==c?w.test(c)?c=parseFloat(c):(c=this.getY(),(a=this.dom.offsetParent)&&(c-=Ext.fly(a).getY())):c=0;return[b,c]},getLocalY:function(){var a,b=this.getStyle("top");b&&"auto"!==b?w.test(b)?b=parseFloat(b):(b=this.getY(),(a=this.dom.offsetParent)&&(b-=Ext.fly(a).getY())):
b=0;return b},getMargin:function(){var a={t:"top",l:"left",r:"right",b:"bottom"},b=["margin-top","margin-left","margin-right","margin-bottom"];return function(c){var d,e;if(c)e=this.addStyles(c,n);else if(c=this.getStyle(b),e={},c&&"object"===typeof c)for(d in e={},n)e[d]=e[a[d]]=parseFloat(c[n[d]])||0;return e}}(),getPadding:function(a){return this.addStyles(a,m)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(a){return(a?this.getLocalX():this.getX())+this.getWidth()},
getScroll:function(){var a=this.dom,b=c.documentElement,d,e=document.body;a===c||a===e?(d=b.scrollLeft||(e?e.scrollLeft:0),a=b.scrollTop||(e?e.scrollTop:0)):(d=a.scrollLeft,a=a.scrollTop);return{left:d,top:a}},getScrollIntoViewXY:function(a,b,c){var d=this.dom,e=Ext.getDom(a),f=this.getOffsetsTo(e);a=d.offsetWidth;var d=d.offsetHeight,g=f[0]+b,f=f[1]+c,h=f+d,k=g+a,l=e.clientHeight,e=e.clientWidth,m=b,n=c;d>l||f<n?c=f:h>n+l&&(c=h-l);a>e||g<m?b=g:k>m+e&&(b=k-e);return{x:b,y:c}},getScrollLeft:function(){var a=
this.dom;return a===c||a===document.body?this.getScroll().left:a.scrollLeft},getScrollTop:function(){var a=this.dom;return a===c||a===document.body?this.getScroll().top:a.scrollTop},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},getStyle:function(b,c){var d=this.dom,e="string"!==typeof b,f=this.styleHooks,g=b,h=g,k=1,l,m,n,p;if(e&&(m={},g=h[0],p=0,!(k=h.length)))return m;if(!d||d.documentElement)return m||"";l=d.style;c?n=l:(n=d.ownerDocument.defaultView.getComputedStyle(d,
null),n||(c=!0,n=l));do{(l=f[g])||(f[g]=l={name:a.normalize(g)});l.get?l=l.get(d,this,c,n):(l=l.name,l=n[l]);if(!e)return l;m[g]=l;g=h[++p]}while(p<k);return m},getStyleValue:function(a){return this.dom.style.getPropertyValue(a)},getTop:function(a){return a?this.getLocalY():this.getY()},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},getViewSize:function(){var b=this.dom;return b===c||b===c.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:b.clientWidth,height:b.clientHeight}},
getVisibilityMode:function(){var b=this.getData(),c=b.visibilityMode;void 0===c&&(b.visibilityMode=c=a.DISPLAY);return c},getWidth:function(a,b){var c=this.dom,d;if(this.isStyle("display","none"))return 0;Ext.supports.BoundingClientRect?(c=c.getBoundingClientRect(),c=this.vertical&&!Ext.supports.RotatedBoundingClientRect?c.bottom-c.top:c.right-c.left,c=b?c:Math.ceil(c)):c=c.offsetWidth;Ext.supports.Direct2DBug&&!this.vertical&&(d=this.adjustDirect2DDimension("width"),b?c+=d:0<d&&.5>d&&c++);a&&(c-=
this.getBorderWidth("lr")+this.getPadding("lr"));return 0>c?0:c},getX:function(){return this.getXY()[0]},getXY:function(){var a=Math.round,b=this.dom,d=0,e=0,f;if(b!==c&&b!==c.body){try{f=b.getBoundingClientRect()}catch(g){f={left:0,top:0}}d=a(f.left);e=a(f.top);a=Ext.getDoc().getScroll();d+=a.left;e+=a.top}return[d,e]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(a){var b=this.getData();b.isSynchronized||this.synchronize();
return b.classMap.hasOwnProperty(a)},hide:function(){this.setVisible(!1);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertFirst:function(a,b){a=a||{};return a.nodeType||a.dom||"string"===typeof a?(a=Ext.getDom(a),this.dom.insertBefore(a,this.dom.firstChild),b?a:Ext.get(a)):this.createChild(a,this.dom.firstChild,b)},insertHtml:function(a,
b,c){a=Ext.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(a):a},insertSibling:function(a,b,c){var d=Ext.DomHelper;b="after"===(b||"before").toLowerCase();var e,f,g;if(Ext.isIterable(a)){f=a.length;d=Ext.fly(document.createDocumentFragment());if(Ext.isArray(a))for(g=0;g<f;g++)e=d.appendChild(a[g],c);else{for(g=0;g<f;g++)d.dom.appendChild(e=a[0]);!1===c&&(e=Ext.get(e))}this.dom.parentNode.insertBefore(d.dom,b?this.dom.nextSibling:this.dom);return e}a=a||{};a.nodeType||a.dom?(e=this.dom.parentNode.insertBefore(Ext.getDom(a),
b?this.dom.nextSibling:this.dom),c||(e=Ext.get(e))):e=b&&!this.dom.nextSibling?d.append(this.dom.parentNode,a,!c):d[b?"insertAfter":"insertBefore"](this.dom,a,!c);return e},is:function(a){var b=this.dom;return a?b.tagName?Ext.isFunction(a)?a(b):b[Ext.supports.matchesSelector](a):!1:!0},isAncestor:function(a){var b=!1,c=this.dom;a=Ext.getDom(a);if(c&&a){if(c.contains)return c.contains(a);if(c.compareDocumentPosition)return!!(c.compareDocumentPosition(a)&16);for(;a=a.parentNode;)b=a===c||b}return b},
isPainted:function(){return Ext.browser.is.IE?function(){var a=this.dom;return!(!a||0===a.offsetHeight||0===a.offsetWidth)}:function(){var a=this.dom;return!(!a||!a.offsetParent)}}(),isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},isStyle:function(a,b){return this.getStyle(a)===b},isVisible:function(a){var b=this.dom,c;if(!b)return!1;Q||(Q=new Ext.dom.Fly);for(c=b.ownerDocument.documentElement;b!==c;b=b.parentNode){if(!b||11===b.nodeType||
Q.attach(b).isStyle("visibility","hidden")||Q.isStyle("display","none"))return!1;if(!a)break}return!0},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},maskIframes:function(){var a=document.getElementsByTagName("iframe");Ext.each(a,function(a){Ext.fly(a.parentNode).mask().setStyle("background-color","transparent")})},matchNode:function(a,b,c,d){var e=this.dom;if(!e)return null;for(b=e[b];b;){if(1===b.nodeType&&(!c||Ext.fly(b,"_matchNode").is(c)))return d?b:Ext.get(b);b=
b[a]}return null},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},position:function(a,b,c,d){"BODY"!==this.dom.tagName&&(!a&&this.isStyle("position","static")?this.setStyle("position","relative"):a&&this.setStyle("position",a),b&&this.setStyle("z-index",b),(c||d)&&this.setXY([c||!1,d||!1]))},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},query:function(a,b,c){var d=
this.dom,e,f,g,h,k,l;if(!d)return null;b=!1!==b;a=a.split(",");c||(e=[]);k=0;for(f=a.length;k<f;k++)if("string"===typeof a[k]){if(c)return a=d.querySelector(a[k]),b?a:Ext.get(a);h=d.querySelectorAll(a[k]);l=0;for(g=h.length;l<g;l++)e.push(b?h[l]:Ext.get(h[l]))}return e},radioCls:function(a){var b=this.dom.parentNode.childNodes,c;a=Ext.isArray(a)?a:[a];for(var d=0,e=b.length;d<e;d++)(c=b[d])&&1===c.nodeType&&Ext.fly(c).removeCls(a);return this.addCls(a)},redraw:function(){var a=this.dom,b=a.style;
b.display="none";a.offsetHeight;b.display=""},remove:function(){this.destroy()},removeChild:function(a){this.dom.removeChild(Ext.getDom(a));return this},removeCls:function(a,b,c){var d=this.getData(),f,g,h,k,l,m;if(!a)return this;d.isSynchronized||this.synchronize();g=this.dom;h=d.classMap;d=d.classList;b=b?b+"-":"";c=c?"-"+c:"";"string"===typeof a&&(a=a.split(e));k=0;for(l=a.length;k<l;k++)if(m=a[k])m=b+m+c,h[m]&&(delete h[m],Ext.Array.remove(d,m),f=!0);f&&(g.className=d.join(" "));return this},
repaint:function(){var a=this;a.addCls(Ext.baseCSSPrefix+"repaint");Ext.defer(function(){a.dom&&Ext.fly(a.dom).removeCls(Ext.baseCSSPrefix+"repaint")},1);return a},replace:function(a,b){a=Ext.getDom(a);var c=a.parentNode,d=a.id,e=this.dom;!1!==b&&d&&Ext.cache[d]?(c.insertBefore(e,a),Ext.get(a).destroy()):c.replaceChild(e,a);return this},replaceCls:function(a,b,c,d){var f,g,h,k,l,m=this.getData(),n;if(!a&&!b)return this;a=a||[];b=b||[];m.isSynchronized||this.synchronize();d||(d="");f=this.dom;g=m.classMap;
c=c?c+"-":"";d=d?"-"+d:"";"string"===typeof a&&(a=a.split(e));"string"===typeof b&&(b=b.split(e));h=0;for(k=a.length;h<k;h++)l=c+a[h]+d,g[l]&&(delete g[l],n=!0);h=0;for(k=b.length;h<k;h++)l=c+b[h]+d,g[l]||(n=g[l]=!0);n&&(m.classList=a=Ext.Object.getKeys(g),f.className=a.join(" "));return this},replaceWith:function(a){var b=this.dom,c=b.parentNode,d=Ext.cache;this.clearListeners();a.nodeType||a.dom||"string"===typeof a?(a=Ext.get(a),a=c.insertBefore(a.dom,b)):a=Ext.DomHelper.insertBefore(b,a);c.removeChild(b);
this.dom=a;this.isFly||(delete d[this.id],d[this.id=Ext.id(a)]=this);return this},resolveListenerScope:function(a){var b=this.component;return b?b.resolveListenerScope(a):this},scroll:function(a,b,c){if(!this.isScrollable())return!1;a=a.charAt(0);var d=this.dom,e="r"===a||"l"===a?"left":"top",f=!1;if("l"===a||"t"===a||"u"===a)b=-b;"left"===e?(a=d.scrollLeft,b=this.constrainScrollLeft(a+b)):(a=d.scrollTop,b=this.constrainScrollTop(a+b));b!==a&&(this.scrollTo(e,b,c),f=!0);return f},scrollBy:function(a,
b,c){var d=this.dom;a.length?(c=b,b=a[1],a=a[0]):"number"!=typeof a&&(c=b,b=a.y,a=a.x);a&&this.scrollTo("left",this.constrainScrollLeft(d.scrollLeft+a),c);b&&this.scrollTo("top",this.constrainScrollTop(d.scrollTop+b),c);return this},scrollChildIntoView:function(a,b){Ext.fly(a).scrollIntoView(this,b)},scrollIntoView:function(a,b,c,d){a=Ext.getDom(a)||Ext.getBody().dom;return this.doScrollIntoView(a,b,c,d,"getScrollLeft","scrollTo")},scrollTo:function(a,b,c){a=k.test(a)?"scrollTop":"scrollLeft";var d=
this.dom;c&&this.anim?(d={to:{}},d.to[a]=b,Ext.isObject(c)&&Ext.applyIf(d,c),this.animate(d)):(d[a]=b,d[a]=b);return this},select:function(a,b){var c,d;"string"===typeof a?d=this.query(a,!b):(d=a,c=!0);return b?new Ext.CompositeElement(d,!c):new Ext.CompositeElementLite(d,!0)},selectNode:function(a,b){return this.query(a,b,!0)},set:function(a,b){var c=this.dom,d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],"style"===d?this.applyStyles(e):"cls"===d?c.className=e:!1!==b?void 0===e?c.removeAttribute(d):
c.setAttribute(d,e):c[d]=e);return this},setBottom:function(b){this.dom.style.bottom=a.addUnits(b);return this},setCls:function(a){var b=this.getData(),c,d;b.isSynchronized||this.synchronize();"string"===typeof a&&(a=a.split(e));b.classList=a=a.slice();b.classMap=d={};b=0;for(c=a.length;b<c;b++)d[a[b]]=!0;this.dom.className=a.join(" ")},setDisplayed:function(a){"boolean"===typeof a&&(a=a?this._getDisplay():"none");this.setStyle("display",a);(this.shadow||this.shim)&&this.setUnderlaysVisible("none"!==
a);return this},setHeight:function(b){this.dom.style.height=a.addUnits(b);(this.shadow||this.shim)&&this.syncUnderlays();return this},setHtml:function(a){this.dom&&(this.dom.innerHTML=a);return this},setId:function(a){var b=this.id,c=Ext.cache;b&&delete c[b];this.id=this.dom.id=a;c[a]=this;return this},setLeft:function(b){this.dom.style.left=a.addUnits(b);(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocalX:function(a){var b=this.dom.style;b.right="auto";b.left=null===a?"auto":a+
"px";(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocalXY:function(a,b){var c=this.dom.style;c.right="auto";a&&a.length&&(b=a[1],a=a[0]);null===a?c.left="auto":void 0!==a&&(c.left=a+"px");null===b?c.top="auto":void 0!==b&&(c.top=b+"px");(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocalY:function(a){this.dom.style.top=null===a?"auto":a+"px";(this.shadow||this.shim)&&this.syncUnderlays();return this},setMargin:function(a){var b=this.dom.style;a||0===a?(a=this.self.unitizeBox(!0===
a?5:a),b.setProperty("margin",a,"important")):(b.removeProperty("margin-top"),b.removeProperty("margin-right"),b.removeProperty("margin-bottom"),b.removeProperty("margin-left"))},setMaxHeight:function(b){this.dom.style["max-height"]=a.addUnits(b);return this},setMaxWidth:function(b){this.dom.style["max-width"]=a.addUnits(b);return this},setMinHeight:function(b){this.dom.style["min-height"]=a.addUnits(b);return this},setMinWidth:function(b){this.dom.style["min-width"]=a.addUnits(b);return this},setOpacity:function(a){this.dom&&
this.setStyle("opacity",a);return this},setPadding:function(a){var b=this.dom.style;a||0===a?(a=this.self.unitizeBox(!0===a?5:a),b.setProperty("padding",a,"important")):(b.removeProperty("padding-top"),b.removeProperty("padding-right"),b.removeProperty("padding-bottom"),b.removeProperty("padding-left"))},setRight:function(b){this.dom.style.right=a.addUnits(b);return this},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},setSize:function(b,
c){var d=this.dom.style;Ext.isObject(b)&&(c=b.height,b=b.width);d.width=a.addUnits(b);d.height=a.addUnits(c);(this.shadow||this.shim)&&this.syncUnderlays();return this},setSizeState:function(a){var b;!0===a?(b=D,a=[G,E]):!1===a?(b=G,a=[D,E]):null===a?(b=E,a=[D,G]):a=[D,G,E];b&&this.addCls(b);this.removeCls(a);return this},setStyle:function(b,c){var d=this.dom,e=this.styleHooks,f=d.style,g=b,h;if("string"===typeof g)(h=e[g])||(e[g]=h={name:a.normalize(g)}),c=null==c?"":c,h.set?h.set(d,c,this):f[h.name]=
c,h.afterSet&&h.afterSet(d,c,this);else for(g in b)b.hasOwnProperty(g)&&((h=e[g])||(e[g]=h={name:a.normalize(g)}),c=b[g],c=null==c?"":c,h.set?h.set(d,c,this):f[h.name]=c,h.afterSet&&h.afterSet(d,c,this));return this},setText:function(a){this.dom.textContent=a},setTop:function(b){this.dom.style.top=a.addUnits(b);(this.shadow||this.shim)&&this.syncUnderlays();return this},setUnderlaysVisible:function(a){var b=this.shadow,c=this.shim;b&&!b.disabled&&(a?b.show():b.hide());c&&!c.disabled&&(a?c.show():
c.hide())},setVisibility:function(a){var b=this.dom.style;a?b.removeProperty("visibility"):b.setProperty("visibility","hidden","important")},setVisibilityMode:function(a){this.getData().visibilityMode=a;return this},setVisible:function(b){var c=this.getVisibilityMode(),d=b?"removeCls":"addCls";switch(c){case a.DISPLAY:this.removeCls([A,B,H]);this[d](C);break;case a.VISIBILITY:this.removeCls([C,B,H]);this[d](A);break;case a.OFFSETS:this.removeCls([A,C,H]);this[d](B);break;case a.CLIP:this.removeCls([A,
C,B]),this[d](H)}(this.shadow||this.shim)&&this.setUnderlaysVisible(b);return this},setWidth:function(b){this.dom.style.width=a.addUnits(b);(this.shadow||this.shim)&&this.syncUnderlays();return this},setX:function(a){return this.setXY([a,!1])},setXY:function(a){a=this.translatePoints(a);var b=this.dom.style,c;this.position();b.right="auto";for(c in a)isNaN(a[c])||(b[c]=a[c]+"px");(this.shadow||this.shim)&&this.syncUnderlays();return this},setY:function(a){return this.setXY([!1,a])},setZIndex:function(a){this.shadow&&
this.shadow.setZIndex(a);this.shim&&this.shim.setZIndex(a);return this.setStyle("z-index",a)},show:function(){this.setVisible(!0);return this},swapCls:function(a,b,c,d){void 0===c&&(c=!0);var e=c?a:b;(a=c?b:a)&&this.removeCls(d?d+"-"+a:a);e&&this.addCls(d?d+"-"+e:e);return this},synchronize:function(){var a=this.dom,b={},c=a.className,d,e,g=this.getData();if(c&&0<c.length)for(a=a.className.split(f),c=0,d=a.length;c<d;c++)e=a[c],b[e]=!0;else a=[];g.classList=a;g.classMap=b;g.isSynchronized=!0;return this},
syncUnderlays:function(){var a=this.shadow,b=this.shim,c=this.dom,d,e,f;this.isVisible()&&(d=this.getXY(),e=d[0],d=d[1],f=c.offsetWidth,c=c.offsetHeight,a&&!a.hidden&&a.realign(e,d,f,c),b&&!b.hidden&&b.realign(e,d,f,c))},toggleCls:function(a,b){"boolean"!==typeof b&&(b=!this.hasCls(a));return b?this.addCls(a):this.removeCls(a)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var a="webkitTransform"in c.createElement("div").style?"webkitTransform":"transform";
return function(b,c,d){this.dom.style[a]="translate3d("+(b||0)+"px, "+(c||0)+"px, "+(d||0)+"px)"}}(),unmaskIframes:function(){var a=document.getElementsByTagName("iframe");Ext.each(a,function(a){Ext.fly(a.parentNode).unmask()})},unwrap:function(){var a=this.dom,b=a.parentNode,c,d=Ext.fly(Ext.Element.getActiveElement()),e,f,g,h;(e=Ext.cache[d.id])&&(d=e);this.contains(d)&&(e&&e.suspendFocusEvents(),f=!0);b?(c=b.parentNode,f&&(h=c.getAttribute("tabIndex"),g=Ext.fly(c),g.set({tabIndex:-1}),g.suspendFocusEvents(),
g.focus()),c.insertBefore(a,b),c.removeChild(b)):(c=document.createDocumentFragment(),c.appendChild(a));f&&(e?(e.focus(),e.resumeFocusEvents()):Ext.fly(d).focus(),g&&(g.resumeFocusEvents(),g.set({tabIndex:h})));return this},up:function(a,b,c){return this.findParentNode(a,b,!c)},update:function(a){return this.setHtml(a)},wrap:function(a,b,c){var d=this.dom,e=a=Ext.DomHelper.insertBefore(d,a||{tag:"div"},!b),f=Ext.Element.getActiveElement(),g,h,k;(g=Ext.cache[f.id])&&(f=g);c&&(e=a.selectNode(c,b));
this.contains(f)&&(g&&g.suspendFocusEvents(),k=a.dom.getAttribute("tabIndex"),a.set({tabIndex:-1}),a.suspendFocusEvents(),a.focus(),h=!0);e.appendChild(d);h&&(g?(g.focus(),g.resumeFocusEvents()):Ext.fly(f).focus(),a.resumeFocusEvents(),a.set({tabIndex:k}));return a},privates:{doAddListener:function(b,c,d,e,f,g,h){var k,l;b=Ext.canonicalEventName(b);if(!this.blockedEvents[b]){k=this.mixins.observable.doAddListener;e=e||{};this.longpressEvents[b]&&this.disableTouchContextMenu();!1===a.useDelegatedEvents&&
(e.delegated=e.delegated||!1);if(!1!==e.translate){if(l=this.additiveEvents[b])e.type=b,b=l,k.call(this,b,c,d,e,f,g,h);if(l=this.eventMap[b])e.type=e.type||b,b=l}k.call(this,b,c,d,e,f,g,h);delete e.type}},doRemoveListener:function(a,b,c){var d,e;if(!this.blockedEvents[a]){d=this.mixins.observable.doRemoveListener;this.longpressEvents[a]&&(e=this._contextMenuListenerRemover)&&e.destroy();if(e=this.additiveEvents[a])a=e,d.call(this,a,b,c);(e=this.eventMap[a])&&d.call(this,e,b,c);d.call(this,a,b,c)}},
_initEvent:function(a){return this.events[a]=new Ext.dom.ElementEvent(this,a)},_getDisplay:function(){var a=this.getData(),b=a.originalDisplay;void 0===b&&(a.originalDisplay=b="");return b},_getPublisher:function(a){var b=Ext.event.publisher.Publisher,c=b.publishersByEvent[a];if(!c||this.dom===window&&"resize"===a)c=b.publishers.dom;return c},isFocusSuspended:function(){return!!this.getData().suspendFocusEvents},suspendFocusEvents:function(){this.isFly||this.suspendEvent("focus","blur");this.getData().suspendFocusEvents=
!0},resumeFocusEvents:function(){function a(){var b;if(!this.destroyed){if(b=this.getData())b.suspendFocusEvents=!1;this.isFly||this.resumeEvent("focus","blur")}}!this.destroyed&&this.getData().suspendFocusEvents&&(Ext.isIE?Ext.asap(a,this):a.call(this))}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(b){var c=this.dom,d="BODY"===c.nodeName,e=d?a.getViewportWidth():c.offsetWidth,c=d?a.getViewportHeight():c.offsetHeight,f=
this.getXY(),d=f[1],g=f[0]+e,h=f[1]+c,f=f[0];return b?new Ext.util.Region(d,g,h,f):{left:f,top:d,width:e,height:c,right:g,bottom:h}},getScrollParent:null,isDescendent:null,isTransparent:function(a){return(a=this.getStyle(a))?g.test(a):!1},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(a){var b=document,c=a.prototype,d=Ext.supports,e=c.eventMap={},f=c.additiveEvents={},g=Ext.id;Ext.id=function(b,c){var d=Ext.getDom(b,!0),e,f;d?
(f=d.id)||(f=g(null,c||a.prototype.identifiablePrefix),Ext.isSandboxed&&(e=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"),f=e+f),d.id=f):f=g(b,c);return f};d.PointerEvents?(e.mousedown="pointerdown",e.mousemove="pointermove",e.mouseup="pointerup",e.touchstart="pointerdown",e.touchmove="pointermove",e.touchend="pointerup",e.touchcancel="pointercancel",e.click="tap",e.dblclick="doubletap",e.mouseover="pointerover",e.mouseout="pointerout",e.mouseenter="pointerenter",e.mouseleave=
"pointerleave"):d.MSPointerEvents?(e.pointerdown="MSPointerDown",e.pointermove="MSPointerMove",e.pointerup="MSPointerUp",e.pointercancel="MSPointerCancel",e.mousedown="MSPointerDown",e.mousemove="MSPointerMove",e.mouseup="MSPointerUp",e.touchstart="MSPointerDown",e.touchmove="MSPointerMove",e.touchend="MSPointerUp",e.touchcancel="MSPointerCancel",e.click="tap",e.dblclick="doubletap",e.mouseover="MSPointerOver",e.mouseout="MSPointerOut"):d.TouchEvents?(e.pointerdown="touchstart",e.pointermove="touchmove",
e.pointerup="touchend",e.pointercancel="touchcancel",e.mousedown="touchstart",e.mousemove="touchmove",e.mouseup="touchend",e.click="tap",e.dblclick="doubletap",Ext.isWebKit&&Ext.os.is.Desktop&&(e.touchstart="mousedown",e.touchmove="mousemove",e.touchend="mouseup",e.touchcancel="mouseup",f.mousedown="mousedown",f.mousemove="mousemove",f.mouseup="mouseup",f.touchstart="touchstart",f.touchmove="touchmove",f.touchend="touchend",f.touchcancel="touchcancel",f.pointerdown="mousedown",f.pointermove="mousemove",
f.pointerup="mouseup",f.pointercancel="mouseup")):(e.pointerdown="mousedown",e.pointermove="mousemove",e.pointerup="mouseup",e.pointercancel="mouseup",e.touchstart="mousedown",e.touchmove="mousemove",e.touchend="mouseup",e.touchcancel="mouseup");Ext.isWebKit&&(e.transitionend=Ext.browser.getVendorProperyName("transitionEnd"),e.animationstart=Ext.browser.getVendorProperyName("animationStart"),e.animationend=Ext.browser.getVendorProperyName("animationEnd"));Ext.supports.MouseWheel||Ext.isOpera||(e.mousewheel=
"DOMMouseScroll");d=c.$eventOptions=Ext.Object.chain(c.$eventOptions);d.translate=d.capture=d.delegate=d.delegated=d.stopEvent=d.preventDefault=d.stopPropagation=d.element=1;c.styleHooks.opacity={name:"opacity",afterSet:function(a,b,c){(a=c.shadow)&&a.setOpacity(b)}};c.getTrueXY=c.getXY;Ext.select=a.select;Ext.query=a.query;Ext.apply(Ext,{get:function(b){return a.get(b)},getDom:function(a){return a&&b?"string"===typeof a?Ext.getElementById(a):"dom"in a?a.dom:a:null},getBody:function(){if(!Ext._bodyEl){if(!b.body)throw Error("[Ext.getBody] document.body does not yet exist");
Ext._bodyEl=Ext.get(b.body)}return Ext._bodyEl},getHead:function(){Ext._headEl||(Ext._headEl=Ext.get(b.head||b.getElementsByTagName("head")[0]));return Ext._headEl},getDoc:function(){Ext._docEl||(Ext._docEl=Ext.get(b));return Ext._docEl},getWin:function(){Ext._winEl||(Ext._winEl=Ext.get(window));return Ext._winEl},removeNode:function(a){a=a.dom||a;var b=Ext.cache[a&&a.id];b?b.destroy():!a||3!==a.nodeType&&"BODY"===a.tagName.toUpperCase()||(b=a.parentNode)&&b.removeChild(a)}});Ext.isGarbage=function(a){return a&&
1===a.nodeType&&"BODY"!==a.tagName&&"HTML"!==a.tagName&&(!a.parentNode||!a.offsetParent&&(Ext.isIE8?b.all[a.id]:b.getElementById(a.id))!==a&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(a)))};if(Ext.os.is.Android||Ext.os.is.Windows&&Ext.supports.Touch)Ext.onReady(function(){var b=Ext.getWin();a._windowWidth=a._viewportWidth=window.innerWidth;a._windowHeight=a._viewportHeight=window.innerHeight;b.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",
capture:!0,delegated:!1,delay:1,scope:a});b.on({resize:"_onWindowResize",priority:2E3,scope:a})})});
Ext.define("Ext.dom.Fly",{extend:Ext.dom.Element,alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(a){this.dom=a;this.el=this},attach:function(a){if(!a)return this.detach();this.dom=a;Ext.cache[a.id]||(this.getData().isSynchronized=!1);return this},detach:function(){this.dom=null},addListener:null,removeListener:null},function(a){var b={};a.cache=b;Ext.fly=function(c,d){var e=null,f=Ext.fly;d=d||f.caller&&f.caller.$name||"_global";if(c=Ext.getDom(c))if(f=
c.nodeType,a.prototype.validNodeTypes[f]||!f&&c.window==c)if(e=Ext.cache[c.id],!e||e.dom!==c)if(e=b[d]||(b[d]=new a),e.dom=c,f=e.getData(!0))f.isSynchronized=!1;return e}});
Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var a=this.prototype;Ext.Object.each(Ext.dom.Element.prototype,function(b,c){"function"!==typeof c||a[b]||(a[b]=function(){return this.invoke(b,arguments)})})}},constructor:function(a,b){b?this.elements=a||[]:(this.elements=[],this.add(a))},getElement:function(a){return(this._fly||(this._fly=new Ext.dom.Fly)).attach(a)},transformElement:function(a){return Ext.getDom(a)},
getCount:function(){return this.elements.length},add:function(a,b){var c=this.elements,d,e;if(!a)return this;"string"==typeof a?a=Ext.fly(b||document).query(a):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);d=0;for(e=a.length;d<e;++d)c.push(this.transformElement(a[d]));return this},invoke:function(a,b){var c=this.elements,d=c.length,e,f,g;if(0!==g)for(e=(this.isLite?Ext.dom.Fly:Ext.dom.Element).prototype,g=0;g<d;g++)(f=c[g])&&e[a].apply(this.getElement(f),b);return this},item:function(a){a=
this.elements[a];var b=null;a&&(b=this.getElement(a));return b},slice:function(a,b){return Ext.Array.slice(this.elements,a,b)},each:function(a,b){var c=this.elements,d=c.length,e,f;for(e=0;e<d;e++)if(f=c[e])if(f=this.getElement(f),!1===a.call(b||f,f,this,e))break;return this},fill:function(a){this.elements=[];this.add(a);return this},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(a){for(var b=this.elements,c=b.length,d=[],e=0,f="function"==typeof a,g,h;e<c;e++)if(h=b[e])h=
this.getElement(h),(g=f?!1!==a.call(h,h,this,e):h.is(a))&&d.push(this.transformElement(h));this.elements=d;return this},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){a=isNaN(a)?this.indexOf(a):a;-1<a&&(b=Ext.getDom(b),c&&(c=this.elements[a],c.parentNode.insertBefore(b,c),Ext.removeNode(c)),Ext.Array.splice(this.elements,a,1,b));return this},clear:function(a){var b=this.elements,c=b.length-1;if(a)for(;0<=c;c--)Ext.removeNode(b[c]);
this.elements=[]},addElements:function(a,b){if(!a)return this;"string"===typeof a&&(a=Ext.dom.Element.selectorFunction(a,b));var c=this.elements,d=a.length,e;for(e=0;e<d;e++)c.push(Ext.get(a[e]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(a,b){a=[].concat(a);var c=this.elements,d=a.length,e,f,g;for(g=0;g<d;g++)if(e=a[g],f=c[e]||c[e=this.indexOf(e)])b&&(f.dom?f.destroy():
Ext.removeNode(f)),Ext.Array.erase(c,e,1);return this},destroy:function(){return this.invoke("destroy",arguments)}},function(a){var b=a.prototype;a.importElementMethods();b.on=b.addListener});
Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,disableOnEmpty:!1,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(a){return a?function(b){var c=a.isCollection?a.items:a,d=c.length,e=!0,f,g;for(f=0;e&&f<d;f++)g=c[f],g.getDisabled()||(e=g.filter(b));return e}:Ext.returnTrue},isInvalid:function(a){if(!a.filterFn){if(!a.property)return"A Filter requires either a property or a filterFn to be set";
if(!a.hasOwnProperty("value")&&!a.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(a){this.initConfig(a)},preventConvert:{"in":1,notin:1},filter:function(a){var b=this._filterFn||this.getFilterFn(),c=this.getConvert(),d=this._value;this._filterValue=d;if(this.isDateValue=Ext.isDate(d))this.dateValue=d.getTime();c&&!this.preventConvert[this.getOperator()]&&(this._filterValue=c.call(this.scope||this,d));return b.call(this.scope||
this,a)},getId:function(){var a=this._id;a||((a=this.getProperty())||(a=Ext.id(null,"ext-filter-")),this._id=a);return a},getFilterFn:function(){var a=this._filterFn;a||(this._filterFn=a=(a=this.getOperator())?this.operatorFns[a]:this.createRegexFilter());return a},createRegexFilter:function(){var a=this,b=!!a.getAnyMatch(),c=!!a.getExactMatch(),d=a.getValue(),e=Ext.String.createRegex(d,!b,!b&&c,!a.getCaseSensitive());return function(b){b=a.getPropertyValue(b);return e?e.test(b):null==b}},getPropertyValue:function(a){var b=
this._root;return(null==b?a:a[b])[this._property]},getState:function(){var a=this.getInitialConfig(),b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);delete b.root;b.value=this.getValue();return b},getScope:function(){return this.scope},serialize:function(){var a=this.getState(),b=this.getSerializer();delete a.id;delete a.serializer;b&&b.call(this,a);return a},updateOperator:function(){this._filterFn=null},updateValue:function(a){this._filterFn=null;this.getDisableOnEmpty()&&this.setDisabled(Ext.isEmpty(a))},
updateDisableOnEmpty:function(a){var b=!1;a&&(b=Ext.isEmpty(this.getValue()));this.setDisabled(b)},privates:{getCandidateValue:function(a,b,c){var d=this._convert;a=this.getPropertyValue(a);d?a=d.call(this.scope||this,a):c||(a=Ext.coerce(a,b));return a}}},function(){var a=this.prototype.operatorFns={"<":function(a){var c=this._filterValue;return this.getCandidateValue(a,c)<c},"<=":function(a){var c=this._filterValue;return this.getCandidateValue(a,c)<=c},"=":function(a){var c=this._filterValue;a=
this.getCandidateValue(a,c);this.isDateValue&&a instanceof Date&&(a=a.getTime(),c=this.dateValue);return a==c},"===":function(a){var c=this._filterValue;a=this.getCandidateValue(a,c,!0);this.isDateValue&&a instanceof Date&&(a=a.getTime(),c=this.dateValue);return a===c},">=":function(a){var c=this._filterValue;return this.getCandidateValue(a,c)>=c},">":function(a){var c=this._filterValue;return this.getCandidateValue(a,c)>c},"!=":function(a){var c=this._filterValue;a=this.getCandidateValue(a,c);this.isDateValue&&
a instanceof Date&&(a=a.getTime(),c=this.dateValue);return a!=c},"!==":function(a){var c=this._filterValue;a=this.getCandidateValue(a,c,!0);this.isDateValue&&a instanceof Date&&(a=a.getTime(),c=this.dateValue);return a!==c},"in":function(a){var c=this._filterValue;return Ext.Array.contains(c,this.getCandidateValue(a,c))},notin:function(a){var c=this._filterValue;return!Ext.Array.contains(c,this.getCandidateValue(a,c))},like:function(a){var c=this._filterValue;return c&&-1<this.getCandidateValue(a,
c).toLowerCase().indexOf(c.toLowerCase())}};a["=="]=a["="];a.gt=a[">"];a.ge=a[">="];a.lt=a["<"];a.le=a["<="];a.eq=a["="];a.ne=a["!="]});Ext.define("Ext.util.Observable",{extend:Ext.mixin.Observable,$applyConfigs:!0},function(a){var b=Ext.mixin.Observable;a.releaseCapture=b.releaseCapture;a.capture=b.capture;a.captureArgs=b.captureArgs;a.observe=a.observeClass=b.observe});
Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(a,b){1===arguments.length&&Ext.isObject(a)?(this.initialConfig=a,Ext.apply(this,a)):(this.allowFunctions=!0===a,b&&(this.getKey=b),this.initialConfig={allowFunctions:this.allowFunctions,getKey:this.getKey});this.items=[];this.map={};this.keys=[];this.indexMap={};this.length=0;this.mixins.observable.constructor.call(this)},destroy:function(){this.items=
this.map=this.keys=this.indexMap=null;this.callParent()},allowFunctions:!1,add:function(a,b){var c=this.length;return 1===arguments.length?this.insert(c,a):this.insert(c,a,b)},getKey:function(a){return a.id},replace:function(a,b){var c,d;1==arguments.length&&(b=arguments[0],a=this.getKey(b));c=this.map[a];if("undefined"==typeof a||null===a||"undefined"==typeof c)return this.add(a,b);this.generation++;d=this.indexOfKey(a);this.items[d]=b;this.map[a]=b;this.hasListeners.replace&&this.fireEvent("replace",
a,c,b);return b},reorder:function(a){var b=this.items,c,d=b.length,e=[],f=[];this.suspendEvents();for(c in a)e[a[c]]=b[c];for(c=0;c<d;c++)void 0==a[c]&&f.push(b[c]);for(c=0;c<d;c++)void 0==e[c]&&(e[c]=f.shift());this.clear();this.addAll(e);this.resumeEvents()},updateKey:function(a,b){var c=this.map,d=this.indexOfKey(a),e=this.indexMap,f;-1<d&&(f=c[a],delete c[a],delete e[a],c[b]=f,e[b]=d,this.keys[d]=b,this.indexGeneration=++this.generation)},addAll:function(a){var b;if(1<arguments.length||Ext.isArray(a))this.insert(this.length,
1<arguments.length?arguments:a);else for(b in a)a.hasOwnProperty(b)&&(this.allowFunctions||"function"!=typeof a[b])&&this.add(b,a[b])},each:function(a,b){for(var c=Ext.Array.push([],this.items),d=0,e=c.length,f;d<e&&(f=c[d],!1!==a.call(b||f,f,d,e));d++);},eachKey:function(a,b){for(var c=this.keys,d=this.items,e=0,f=c.length;e<f;e++)a.call(b||window,c[e],d[e],e,f)},findBy:function(a,b){for(var c=this.keys,d=this.items,e=0,f=d.length;e<f;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},find:function(){Ext.isDefined(Ext.global.console)&&
Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.");return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;Ext.isIterable(b)?d=this.doInsert(a,b,c):(d=2<arguments.length?this.doInsert(a,[b],[c]):this.doInsert(a,[b]),d=d[0]);return d},doInsert:function(a,b,c){var d,e,f,g=b.length,h=g,k=this.hasListeners.add,l={},m;if(null!=c)this.useLinearSearch=!0;else for(c=b,b=Array(g),f=0;f<g;f++)b[f]=this.getKey(c[f]);this.suspendEvents();for(f=0;f<
g;f++)d=b[f],e=this.indexOfKey(d),-1!==e&&(e<a&&a--,this.removeAt(e)),null!=d&&(null!=l[d]&&(m=!0,h--),l[d]=f);this.resumeEvents();if(m){g=b;e=c;b=Array(h);c=Array(h);f=0;for(d in l)b[f]=g[l[d]],c[f]=e[l[d]],f++;g=h}h=a===this.length&&this.indexGeneration===this.generation;Ext.Array.insert(this.items,a,c);Ext.Array.insert(this.keys,a,b);this.length+=g;this.generation++;h&&(this.indexGeneration=this.generation);for(f=0;f<g;f++,a++)d=b[f],null!=d&&(this.map[d]=c[f],h&&(this.indexMap[d]=a)),k&&this.fireEvent("add",
a,c[f],d);return c},remove:function(a){var b;a=!this.useLinearSearch&&(b=this.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(this.items,a);return-1===a?!1:this.removeAt(a)},removeAll:function(a){var b;if(a||this.hasListeners.remove)if(a)for(b=a.length-1;0<=b;--b)this.remove(a[b]);else for(;this.length;)this.removeAt(0);else this.length=this.items.length=this.keys.length=0,this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation},removeAt:function(a){var b,c;return a<this.length&&
0<=a?(this.length--,b=this.items[a],Ext.Array.erase(this.items,a,1),c=this.keys[a],"undefined"!=typeof c&&delete this.map[c],Ext.Array.erase(this.keys,a,1),this.hasListeners.remove&&this.fireEvent("remove",b,c),this.generation++,b):!1},removeRange:function(a,b){var c,d,e,f,g;if(a<this.length&&0<=a){b||(b=1);e=Math.min(a+b,this.length);b=e-a;f=(g=e===this.length)&&this.indexGeneration===this.generation;for(d=a;d<e;d++)c=this.keys[d],null!=c&&(delete this.map[c],f&&delete this.indexMap[c]);c=this.items[d-
1];this.length-=b;this.generation++;f&&(this.indexGeneration=this.generation);g?this.items.length=this.keys.length=this.length:(this.items.splice(a,b),this.keys.splice(a,b));return c}return!1},removeAtKey:function(a){var b=this.keys;if(null==a)for(a=b.length-1;0<=a;a--)null==b[a]&&this.removeAt(a);else return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){var b;return null!=a?!this.useLinearSearch&&(b=this.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(this.items,
a):-1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a))return-1;this.indexGeneration!==this.generation&&this.rebuildIndexMap();return this.indexMap[a]},rebuildIndexMap:function(){var a=this.indexMap={},b=this.keys,c=b.length,d;for(d=0;d<c;d++)a[b[d]]=d;this.indexGeneration=this.generation},get:function(a){var b=this.map[a];a=void 0!==b?b:"number"==typeof a?this.items[a]:void 0;return"function"!=typeof a||this.allowFunctions?a:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},
contains:function(a){var b;return null!=a?!this.useLinearSearch&&(b=this.getKey(a))?null!=this.map[b]:-1!==Ext.Array.indexOf(this.items,a):!1},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){this.generation&&(this.length=0,this.items=[],this.keys=[],this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation);this.hasListeners.clear&&this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},
sum:function(a,b,c,d){a=this.extractValues(a,b);var e=a.length;b=0;d=d||0===d?d:e-1;for(c=c||0;c<=d;c++)b+=a[c];return b},collect:function(a,b,c){a=this.extractValues(a,b);b=a.length;var d={},e=[],f,g,h;for(h=0;h<b;h++)f=a[h],g=String(f),!c&&Ext.isEmpty(f)||d[g]||(d[g]=!0,e.push(f));return e},extractValues:function(a,b){var c=this.items;b&&(c=Ext.Array.pluck(c,b));return Ext.Array.pluck(c,a)},hasRange:function(a,b){return b<this.length},getRange:function(a,b){var c=this.items,d=[],e=c.length,f;if(1>
e)return d;a>b&&(f=!0,d=a,a=b,b=d);0>a&&(a=0);if(null==b||b>=e)b=e-1;d=c.slice(a,b+1);f&&d.length&&d.reverse();return d},filter:function(a,b,c,d){var e=[];if(Ext.isString(a))e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);return this.filterBy(Ext.util.Filter.createFilterFn(e))},filterBy:function(a,b){var c=new this.self(this.initialConfig),d=this.keys,e=this.items,f=e.length,g;c.getKey=this.getKey;for(g=
0;g<f;g++)a.call(b||this,e[g],d[g])&&c.add(d[g],e[g]);c.useLinearSearch=this.useLinearSearch;return c},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,!1))return-1;b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&b.test(c[a])},null,c)},findIndexBy:function(a,b,c){var d=this.keys,e=this.items;c=c||0;for(var f=e.length;c<f;c++)if(a.call(b||this,e[c],d[c]))return c;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a);!0===b?
a=e(a):(a="^"+e(a),!0===d&&(a+="$"));a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=new this.self(this.initialConfig);a.add(this.keys,this.items);a.useLinearSearch=this.useLinearSearch;return a}});
Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(a,b){b=b||0;return function(c,d){var e=a.isCollection?a.items:a,f=e.length,g,h;for(h=0;h<f;++h)if(g=e[h].sort(c,d))return g;return b&&b(c,d)}}},multiplier:1,constructor:function(a){this.initConfig(a)},getId:function(){var a=this._id;a||((a=this.getProperty())||(a=Ext.id(null,"ext-sorter-")),this._id=a);return a},sort:function(a,b){return this.multiplier*
this.sortFn(a,b)},sortFn:function(a,b){var c=this._transform,d=this._root,e=this._property;d&&(a=a[d],b=b[d]);d=a[e];e=b[e];c&&(d=c(d),e=c(e));return d>e?1:d<e?-1:0},applyDirection:function(a){return a?a:"ASC"},updateDirection:function(a){this.multiplier="DESC"===a.toUpperCase()?-1:1},updateProperty:function(a){a&&delete this.sortFn},updateSorterFn:function(a){this.sortFn=a},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var a={root:this.getRoot(),
property:this.getProperty(),direction:this.getDirection()};this._id&&(a.id=this._id);return a},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}});
Ext.define("Ext.util.Sortable",{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(b,c){for(var d=a[0].sort(b,c),e=a.length,f=1;!d&&f<e;f++)d=a[f].sort.call(a[f],b,c);return d}:function(){return 0}}},applySorters:function(a){var b=this.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);a&&b.addAll(this.decodeSorters(a));return b},sort:function(a,b,c,d){var e,
f=this.getSorters();f||(this.setSorters(null),f=this.getSorters());Ext.isArray(a)?(d=c,c=b):Ext.isObject(a)?(a=[a],d=c,c=b):Ext.isString(a)&&((e=f.get(a))?null==b?e.toggle():e.setDirection(b):e={property:a,direction:b},a=[e]);if(a&&a.length)switch(a=this.decodeSorters(a),c){case "multi":f.insert(0,a[0]);b=f.getCount()-this.multiSortLimit;0<b&&f.removeRange(this.multiSortLimit,b);break;case "prepend":f.insert(0,a);break;case "append":f.addAll(a);break;case void 0:case null:case "replace":f.clear(),
f.addAll(a)}!1!==d&&(this.fireEvent("beforesort",this,a),this.onBeforeSort(a),this.getSorterCount()&&this.doSort(this.generateComparator()));return a},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b=a.length,c=Ext.util.Sorter,
d=this.getModel?this.getModel():this.model,e,f,g;for(g=0;g<b;g++)f=a[g],f instanceof c||(Ext.isString(f)&&(f={property:f}),Ext.applyIf(f,{root:this.sortRoot,direction:"ASC"}),f.fn&&(f.sorterFn=f.fn),"function"==typeof f&&(f={sorterFn:f}),d&&!f.transform&&(e=d.getField(f.property),f.transform=e&&e.sortType!==Ext.identityFn?e.sortType:void 0),a[g]=new Ext.util.Sorter(f));return a},getFirstSorter:function(){for(var a=this.getSorters().items,b=a.length,c=0,d;c<b;++c)if(d=a[c],!d.isGrouper)return d;return null}},
function(){this.prototype.createComparator=this.createComparator});
Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){this.initConfig();this.callParent(arguments)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e="DESC"==String(b).toUpperCase()?-1:1,f=[],g=this.keys,h=this.items,k;c=c||function(a,b){return a-b};b=0;for(d=h.length;b<d;b++)f[f.length]={key:g[b],value:h[b],index:b};Ext.Array.sort(f,function(b,d){return c(b[a],d[a])*e||(b.index<d.index?-1:1)});b=0;
for(d=f.length;b<d;b++)k=f[b],h[b]=k.value,g[b]=k.key,this.indexMap[k.key]=b;this.generation++;this.indexGeneration=this.generation;this.fireEvent("sort",this)},sortBy:function(a){var b=this.items,c,d=this.keys,e=b.length,f;for(f=0;f<e;f++)b[f].$extCollectionIndex=f;Ext.Array.sort(b,function(b,c){return a(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)});for(f=0;f<e;f++)c=b[f],c=this.getKey(c),d[f]=c,this.indexMap[c]=f,delete b.$extCollectionIndex;this.generation++;this.indexGeneration=this.generation;
this.fireEvent("sort",this,b,d)},findInsertionIndex:function(a,b){var c=this.items,d=0,e=c.length-1,f,g;for(b||(b=this.generateComparator());d<=e;)f=d+e>>1,g=b(a,c[f]),0<=g?d=f+1:0>g&&(e=f-1);return d},reorder:function(a){this.callParent([a]);this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var e=String(a).toUpperCase(),f=String(b).toUpperCase();return e>f?1:e<f?-1:0})}});
Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){"number"==typeof a?this.interval=a:a&&Ext.apply(this,a);this.tasks=[];this.timerFn=Ext.Function.bind(this.onTick,this)},newTask:function(a){a=new Ext.util.TaskRunner.Task(a);a.manager=this;return a},start:function(a){var b=Ext.Date.now();a.pending||(this.tasks.push(a),a.pending=!0);a.stopped=!1;a.taskStartTime=b;a.taskRunTime=!1!==a.fireOnStart?0:a.taskStartTime;a.taskRunCount=0;this.firing||(!1!==a.fireOnStart?this.startTimer(0,
b):this.startTimer(a.interval,b));return a},stop:function(a){a.stopped||(a.stopped=!0,a.onStop&&a.onStop.call(a.scope||a,a));return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1E99,onTick:function(){var a=this.tasks,b=Ext.Date.now(),c=1E99,d=a.length,e=Ext.GlobalEvents,f,g,h,k,l,m;this.timerId=null;this.firing=!0;for(h=0;h<d||h<(d=a.length);++h){k=a[h];if(!(l=k.stopped)){f=k.taskRunTime+k.interval;if(f<=b){l=1;m=k.hasOwnProperty("fireIdleEvent")?k.fireIdleEvent:
this.fireIdleEvent;try{l=k.run.apply(k.scope||k,k.args||[++k.taskRunCount])}catch(n){try{k.onError&&(l=k.onError.call(k.scope||k,k,n))}catch(p){}}k.taskRunTime=b;!1===l||k.taskRunCount===k.repeat?(this.stop(k),l=!0):(l=k.stopped,f=b+k.interval)}!l&&k.duration&&k.duration<=b-k.taskStartTime&&(this.stop(k),l=!0)}l?(k.pending=!1,g||(g=a.slice(0,h))):(g&&g.push(k),c>f&&(c=f))}g&&(this.tasks=g);this.firing=!1;this.tasks.length&&this.startTimer(c-b,Ext.Date.now());!1!==m&&e.hasListeners.idle&&e.fireEvent("idle")},
startTimer:function(a,b){var c=b+a,d=this.timerId;d&&this.nextExpires-c>this.interval&&(clearTimeout(d),d=null);d||(a<this.interval&&(a=this.interval),this.timerId=Ext.defer(this.timerFn,a),this.nextExpires=c)}},function(){var a=this.prototype;a.destroy=a.stopAll;this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){void 0!==a&&(this.interval=a);this.manager.start(this)},start:function(a){this.stopped&&this.restart(a)},stop:function(){this.manager.stop(this)}});
a=this.Task.prototype;a.destroy=a.stop});Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}});
Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(a,b,c){void 0===c&&(c="x"===b?a.getX():"y"===b?a.getY():"scrollTop"===b?a.getScroll().top:"scrollLeft"===b?a.getScroll().left:"height"===b?a.getHeight():"width"===b?a.getWidth():a.getStyle(b));return c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b=a.length,c,d,e,f,g,h;for(f=0;f<b;f++)for(d in c=a[f].attrs,c)if(c.hasOwnProperty(d))for(h=c[d].length,
g=0;g<h;g++)e=c[d][g],this.setElVal(e[0],d,e[1])},setElVal:function(a,b,c){"x"===b?a.setX(c):"y"===b?a.setY(c):"scrollTop"===b?a.scrollTo("top",c):"scrollLeft"===b?a.scrollTo("left",c):"width"===b?a.setWidth(c):"height"===b?a.setHeight(c):a.setStyle(b,c)}});
Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(a,b){var c=[],d=[],e=[],f=a.length,g=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},h={single:!0},k,l,m,n,p,q;for(p=0;p<f;p++)for(l in k=a[p],n=k.duration,m=k.easing,k=k.attrs,k)-1==Ext.Array.indexOf(c,l)&&(c.push(l.replace(/[A-Z]/g,function(a){return"-"+
a.toLowerCase()})),d.push(n+"ms"),e.push(m));c=c.join(",");n=d.join(",");m=e.join(", ");for(p=0;p<f;p++)for(l in k=a[p].attrs,k)for(q=k[l].length,e=0;e<q;e++)if(d=k[l][e],d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",b?"":c),d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":n),d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":m),d[0].setStyle(l,d[1]),b)d=d[0].dom.offsetWidth;else d[0].on(Ext.supports.CSS3TransitionEnd,g,d[0],h)}});
Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,b){var c=[],d=this.target,e=d.elements,f=e.length,g,h;for(g=0;g<f;g++)if(h=e[g])h=d.getElement(h),c.push([h,this.getElVal(h,a,b)]);return c},setAttr:function(a){var b=this.target,c=a.length,d=b.elements,e=d.length,f,g,h,k,l,m,n,p;for(m=0;m<c;m++)for(k in h=a[m].attrs,h)if(h.hasOwnProperty(k))for(p=h[k].length,
n=0;n<p;n++)for(f=h[k][n][1],g=0;g<e;++g)if(l=d[g])l=b.getElement(l),this.setElVal(l,k,f)},remove:function(){this.target.destroy()}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});
Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(a,b){var c;switch(b){case "rotate":case "rotation":return c=a.attr.rotation,{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case "scale":case "scaling":return c=a.attr.scaling,{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case "translate":case "translation":return c=a.attr.translation,{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getFromPrim(this.target,
a)]]},setAttr:function(a){var b=a.length,c=[],d,e,f,g,h,k,l,m,n,p;for(l=0;l<b;l++)for(e in d=a[l].attrs,d)for(f=d[e],p=f.length,m=0;m<p;m++)h=f[m][0],g=f[m][1],"translate"===e||"translation"===e?k={x:g.x,y:g.y}:"rotate"===e||"rotation"===e?(k=g.x,isNaN(k)&&(k=null),n=g.y,isNaN(n)&&(n=null),k={degrees:g.degrees,x:k,y:n}):"scale"===e||"scaling"===e?(k=g.x,isNaN(k)&&(k=null),n=g.y,isNaN(n)&&(n=null),k={x:k,y:n,cx:g.cx,cy:g.cy}):k="width"===e||"height"===e||"x"===e||"y"===e?parseFloat(g):g,g=Ext.Array.indexOf(c,
h),-1===g&&(c.push([h,{}]),g=c.length-1),c[g][1][e]=k;b=c.length;for(l=0;l<b;l++)c[l][0].setAttributes(c[l][1]);this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(a,b){var c=[],d=[].concat(this.target.items),e=d.length,f,g;for(f=0;f<e;f++)g=d[f],c.push([g,void 0!==b?b:this.getFromPrim(g,a)]);return c}});
Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",
height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){b=a.length;var d,e,f,g,h,k,l={},m;for(g=0;g<b;g++){d=a[g].attrs;for(e in d)for(k=d[e].length,h=0;h<k;h++)f=d[e][h],m=l[this.setMethods[e]]||(l[this.setMethods[e]]={}),m.target=f[0],m[e]=f[1];l.setPosition&&(f=l.setPosition,d=void 0===f.left?void 0:parseFloat(f.left),h=void 0===f.top?void 0:parseFloat(f.top),f.target.setPosition(d,
h));l.setPagePosition&&(f=l.setPagePosition,f.target.setPagePosition(f.x,f.y));if(l.setSize&&(f=l.setSize,d=void 0===f.width?f.target.getWidth():parseFloat(f.width),h=void 0===f.height?f.target.getHeight():parseFloat(f.height),f.target.el.setSize(d,h),c||this.dynamic))Ext.GlobalEvents.on({idle:Ext.Function.bind(f.target.setSize,f.target,[d,h]),single:!0});l.setOpacity&&(f=l.setOpacity,f.target.el.setStyle("opacity",f.opacity))}}});
Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(a){return(a=this.targets.get(a))?a.fxDefaults:{}},setFxDefaults:function(a,b){var c=this.targets.get(a);c&&(c.fxDefaults=Ext.apply(c.fxDefaults||{},b))},stopAnimation:function(a){a=this.getFxQueue(a);for(var b=a.length,c;b;)(c=a[b-1])&&c.end(),b--},getActiveAnimation:function(a){return(a=this.getFxQueue(a))&&a.length?a[0]:!1},hasFxBlock:function(a){return(a=this.getFxQueue(a))&&
a[0]&&a[0].block},getFxQueue:function(a){if(!a)return!1;var b=this,c=b.fxQueue[a],d=b.targets.get(a);if(!d)return!1;if(!c&&(b.fxQueue[a]=[],"element"!==d.type))d.target.on("destroy",function(){b.fxQueue[a]=[]});return b.fxQueue[a]},queueFx:function(a){var b=this,c=a.target,d,e;if(c){d=b.getFxQueue(c.getId());if(e=d.length)if(a.concurrent)a.paused=!1;else d[e-1].on("afteranimate",function(){a.paused=!1});else a.paused=!1;a.on("afteranimate",function(){Ext.Array.remove(d,a);0===d.length&&b.targets.remove(a.target);
if(a.remove&&"element"===c.type){var e=Ext.get(c.id);e&&e.destroy()}},b,{single:!0});d.push(a)}}});
Ext.define("Ext.fx.Manager",{singleton:!0,mixins:{queue:Ext.fx.Queue},constructor:function(){this.items=new Ext.util.MixedCollection;this.targetArr={};this.mixins.queue.constructor.call(this);this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(a){var b=!this.forceJS&&Ext.supports.Transitions;this.useCSS3=b;if(a){if(a.tagName||Ext.isString(a)||a.isFly)a=Ext.get(a),a=new Ext.fx.target["Element"+(b?"CSS":"")](a);else if(a.dom)a=new Ext.fx.target["Element"+(b?"CSS":"")](a);
else if(a.isComposite)a=new Ext.fx.target["CompositeElement"+(b?"CSS":"")](a);else if(a.isSprite)a=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)a=new Ext.fx.target.CompositeSprite(a);else if(a.isComponent)a=new Ext.fx.target.Component(a);else return a.isAnimTarget?a:null;this.targets.add(a);return a}return null},addAnim:function(a){var b=this.items,c=this.task;b.add(a.id,a);!c&&b.length&&(c=this.task={run:this.runner,interval:this.interval,scope:this},this.taskRunner.start(c))},removeAnim:function(a){var b=
this.items,c=this.task;b.removeAtKey(a.id);c&&!b.length&&(this.taskRunner.stop(c),delete this.task)},runner:function(){var a=this.items.getRange(),b=0,c=a.length,d;this.targetArr={};for(this.timestamp=new Date;b<c;b++)d=a[b],d.isReady()&&this.startAnim(d);for(b=0;b<c;b++)d=a[b],d.isRunning()&&this.runAnim(d);this.applyPendingAttrs();this.targetArr=null},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a,b){if(a){var c=this.useCSS3&&"element"===a.target.type,d=this.timestamp-a.startTime,
e=d>=a.duration;b&&(d=a.duration,e=!0);d=this.collectTargetData(a,d,c,e);c&&(a.target.setAttr(d.anims[a.id].attributes,!0),this.collectTargetData(a,a.duration,c,e),a.paused=!0,d=a.target.target,a.target.isComposite&&(d=a.target.target.last()),c={},c[Ext.supports.CSS3TransitionEnd]=a.lastFrame,c.scope=a,c.single=!0,d.on(c));return d}},jumpToEnd:function(a){var b,c;this.targetArr||(this.targetArr={},c=!0);b=this.runAnim(a,!0);this.applyAnimAttrs(b,b.anims[a.id]);c&&(this.targetArr=null)},collectTargetData:function(a,
b,c,d){var e=a.target.getId(),f=this.targetArr[e];f||(f=this.targetArr[e]={id:e,el:a.target,anims:{}});f.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};return f},applyAnimAttrs:function(a,b){var c=b.anim;b.attributes&&c.isRunning()&&(a.el.setAttr(b.attributes,!1,b.isLastFrame),b.isLastFrame&&c.lastFrame())},applyPendingAttrs:function(){var a=this.targetArr,b,c,d,e,f;for(c in a)if(a.hasOwnProperty(c))for(f in b=
a[c],b.anims)b.anims.hasOwnProperty(f)&&(d=b.anims[f],e=d.anim,d.attributes&&e.isRunning()&&(b.el.setAttr(d.attributes,!1,d.isLastFrame),d.isLastFrame&&e.lastFrame()))}});
Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){this.config=a=Ext.apply(this,a||{});this.id=Ext.id(null,"ext-animator-");this.mixins.observable.constructor.call(this,a);this.timeline=[];this.createTimeline(this.keyframes);this.target&&(this.applyAnimator(this.target),Ext.fx.Manager.addAnim(this))},
sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b=[],c=this.to||{},d=this.duration,e,f;for(e in a)a.hasOwnProperty(e)&&this.animKeyFramesRE.test(e)&&(f={attrs:Ext.apply(a[e],c)},"from"===e?e=0:"to"===e&&(e=100),f.pct=parseInt(e,10),b.push(f));Ext.Array.sort(b,this.sorter);f=b.length;for(e=0;e<f;e++)a=b[e-1]?b[e-1].pct/100*d:0,c=b[e].pct/100*d,this.timeline.push({duration:c-a,attrs:b[e].attrs})},applyAnimator:function(a){var b=[],c=this.timeline,d=c.length,e,f,g,h,k;if(!1!==
this.fireEvent("beforeanimate",this)){for(k=0;k<d;k++)e=c[k],h=e.attrs,f=h.easing||this.easing,g=h.damper||this.damper,delete h.easing,delete h.damper,e=new Ext.fx.Anim({target:a,easing:f,damper:g,duration:e.duration,paused:!0,to:h}),b.push(e);this.animations=b;this.target=e.target;for(k=0;k<d-1;k++)e=b[k],e.nextAnim=b[k+1],e.on("afteranimate",function(){this.nextAnim.paused=!1}),e.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this);b[d-1].on("afteranimate",function(){this.lastFrame()},
this)}},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+b)}else{this.delayStart=a;return}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=a,this.running=!0,this.animations[this.keyframeStep].paused=!1)},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;b<a?(this.startTime=new Date,this.currentIteration=b,this.keyframeStep=0,this.applyAnimator(this.target),this.animations[this.keyframeStep].paused=!1):(this.currentIteration=
0,this.end())},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1}});
Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(a,b,c,d,e,f){function g(a,b){var c,d,e,f;e=a;for(d=0;8>d;d++){f=((l*e+k)*e+h)*e-a;if(Math.abs(f)<b)return e;c=(3*l*e+2*k)*e+h;if(1E-6>Math.abs(c))break;e-=f/c}c=0;d=1;e=a;if(e<c)return c;if(e>d)return d;for(;c<d;){f=((l*e+k)*e+h)*e;if(Math.abs(f-a)<b)break;a>f?c=e:d=e;e=(d-c)/2+c}return e}var h=3*b,k=3*(d-b)-h,l=1-h-k,m=3*c,n=3*(e-c)-m,p=1-m-n;return function(a,b){var c=g(a,b);return((p*c+n)*c+m)*c}(a,1/(200*f))},cubicBezier:function(a,
b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join()+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)};return e}});
Ext.define("Ext.fx.Easing",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,f=a.abs;return{singleton:!0,linear:Ext.identityFn,ease:function(a){var b=.07813-a/2,d=e(.0066+b*b);a=d-b;a=c(f(a),1/3)*(0>a?-1:1);b=-d-b;b=c(f(b),1/3)*(0>b?-1:1);a=a+b+.25;return 3*c(1-a,2)*a*.1+3*(1-a)*a*a+a*a*a},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,.48)},easeInOut:function(a){var b=.48-a/1.04,d=e(.1734+b*b);a=d-b;a=c(f(a),1/3)*(0>a?-1:1);b=-d-b;b=c(f(b),1/3)*(0>b?-1:1);a=a+b+.5;return 3*
(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){--a;return a*a*(2.70158*a+1.70158)+1},elasticIn:function(a){return 0===a||1===a?a:c(2,-10*a)*d(2*(a-.075)*b/.3)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}}},
function(a){a=a.self;var b=a.prototype;a.addMembers({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})});
Ext.define("Ext.fx.DrawPath",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(a,b){b=String(b).toLowerCase();return"object"==b&&a===Object(a)||"undefined"==b&&typeof a==b||"null"==b&&null===a||"array"==b&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,
"$1")},pathToString:function(a){return a.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;d.is(a,"array")&&d.is(a[0],"array")&&(c=d.pathClone(a));c.length||String(a).replace(d.pathCommandRE,function(a,f,g){var h=[];a=f.toLowerCase();g.replace(d.pathValuesRE,function(a,b){b&&h.push(+b)});"m"==a&&2<h.length&&(c.push([f].concat(Ext.Array.splice(h,0,2))),a="l",f="m"==f?"l":"L");for(;h.length>=
b[a]&&(c.push([f].concat(Ext.Array.splice(h,0,b[a]))),b[a]););});c.toString=d.path2string;return c},pathClone:function(a){var b=[],c,d,e,f;this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));e=0;for(f=a.length;e<f;e++)for(b[e]=[],c=0,d=a[e].length;c<d;c++)b[e][c]=a[e][c];b.toString=this.path2string;return b},pathToAbsolute:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b=[],c=0,d=0,e=0,f=0,g=0,h=a.length,k,l,m,n;h&&"M"==a[0][0]&&(c=
+a[0][1],d=+a[0][2],e=c,f=d,g++,b[0]=["M",c,d]);for(;g<h;g++){k=b[g]=[];l=a[g];if(l[0]!=l[0].toUpperCase())switch(k[0]=l[0].toUpperCase(),k[0]){case "A":k[1]=l[1];k[2]=l[2];k[3]=l[3];k[4]=l[4];k[5]=l[5];k[6]=+(l[6]+c);k[7]=+(l[7]+d);break;case "V":k[1]=+l[1]+d;break;case "H":k[1]=+l[1]+c;break;case "M":e=+l[1]+c,f=+l[2]+d;default:for(m=1,n=l.length;m<n;m++)k[m]=+l[m]+(m%2?c:d)}else for(m=0,n=l.length;m<n;m++)b[g][m]=l[m];switch(k[0]){case "Z":c=e;d=f;break;case "H":c=k[1];break;case "V":d=k[1];break;
case "M":l=b[g],n=l.length,e=l[n-2],f=l[n-1];default:l=b[g],n=l.length,c=l[n-2],d=l[n-1]}}b.toString=this.path2string;return b},interpolatePaths:function(a,b){var c=this.pathToAbsolute(a),d=this.pathToAbsolute(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,b){if(7<a[b].length){a[b].shift();for(var e=a[b];e.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(a,b,1);l=Math.max(c.length,d.length||0)}},h=
function(a,b,e,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(Ext.Array.splice(b,g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],l=Math.max(c.length,d.length||0))},k,l,m,n,p,q;k=0;for(l=Math.max(c.length,d.length||0);k<l;k++)c[k]=this.command2curve(c[k],e),g(c,k),d[k]=this.command2curve(d[k],f),g(d,k),h(c,d,e,f,k),h(d,c,f,e,k),m=c[k],n=d[k],p=m.length,q=n.length,e.x=m[p-2],e.y=m[p-1],e.bx=parseFloat(m[p-4])||e.x,e.by=parseFloat(m[p-3])||e.y,f.bx=parseFloat(n[q-4])||f.x,f.by=parseFloat(n[q-3])||
f.y,f.x=n[q-2],f.y=n[q-1];return[c,d]},command2curve:function(a,b){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];"T"!=a[0]&&"Q"!=a[0]&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(this.arc2curve.apply(this,[b.x,b.y].concat(a.slice(1))));break;case "S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(this.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;
case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(this.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case "H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case "V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case "Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},rotate:function(a,b,c){var d=Math.cos(c);c=Math.sin(c);return{x:a*d-b*
c,y:a*c+b*d}},arc2curve:function(a,b,c,d,e,f,g,h,k,l){var m=Math.PI,n=120*m/180,p=this.radian*(+e||0),q=[],r=Math,t=r.cos,u=r.sin,v=r.sqrt,w=r.abs,y=r.asin,x,z,A,C;l?(x=l[0],y=l[1],f=l[2],v=l[3]):(x=this.rotate(a,b,-p),a=x.x,b=x.y,x=this.rotate(h,k,-p),h=x.x,k=x.y,x=(a-h)/2,z=(b-k)/2,A=x*x/(c*c)+z*z/(d*d),1<A&&(A=v(A),c*=A,d*=A),A=c*c,C=d*d,v=(f==g?-1:1)*v(w((A*C-A*z*z-C*x*x)/(A*z*z+C*x*x))),f=v*c*z/d+(a+h)/2,v=v*-d*x/c+(b+k)/2,x=y(((b-v)/d).toFixed(7)),y=y(((k-v)/d).toFixed(7)),x=a<f?m-x:x,y=h<f?
m-y:y,0>x&&(x=2*m+x),0>y&&(y=2*m+y),g&&x>y&&(x-=2*m),!g&&y>x&&(y-=2*m));w(y-x)>n&&(q=y,m=h,w=k,y=x+n*(g&&y>x?1:-1),h=f+c*t(y),k=v+d*u(y),q=this.arc2curve(h,k,c,d,e,0,g,m,w,[y,q,f,v]));n=y-x;e=t(x);g=u(x);t=t(y);u=u(y);r=r.tan(n/4);c=4/3*c*r;r*=4/3*d;d=[a,b];a=[a+c*g,b-r*e];b=[h+c*u,k-r*t];h=[h,k];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(l)return[a,b,h].concat(q);q=[a,b,h].concat(q).join().split(",");l=[];k=q.length;for(h=0;h<k;h++)l[h]=h%2?this.rotate(q[h-1],q[h],p).y:this.rotate(q[h],q[h+1],p).x;return l}});
Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){c="number"==typeof c?c:1;var f=this.unitRE,g=f.exec(a),h;g&&(a=g[1],h=g[2],this.scrollRE.test(e)||h||!this.pixelDefaultsRE.test(e)||(h="px"));a=+a||0;if(g=f.exec(b))b=g[1],h=g[2]||h;return{from:a,delta:((+b||0)-(null!=d?d:a))*c,units:h}},get:function(a,b,c,d,e){var f=a.length,
g=[],h,k,l,m,n;for(h=0;h<f;h++)if(d&&(k=d[h][1].from),Ext.isArray(a[h][1])&&Ext.isArray(b)){l=[];m=0;for(n=a[h][1].length;m<n;m++)l.push(this.computeDelta(a[h][1][m],b[m],c,k,e));g.push([a[h][0],l])}else g.push([a[h][0],this.computeDelta(a[h][1],b,c,k,e)]);return g},set:function(a,b){var c=a.length,d=[],e,f,g,h,k;for(e=0;e<c;e++)if(f=a[e][1],Ext.isArray(f)){g=[];k=0;for(h=f.length;k<h;k++)g.push(f[k].from+f[k].delta*b+(f[k].units||0));d.push([a[e][0],g])}else d.push([a[e][0],f.from+f.delta*b+(f.units||
0)]);return d}},stringHandler:{computeDelta:function(a,b,c,d,e){return{from:a,delta:b}},get:function(a,b,c,d,e){d=a.length;var f=[],g;for(g=0;g<d;g++)f.push([a[g][0],this.computeDelta(a[g][1],b,c,void 0,e)]);return f},set:function(a,b){var c=a.length,d=[],e,f;for(e=0;e<c;e++)f=a[e][1],d.push([a[e][0],f.delta]);return d}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a,
b){var c=!1,d=[this.hexRE,this.rgbRE,this.hex3RE],e=d.length,f,g,h;for(h=0;h<e;h++)if(f=d[h],g=0===h%2?16:10,(f=f.exec(a))&&4===f.length){2===h&&(f[1]+=f[1],f[2]+=f[2],f[3]+=f[3]);c={red:parseInt(f[1],g),green:parseInt(f[2],g),blue:parseInt(f[3],g)};break}return c||a},computeDelta:function(a,b,c,d){a=this.parseColor(a);b=this.parseColor(b,c);d=d?d:a;var e=typeof d,f=typeof b;return"string"===e||"undefined"===e||"string"===f||"undefined"===f?b||d:{from:a,delta:{red:Math.round((b.red-d.red)*c),green:Math.round((b.green-
d.green)*c),blue:Math.round((b.blue-d.blue)*c)}}},get:function(a,b,c,d){var e=a.length,f=[],g,h;for(g=0;g<e;g++)d&&(h=d[g][1].from),f.push([a[g][0],this.computeDelta(a[g][1],b,c,h)]);return f},set:function(a,b){var c=a.length,d=[],e,f,g,h;for(e=0;e<c;e++)if(f=a[e][1]){g=f.from;h=f.delta;f="object"===typeof f&&"red"in f?"rgb("+f.red+", "+f.green+", "+f.blue+")":f;f="object"===typeof f&&f.length?f[0]:f;if("undefined"===typeof f)return[];f="string"===typeof f?f:"rgb("+[(g.red+Math.round(h.red*b))%256,
(g.green+Math.round(h.green*b))%256,(g.blue+Math.round(h.blue*b))%256].join()+")";d.push([a[e][0],f])}return d}},object:{interpolate:function(a,b){b="number"===typeof b?b:1;var c={},d;for(d in a)c[d]=parseFloat(a[d])*b;return c},computeDelta:function(a,b,c,d){a=this.interpolate(a);b=this.interpolate(b,c);c=d?d:a;d={};for(var e in b)d[e]=b[e]-c[e];return{from:a,delta:d}},get:function(a,b,c,d){var e=a.length,f=[],g,h;for(g=0;g<e;g++)d&&(h=d[g][1].from),f.push([a[g][0],this.computeDelta(a[g][1],b,c,
h)]);return f},set:function(a,b){var c=a.length,d=[],e={},f,g,h,k;for(f=0;f<c;f++){h=a[f][1];g=h.from;h=h.delta;for(k in g)e[k]=g[k]+h[k]*b;d.push([a[f][0],e])}return d}},path:{computeDelta:function(a,b,c,d){a=+a||0;return{from:a,delta:((+b||0)-(null!=d?d:a))*("number"===typeof c?c:1)}},forcePath:function(a){Ext.isArray(a)||Ext.isArray(a[0])||(a=Ext.fx.DrawPath.parsePathString(a));return a},get:function(a,b,c,d){b=this.forcePath(b);var e=[],f=a.length,g,h,k,l,m,n,p,q,r;for(k=0;k<f;k++){r=this.forcePath(a[k][1]);
l=Ext.fx.DrawPath.interpolatePaths(r,b);r=l[0];b=l[1];g=r.length;q=[];for(n=0;n<g;n++){l=[r[n][0]];h=r[n].length;for(p=1;p<h;p++)m=d&&d[0][1][n][p].from,l.push(this.computeDelta(r[n][p],b[n][p],c,m));q.push(l)}e.push([a[k][0],q])}return e},set:function(a,b){var c=a.length,d=[],e,f,g,h,k,l,m,n;for(e=0;e<c;e++){l=a[e][1];h=[];m=l.length;for(f=0;f<m;f++){k=[l[f][0]];n=l[f].length;for(g=1;g<n;g++)k.push(l[f][g].from+l[f][g].delta*b);h.push(k.join(","))}d.push([a[e][0],h.join(",")])}return d}}}},function(){for(var a=
"outlineColor backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor fill stroke".split(" "),b=a.length,c=0,d;c<b;c++)d=a[c],this[d]=this.color;a=["cursor"];b=a.length;for(c=0;c<b;c++)d=a[c],this[d]=this.stringHandler});
Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b;a=a||{};if(a.keyframes)return new Ext.fx.Animator(a);Ext.apply(this,a);void 0===this.from&&(this.from={});this.propHandlers={};this.config=a;this.target=
Ext.fx.Manager.createTarget(this.target);this.easingFn=Ext.fx.Easing[this.easing];this.target.dynamic=this.dynamic;this.easingFn||(this.easingFn=String(this.easing).match(this.bezierRE))&&5===this.easingFn.length&&(b=this.easingFn,this.easingFn=Ext.fx.CubicBezier.cubicBezier(+b[1],+b[2],+b[3],+b[4]));this.id=Ext.id(null,"ext-anim-");this.mixins.observable.constructor.call(this);Ext.fx.Manager.addAnim(this);a.autoEnd&&(this.running=!0,this.jumpToEnd())},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,
a,b)},initAttrs:function(){var a=this.from,b=this.to,c=this.initialFrom||{},d={},e,f,g,h;for(h in b)b.hasOwnProperty(h)&&(e=this.target.getAttr(h,a[h]),f=b[h],g=Ext.fx.PropertyHandler[h]?this.propHandlers[h]=Ext.fx.PropertyHandler[h]:Ext.isObject(f)?this.propHandlers[h]=Ext.fx.PropertyHandler.object:this.propHandlers[h]=Ext.fx.PropertyHandler.defaultHandler,d[h]=g.get(e,f,this.damper,c[h],h));this.currentAttrs=d},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+
b)}else{this.delayStart=a;return}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=a,this.paused||this.currentAttrs||this.initAttrs(),this.running=!0,this.frameCount=0)},jumpToEnd:function(){this.endWasCalled||(this.currentAttrs||this.initAttrs(),Ext.fx.Manager.jumpToEnd(this),this.end())},runAnim:function(a){var b=this.currentAttrs,c=this.duration,d=this.easingFn,e=this.propHandlers,f={},g,h,k,l;a>=c&&(a=c,l=!0);this.reverse&&(a=c-a);for(k in b)b.hasOwnProperty(k)&&(h=b[k],g=l?1:d(a/c),
f[k]=e[k].set(h,g));this.frameCount++;return f},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;b<a?(this.alternate&&(this.reverse=!this.reverse),this.startTime=new Date,this.currentIteration=b,this.paused=!1):(this.currentIteration=0,this.end(),this.fireEvent("lastframe",this,this.startTime))},endWasCalled:0,end:function(){this.endWasCalled++||(this.startTime=0,this.running=this.paused=!1,Ext.fx.Manager.removeAnim(this),this.fireEvent("afteranimate",this,this.startTime),Ext.callback(this.callback,
this.scope,[this,this.startTime]),this.remove&&this.target.destroy())},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}});Ext.enableFx=!0;
Ext.define("Ext.util.Animate",{mixinId:"animate",isAnimate:!0,animate:function(a){if(Ext.fx.Manager.hasFxBlock(this.id))return this;Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(a)));return this},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;a.stopAnimation&&this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));return Ext.apply({target:this,paused:!0},a)},getAnimationProps:function(){var a=this.layout;return a&&a.animate?a.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,
"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}});
Ext.define("Ext.overrides.dom.Element",function(){var a,b=window,c=document,d=Ext.baseCSSPrefix+"hidden-offsets",e=Ext.baseCSSPrefix+"hidden-clip",f=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,g=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,h=/\ssrc=([\'\"])(.*?)\1/i,k=/\S/,l=/\stype=([\'\"])(.*?)\1/i,m=/^-ms-/,n=/(-[a-z])/gi,p=function(a,b){return b.charAt(1).toUpperCase()},q=Ext.baseCSSPrefix+"masked",r=Ext.baseCSSPrefix+"masked-relative",t=Ext.baseCSSPrefix+"mask-msg",u=/^body/i,v={},
w=function(b){b=b.getData();var c=b.visibilityMode;void 0===c&&(b.visibilityMode=c=a.VISIBILITY);return c},y=c.createRange?c.createRange():null,x={INPUT:!0,TEXTAREA:!0};if(Ext.isIE8)var z=c.createElement("div"),A=[],C=Ext.Function.createBuffered(function(){var a=A.length,b;for(b=0;b<a;b++)z.appendChild(A[b]);z.innerHTML="";A.length=0},10);return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:!1,_init:function(b){a=b;b.tabbableSelector+=",["+b.tabbableSavedCounterAttribute+
"]"},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:Ext.isIE?!0:!1},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,
INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:Ext.isIE8m?!0:!1},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(a){"float"===a&&(a=Ext.supports.Float?"cssFloat":"styleFloat");return v[a]||(v[a]=a.replace(m,"ms-").replace(n,p))}},addClsOnClick:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);d.on("mousedown",function(){if(f&&!1===b.call(c||d,d))return!1;Ext.fly(e).addCls(a);var g=Ext.getDoc(),h=function(){Ext.fly(e).removeCls(a);
g.removeListener("mouseup",h)};g.on("mouseup",h)});return d},addClsOnFocus:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);d.on("focus",function(){if(f&&!1===b.call(c||d,d))return!1;Ext.fly(e).addCls(a)});d.on("blur",function(){Ext.fly(e).removeCls(a)});return d},addClsOnOver:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);d.hover(function(){f&&!1===b.call(c||d,d)||Ext.fly(e).addCls(a)},function(){Ext.fly(e).removeCls(a)});return d},addKeyListener:function(a,b,c){a="object"!==typeof a||
Ext.isArray(a)?{target:this,key:a,fn:b,scope:c}:{target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c};return new Ext.util.KeyMap(a)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},afterAnimate:function(){var a=this.shadow;!a||a.disabled||a.animate||a.show()},anchorAnimX:function(a){this.dom.style["l"===a?"right":"left"]="0px"},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;var b=a.duration||Ext.fx.Anim.prototype.duration,c=a.easing||"ease";a.stopAnimation&&
this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));Ext.fx.Manager.setFxDefaults(this.id,{delay:0});b={target:this.dom,remove:a.remove,alternate:a.alternate||!1,duration:b,easing:c,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:!0,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a),userConfig:a};Ext.apply(b.to,a.to);delete b.to.to;delete b.to.from;delete b.to.remove;delete b.to.alternate;
delete b.to.keyframes;delete b.to.iterations;delete b.to.listeners;delete b.to.target;delete b.to.paused;delete b.to.callback;delete b.to.scope;delete b.to.duration;delete b.to.easing;delete b.to.concurrent;delete b.to.block;delete b.to.stopAnimation;delete b.to.delay;return b},animate:function(a){this.addAnimation(a);return this},addAnimation:function(a){var b=this.dom.id||Ext.id(this.dom),c,d;if(!Ext.fx.Manager.hasFxBlock(b)){a.listeners&&(c=a.listeners,delete a.listeners);a.internalListeners&&
(a.listeners=a.internalListeners,delete a.internalListeners);b=a.autoEnd;delete a.autoEnd;d=new Ext.fx.Anim(this.anim(a));d.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:this,single:!0});if(c)d.on(c);Ext.fx.Manager.queueFx(d);b&&d.jumpToEnd()}return d},beforeAnimate:function(){var a=this.shadow;!a||a.disabled||a.animate||a.hide()},boxWrap:function(a){a=a||Ext.baseCSSPrefix+"box";var b=Ext.get(this.insertHtml("beforeBegin","<div class='"+a+"' role='presentation'>"+Ext.String.format('<div class="{0}-tl" role="presentation"><div class="{0}-tr" role="presentation"><div class="{0}-tc" role="presentation"></div></div></div><div class="{0}-ml" role="presentation"><div class="{0}-mr" role="presentation"><div class="{0}-mc" role="presentation"></div></div></div><div class="{0}-bl" role="presentation"><div class="{0}-br" role="presentation"><div class="{0}-bc" role="presentation"></div></div></div>',
a)+"</div>"));b.selectNode("."+a+"-mc").appendChild(this.dom);return b},clean:function(a){var b=this.dom,c=this.getData(),d=b.firstChild,e=-1;if(c.isCleaned&&!0!==a)return this;for(;d;)a=d.nextSibling,3===d.nodeType?k.test(d.nodeValue)?a&&3===a.nodeType&&(d.appendData(Ext.String.trim(a.data)),b.removeChild(a),a=d.nextSibling,d.nodeIndex=++e):b.removeChild(d):(Ext.fly(d,"_clean").clean(),d.nodeIndex=++e),d=a;c.isCleaned=!0;return this},empty:y?function(){var a=this.dom;a.firstChild&&(y.setStartBefore(a.firstChild),
y.setEndAfter(a.lastChild),y.deleteContents())}:function(){for(var a=this.dom;a.lastChild;)a.removeChild(a.lastChild)},clearListeners:function(){this.removeAnchor();this.callParent()},clearPositioning:function(a){a=a||"";return this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:"static"})},createProxy:function(b,c,d){b="object"===typeof b?b:{tag:"div",role:"presentation",cls:b};b=c?Ext.DomHelper.append(c,b,!0):Ext.DomHelper.insertBefore(this.dom,b,!0);b.setVisibilityMode(a.DISPLAY);
b.hide();d&&this.setBox&&this.getBox&&b.setBox(this.getBox());return b},clearOpacity:function(){return this.setOpacity("")},clip:function(){var a=this.getData(),b;a.isClipped||(a.isClipped=!0,b=this.getStyle(["overflow","overflow-x","overflow-y"]),a.originalClip={o:b.overflow,x:b["overflow-x"],y:b["overflow-y"]},this.setStyle("overflow","hidden"),this.setStyle("overflow-x","hidden"),this.setStyle("overflow-y","hidden"));return this},destroy:function(){var a=this.dom,b=this.getData();a&&this.isAnimate&&
this.stopAnimation();this.callParent();a&&Ext.isIE8&&a.window!=a&&9!==a.nodeType&&"BODY"!==a.tagName&&"HTML"!==a.tagName&&(A[A.length]=a,C());b&&(a=b.maskEl,b=b.maskMsg,a&&a.destroy(),b&&b.destroy())},enableDisplayMode:function(b){this.setVisibilityMode(a.DISPLAY);void 0!==b&&(this.getData().originalDisplay=b);return this},fadeIn:function(a){var b=this.dom;this.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(a){a=Ext.fly(b,"_anim");a.isStyle("display","none")?a.setDisplayed(""):
a.show()}}}));return this},fadeOut:function(a){var b=this.dom;a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(c){b&&0===c.to.opacity&&(c=Ext.fly(b,"_anim"),a.useDisplay?c.setDisplayed(!1):c.hide())}}},a);this.animate(a);return this},fixDisplay:function(){this.isStyle("display","none")&&(this.setStyle("visibility","hidden"),this.setStyle("display",this._getDisplay()),this.isStyle("display","none")&&this.setStyle("display","block"))},frame:function(a,b,c){var d=this.dom;a=a||"#C3DAF9";
b=b||1;c=c||{};this.animate({duration:2*Math.max(c.duration,500)||2E3,listeners:{beforeanimate:{fn:function(){var e=Ext.fly(d,"_anim"),f=this,g,h;e.show();g=e.getBox();h=Ext.getBody().createChild({role:"presentation",id:e.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35E3,border:"0px solid "+a}});(new Ext.fx.Anim({target:h,duration:c.duration||1E3,iterations:b,from:{top:g.y,left:g.x,borderWidth:0,opacity:1,height:g.height,width:g.width},to:{top:g.y-20,left:g.x-
20,borderWidth:10,opacity:0,height:g.height+40,width:g.width+40}})).on("afteranimate",function(){h.destroy();f.end()})}}},callback:c.callback,scope:c.scope});return this},getColor:function(a,b,c){a=this.getStyle(a);c=c||""===c?c:"#";var d,e,f=0;if(!a||/transparent|inherit/.test(a))return b;if(/^r/.test(a))for(a=a.slice(4,a.length-1).split(","),e=a.length;f<e;f++)d=parseInt(a[f],10),c+=(16>d?"0":"")+d.toString(16);else a=a.replace("#",""),c+=3===a.length?a.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):
a;return 5<c.length?c.toLowerCase():b},getLoader:function(){var a=this.getData(),b=a.loader;b||(a.loader=b=new Ext.ElementLoader({target:this}));return b},getPositioning:function(a){var b=this.getStyle(["left","top","position","z-index"]),c=this.dom;a&&("auto"===b.left&&(b.left=c.offsetLeft+"px"),"auto"===b.top&&(b.top=c.offsetTop+"px"));return b},ghost:function(a,b){var c=this.dom;a=a||"b";this.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:function(){var b=Ext.fly(c,
"_anim"),d=b.getWidth(),e=b.getHeight(),f=b.getXY(),g=b.getPositioning(),b={opacity:0};switch(a){case "t":b.y=f[1]-e;break;case "l":b.x=f[0]-d;break;case "r":b.x=f[0]+d;break;case "b":b.y=f[1]+e;break;case "tl":b.x=f[0]-d;b.y=f[1]-e;break;case "bl":b.x=f[0]-d;b.y=f[1]+e;break;case "br":b.x=f[0]+d;b.y=f[1]+e;break;case "tr":b.x=f[0]+d,b.y=f[1]-e}this.to=b;this.on("afteranimate",function(){var a=Ext.fly(c,"_anim");a&&(a.hide(),a.clearOpacity(),a.setPositioning(g))})}}}));return this},hide:function(a){if("string"===
typeof a)return this.setVisible(!1,a),this;this.setVisible(!1,this.anim(a));return this},highlight:function(a,c){var d=this.dom,e={},f,g,h,k,l,m;c=c||{};k=c.listeners||{};h=c.attr||"backgroundColor";e[h]=a||"ffff9c";c.to?g=c.to:(g={},g[h]=c.endColor||this.getColor(h,"ffffff",""));c.listeners=Ext.apply(Ext.apply({},k),{beforeanimate:function(){f=d.style[h];var a=Ext.fly(d,"_anim");a.clearOpacity();a.show();if(l=k.beforeanimate)return m=l.fn||l,m.apply(l.scope||k.scope||b,arguments)},afteranimate:function(){d&&
(d.style[h]=f);if(l=k.afteranimate)m=l.fn||l,m.apply(l.scope||k.scope||b,arguments)}});this.animate(Ext.apply({},c,{duration:1E3,easing:"ease-in",from:e,to:g}));return this},hover:function(a,b,c,d){this.on("mouseenter",a,c||this.dom,d);this.on("mouseleave",b,c||this.dom,d);return this},initDD:function(a,b,c){a=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDProxy:function(a,b,c){a=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDTarget:function(a,b,c){a=new Ext.dd.DDTarget(Ext.id(this.dom),
a,b);return Ext.apply(a,c)},isFocusable:function(){var a=this.dom,b=!1,c;a&&!a.disabled&&(c=a.nodeName,b=!!Ext.Element.naturallyFocusableTags[c]||("A"===c||"LINK"===c)&&!!a.href||null!=a.getAttribute("tabIndex")||"true"===a.contentEditable,Ext.isIE8&&"INPUT"===c&&"hidden"===a.type&&(b=!1),b=b&&this.isVisible(!0));return b},isInputField:function(){var a=this.dom,b=a.contentEditable;return x[a.tagName]&&"button"!==a.type||""===b||"true"===b?!0:!1},isTabbable:function(a){var b=this.dom,c=!1,d,e,f;b&&
!b.disabled&&(d=b.nodeName,f=b.getAttribute("tabIndex"),e=null!=f,f-=0,"A"===d||"LINK"===d?c=b.href?e&&0>f?!1:!0:"true"===b.contentEditable?!e||e&&0<=f?!0:!1:e&&0<=f?!0:!1:"true"===b.contentEditable||Ext.Element.naturallyTabbableTags[d]?c=e&&0>f?!1:!0:e&&0<=f&&(c=!0),Ext.isIE8&&"INPUT"===d&&"hidden"===b.type&&(c=!1),c=c&&(a||(!this.component||this.component.isVisible(!0))&&this.isVisible(!0)));return c},isMasked:function(a){var b=this.getData(),c=b.maskEl,d=b.maskMsg,b=!1;if(c&&c.isVisible())d&&d.center(this),
b=!0;else if(a&&(c=this.findParentNode()))return Ext.fly(c).isMasked(a);return b},load:function(a){this.getLoader().load(a);return this},mask:function(a,b,d){var e=this.dom,f=this.getData(),g=f.maskEl;u.test(e.tagName)&&"static"===this.getStyle("position")||this.addCls(r);g&&g.destroy();g=Ext.DomHelper.append(e,{role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",children:{role:"presentation",cls:b?t+" "+b:t,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",
cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:a||""}}}},!0);b=Ext.get(g.dom.firstChild);f.maskEl=g;this.addCls(q);g.setDisplayed(!0);"string"===typeof a?(b.setDisplayed(!0),b.center(this)):b.setDisplayed(!1);e===c.body&&g.addCls(Ext.baseCSSPrefix+"mask-fixed");this.saveTabbableState({skipSelf:e===c.body});Ext.isIE9m&&e!==c.body&&this.isStyle("height","auto")&&g.setSize(void 0,d||this.getHeight());return g},monitorMouseLeave:function(a,b,c){var d=this,e,f={mouseleave:function(f){Ext.isIE9m&&
f.enableIEAsync();e=Ext.defer(b,a,c||d,[f])},mouseenter:function(){clearTimeout(e)}};d.on(f);return f},puff:function(a){var b=this.dom,c=this.getBox(),d=this.getStyle("width height left right top bottom position z-index font-size opacity".split(" "),!0);a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:!1});this.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:function(){var e=Ext.fly(b,"_anim");e.clearOpacity();e.show();this.to={width:2*c.width,height:2*c.height,
x:c.x-c.width/2,y:c.y-c.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var c=Ext.fly(b,"_anim");c&&(a.useDisplay?c.setDisplayed(!1):c.hide(),c.setStyle(d),Ext.callback(a.callback,a.scope))})}}}});return this},selectable:function(){this.dom.unselectable="";this.removeCls(a.unselectableCls);this.addCls(a.selectableCls);return this},setCapture:function(){var a=this.dom;Ext.isIE9m&&a.setCapture&&a.setCapture()},setHeight:function(a,b){b&&this.anim?(Ext.isObject(b)||(b={}),this.animate(Ext.applyIf({to:{height:a}},
b))):this.callParent(arguments);return this},setHorizontal:function(){var a=this.verticalCls;delete this.vertical;a&&(delete this.verticalCls,this.removeCls(a));delete this.setWidth;delete this.setHeight;Ext.isIE8||(delete this.getWidth,delete this.getHeight);delete this.styleHooks},updateText:function(a){},setHtml:function(a,b,d,e){var k=this,m,n,p;if(!k.dom)return k;a=a||"";n=k.dom;if(!0!==b)return n.innerHTML=a,Ext.callback(d,k),k;m=Ext.id();a+='<span id="'+m+'" role="presentation"></span>';p=
Ext.interval(function(){var b,g,n,q;if(!(b=c.getElementById(m)))return!1;clearInterval(p);Ext.removeNode(b);for(b=Ext.getHead().dom;g=f.exec(a);)(q=(n=g[1])?n.match(h):!1)&&q[2]?(g=c.createElement("script"),g.src=q[2],(n=n.match(l))&&n[2]&&(g.type=n[2]),b.appendChild(g)):g[2]&&0<g[2].length&&(e?Ext.functionFactory(g[2]).call(e):Ext.globalEval(g[2]));Ext.callback(d,e||k)},20);n.innerHTML=a.replace(g,"");return k},setOpacity:function(a,b){if(!this.dom)return this;b&&this.anim?("object"!=typeof b&&(b=
{duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({to:{opacity:a}},b))):this.setStyle("opacity",a);return this},setPositioning:function(a){return this.setStyle(a)},setVertical:function(b,c){var d=a.prototype;this.vertical=!0;c&&this.addCls(this.verticalCls=c);this.setWidth=d.setHeight;this.setHeight=d.setWidth;Ext.isIE8||(this.getWidth=d.getHeight,this.getHeight=d.getWidth);this.styleHooks=270===b?d.verticalStyleHooks270:d.verticalStyleHooks90},setSize:function(b,c,d){Ext.isObject(b)&&(d=
c,c=b.height,b=b.width);d&&this.anim?(!0===d&&(d={}),this.animate(Ext.applyIf({to:{width:b,height:c}},d))):(this.dom.style.width=a.addUnits(b),this.dom.style.height=a.addUnits(c),(this.shadow||this.shim)&&this.syncUnderlays());return this},setVisible:function(b,c){var f=this.dom,g=w(this);if("string"===typeof c){switch(c){case "display":g=a.DISPLAY;break;case "visibility":g=a.VISIBILITY;break;case "offsets":g=a.OFFSETS;break;case "clip":g=a.CLIP}this.setVisibilityMode(g);c=!1}if(c&&this.anim)b&&(this.setOpacity(.01),
this.setVisible(!0)),Ext.isObject(c)||(c={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({callback:function(){b||Ext.fly(f).setVisible(!1).setOpacity(1)},to:{opacity:b?1:0}},c));else{if(g===a.DISPLAY)return this.setDisplayed(b);if(g===a.OFFSETS)this[b?"removeCls":"addCls"](d);else if(g===a.CLIP)this[b?"removeCls":"addCls"](e);else g===a.VISIBILITY&&(this.fixDisplay(),f.style.visibility=b?"":"hidden")}this.getData().isVisible=b;(this.shadow||this.shim)&&this.setUnderlaysVisible(b);return this},
setWidth:function(a,b){b&&this.anim?(Ext.isObject(b)||(b={}),this.animate(Ext.applyIf({to:{width:a}},b))):this.callParent(arguments);return this},setX:function(a,b){return this.setXY([a,this.getY()],b)},setXY:function(a,b){b&&this.anim?(Ext.isObject(b)||(b={}),this.animate(Ext.applyIf({to:{x:a[0],y:a[1]}},b))):this.callParent([a]);return this},setY:function(a,b){return this.setXY([this.getX(),a],b)},show:function(a){if("string"===typeof a)return this.setVisible(!0,a),this;this.setVisible(!0,this.anim(a));
return this},slideIn:function(a,b,c){var d=this,e=d.dom,f=e.style,g,h,k;a=a||"t";b=b||{};d.animate({duration:b.duration?2*Math.max(b.duration,500):1E3,listeners:{beforeanimate:function(){var l,m,n=this,p=b.listeners,q=Ext.fly(e,"_anim"),r,t,u;c||q.fixDisplay();r=q.getBox();"t"!=a&&"b"!=a||0!==r.height?"l"!=a&&"r"!=a||0!==r.width||(r.width=e.scrollWidth):r.height=e.scrollHeight;t=q.getStyle("width height left right top bottom position z-index".split(" "),!0);q.setSize(r.width,r.height);b.preserveScroll&&
(h=q.cacheScrollValues());u=q.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+q.dom.id,style:{visibility:c?"visible":"hidden"}});k=u.dom.parentNode;u.setPositioning(q.getPositioning());u.isStyle("position","static")&&u.position("relative");q.clearPositioning("auto");u.clip();h&&h();q.setStyle({visibility:"",position:"absolute"});c&&u.setSize(r.width,r.height);switch(a){case "t":l={width:r.width+"px",height:"0px"};m={width:r.width+"px",height:r.height+"px"};f.bottom="0px";break;case "l":l=
{width:"0px",height:r.height+"px"};m={width:r.width+"px",height:r.height+"px"};d.anchorAnimX(a);break;case "r":l={x:r.x+r.width,width:"0px",height:r.height+"px"};m={x:r.x,width:r.width+"px",height:r.height+"px"};d.anchorAnimX(a);break;case "b":l={y:r.y+r.height,width:r.width+"px",height:"0px"};m={y:r.y,width:r.width+"px",height:r.height+"px"};break;case "tl":l={x:r.x,y:r.y,width:"0px",height:"0px"};m={width:r.width+"px",height:r.height+"px"};f.bottom="0px";d.anchorAnimX("l");break;case "bl":l={y:r.y+
r.height,width:"0px",height:"0px"};m={y:r.y,width:r.width+"px",height:r.height+"px"};d.anchorAnimX("l");break;case "br":l={x:r.x+r.width,y:r.y+r.height,width:"0px",height:"0px"};m={x:r.x,y:r.y,width:r.width+"px",height:r.height+"px"};d.anchorAnimX("r");break;case "tr":l={x:r.x+r.width,width:"0px",height:"0px"},m={x:r.x,width:r.width+"px",height:r.height+"px"},f.bottom="0px",d.anchorAnimX("r")}u.show();g=Ext.apply({},b);delete g.listeners;g=new Ext.fx.Anim(Ext.applyIf(g,{target:u,duration:500,easing:"ease-out",
from:c?m:l,to:c?l:m}));g.on("afteranimate",function(){var a=Ext.fly(e,"_anim");a.setStyle(t);c&&(b.useDisplay?a.setDisplayed(!1):a.hide());u.dom&&(u.dom.parentNode?u.dom.parentNode.insertBefore(a.dom,u.dom):k.appendChild(a.dom),u.destroy());h&&h();n.end()});if(p)g.on(p)}}});return d},slideOut:function(a,b){return this.slideIn(a,b,!0)},swallowEvent:function(a,b){var c,d,e=function(a){a.stopPropagation();b&&a.preventDefault()};if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++)this.on(a[c],e);return this}this.on(a,
e);return this},switchOff:function(a){var b=this.dom;a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1});this.animate({duration:2*Math.max(a.duration,500),listeners:{beforeanimate:{fn:function(){var c=Ext.fly(b,"_anim"),d=this,e=c.getSize(),f=c.getXY(),g;c.clearOpacity();c.clip();g=c.getPositioning();(new Ext.fx.Animator({target:b,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:.3},66:{height:1,y:f[1]+e.height/2},100:{width:1,x:f[0]+e.width/2}}})).on("afteranimate",
function(){var c=Ext.fly(b,"_anim");a.useDisplay?c.setDisplayed(!1):c.hide();c.clearOpacity();c.setPositioning(g);c.setSize(e);d.end()})}}},callback:a.callback,scope:a.scope});return this},syncContent:function(a){a=Ext.getDom(a);var b=a.childNodes,c=b.length,d=this.dom,e=d.childNodes,f=e.length,g,h,k,l,m=d._extData;if(Ext.isIE9m&&d.mergeAttributes)d.mergeAttributes(a,!0),d.src=a.src;else for(h=a.attributes,k=h.length,g=0;g<k;g++)l=h[g].name,"id"!==l&&d.setAttribute(l,h[g].value);m&&(m.isSynchronized=
!1);if(c!==f)d.innerHTML=a.innerHTML;else for(g=0;g<c;g++){h=b[g];f=e[g];k=h.nodeType;if(k!==f.nodeType||1===k&&h.tagName!==f.tagName){d.innerHTML=a.innerHTML;break}3===k?f.data=h.data:(h.id&&f.id!==h.id&&(f.id=h.id),f.style.cssText=h.style.cssText,f.className=h.className,Ext.fly(f,"_syncContent").syncContent(h))}},toggle:function(a){this.setVisible(!this.isVisible(),this.anim(a));return this},unmask:function(){var a=this.getData(),b=a.maskEl,d;b&&(d=b.dom.style,d.clearExpression&&(d.clearExpression("width"),
d.clearExpression("height")),b&&(b.destroy(),delete a.maskEl),this.removeCls([q,r]));this.restoreTabbableState(this.dom===c.body)},unclip:function(){var a=this.getData();a.isClipped&&(a.isClipped=!1,a=a.originalClip,a.o&&this.setStyle("overflow",a.o),a.x&&this.setStyle("overflow-x",a.x),a.y&&this.setStyle("overflow-y",a.y));return this},translate:function(a,b,c){Ext.supports.CssTransforms&&!Ext.isIE9m?this.callParent(arguments):(null!=a&&(this.dom.style.left=a+"px"),null!=b&&(this.dom.style.top=b+
"px"))},unselectable:function(){Ext.isOpera&&(this.dom.unselectable="on");this.removeCls(a.selectableCls);this.addCls(a.unselectableCls);return this},privates:{findTabbableElements:function(a){var b,c,d,e,f,g=this.dom,h=Ext.Element.tabbableSavedCounterAttribute,k=[],l=0,m,n;if(!g)return k;a&&(b=a.skipSelf,c=a.skipChildren,d=a.excludeRoot,e=a.includeSaved,f=a.includeHidden);if((d=d&&Ext.getDom(d))&&d.contains(g))return k;!b&&(e&&g.hasAttribute(h)||this.isTabbable(f))&&(k[l++]=g);if(c)return k;a=g.querySelectorAll(Ext.Element.tabbableSelector);
m=a.length;if(!m)return k;c=new Ext.dom.Fly;for(g=0;g<m;g++)b=a[g],n=+b.getAttribute("tabIndex"),!(e&&b.hasAttribute(h)||!(0>n)&&c.attach(b).isTabbable(f))||d&&(d===b||d.contains(b))||(k[l++]=b);return k},saveTabbableState:function(a){var b=Ext.Element.tabbableSavedCounterAttribute,c=Ext.Element.tabbableSavedValueAttribute,d,e,f,g;a&&null!=a.includeSaved||(a=Ext.Object.chain(a||null),a.includeSaved=!0);d=this.findTabbableElements(a);f=0;for(g=d.length;f<g;f++)e=d[f],a=+e.getAttribute(b),0<a?e.setAttribute(b,
++a):(e.hasAttribute("tabIndex")?e.setAttribute(c,e.getAttribute("tabIndex")):e.setAttribute(c,"none"),e.setAttribute("tabIndex","-1"),e.setAttribute(b,"1"));return d},restoreTabbableState:function(a,b){var c=this.dom,d=Ext.Element.tabbableSavedCounterAttribute,e=Ext.Element.tabbableSavedValueAttribute,f=[],g,h,k;if(!c)return this;b||(f=Ext.Array.from(c.querySelectorAll("["+d+"]")));a||f.unshift(c);h=0;for(k=f.length;h<k;h++)c=f[h],c.hasAttribute(d)&&c.hasAttribute(e)&&(g=+c.getAttribute(d),1<g?c.setAttribute(d,
--g):(g=c.getAttribute(e),"none"===g?c.removeAttribute("tabIndex"):c.setAttribute("tabIndex",g),c.removeAttribute(e),c.removeAttribute(d)));return f}},deprecated:{"4.0":{methods:{pause:function(a){Ext.fx.Manager.setFxDefaults(this.id,{delay:a});return this},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this}}},"4.2":{methods:{moveTo:function(a,b,c){return this.setXY([a,b],c)},setBounds:function(a,b,c,d,e){return this.setBox({x:a,
y:b,width:c,height:d},e)},setLeftTop:function(b,c){var d=this.dom.style;d.left=a.addUnits(b);d.top=a.addUnits(c);(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocation:function(a,b,c){return this.setXY([a,b],c)}}},"5.0":{methods:{getAttributeNS:function(a,b){return this.getAttribute(b,a)},getCenterXY:function(){return this.getAlignToXY(c,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle("height"))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,
this.dom.clientWidth)||parseFloat(this.getStyle("width"))||0},getStyleSize:function(){var b=this.dom,d,e;if(b===c||b===c.body)return{width:a.getViewportWidth(),height:a.getViewportHeight()};b=this.getStyle(["height","width"],!0);b.width&&"auto"!==b.width&&(d=parseFloat(b.width));b.height&&"auto"!==b.height&&(e=parseFloat(b.height));return{width:d||this.getWidth(!0),height:e||this.getHeight(!0)}},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),
function(){var a=Ext.dom.Element,b=a.prototype,c=!Ext.isIE8,d=document,e=d.defaultView,f=/alpha\(opacity=(.*)\)/i,g=/^\s+|\s+$/g,h=b.styleHooks,k=Ext.supports,l,m,n,p,q,r;b._init(a);delete b._init;Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain";Ext.plainListCls=Ext.baseCSSPrefix+"list-plain";Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods();!k.Opacity&&Ext.isIE&&Ext.apply(h.opacity,{get:function(a){a=a.style.filter;return a.match&&(a=a.match(f))&&(a=parseFloat(a[1]),!isNaN(a))?
a?a/100:0:1},set:function(a,b){var c=a.style,d=c.filter.replace(f,"").replace(g,"");c.zoom=1;c.filter="number"===typeof b&&0<=b&&1>b?d+(d.length?" ":"")+"alpha(opacity="+100*b+")":d}});if(!k.matchesSelector){var t=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,u=/\-/g,v,w=function(a,b){var c=new RegExp("(?:^|\\s+)"+b.replace(u,"\\-")+"(?:\\s+|$)");return a&&"*"!==a?(a=a.toUpperCase(),function(b){return b.tagName===a&&c.test(b.className)}):function(a){return c.test(a.className)}},y=function(a){a=a.toUpperCase();
return function(b){return b.tagName===a}},x={};b.matcherCache=x;b.is=function(a){if(!a)return!0;var b=this.dom,c,e;if(1!==b.nodeType)return!1;if(!(c=Ext.isFunction(a)?a:x[a])){if(!(c=a.match(t)))return c=b.parentNode,c||(e=!0,c=v||(v=d.createDocumentFragment()),v.appendChild(b)),a=-1!==Ext.Array.indexOf(Ext.fly(c,"_is").query(a),b),e&&v.removeChild(b),a;e=c[1];c=c[2];x[a]=c=c?w(e,c):y(e)}return c(b)}}e&&e.getComputedStyle||(b.getStyle=function(b,c){var d=this.dom,e="string"!==typeof b,f=b,g=f,h=1,
k=c,l=this.styleHooks,m,n,p,q;if(e&&(n={},f=g[0],q=0,!(h=g.length)))return n;if(!d||d.documentElement)return n||"";m=d.style;c?p=m:(p=d.currentStyle,p||(k=!0,p=m));do{(m=l[f])||(l[f]=m={name:a.normalize(f)});m.get?m=m.get(d,this,k,p):(m=m.name,m=p[m]);if(!e)return m;n[f]=m;f=g[++q]}while(q<h);return n});if(Ext.isIE8){r=function(a,b,c,d){return"none"===d[this.styleName]?"0px":d[this.name]};e=["Top","Right","Bottom","Left"];for(n=e.length;n--;)p=e[n],q="border"+p+"Width",h["border-"+p.toLowerCase()+
"-width"]=h[q]={name:q,styleName:"border"+p+"Style",get:r};var z=Ext.baseCSSPrefix+"sync-repaint";b.syncRepaint=function(){this.addCls(z);this.getWidth();this.removeCls(z)}}Ext.isIE10m&&Ext.override(a,{focus:function(a,b){var c;b=b||this.dom;if(Number(a))Ext.defer(this.focus,a,this,[null,b]);else{Ext.GlobalEvents.fireEvent("beforefocus",b);!b||"INPUT"!==b.tagName&&"TEXTAREA"!==b.tagname||(Ext.synchronouslyFocusing=document.activeElement);try{b.focus()}catch(d){c=d}Ext.synchronouslyFocusing&&document.activeElement!==
b&&!c&&b.focus();Ext.synchronouslyFocusing=null}return this}});Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,useShims:!1,getDetachedBody:function(){var a=Ext.detachedBodyEl;a||(a=d.createElement("div"),Ext.detachedBodyEl=a=new Ext.dom.Fly(a),a.isDetachedBody=!0);return a},getElementById:function(a){var b=d.getElementById(a),c;!b&&(c=Ext.detachedBodyEl)&&(b=c.dom.querySelector(Ext.makeIdSelector(a)));return b},addBehaviors:function(a){if(Ext.isReady){var b={},c,d,e;for(d in a)(c=d.split("@"))[1]&&
(e=c[0],b[e]||(b[e]=Ext.fly(document).select(e,!0)),b[e].on(c[1],a[d]));b=null}else Ext.onInternalReady(function(){Ext.addBehaviors(a)})}});Ext.isIE9m?(Ext.getElementById=function(a){var b=d.getElementById(a),c;!b&&(c=Ext.detachedBodyEl)&&(b=c.dom.all[a]);return b},b.getById=function(a,b){var e=this.dom,f=null,g;e&&(g=c&&d.getElementById(a)||e.all[a])&&(b?f=g:((e=Ext.cache[a])&&(e.skipGarbageCollection||!Ext.isGarbage(e.dom)?f=e:e.destroy()),f=f||new Ext.Element(g)));return f}):d.querySelector||(Ext.getDetachedBody=
Ext.getBody,Ext.getElementById=function(a){return d.getElementById(a)},b.getById=function(a,b){var c=d.getElementById(a);return b?c:c?Ext.get(c):null});!Ext.isIE||Ext.isIE9p&&9<=d.documentMode||(b.getAttribute=function(a,b){var c=this.dom,d;if(b)return d=typeof c[b+":"+a],"undefined"!==d&&"unknown"!==d?c[b+":"+a]||null:null;"for"===a&&(a="htmlFor");return c[a]||null});Ext.onInternalReady(function(){function c(a,b,d,e){a=e[this.name]||"";return n.test(a)?"transparent":a}function e(a,b,c){return function(){a.selectionStart=
b;a.selectionEnd=c}}function f(a,b,c,d){b=d.marginRight;var e,g;"0px"!==b&&(e=a.style,g=e.display,e.display="inline-block",b=(c?d:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight,e.display=g);return b}function g(b,c,d,f){var h=f.marginRight,l,m;if("0px"!==h){c=b.style;a:{l=k.DisplayChangeInputSelectionBug;m=k.DisplayChangeTextAreaSelectionBug;var n;if(l||m)if(n=(h=a.getActiveElement())&&h.tagName,(m&&"TEXTAREA"===n||l&&"INPUT"===n&&"text"===h.type)&&Ext.fly(b).isAncestor(h)&&(l=h.selectionStart,
m=h.selectionEnd,Ext.isNumber(l)&&Ext.isNumber(m))){l=e(h,l,m);break a}l=Ext.emptyFn}m=c.display;c.display="inline-block";h=(d?f:b.ownerDocument.defaultView.getComputedStyle(b,"")).marginRight;c.display=m;l()}return h}var n=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,p=[],q=b.setWidth,r=b.setHeight,t=b.setSize,u=/^\d+(?:\.\d*)?px$/i,v,w,x,y;k.FixedTableWidthBug&&(h.width={name:"width",set:function(a,b,c){var d=a.style;c=c._needsTableWidthFix;var e=d.display;c&&(d.display="none");
d.width=b;c&&(a.scrollWidth,d.display=e)}},b.setWidth=function(a,b){var c=this.dom,d=c.style,e=this._needsTableWidthFix,f=d.display;e&&!b&&(d.display="none");q.call(this,a,b);e&&!b&&(c.scrollWidth,d.display=f);return this},b.setSize=function(a,b,c){var d=this.dom,e=d.style,f=this._needsTableWidthFix,g=e.display;f&&!c&&(e.display="none");t.call(this,a,b,c);f&&!c&&(d.scrollWidth,e.display=g);return this});Ext.isIE8&&(h.height={name:"height",set:function(a,b,c){var d=c.component;if(d&&d._syncFrameHeight&&
c===d.el)if(c=d.frameBody.dom.style,u.test(b)){if(d=d.getFrameInfo())c.height=parseInt(b,10)-d.height+"px"}else b&&"auto"!==b||(c.height="");a.style.height=b}},b.setHeight=function(a,b){var c=this.component,d;if(c&&c._syncFrameHeight&&this===c.el)if(d=c.frameBody.dom.style,a&&"auto"!==a){if(c=c.getFrameInfo())d.height=a-c.height+"px"}else d.height="";return r.call(this,a,b)},b.setSize=function(a,b,c){var d=this.component,e;if(d&&d._syncFrameHeight&&this===d.el)if(e=d.frameBody.dom.style,b&&"auto"!==
b){if(d=d.getFrameInfo())e.height=b-d.height+"px"}else e.height="";return t.call(this,a,b,c)});Ext.getDoc().on("selectstart",function(b,c){var e=a.selectableCls,f=a.unselectableCls,g=c&&c.tagName,g=g&&g.toLowerCase();if("input"!==g&&"textarea"!==g)for(;c&&1===c.nodeType&&c!==d.documentElement;){g=Ext.fly(c);if(g.hasCls(e))break;if(g.hasCls(f)){b.stopEvent();break}c=c.parentNode}});k.RightMargin||(h.marginRight=h["margin-right"]={name:"marginRight",get:k.DisplayChangeInputSelectionBug||k.DisplayChangeTextAreaSelectionBug?
g:f});if(!k.TransparentColor)for(v=["background-color","border-color","color","outline-color"],w=v.length;w--;)x=v[w],y=a.normalize(x),h[x]=h[y]={name:y,get:c};b.verticalStyleHooks90=l=Ext.Object.chain(h);b.verticalStyleHooks270=m=Ext.Object.chain(h);l.width=h.height||{name:"height"};l.height=h.width||{name:"width"};l["margin-top"]={name:"marginLeft"};l["margin-right"]={name:"marginTop"};l["margin-bottom"]={name:"marginRight"};l["margin-left"]={name:"marginBottom"};l["padding-top"]={name:"paddingLeft"};
l["padding-right"]={name:"paddingTop"};l["padding-bottom"]={name:"paddingRight"};l["padding-left"]={name:"paddingBottom"};l["border-top"]={name:"borderLeft"};l["border-right"]={name:"borderTop"};l["border-bottom"]={name:"borderRight"};l["border-left"]={name:"borderBottom"};m.width=h.height||{name:"height"};m.height=h.width||{name:"width"};m["margin-top"]={name:"marginRight"};m["margin-right"]={name:"marginBottom"};m["margin-bottom"]={name:"marginLeft"};m["margin-left"]={name:"marginTop"};m["padding-top"]=
{name:"paddingRight"};m["padding-right"]={name:"paddingBottom"};m["padding-bottom"]={name:"paddingLeft"};m["padding-left"]={name:"paddingTop"};m["border-top"]={name:"borderRight"};m["border-right"]={name:"borderBottom"};m["border-bottom"]={name:"borderLeft"};m["border-left"]={name:"borderTop"};Ext.scopeCss||p.push(Ext.baseCSSPrefix+"body");k.Touch&&p.push(Ext.baseCSSPrefix+"touch");Ext.isIE&&Ext.isIE9m&&(p.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m"),p.push(Ext.baseCSSPrefix+"ie8p"),Ext.isIE8?
p.push(Ext.baseCSSPrefix+"ie8"):p.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p"),Ext.isIE8m&&p.push(Ext.baseCSSPrefix+"ie8m"));Ext.isIE10&&p.push(Ext.baseCSSPrefix+"ie10");Ext.isIE10p&&p.push(Ext.baseCSSPrefix+"ie10p");Ext.isIE11&&p.push(Ext.baseCSSPrefix+"ie11");Ext.isGecko&&p.push(Ext.baseCSSPrefix+"gecko");Ext.isOpera&&p.push(Ext.baseCSSPrefix+"opera");Ext.isOpera12m&&p.push(Ext.baseCSSPrefix+"opera12m");Ext.isWebKit&&p.push(Ext.baseCSSPrefix+"webkit");Ext.isSafari&&p.push(Ext.baseCSSPrefix+
"safari");Ext.isChrome&&p.push(Ext.baseCSSPrefix+"chrome");Ext.isMac&&p.push(Ext.baseCSSPrefix+"mac");Ext.isLinux&&p.push(Ext.baseCSSPrefix+"linux");k.CSS3BorderRadius||p.push(Ext.baseCSSPrefix+"nbr");k.CSS3LinearGradient||p.push(Ext.baseCSSPrefix+"nlg");k.Touch&&p.push(Ext.baseCSSPrefix+"touch");Ext.getBody().addCls(p)},null,{priority:1500})});
Ext.define("Ext.GlobalEvents",{extend:Ext.mixin.Observable,alternateClassName:"Ext.globalEvents",observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var a=this;a.callParent();Ext.onInternalReady(function(){a.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer});Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(a){this.fireEvent("mousedown",
a)},fireResize:function(){var a=Ext.Element,b=a.getViewportWidth(),a=a.getViewportHeight();if(this.curHeight!==a||this.curWidth!==b)this.curHeight=a,this.curWidth=b,this.fireEvent("resize",b,a)}},function(a){Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)}});
Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(a,b,c,d,e,f,g){var h,k;if("ready"===a)k=b;else if("string"!==typeof a)for(h in a)"ready"===h&&(k=a[h]);if(k)Ext.onReady(k);this.callParent([a,b,c,d,e,f,g])}}}}});Ext.USE_NATIVE_JSON=!1;
Ext.JSON=new function(){var a=this,b=window.JSON&&"[object JSON]"===JSON.toString(),c=!!{}.hasOwnProperty,d=function(a){return 10>a?"0"+a:a},e=function(a){return eval("("+a+")")},f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0B":"\\u000b"},g=/[\\\"\x00-\x1f\x7f-\uffff]/g;a.encodeString=function(a){return'"'+a.replace(g,function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'};a.encodeValue=function(b,d){if(null===
b||void 0===b)return"null";if(Ext.isDate(b))return a.encodeDate(b);if(Ext.isString(b))return Ext.isMSDate(b)?a.encodeMSDate(b):a.encodeString(b);if("number"===typeof b)return isFinite(b)?String(b):"null";if(Ext.isBoolean(b))return String(b);if(b.toJSON)return b.toJSON();if(Ext.isArray(b)){var e;if(d){e=b.length;var f=d+"   ",g=","+f,p=["[",f],q;for(q=0;q<e;q+=1)p.push(a.encodeValue(b[q],f),g);p[p.length-1]=d+"]";e=p.join("")}else{e=["[",""];f=b.length;for(g=0;g<f;g+=1)e.push(a.encodeValue(b[g]),",");
e[e.length-1]="]";e=e.join("")}return e}if(Ext.isObject(b)){if(d){f=d+"   ";g=","+f;p=["{",f];for(e in b)q=b[e],c&&!b.hasOwnProperty(e)||"function"===typeof q||void 0===q||p.push(a.encodeValue(e)+": "+a.encodeValue(q,f),g);p[p.length-1]=d+"}";e=p.join("")}else{e=["{",""];for(f in b)g=b[f],c&&!b.hasOwnProperty(f)||"function"===typeof g||void 0===g||e.push(a.encodeValue(f),":",a.encodeValue(g),",");e[e.length-1]="}";e=e.join("")}return e}return"function"===typeof b?"null":"undefined"};a.encodeDate=
function(a){return'"'+a.getFullYear()+"-"+d(a.getMonth()+1)+"-"+d(a.getDate())+"T"+d(a.getHours())+":"+d(a.getMinutes())+":"+d(a.getSeconds())+'"'};a.encode=function(c){return b&&Ext.USE_NATIVE_JSON?JSON.stringify(c):a.encodeValue(c)};a.decode=function(a,c){try{return b&&Ext.USE_NATIVE_JSON?JSON.parse(a):e(a)}catch(d){if(c)return null;Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}};a.encodeMSDate=function(a){return'"'+a+'"'};Ext.util||
(Ext.util={});Ext.util.JSON=a;Ext.encode=a.encode;Ext.decode=a.decode};
Ext.define("Ext.mixin.Inheritable",{extend:Ext.Mixin,mixinConfig:{id:"inheritable"},getInherited:function(a){var b=a&&this.inheritedStateInner||this.inheritedState,c=this.getRefOwner(),d=this.isContainer,e,f,g;if(!b||b.invalid)b=this.getRefOwner(),g=this.ownerLayout,c&&(f=g?g===c.layout:!0),this.inheritedState=b=Ext.Object.chain(b?b.getInherited(f):Ext.rootInheritedState),d&&(this.inheritedStateInner=e=Ext.Object.chain(b)),this.initInheritedState(b,e),b=d&&a?this.inheritedStateInner:this.inheritedState;
return b},getInheritedConfig:function(a,b){var c=this.inheritedState,d,e;if(!c||c.invalid)c=this.getInherited();e=c[a];b&&c.hasOwnProperty(a)&&(d=e,delete c[a],e=c[a],c[a]=d);return e},resolveListenerScope:function(a,b){var c="boolean"===typeof b,d=Ext._namedScopes[a],e;d?d.isController?e=this.getInheritedConfig("controller",c?b:!d.isSelf):d.isSelf?e=this.getInheritedConfig("defaultListenerScope",c&&b)||this:d.isThis&&(e=this):e=this.getInheritedConfig("defaultListenerScope",c?b:!0)||a||this;return e||
null},resolveSatelliteListenerScope:function(a,b){var c=Ext._namedScopes[b],d;c?c.isController?d=this.getInheritedConfig("controller"):c.isSelf?d=this.getInheritedConfig("defaultListenerScope")||a:c.isThis&&(d=a):d=this.getInheritedConfig("defaultListenerScope")||b||this;return d||null},lookupReferenceHolder:function(a){return this.getInheritedConfig("referenceHolder",!1!==a)||null},getRefOwner:function(){return this.ownerCt||this.parent||this.$initParent||this.ownerCmp||this.floatParent},invalidateInheritedState:function(){var a=
this.inheritedState;a&&(a.invalid=!0,delete this.inheritedState)},privates:{fixReference:function(){var a;this.getReference()&&(a=this.lookupReferenceHolder())&&a.attachReference(this)},onInheritedAdd:function(a,b){this.inheritedState&&b&&this.invalidateInheritedState();this.getReference()&&Ext.ComponentManager.markReferencesDirty()},onInheritedRemove:function(a){var b;this.getReference()&&(b=this.lookupReferenceHolder())&&b.clearReference(this);this.inheritedState&&!a&&this.invalidateInheritedState()}}},
function(){Ext.rootInheritedState={}});
Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(a){var b=this.getReference(),c=this.getController(),
d=this.getConfig("viewModel",!0),e=this.getConfig("session",!0),f=this.getDefaultListenerScope();c&&(a.controller=c);f?a.defaultListenerScope=this:c&&(a.defaultListenerScope=c);d&&(d.isViewModel||(d=this),a.viewModel=d);e&&(e.isSession||(e=this),a.session=e);b&&(this.referenceKey=(a.referencePath||"")+b,this.viewModelKey=(a.viewModelPath||"")+b)},lookupController:function(a){return this.getInheritedConfig("controller",a)||null},lookupSession:function(a){var b=a?null:this.getSession();b||(b=this.getInheritedConfig("session",
a))&&!b.isSession&&(b=b.getInherited().session=b.getSession());return b||null},lookupViewModel:function(a){var b=a?null:this.getViewModel();b||(b=this.getInheritedConfig("viewModel",a))&&!b.isViewModel&&(b=b.getInherited().viewModel=b.getViewModel());return b||null},publishState:function(a,b){var c=this.publishedState,d=this.getBind(),e=d&&a&&d[a],d=0,f,g,h;!e||e.syncing||e.isReadOnly()||(0!==e.calls||null!=b&&b!==this.getInitialConfig()[a])&&e.setValue(b);if(e=this.getPublishes())if(g=this.lookupViewModel())if(h=
this.viewModelKey){if(a&&c){if(!e[a]||!(b&&b.constructor===Object||b instanceof Array)&&c[a]===b)return;h=h+"."+a}else{c=c||(this.publishedState={});for(f in e)++d,c[f]=f===a?b:this[f];if(!d)return;b=c}g.set(h,b)}},privates:{addBindableUpdater:function(a){a=this.self.$config.configs[a];var b;a&&!this.hasOwnProperty(b=a.names.update)&&(this[b]=a.bindableUpdater||(a.root.bindableUpdater=this.makeBindableUpdater(a)))},applyBind:function(a,b){if(!a)return a;var c=this.lookupViewModel(),d=this.getTwoWayBindable(),
e=this._getBindTemplateScope,f,g,h;b&&"string"!==typeof b||(b={});Ext.isString(a)&&(f=a,a={},a[this.defaultBindProperty]=f);for(g in a)h=a[g],(f=b[g])&&"string"!==typeof f&&(f.destroy(),f=null),h&&(f=c.bind(h,this.onBindNotify,this),f._config=Ext.Config.get(g),f.getTemplateScope=e),b[g]=f,d&&d[g]&&!f.isReadOnly()&&this.addBindableUpdater(g);return b},applyController:function(a){a&&(a=Ext.Factory.controller(a),a.setView(this));return a},applyPublishes:function(a){if(this.lookupViewModel())for(var b in a)this.addBindableUpdater(b);
return a},applySession:function(a){if(!a)return null;if(!a.isSession){var b=this.lookupSession(!0);a=!0===a?{}:a;a=b?b.spawn(a):new Ext.data.Session(a)}return a},applyViewModel:function(a){var b;if(!a)return null;a.isViewModel||(b={parent:this.lookupViewModel(!0)},b.session=this.getSession(),b.parent||(b.session=this.lookupSession()),a&&(a.constructor===Object?Ext.apply(b,a):"string"===typeof a&&(b.type=a)),a=Ext.Factory.viewModel(b));return a},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},
destroyBindable:function(){var a=this.getConfig("viewModel",!0),b=this.getConfig("session",!0),c=this.getController();a&&a.isViewModel&&(a.destroy(),this.setViewModel(null));b&&b.isSession&&(b.getAutoDestroy()&&b.destroy(),this.setSession(null));c&&(this.setController(null),c.destroy())},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(a){var b=a.names.update;return function(c,d){var e=this.self.prototype[b];e&&e.call(this,c,d);
this.publishState(a.name,c)}},isSyncing:function(a){var b=this.getBind(),c=!1;b&&(a=b[a])&&(c=0<a.syncing);return c},onBindNotify:function(a,b,c){c.syncing=c.syncing+1||1;this[c._config.names.set](a);--c.syncing},removeBindings:function(){var a,b,c;if(!this.destroying&&(a=this.getBind())&&"string"!==typeof a)for(b in a)c=a[b],c.destroy(),c._config=c.getTemplateScope=null;this.setBind(null)},updateSession:function(a){var b=this.getInherited();a?b.session=a:delete b.session},updateViewModel:function(a){var b=
this.getInherited(),c=this.getController();a?(b.viewModel=a,a.setView(this),c&&c.initViewModel(a)):delete b.viewModel}}});
Ext.define("Ext.mixin.ComponentDelegation",{extend:Ext.Mixin,mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(a,b,c,d,e,f,g){var h;if(e=e||d.order)h=d&&d.priority,h||(d=d?Ext.Object.chain(d):{},d.priority=this.$orderToPriority[e]);e=this.$delegatedEvents||(this.$delegatedEvents={});(e[a]||(e[a]=new Ext.util.Event(this,a))).addListener(b,c,d,f,g)&&this.$hasDelegatedListeners._incr_(a)},clearDelegatedListeners:function(){var a=this.$delegatedEvents,b,c,d;if(a)for(b in a)c=
a[b],d=c.listeners.length,c.clearListeners(),this.$hasDelegatedListeners._decr_(b,d),delete a[b]},doFireDelegatedEvent:function(a,b){var c=!0,d,e;if(this.$hasDelegatedListeners[a])for(d=this.getRefOwner();d;){if(e=d.$delegatedEvents)if(e=e[a])if(c=e.fireDelegated(this,b),!1===c)break;d=d.getRefOwner()}return c},removeDelegatedListener:function(a,b,c){var d=this.$delegatedEvents,e;d&&(e=d[a])&&e.removeListener(b,c)&&(this.$hasDelegatedListeners._decr_(a),0===e.listeners.length&&delete d[a])}},onClassMixedIn:function(a){function b(){}
a.prototype.HasListeners=a.HasListeners=b;b.prototype=a.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners}},function(a){function b(){}a.HasDelegatedListeners=b;b.prototype=a.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners});
Ext.define("Ext.Widget",{extend:Ext.Evented,xtype:"widget",mixins:[Ext.mixin.Inheritable,Ext.mixin.Bindable,Ext.mixin.ComponentDelegation],isWidget:!0,element:{reference:"element"},observableType:"component",cachedConfig:{style:null},config:{userCls:null},eventedConfig:{width:null,height:null},template:[],constructor:function(a){this.initId(a);this.initElement();this.mixins.observable.constructor.call(this,a);Ext.ComponentManager.register(this);(a=this.getController())&&a.init(this)},afterCachedConfig:function(){var a=
this.referenceList,b=this.renderElement,c,d,e;this.self.prototype.renderTemplate=c=document.createDocumentFragment();c.appendChild(b.clone(!0,!0));e=c.querySelectorAll("[id]");b=0;for(c=e.length;b<c;b++)d=e[b],d.removeAttribute("id");b=0;for(c=a.length;b<c;b++)d=a[b],this[d].dom.removeAttribute("reference")},addCls:function(a){this.el.addCls(a)},applyWidth:function(a){return this.filterLengthValue(a)},applyHeight:function(a){return this.filterLengthValue(a)},clearListeners:function(){this.mixins.observable.clearListeners.call(this);
this.mixins.componentDelegation.clearDelegatedListeners.call(this)},destroy:function(){var a=this.referenceList,b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.hasOwnProperty(d)&&(this[d].destroy(),this[d]=null);this.destroyBindable();this.callParent();Ext.ComponentManager.unregister(this)},doFireEvent:function(a,b,c){c=this.mixins.observable.doFireEvent.call(this,a,b,c);!1!==c&&(c=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,a,b));return c},getElementConfig:function(){var a=this.element;
"children"in a||(a=Ext.apply({children:this.getTemplate()},a));return a},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var a=this.self.prototype,b=this.getId(),c=this.referenceList=this.referenceList=[],d=!0,e,f,g,h,k,l;a.hasOwnProperty("renderTemplate")?(e=this.renderTemplate.cloneNode(!0),a=e.firstChild):(d=!1,e=document.createDocumentFragment(),a=Ext.Element.create(this.processElementConfig.call(a),
!0),e.appendChild(a));e=e.querySelectorAll("[reference]");g=0;for(h=e.length;g<h;g++)k=e[g],l=k.getAttribute("reference"),d&&k.removeAttribute("reference"),"element"===l?(k.id=b,f=this.el=this.addElementReference(l,k),f.dom.setAttribute("data-componentid",b)):this.addElementReferenceOnDemand(l,k),c.push(l);a===f.dom?this.renderElement=f:this.addElementReferenceOnDemand("renderElement",a)},is:function(a){return Ext.ComponentQuery.is(this,a)},isXType:function(a,b){return b?-1!==Ext.Array.indexOf(this.xtypes,
a):!!this.xtypesMap[a]},removeCls:function(a){this.el.removeCls(a)},toggleCls:function(a,b){this.element.toggleCls(a,b)},resolveListenerScope:function(a,b){return this.mixins.inheritable.resolveListenerScope.call(this,a,b)},setSize:function(a,b){void 0!==a&&this.setWidth(a);void 0!==b&&this.setHeight(b)},applyStyle:function(a,b){b&&a===b&&Ext.isObject(b)&&(a=Ext.apply({},a));return a},updateStyle:function(a){this.element.applyStyles(a)},updateWidth:function(a){this.element.setWidth(a)},updateHeight:function(a){this.element.setHeight(a)},
onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return!1},privates:{addElementReferenceOnDemand:function(a,b){this._elementListeners[a]?this.addElementReference(a,b):Ext.Object.defineProperty(this,a,{get:function(){delete this[a];return this.addElementReference(a,b)},configurable:!0})},addElementReference:function(a,b){var c=this[a]=Ext.get(b),d=this._elementListeners[a],e,f;c.skipGarbageCollection=!0;c.component=this;if(d){d=Ext.clone(d);for(e in d)f=d[e],"object"===typeof f&&
(f.scope=this);d.scope=this;c.on(d)}return c},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=!0},doAddListener:function(a,b,c,d,e,f,g){var h;d&&"element"in d&&this[d.element].doAddListener(a,b,c||this,d,e);if(d&&(h=d.delegate)){this.mixins.componentDelegation.addDelegatedListener.call(this,a,b,c,d,e,f,g);return}this.callParent([a,b,c,d,e,f,g])},doRemoveListener:function(a,b,c){this.mixins.observable.doRemoveListener.call(this,a,b,c);this.mixins.componentDelegation.removeDelegatedListener.call(this,
a,b,c)},filterLengthValue:function(a){return"auto"===a||!a&&0!==a?null:a},getFocusEl:function(){return this.element},initElementListeners:function(a){var b=this.self.superclass._elementListeners,c=a.reference,d=a.children,e,f;e=this.hasOwnProperty("_elementListeners")?this._elementListeners:this._elementListeners=b?Ext.Object.chain(b):{};c&&(f=a.listeners)&&(b&&(b=b[c])&&(f=Ext.Object.chain(b),Ext.apply(f,a.listeners)),e[c]=f,a.listeners=null);if(d)for(c=0,a=d.length;c<a;c++)this.initElementListeners(d[c])},
initId:function(a){var b=this.config;(a=a&&a.id||b&&b.id)?(this.setId(a),this.id=a):this.getId()},processElementConfig:function(){var a=this.self.superclass,b;this.hasOwnProperty("_elementConfig")?b=this._elementConfig:(b=this._elementConfig=this.getElementConfig(),a.isWidget&&this.processElementConfig.call(a),this.initElementListeners(b));return b},reattachToBody:function(){this.isDetached=!1},updateUserCls:function(a,b){this.element.replaceCls(b,a)}}},function(a){a=a.prototype;(a.$elementEventOptions=
Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(a.$eventOptions=Ext.Object.chain(a.$eventOptions)).delegate=1});
Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,config:{renderTo:null},cachedConfig:{baseCls:Ext.baseCSSPrefix+"widget"},constructor:function(a){this.callParent([a]);this.getComponentLayout();(a=this.getRenderTo())&&this.render(a)},addClsWithUI:function(a){this.el.addCls(a)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var a=this.getRefOwner();a&&a.updateLayout()},destroy:function(){var a=this.ownerCt;a&&
a.remove&&a.remove(this,!1);this.callParent()},finishRender:function(){this.rendering=!1;this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var a=this.componentLayout;a||(a=this.componentLayout=new Ext.layout.component.Auto,a.setOwner(this));return a},getEl:function(){return this.element},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||
this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(a,b,c){this.ownerCt=a;this.onInheritedAdd(this,c)},onRemoved:function(a){a||this.removeBindings();this.onInheritedRemove(a);this.ownerCt=this.ownerLayout=null},parseBox:function(a){return Ext.Element.parseBox(a)},removeClsWithUI:function(a){this.el.removeCls(a)},render:function(a,b){var c=this.element,d=Ext.Component.prototype;if(!this.ownerCt||this.floating)Ext.scopeCss&&c.addCls(d.rootCls),
c.addCls(d.borderBoxCls);if(b&&(d=a.childNodes[b])){Ext.fly(a).insertBefore(c,d);return}Ext.fly(a).appendChild(c)},setPosition:function(a,b){this.el.setLocalXY(a,b)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},
isLayoutChild:function(a){var b=this.ownerCt;return b?b===a||b.isLayoutChild(a):!1}},function(a){a=a.prototype;Ext.isIE9m&&(a.addElementReferenceOnDemand=a.addElementReference)});Ext.define("Ext.ProgressBase",{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(a){a.isTemplate||(a=new Ext.XTemplate(a));return a},applyValue:function(a){return a||0}});
Ext.define("Ext.util.Format",function(){var a;return{singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this},undef:function(a){return void 0!==a?a:""},
defaultValue:function(a,c){return void 0!==a&&""!==a?a:c},substr:"b"!="ab".substr(-1)?function(a,c,d){a=String(a);return 0>c?a.substr(Math.max(a.length+c,0),d):a.substr(c,d)}:function(a,c,d){return String(a).substr(c,d)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(b,c,d,e){var f="",g=",0",h=0;b-=0;0>b&&(b=-b,f="-");d=Ext.isDefined(d)?d:a.currencyPrecision;for(g+=0<d?".":
"";h<d;h++)g+="0";b=a.number(b,g);return!0===(e||a.currencyAtEnd)?Ext.String.format("{0}{1}{2}",f,b,c||a.currencySign):Ext.String.format("{0}{1}{2}",f,c||a.currencySign,b)},date:function(a,c){if(!a)return"";Ext.isDate(a)||(a=new Date(Date.parse(a)));return Ext.Date.dateFormat(a,c||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},hex:function(a,c){var d=parseInt(a||0,10).toString(16);if(c)for(0>c&&(c=-c,d.length>c&&(d=d.substring(d.length-c)));d.length<c;)d=
"0"+d;return d},or:function(a,c){return a||c},pick:function(a,c,d){if(Ext.isNumber(a)){var e=arguments[a+1];if(e)return e}return a?d:c},stripTags:function(b){return b?String(b).replace(a.stripTagsRe,""):b},stripScripts:function(b){return b?String(b).replace(a.stripScriptsRe,""):b},fileSize:function(){return function(a){return 1024>a?1===a?"1 byte":a+" bytes":1048576>a?Math.round(10*a/1024)/10+" KB":1073741824>a?Math.round(10*a/1048576)/10+" MB":Math.round(10*a/1073741824)/10+" GB"}}(),math:function(){var a=
{};return function(c,d){a[d]||(a[d]=Ext.functionFactory("v","return v "+d+";"));return a[d](c)}}(),round:function(a,c){var d=Number(a);"number"===typeof c?(c=Math.pow(10,c),d=Math.round(a*c)/c):void 0===c&&(d=Math.round(d));return d},number:function(b,c){if(!c)return b;if(isNaN(b))return"";var d=a.formatFns[c];if(!d){var d=c,e=a.thousandSeparator,f=a.decimalSeparator,g=0,h="",k,l;"/i"===c.substr(c.length-2)?(a.I18NFormatCleanRe&&a.lastDecimalSeparator===f||(a.I18NFormatCleanRe=new RegExp("[^\\d\\"+
f+"#]","g"),a.lastDecimalSeparator=f),c=c.substr(0,c.length-2),e=-1!==c.indexOf(e),k=c.replace(a.I18NFormatCleanRe,"").split(f)):(e=-1!==c.indexOf(","),k=c.replace(a.formatCleanRe,"").split("."));f=c.replace(a.formatPattern,"");!(2<k.length)&&2===k.length&&(g=k[1].length,l=k[1].match(a.hashRe))&&(h=l[0].length,h='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+h+'}$")');h=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(e?",thousandSeparator,thousands=[],j,n,i":
"")+(f?',formatString="'+c+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+g+");",h,";"];e?(g&&(h[h.length]='parts=fnum.split(".");',h[h.length]="fnum=parts[0];"),h[h.length]="if(absVal>=1000) {",h[h.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",
g&&(h[h.length]="fnum += utilFormat.decimalSeparator+parts[1];")):g&&(h[h.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}');h[h.length]='if(neg&&fnum!=="'+(g?"0."+Ext.String.repeat("0",g):"0")+'") { fnum="-"+fnum; }';l&&(h[h.length]='fnum=fnum.replace(trailingZeroes,"");');h[h.length]="return ";h[h.length]=f?"formatString.replace(formatPattern, fnum);":"fnum;";h[h.length]="};";d=a.formatFns[d]=Ext.functionFactory("Ext",h.join(""))(Ext)}return d(b)},
numberRenderer:function(b){return function(c){return a.number(c,b)}},percent:function(b,c){return a.number(100*b,c||"0")+a.percentSign},attributes:function(a){if("object"===typeof a){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(d,'="',"style"===d?Ext.DomHelper.generateStyles(a[d],null,!0):Ext.htmlEncode(a[d]),'" ');a=c.join("")}return a||""},plural:function(a,c,d){return a+" "+(1===a?c:d?d:c+"s")},nl2br:function(b){return Ext.isEmpty(b)?"":b.replace(a.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,
uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(a){a=a||0;if("number"===typeof a)return{top:a,right:a,bottom:a,left:a};a=a.split(" ");var c=a.length;1===c?a[1]=a[2]=a[3]=a[0]:2===c?(a[2]=a[0],a[3]=a[1]):3===c&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],
10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}}});
Ext.define("Ext.Template",{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},useEval:Ext.isGecko,constructor:function(a){var b=arguments,c=[],d,e=b.length,f;this.initialConfig={};1===e&&Ext.isArray(a)&&(b=a,e=b.length);if(1<e)for(d=0;d<e;d++)f=b[d],"object"===typeof f?(Ext.apply(this.initialConfig,f),Ext.apply(this,f)):c.push(f);else c.push(a);this.html=c.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,
apply:function(a){return this.compiled?(this.fn||this.compile(),this.fn(a).join("")):this.evaluate(a)},evaluate:function(a){var b=!this.disableFormats,c=Ext.util.Format,d=this;return this.html.replace(this.tokenRe,function(e,f,g,h,k){if(null==g||""===g)g=f;return h&&b?(k=k?[a[g]].concat(Ext.functionFactory("return ["+k+"];")()):[a[g]],"this."===h.substr(0,5)?d[h.substr(5)].apply(d,k):c[h]?c[h].apply(c,k):e):void 0!==a[g]?a[g]:""})},applyOut:function(a,b){this.compiled?(this.fn||this.compile(),b.push.apply(b,
this.fn(a))):b.push(this.apply(a));return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){this.html=a;this.compiled=!!b;this.fn=null;return this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a;a=this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,"\\'").replace(this.tokenRe,this.regexReplaceFn.bind(this));a=(!0!==this.disableFormats?"var fm=Ext.util.Format;":"")+(this.useEval?"$=":
"return")+" function(v){return ['"+a+"'];};";this.fn=this.useEval?this.evalCompiled(a):(new Function("Ext",a))(Ext);this.compiled=!0;return this},evalCompiled:function(a){eval(a);return a},regexReplaceFn:function(a,b,c,d,e){null==b||""===b?b='"'+c+'"':this.stringFormat&&(b=parseInt(b)+1);if(d&&!0!==this.disableFormats){e=e?","+e:"";if("this."===d.substr(0,5))d+="(";else if(Ext.util.Format[d])d="fm."+d+"(";else return a;return"',"+d+"v["+b+"]"+e+"),'"}return"',v["+b+"] == undefined ? '' : v["+b+"],'"},
insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){a=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(a):a},overwrite:function(a,b,c){a=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(a):a}},function(a){var b=
/\{\d+\}/,c=function(c){return b.test(c)?(c=new a(c,d),function(){return c.apply(arguments)}):function(){return c}},d={useFormat:!1,compiled:!0,stringFormat:!0},e={};Ext.String.format=Ext.util.Format.format=function(a){return(e[a]||(e[a]=c(a))).apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}});
Ext.define("Ext.util.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=a.length,c={elseif:"elif"},d=this.topRe,e=this.actionsRe,f,g,h,k,l,m,n,p;this.level=0;this.stack=g=[];for(f=0;f<b;f=n){d.lastIndex=f;h=d.exec(a);if(!h){this.doText(a.substring(f,b));break}m=h.index;n=d.lastIndex;f<m&&(f=a.substring(f,m),p&&""===Ext.String.trim(f)||this.doText(f));p=!1;if(h[1])n=a.indexOf("%}",m+2),this.doEval(a.substring(m+2,n)),n+=2;else if(h[2])n=a.indexOf("]}",
m+2),this.doExpr(a.substring(m+2,n)),n+=2;else if(h[3])this.doTag(h[3]);else if(h[4]){for(m=null;null!==(k=e.exec(h[4]));)if(f=k[2]||k[3])f=Ext.String.htmlDecode(f),k=k[1],k=c[k]||k,m=m||{},l=m[k],"string"==typeof l?m[k]=[l,f]:l?m[k].push(f):m[k]=f;if(m)if(m["if"])this.doIf(m["if"],m),g.push({type:"if"});else if(m["switch"])this.doSwitch(m["switch"],m),g.push({type:"switch"}),p=!0;else if(m["case"])this.doCase(m["case"],m);else if(m.elif)this.doElseIf(m.elif,m);else if(m["for"]){++this.level;if(h=
this.propRe.exec(h[4]))m.propName=h[1]||h[2];this.doFor(m["for"],m);g.push({type:"for",actions:m})}else if(m.foreach){++this.level;if(h=this.propRe.exec(h[4]))m.propName=h[1]||h[2];this.doForEach(m.foreach,m);g.push({type:"foreach",actions:m})}else m.exec&&(this.doExec(m.exec,m),g.push({type:"exec",actions:m}));else this.elseRe.test(h[4])?this.doElse():this.defaultRe.test(h[4])?this.doDefault():(this.doTpl(),g.push({type:"tpl"}))}else 5===h[0].length?g.push({type:"tpl"}):(h=g.pop(),this.doEnd(h.type,
h.actions),"for"!=h.type&&"foreach"!=h.type||--this.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});
Ext.define("Ext.util.XTemplateCompiler",{extend:Ext.util.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){a=this.generate(a);return this.useEval?this.evalTpl(a):(new Function("Ext",a))(Ext)},generate:function(a){this.maxLevel=0;this.body=["var c0=values, a0="+this.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];this.definitions?"string"===typeof this.definitions?this.definitions=[this.definitions,"var fm=Ext.util.Format,ts=Object.prototype.toString;"]:
this.definitions.push("var fm=Ext.util.Format,ts=Object.prototype.toString;"):this.definitions=["var fm=Ext.util.Format,ts=Object.prototype.toString;"];this.switches=[];this.parse(a);this.definitions.push((this.useEval?"$=":"return")+" function ("+this.fnArgs+") {",this.body.join(""),"}");a=this.definitions.join("\n");this.definitions.length=this.body.length=this.switches.length=0;delete this.definitions;delete this.body;delete this.switches;return a},doText:function(a){var b=this.body;a=a.replace(this.aposRe,
"\\'").replace(this.newLineRe,"\\n");this.useIndex?b.push("out[out.length]='",a,"'\n"):b.push("out.push('",a,"')\n")},doExpr:function(a){var b=this.body;b.push("if ((v="+a+") != null) out");this.useIndex?b.push("[out.length]=v+''\n"):b.push(".push(v+'')\n")},doTag:function(a){var b=this.parseTag(a);b?this.doExpr(b):this.doText("{"+a+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){"."===a?this.body.push("if (values) {\n"):this.propNameRe.test(a)?
this.body.push("if (",this.parseTag(a),") {\n"):this.body.push("if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doElseIf:function(a,b){"."===a?this.body.push("else if (values) {\n"):this.propNameRe.test(a)?this.body.push("} else if (",this.parseTag(a),") {\n"):this.body.push("} else if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doSwitch:function(a){"."===a||"#"===a?this.body.push("switch (","."===a?"values":"xindex",") {\n"):this.propNameRe.test(a)?this.body.push("switch (",
this.parseTag(a),") {\n"):this.body.push("switch (",this.addFn(a),this.callFn,") {\n");this.switches.push(0)},doCase:function(a){a=Ext.isArray(a)?a:[a];var b=this.switches.length-1,c,d;this.switches[b]?this.body.push("break;\n"):this.switches[b]++;d=0;for(b=a.length;d<b;++d)c=this.intRe.exec(a[d]),a[d]=c?c[1]:"'"+a[d].replace(this.aposRe,"\\'")+"'";this.body.push("case ",a.join(": case "),":\n")},doDefault:function(){var a=this.switches.length-1;this.switches[a]?this.body.push("break;\n"):this.switches[a]++;
this.body.push("default:\n")},doEnd:function(a,b){var c=this.level-1;"for"==a||"foreach"==a?(b.exec&&this.doExec(b.exec),this.body.push("}\n"),this.body.push("parent=p",c,";values=r",c+1,";xcount=n"+c+";xindex=i",c,"+1;xkey=k",c,";\n")):"if"!=a&&"switch"!=a||this.body.push("}\n")},doFor:function(a,b){var c,d=this.level,e=d-1;c="."===a?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;this.maxLevel<d&&(this.maxLevel=d,this.body.push("var "));e="."==a?"c"+d:"a"+e+"?c"+e+"[i"+
e+"]:c"+e;this.body.push("i",d,"=0,n",d,"=0,c",d,"=",c,",a",d,"=",this.createArrayTest(d),",r",d,"=values,p",d,",k",d,";\n","p",d,"=parent=",e,"\n","if (c",d,"){if(a",d,"){n",d,"=c",d,".length;}else if (c",d,".isMixedCollection){c",d,"=c",d,".items;n",d,"=c",d,".length;}else if(c",d,".isStore){c",d,"=c",d,".data.items;n",d,"=c",d,".length;}else{c",d,"=[c",d,"];n",d,"=1;}}\n","for (xcount=n",d,";i",d,"<n"+d+";++i",d,"){\n","values=c",d,"[i",d,"]");b.propName&&this.body.push(".",b.propName);this.body.push("\n",
"xindex=i",d,"+1\n");b.between&&this.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},doForEach:function(a,b){var c,d=this.level,e=d-1;c="."===a?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;this.maxLevel<d&&(this.maxLevel=d,this.body.push("var "));e="."==a?"c"+d:"a"+e+"?c"+e+"[i"+e+"]:c"+e;this.body.push("i",d,"=-1,n",d,"=0,c",d,"=",c,",a",d,"=",this.createArrayTest(d),",r",d,"=values,p",d,",k",d,";\n","p",d,"=parent=",e,"\n","for(k",d," in c",d,"){\n","xindex=++i",
d,"+1;\n","xkey=k",d,";\n","values=c",d,"[k",d,"];");b.propName&&this.body.push(".",b.propName);b.between&&this.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a,b){var c="f"+this.definitions.length,d=this.guards[this.strict?0:1];this.definitions.push("function "+c+"("+this.fnArgs+") {",d.doTry," var $v = values; with($v) {","  "+a," }",d.doCatch,
"}");this.body.push(c+this.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(a){var b="f"+this.definitions.length,c=this.guards[this.strict?0:1];"."===a?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return values","}"):".."===a?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return parent","}"):this.definitions.push("function "+b+"("+this.fnArgs+") {",c.doTry," var $v = values; with($v) {","  return("+a+")"," }",c.doCatch,
"}");return b},parseTag:function(a){var b=this.tagRe.exec(a),c,d;if(!b)return null;c=b[1];a=b[2];d=b[3];b=b[4];"."==c?(this.validTypes||(this.definitions.push("var validTypes={string:1,number:1,boolean:1};"),this.validTypes=!0),c='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):c="#"==c?"xindex":"$"==c?"xkey":"parent."==c.substr(0,7)?c:isNaN(c)&&-1==c.indexOf("-")&&-1!=c.indexOf(".")?"values."+c:"values['"+c+"']";b&&(c="("+c+b+")");if(a&&this.useFormat)d=d?","+d:"",
a="this."!=a.substr(0,5)?"fm."+a+"(":a+"(";else return c;return a+c+d+")"},evalTpl:function(a){eval(a);return a},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";a.callFn=".call(this,"+a.fnArgs+")"});
Ext.define("Ext.XTemplate",{extend:Ext.Template,isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(a,b,c,d){return this.applyOut(a,[],b,c,d).join("")},applyOut:function(a,b,c,d,e){var f;this.fn||(f=new Ext.util.XTemplateCompiler({useFormat:!0!==this.disableFormats,definitions:this.definitions,strict:this.strict}),this.fn=f.compile(this.html));d=d||1;e=e||1;if(this.strict)this.fn(b,a,c||this.emptyObj,d,e);else try{this.fn(b,a,c||this.emptyObj,d,e)}catch(g){}return b},compile:function(){return this},
statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b))d=a;else for(d=a.self.prototype;d&&!d.hasOwnProperty(b);d=d.superclass);d[b]=c;c.owner=d}return c||null}}});
Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(c){var d,e;c&&(Ext.apply(this,c),d=this.cls,e=this.style,delete this.cls);this.classList=d?a(d):[];this.classMap=d?b(this.classList):{};e&&("string"===typeof e?this.style=Ext.Element.parseStyles(e):Ext.isFunction(e)?(this.styleFn=e,delete this.style):this.style=Ext.apply({},e))},flush:function(){this.flushClassList=
[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(b){if(!b)return this;b="string"===typeof b?a(b):b;for(var d=b.length,e=this.classList,f=this.classMap,g=this.flushClassList,h=0,k;h<d;++h)k=b[h],f[k]||(f[k]=!0,e.push(k),g&&(g.push(k),delete this.removedClasses[k]));return this},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d=this.classList,e=this.classList=[];c=b(a(c));var f=d.length,g=this.classMap,h=this.removedClasses,k,l;for(k=
0;k<f;++k)l=d[k],c[l]?(h&&g[l]&&(h[l]=!0,Ext.Array.remove(this.flushClassList,l)),delete g[l]):e.push(l);return this},setStyle:function(a,b){var e=this.style||(this.style={});"string"===typeof a?1===arguments.length?this.setStyle(Ext.Element.parseStyles(a)):e[a]=b:Ext.apply(e,a);return this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(a){var b=this.flushClassList||this.classList,e=this.removedClasses,f;this.styleFn?
(f=Ext.apply({},this.styleFn()),Ext.apply(f,this.style)):f=this.style;a[this.clsProp]=b.join(" ");f&&(a[this.styleProp]=this.styleIsText?Ext.DomHelper.generateStyles(f,null,!0):f);e&&(e=Ext.Object.getKeys(e),e.length&&(a[this.removedProp]=e.join(" ")));this.unselectableAttr&&(a.unselectable="on");return a}}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,isLite:!1,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});
Ext.define("Ext.scroll.Scroller",{extend:Ext.Evented,alias:"scroller.scroller",mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"dom"},isScroller:!0,_spacerCls:Ext.baseCSSPrefix+"domscroller-spacer",config:{direction:void 0,directionLock:!1,disabled:null,element:void 0,indicators:null,maxPosition:{x:0,y:0},maxUserPosition:{x:0,y:0},minPosition:{x:0,y:0},minUserPosition:{x:0,y:0},momentumEasing:null,size:null,slotSnapSize:{x:0,y:0},x:!0,y:!0,spacerXY:null},statics:{create:function(a){return Ext.Factory.scroller(a,
Ext.supports.Touch?"touch":"dom")}},constructor:function(a){this.position={x:0,y:0};this.callParent([a]);this.onDomScrollEnd=Ext.Function.createBuffered(this.onDomScrollEnd,100,this)},destroy:function(){this.setX(Ext.emptyString);this.setY(Ext.emptyString);this.setElement(null);this.onDomScrollEnd=this._partners=this.component=null;this.callParent()},addPartner:function(a,b){var c=this._partners||(this._partners={}),d=a._partners||(a._partners={});c[a.getId()]={scroller:a,axis:b};d[this.getId()]=
{scroller:this,axis:b}},applyElement:function(a,b){var c,d;b&&this.scrollListener.destroy();if(a)return c=a.isElement?a:Ext.get(a),c.dom===document.body?(c=Ext.get(document.scrollingElement||(Ext.isWebKit?document.body:document.documentElement)),d=Ext.get(Ext.isIE9m?window:document)):d=c,this.scrollListener=d.on({scroll:this.onDomScroll,scope:this,destroyable:!0}),c},getClientSize:function(){var a=this.getElement().dom;return{x:a.clientWidth,y:a.clientHeight}},getScrollbarSize:function(){var a=0,
b=0,c,d,e,f,g,h;if((this.isDomScroller||1===Ext.supports.touchScroll)&&(c=this.getElement())&&!c.destroyed){d=this.getX();e=this.getY();c=c.dom;if(d||e)h=Ext.getScrollbarSize();"scroll"===d?f=!0:d&&(f=c.scrollWidth>c.clientWidth);"scroll"===e?g=!0:e&&(g=c.scrollHeight>c.clientHeight);f&&(b=h.height);g&&(a=h.width)}return{width:a,height:b}},getPosition:function(){return this.position},updateDirectionLock:Ext.emptyFn,updateDisabled:Ext.emptyFn,updateIndicators:Ext.emptyFn,updateMaxPosition:Ext.emptyFn,
updateMaxUserPosition:Ext.emptyFn,updateMinPosition:Ext.emptyFn,updateMinUserPosition:Ext.emptyFn,updateMomenumEasing:Ext.emptyFn,updateX:Ext.emptyFn,updateY:Ext.emptyFn,onPartnerScrollStart:Ext.emptyFn,onPartnerScrollEnd:Ext.emptyFn,refresh:function(){this.fireEvent("refresh",this);return this},removePartner:function(a){var b=this._partners,c=a._partners;b&&delete b[a.getId()];c&&delete c[this.getId()]},scrollBy:function(a,b,c){var d=this.getPosition();a&&(a.length?(c=b,b=a[1],a=a[0]):"number"!==
typeof a&&(c=b,b=a.y,a=a.x));a="number"===typeof a?a+d.x:null;b="number"===typeof b?b+d.y:null;return this.doScrollTo(a,b,c)},scrollIntoView:function(a,b,c,d){var e=this.getPosition(),f;f=this.getElement();if(a){f=Ext.fly(a).getScrollIntoViewXY(f,e.x,e.y);b=!1===b?e.x:f.x;e=f.y;if(d)this.on({scrollend:"doHighlight",scope:this,single:!0,args:[a,d]});this.doScrollTo(b,e,c)}},isInView:function(a){var b={x:!1,y:!1},c=this.getElement();a&&c.contains(a)&&(c=c.getRegion(),a=Ext.fly(a).getRegion(),b.x=a.right>
c.left&&a.left<c.right,b.y=a.bottom>c.top&&a.top<c.bottom);return b},scrollTo:function(a,b,c){var d;a&&(a.length?(c=b,b=a[1],a=a[0]):"number"!==typeof a&&(c=b,b=a.y,a=a.x));if(0>a||0>b)d=this.getMaxPosition(),0>a&&(a+=d.x),0>b&&(b+=d.y);this.doScrollTo(a,b,c)},updateDirection:function(a){var b,c;a?("auto"===a?c=b=!0:"vertical"===a?(b=!1,c=!0):"horizontal"===a?(b=!0,c=!1):"both"===a&&(c=b="scroll"),this.setX(b),this.setY(c)):(b=this.getX(),c=this.getY(),b&&c?a="scroll"===c&&"scroll"===b?"both":"auto":
c?a="vertical":b&&(a="horizontal"),this._direction=a)},updateSize:function(a){var b,c;this.getElement()&&(b=this.getSpacer(),null==a?b.hide():("number"===typeof a?c=a:(c=a.x||0,a=a.y||0),0<c&&--c,0<a&&--a,this.setSpacerXY({x:c,y:a}),b.show()))},deprecated:{5:{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(a){return this.scrollTo(0,0,a)},scrollToEnd:function(a){return this.scrollTo(Infinity,Infinity,a)}}}},privates:{getSpacer:function(){var a=this._spacer,b;a||
(b=this.getElement(),a=this._spacer=b.createChild({cls:this._spacerCls,role:"presentation"}),a.setVisibilityMode(2),b.position());return a},applySpacerXY:function(a,b){b&&a.x===b.x&&a.y===b.y&&(a=void 0);return a},updateSpacerXY:function(a){this.getSpacer().setLocalXY(a.x,a.y)},convertX:function(a){return a},doHighlight:function(a,b){!0!==b?Ext.fly(a).highlight(b):Ext.fly(a).highlight()},fireScrollStart:function(a,b){var c=this.component;this.invokePartners("onPartnerScrollStart",a,b);this.hasListeners.scrollstart&&
this.fireEvent("scrollstart",this,a,b);if(c&&c.onScrollStart)c.onScrollStart(a,b);Ext.GlobalEvents.fireEvent("scrollstart",this,a,b)},fireScroll:function(a,b){var c=this.component;this.invokePartners("onPartnerScroll",a,b);this.hasListeners.scroll&&this.fireEvent("scroll",this,a,b);if(c&&c.onScrollMove)c.onScrollMove(a,b);Ext.GlobalEvents.fireEvent("scroll",this,a,b)},fireScrollEnd:function(a,b){var c=this.component;this.invokePartners("onPartnerScrollEnd",a,b);this.hasListeners.scrollend&&this.fireEvent("scrollend",
this,a,b);if(c&&c.onScrollEnd)c.onScrollEnd(a,b);Ext.GlobalEvents.fireEvent("scrollend",this,a,b)},initXStyle:function(){var a=this.getElement(),b=this.getX();a&&a.dom&&(b?!0===b&&(b="auto"):b="hidden",a.setStyle("overflow-x",b))},initYStyle:function(){var a=this.getElement(),b=this.getY();a&&a.dom&&(b?!0===b&&(b="auto"):b="hidden",a.setStyle("overflow-y",b))},invokePartners:function(a,b,c){var d=this._partners,e,f,g="onPartnerScrollEnd"===a;if(!this.suspendSync&!this.isReflecting)for(f in d)e=d[f].scroller,
e.isReflecting=!0,e[a](this,b,c),g&&(e.isReflecting=!1)},clearReflecting:function(){this.isReflecting=!1},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(){this.suspendSync&&this.suspendSync--},updateDomScrollPosition:function(){var a=this.getElement(),b=this.position;a&&!a.destroyed&&(a=this.getElementScroll(a),b.x=a.left,b.y=a.top);this.positionDirty=!1;return b},getElementScroll:function(a){return a.getScroll()},onDomScroll:function(){var a,b;
this.isTouchScroller&&2===Ext.supports.touchScroll?(b=this.getElement().dom,b.scrollTop=b.scrollLeft=0):(a=this.updateDomScrollPosition(),b=a.x,a=a.y,this.isScrolling||(this.isScrolling=Ext.isScrolling=!0,this.fireScrollStart(b,a)),this.fireScroll(b,a),this.onDomScrollEnd())},onDomScrollEnd:function(){var a=this.getPosition(),b=a.x,a=a.y;this.isScrolling=Ext.isScrolling=!1;this.trackingScrollLeft=b;this.trackingScrollTop=a;this.fireScrollEnd(b,a)},onPartnerScroll:function(a,b,c){(a=a._partners[this.getId()].axis)&&
("x"===a?c=null:"y"===a&&(b=null));this.doScrollTo(b,c,!1,!0)},restoreState:function(){var a=this.getElement();a&&(a=a.dom,void 0!==this.trackingScrollTop&&(a.scrollTop=this.trackingScrollTop,a.scrollLeft=this.trackingScrollLeft))}}});
Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){a||(a=Ext.Date.now());return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn});
Ext.define("Ext.fx.easing.Momentum",{extend:Ext.fx.easing.Abstract,config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(a){this.theta=a=Math.log(1-a/10);this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=
Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define("Ext.fx.easing.Bounce",{extend:Ext.fx.easing.Abstract,config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var a=(Ext.Date.now()-this.getStartTime())/this.getAcceleration(),a=a*Math.pow(Math.E,-this.getSpringTension()*a);return this.getStartValue()+this.getStartVelocity()*a}});
Ext.define("Ext.fx.easing.BoundMomentum",{extend:Ext.fx.easing.Abstract,config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},
reset:function(){this.lastValue=null;this.isOutOfBound=this.isBouncingBack=!1;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),b=this.getBounce(),c=a.getStartVelocity(),d=0<c?1:-1,e=this.getMinMomentumValue(),f=this.getMaxMomentumValue(),g=1==d?f:e,h=this.lastValue;if(0===c)return this.getStartValue();if(!this.isOutOfBound){c=a.getValue();a=a.getVelocity();Math.abs(a)<this.getMinVelocity()&&(this.isEnded=!0);if(c>=e&&c<=f)return c;this.isOutOfBound=!0;b.setStartTime(Ext.Date.now()).setStartVelocity(a).setStartValue(g)}c=
b.getValue();this.isEnded||(this.isBouncingBack?Math.round(c)==g&&(this.isEnded=!0):null!==h&&(1==d&&c<h||-1==d&&c>h)&&(this.isBouncingBack=!0));return this.lastValue=c}});
Ext.define("Ext.fx.easing.Linear",{extend:Ext.fx.easing.Abstract,alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();return a>b?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+a/b*this.distance}});
Ext.define("Ext.fx.easing.EaseOut",{extend:Ext.fx.easing.Linear,alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),c=this.getStartValue(),d=this.getEndValue(),e=this.distance,f=1-Math.pow(1-a/b,this.getExponent());return a>=b?(this.isEnded=!0,d):c+f*e}});
Ext.define("Ext.util.translatable.Abstract",{extend:Ext.Evented,config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.position={x:0,y:0}},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){this.getEasingX()||this.setEasingX(this.factoryEasing(a));this.getEasingY()||this.setEasingY(this.factoryEasing(a))},
applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},doTranslate:Ext.emptyFn,translate:function(a,b,c){if(c)return this.translateAnimated(a,b,c);this.isAnimating&&this.stopAnimation();isNaN(a)||"number"!=typeof a||(this.x=a);isNaN(b)||"number"!=typeof b||(this.y=b);this.doTranslate(a,b)},translateAxis:function(a,b,c){var d,e;"x"==a?d=b:e=b;return this.translate(d,e,c)},getPosition:function(){var a=this.position;a.x=-this.x;a.y=-this.y;return a},
animate:function(a,b){this.activeEasingX=a;this.activeEasingY=b;this.isAnimating=!0;this.lastY=this.lastX=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(a,b,c){Ext.isObject(c)||(c={});this.isAnimating&&this.stopAnimation();this.callback=c.callback;this.callbackScope=c.scope;var d=Ext.Date.now(),e=c.easing,f="number"==typeof a?c.easingX||e||this.getEasingX()||!0:null,e="number"==typeof b?c.easingY||
e||this.getEasingY()||!0:null;f&&(f=this.factoryEasing(f),f.setStartTime(d),f.setStartValue(this.x),f.setEndValue(a),"duration"in c&&f.setDuration(c.duration));e&&(e=this.factoryEasing(e),e.setStartTime(d),e.setStartValue(this.y),e.setEndValue(b),"duration"in c&&e.setDuration(c.duration));return this.animate(f,e)},doAnimationFrame:function(){var a=this.activeEasingX,b=this.activeEasingY,c=Date.now();if(this.isAnimating)if(this.lastRun=c,null===a&&null===b)this.stopAnimation();else{null!==a?(this.x=
c=Math.round(a.getValue()),a.isEnded&&(this.activeEasingX=null,this.fireEvent("axisanimationend",this,"x",c))):c=this.x;null!==b?(this.y=a=Math.round(b.getValue()),b.isEnded&&(this.activeEasingY=null,this.fireEvent("axisanimationend",this,"y",a))):a=this.y;if(this.lastX!==c||this.lastY!==a)this.doTranslate(c,a),this.lastX=c,this.lastY=a;this.fireEvent("animationframe",this,c,a)}},stopAnimation:function(){this.isAnimating&&(this.activeEasingY=this.activeEasingX=null,this.isAnimating=!1,Ext.AnimationQueue.stop(this.doAnimationFrame,
this),this.fireEvent("animationend",this,this.x,this.y),this.callback&&(this.callback.call(this.callbackScope),this.callback=null))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){this.isAnimating&&this.stopAnimation();this.callParent()}});Ext.define("Ext.util.translatable.Dom",{extend:Ext.util.translatable.Abstract,config:{element:null},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(){this.refresh()}});
Ext.define("Ext.util.translatable.CssTransform",{extend:Ext.util.translatable.Dom,doTranslate:function(a,b){var c=this.getElement();this.destroyed||c.destroyed||c.translate(a,b)},destroy:function(){var a=this.getElement();a&&!a.destroyed&&(a.dom.style.webkitTransform=null);this.callParent()}});
Ext.define("Ext.util.translatable.ScrollPosition",{extend:Ext.util.translatable.Dom,type:"scrollposition",config:{useWrapper:!0},getWrapper:function(){var a=this.wrapper,b=this.getElement();if(!a){a=b.getParent();if(!a)return null;a.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")&&(a=a.getParent());a=this.getUseWrapper()?b.wrap():a;b.addCls(Ext.baseCSSPrefix+"translatable");a.addCls(Ext.baseCSSPrefix+"translatable-container");this.wrapper=a;a.on("painted",function(){this.isAnimating||this.refresh()},
this);this.refresh()}return a},doTranslate:function(a,b){var c=this.getWrapper();c&&(c=c.dom,"number"==typeof a&&(c.scrollLeft=5E5-a),"number"==typeof b&&(c.scrollTop=5E5-b))},destroy:function(){var a=this.getElement(),b=this.wrapper;b&&(a.destroyed||(this.getUseWrapper()&&b.doReplaceWith(a),a.removeCls(Ext.baseCSSPrefix+"translatable")),b.destroyed||(b.removeCls(Ext.baseCSSPrefix+"translatable-container"),b.un("painted","refresh",this)),delete this.wrapper,delete this._element);this.callParent()}});
Ext.define("Ext.util.translatable.ScrollParent",{extend:Ext.util.translatable.Dom,isScrollParent:!0,applyElement:function(a){if(a=Ext.get(a))this.parent=a.parent();return a},doTranslate:function(a,b){var c=this.parent;c.setScrollLeft(Math.round(-a));c.setScrollTop(Math.round(-b))},getPosition:function(){var a=this.position,b=this.parent;a.x=b.getScrollLeft();a.y=b.getScrollTop();return a}});
Ext.define("Ext.util.translatable.CssPosition",{extend:Ext.util.translatable.Dom,doTranslate:function(a,b){var c=this.getElement().dom.style;"number"==typeof a&&(c.left=a+"px");"number"==typeof b&&(c.top=b+"px")},destroy:function(){var a=this.getElement().dom.style;a.left=null;a.top=null;this.callParent()}});
Ext.define("Ext.util.Translatable",{constructor:function(a){var b=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(a)){case "scrollposition":return new b.ScrollPosition(a);case "scrollparent":return new b.ScrollParent(a);case "csstransform":return new b.CssTransform(a);case "cssposition":return new b.CssPosition(a)}}});
Ext.define("Ext.scroll.Indicator",{extend:Ext.Widget,xtype:"scrollindicator",config:{axis:null,hideAnimation:!0,hideDelay:0,scroller:null,minLength:24},defaultHideAnimation:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",setLength:"setWidth",translate:"translateX"},y:{side:"t",getSize:"getWidth",setLength:"setHeight",translate:"translateY"}},oppositeAxis:{x:"y",y:"x"},cls:Ext.baseCSSPrefix+"scroll-indicator",applyHideAnimation:function(a){a&&(a=Ext.mergeIf({onEnd:this.onHideAnimationEnd,
scope:this},this.defaultHideAnimation,a));return a},constructor:function(a){this.callParent([a]);a=this.getAxis();this.names=this.names[a];this.element.addCls(this.cls+" "+this.cls+"-"+a)},hide:function(){var a=this.getHideDelay();a?this._hideTimer=Ext.defer(this.doHide,a,this):this.doHide()},setValue:function(a){var b=this.element,c=this.names,d=this.getAxis(),e=this.getScroller(),f=e.getMaxUserPosition()[d],e=e.getElementSize()[d],g=this.length,h=this.getMinLength(),d=g,k=e-g-this.sizeAdjust,l=
Math.round,m=Math.max;0>a?(d=l(m(g+g*a/e,h)),a=0):a>f?(d=l(m(g-g*(a-f)/e,h)),a=k+g-d):a=l(a/f*k);this[c.translate](a);b[c.setLength](d)},show:function(){var a=this.element,b=a.getActiveAnimation();b&&b.end();this._inDom||(this.getScroller().getElement().appendChild(a),this._inDom=!0,this.size||this.cacheStyles());this.refreshLength();clearTimeout(this._hideTimer);a.setStyle("opacity","")},privates:{cacheStyles:function(){var a=this.element,b=this.names;this.size=a[b.getSize]();this.margin=a.getMargin(b.side)},
doHide:function(){var a=this.getHideAnimation(),b=this.element;a?b.animate(a):b.setStyle("opacity",0)},hasOpposite:function(){return this.getScroller().isAxisEnabled(this.oppositeAxis[this.getAxis()])},onHideAnimationEnd:function(){this.element.setStyle("opacity","0")},refreshLength:function(){var a=this.names,b=this.getAxis(),c=this.getScroller(),d=c.getSize()[b],b=c.getElementSize()[b],d=b/d,c=2*this.margin,c=this.hasOpposite()?c+this.size:c,b=Math.max(Math.round((b-c)*d),this.getMinLength());this.sizeAdjust=
c;this.length=b;this.element[a.setLength](b)},translateX:function(a){this.element.translate(a)},translateY:function(a){this.element.translate(0,a)}}});
Ext.define("Ext.scroll.TouchScroller",{extend:Ext.scroll.Scroller,alias:"scroller.touch",isTouchScroller:!0,config:{autoRefresh:!0,bounceEasing:{duration:400},elementSize:void 0,indicators:!0,fps:"auto",maxAbsoluteVelocity:6,momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},outOfBoundRestrictFactor:.5,innerElement:null,size:void 0,slotSnapEasing:{duration:150},slotSnapOffset:{x:0,y:0},startMomentumResetTime:300,translatable:{translationMethod:"auto",
useWrapper:!1}},cls:Ext.baseCSSPrefix+"scroll-container",scrollerCls:Ext.baseCSSPrefix+"scroll-scroller",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},listenerMap:{touchstart:"onTouchStart",touchmove:"onTouchMove",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},refreshCounter:0,constructor:function(a){this.elementListeners={touchstart:"onEvent",touchmove:"onEvent",dragstart:"onEvent",drag:"onEvent",dragend:"onEvent",scope:this};
this.minPosition={x:0,y:0};this.startPosition={x:0,y:0};this.velocity={x:0,y:0};this.isAxisEnabledFlags={x:!1,y:!1};this.flickStartPosition={x:0,y:0};this.flickStartTime={x:0,y:0};this.lastDragPosition={x:0,y:0};this.dragDirection={x:0,y:0};this.callParent([a]);this.refreshAxes();this.scheduleRefresh={idle:this.doRefresh,scope:this,single:!0,destroyable:!0}},applyBounceEasing:function(a){var b=Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applyElementSize:function(a){var b=
this.getElement(),c;if(!b)return null;if(c=b.dom)return null==a?(b=c.clientWidth,a=c.clientHeight):(b=a.x,a=a.y),{x:b,y:a}},applyIndicators:function(a,b){var c,d,e;a?(!0===a?c=d={}:(d=a.x,e=a.y,d||e?(c=null==d||!0===d?{}:d,d=null==d||!0===e?{}:e):c=d=a),b?(c?b.x.setConfig(c):(b.x.destroy(),b.x=null),d?b.y.setConfig(d):(b.y.destroy(),b.y=null),a=b):(a={x:null,y:null},c&&(a.x=new Ext.scroll.Indicator(Ext.applyIf({axis:"x",scroller:this},c))),d&&(a.y=new Ext.scroll.Indicator(Ext.applyIf({axis:"y",scroller:this},
d))))):b&&(b.x&&b.x.destroy(),b.y&&b.y.destroy(),b.x=b.y=null);return a},applyMomentumEasing:function(a){var b=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applyInnerElement:function(a){a&&!a.isElement&&(a=Ext.get(a));return a},applyMaxPosition:function(a,b){if(!b||a.x!==b.x||a.y!==b.y){var c=this.getTranslatable();c.isAnimating&&(c=c.activeEasingY)&&c.getStartVelocity&&0>c.getStartVelocity()&&a.y<b.y&&c.setMinMomentumValue(-a.y);return a}},applyMaxUserPosition:function(a,
b){if(!b||a.x!==b.x||a.y!==b.y)return a},applySize:function(a){var b=this.getElement(),c,d;"number"===typeof a?d=c=a:a&&(c=a.x,d=a.y);!b||null!=c&&null!=d||(a=b.dom,b=this.getInnerElement().dom,null==c&&(c=Math.max(b.scrollWidth,a.clientWidth)),null==d&&(d=Math.max(b.scrollHeight,a.clientHeight)));return{x:c,y:d}},applySlotSnapOffset:function(a){"number"===typeof a&&(a={x:a,y:a});return a},applySlotSnapSize:function(a){"number"===typeof a&&(a={x:a,y:a});return a},applySlotSnapEasing:function(a){var b=
Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applyTranslatable:function(a,b){return Ext.factory(a,Ext.util.Translatable,b)},destroy:function(){var a=this.getElement(),b=this.getInnerElement(),c=this.sizeMonitors;c&&(c.element.destroy(),c.container.destroy());a&&!a.destroyed&&a.removeCls(this.cls);b&&!b.destroyed&&b.removeCls(this.scrollerCls);this._isWrapped&&(a.destroyed||this.unwrapContent(),b.destroy());this.setElement(null);this.setInnerElement(null);this.setIndicators(null);
Ext.destroy(this.getTranslatable());this.callParent()},refresh:function(a,b){++this.refreshCounter;a?this.doRefresh(b):this.refreshScheduled||(this.scheduleRefresh.args=[b],this.refreshScheduled=Ext.on(this.scheduleRefresh))},updateAutoRefresh:function(a){this.toggleResizeListeners(a)},updateBounceEasing:function(a){this.getTranslatable().setEasingX(a.x).setEasingY(a.y)},updateElementSize:function(){this.isConfiguring||this.refreshAxes()},updateDisabled:function(a){this.isConfiguring||(a?this.detachListeners():
this.attachListeners())},updateElement:function(a,b){var c=this.getInnerElement();c||((c=a.dom.firstChild)&&1===c.nodeType&&Ext.fly(c).hasCls(this.scrollerCls)||(c=this.wrapContent(a)),this.setInnerElement(c));a.addCls(this.cls);this.isConfiguring&&!this.getTranslatable().isScrollParent&&(a.dom.style.overflowX=a.dom.style.overflowY="",c=this.elementListeners,c.mousewheel="onMouseWheel",c.scroll={fn:"onElementScroll",delegated:!1,scope:this});this.getDisabled()||this.attachListeners();this.isConfiguring||
(c=this.getAutoRefresh(),!1!==c&&(this.toggleResizeListeners(c),c?this.refresh():null===c&&this.setElementSize(null)))},updateFps:function(a){"auto"!==a&&this.getTranslatable().setFps(a)},updateMaxUserPosition:function(){this.snapToBoundary()},updateMinUserPosition:function(){this.snapToBoundary()},updateInnerElement:function(a){a&&a.addCls(this.scrollerCls);this.getTranslatable().setElement(a)},updateSize:function(a){this.isConfiguring||(1===Ext.supports.touchScroll&&this.callParent([a]),this.refreshAxes())},
updateTranslatable:function(a){a.setElement(this.getInnerElement());if(!a.isScrollParent)a.on({animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this})},updateX:function(){this.isConfiguring||this.refreshAxes()},updateY:function(){this.isConfiguring||this.refreshAxes()},privates:{attachListeners:function(){this.getElement().on(this.elementListeners)},constrainX:function(a){return Math.min(this.getMaxPosition().x,Math.max(a,0))},constrainY:function(a){return Math.min(this.getMaxPosition().y,
Math.max(a,0))},convertEasingConfig:function(a){return a},detachListeners:function(){this.getElement().un(this.elementListeners)},doRefresh:function(a){var b,c;this.refreshScheduled&&(this.refreshScheduled=this.refreshScheduled.destroy());this.refreshCounter&&this.getElement()&&(this.stopAnimation(),this.getTranslatable().refresh(),a&&(b=a.size,c=a.elementSize),this.setSize(b),this.setElementSize(c),this.fireEvent("refresh",this),this.refreshCounter=0)},doScrollTo:function(a,b,c,d){var e=this.isDragging,
f=this.getTranslatable().isScrollParent,g=!this.isReflecting&&!f;if(this.destroyed||!this.getElement())return this;d=d||this.isDragging;var h=this.getTranslatable(),k=this.position,l=!1,m,n;if(!e||this.isAxisEnabled("x"))isNaN(a)||"number"!==typeof a?a=k.x:(d||(a=this.constrainX(a)),k.x!==a&&(k.x=a,l=!0)),m=this.convertX(-a);if(!e||this.isAxisEnabled("y"))isNaN(b)||"number"!==typeof b?b=k.y:(d||(b=this.constrainY(b)),k.y!==b&&(k.y=b,l=!0)),n=-b;if(l){if(g)this.onScrollStart();if(c)h.translateAnimated(m,
n,c);else{if(!f)this.onScroll();h.translate(m,n);if(g)this.onScrollEnd()}}else c&&c.callback&&c.callback();return this},getAnimationEasing:function(a,b){if(!this.isAxisEnabled(a))return null;var c=this.position[a],d=this.getMinUserPosition()[a],e=this.getMaxUserPosition()[a],f=this.getMaxAbsoluteVelocity(),g=null,h=this.dragEndTime,k=b.flick.velocity[a],l="x"===a;c<d?g=d:c>e&&(g=e);l&&(c=this.convertX(c),g=this.convertX(g));if(null!==g)return d=this.getBounceEasing()[a],d.setConfig({startTime:h,startValue:-c,
endValue:-g}),d;if(0===k)return null;k<-f?k=-f:k>f&&(k=f);d=this.getMomentumEasing()[a];c={startTime:h,startValue:-c,startVelocity:1.5*k,minMomentumValue:-e,maxMomentumValue:0};l&&this.convertEasingConfig(c);d.setConfig(c);return d},getSnapPosition:function(a){var b=this.getSlotSnapSize()[a],c=null,d,e;0!==b&&this.isAxisEnabled(a)&&(d=this.position[a],e=this.getSlotSnapOffset()[a],a=this.getMaxUserPosition()[a],e=Math.floor((d-e)%b),0!==e&&(c=d!==a?Math.abs(e)>b/2?Math.min(a,d+(0<e?b-e:e-b)):d-e:
d-e));return c},hideIndicators:function(){var a=this.getIndicators(),b;a&&(this.isAxisEnabled("x")&&(b=a.x)&&b.hide(),this.isAxisEnabled("y")&&(a=a.y)&&a.hide())},isAxisEnabled:function(a){this.getX();this.getY();return this.isAxisEnabledFlags[a]},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},onAnimationFrame:function(a,b,c){a=this.position;a.x=this.convertX(-b);a.y=-c;this.onScroll()},onAxisDrag:function(a,b){if(b&&this.isAxisEnabled(a)){var c=this.flickStartPosition,d=this.flickStartTime,
e=this.lastDragPosition,f=this.dragDirection,g=this.position[a],h=this.getMinUserPosition()[a],k=this.getMaxUserPosition()[a],l=e[a],m=this.startPosition[a]-b,n=f[a],p=this.getOutOfBoundRestrictFactor(),q=this.getStartMomentumResetTime(),r=Ext.Date.now();m<h?m*=p:m>k&&(m=k+(m-k)*p);m>l?f[a]=1:m<l&&(f[a]=-1);if(0!==n&&f[a]!==n||r-d[a]>q)c[a]=g,d[a]=r;e[a]=m;return!0}},onDomScroll:function(){var a,b;this.getTranslatable().isScrollParent&&(a=this.getElement().dom,b=this.position,b.x=a.scrollLeft,b.y=
a.scrollTop);this.callParent()},onDrag:function(a){var b=this.lastDragPosition;this.isDragging&&this.onAxisDrag("x",this.convertX(a.deltaX))|this.onAxisDrag("y",a.deltaY)&&this.doScrollTo(b.x,b.y)},onDragEnd:function(a){var b;if(this.isDragging)if(this.dragEndTime=Ext.Date.now(),this.onDrag(a),this.isDragging=!1,b=this.getAnimationEasing("x",a),a=this.getAnimationEasing("y",a),b||a)this.getTranslatable().animate(b,a);else this.onScrollEnd()},onDragStart:function(a){var b=this.getDirection(),c=a.absDeltaX,
d=a.absDeltaY,e=this.getDirectionLock(),f=this.startPosition,g=this.flickStartPosition,h=this.flickStartTime,k=this.lastDragPosition,l=this.position,m=this.dragDirection,n=l.x,l=l.y,p=Ext.Date.now();if(e&&"both"!==b)if("horizontal"===b&&c>d||"vertical"===b&&d>c)a.stopPropagation();else return;k.x=n;k.y=l;g.x=n;g.y=l;f.x=n;f.y=l;h.x=p;h.y=p;m.x=0;m.y=0;this.dragStartTime=p;this.isDragging=!0;if(!this.isScrolling)this.onScrollStart()},onElementResize:function(a,b){this.refresh(!0,{elementSize:{x:b.contentWidth,
y:b.contentHeight},size:this.getAutoRefresh()?null:this.getSize()})},onElementScroll:function(a,b){b.scrollTop=b.scrollLeft=0},onEvent:function(a){var b=a.browserEvent;if(!(this.self.isTouching&&!this.isTouching||this.getTranslatable().isScrollParent&&(this.isMouseEvent[b.type]||"mouse"===b.pointerType))&&(this.getY()||this.getX()))this[this.listenerMap[a.type]](a)},onInnerElementResize:function(a,b){this.refresh(!0,{size:{x:b.width,y:b.height}})},onMouseWheel:function(a){var b=a.getWheelDeltas(),
c=-b.x,d=-b.y,b=this.position,e=this.getMaxUserPosition(),f=this.getMinUserPosition(),g=Math.max,h=Math.min,c=g(h(b.x+c,e.x),f.x),d=g(h(b.y+d,e.y),f.y),c=c-b.x,d=d-b.y;if(c||d)a.stopEvent(),this.onScrollStart(),this.scrollBy(c,d),this.onScroll(),this.onScrollEnd()},onPartnerScrollEnd:function(a,b){this.getTranslatable().isScrollParent||this.fireScrollEnd(a,b);this.callParent([a,b]);this.isScrolling=!1;this.hideIndicators()},onPartnerScrollStart:function(a,b){this.isScrolling=!0;this.getTranslatable().isScrollParent||
this.fireScrollStart(a,b);this.showIndicators()},onScroll:function(){var a=this.position,b=a.x,a=a.y,c=this.getIndicators(),d;c&&(this.isAxisEnabled("x")&&(d=c.x)&&d.setValue(b),this.isAxisEnabled("y")&&(c=c.y)&&c.setValue(a));this.fireScroll(b,a)},onScrollEnd:function(){var a=this.position;!this.isScrolling||this.isTouching||this.snapToSlot()||(this.hideIndicators(),this.isScrolling=Ext.isScrolling=!1,this.fireScrollEnd(a.x,a.y))},onScrollStart:function(){var a=this.position;this.isScrolling||(this.showIndicators(),
this.isScrolling=Ext.isScrolling=!0,this.fireScrollStart(a.x,a.y))},onTouchEnd:function(){this.isTouching=this.self.isTouching=!1;if(!this.isDragging&&this.snapToSlot())this.onScrollStart()},onTouchMove:function(a){a.preventDefault()},onTouchStart:function(){this.isTouching=this.self.isTouching=!0;Ext.getDoc().on({touchend:"onTouchEnd",scope:this,single:!0});this.stopAnimation()},refreshAxes:function(){var a=this.isAxisEnabledFlags,b=this.getSize(),c=this.getElementSize(),d=this.getIndicators(),e,
f;b&&c&&(e=Math.max(0,b.x-c.x),b=Math.max(0,b.y-c.y),f=this.getX(),c=this.getY(),this.setMaxPosition({x:e,y:b}),!0===f||"auto"===f?a.x=!!e:!1===f?(a.x=!1,(f=d&&d.x)&&f.hide()):"scroll"===f&&(a.x=!0),!0===c||"auto"===c?a.y=!!b:!1===c?(a.y=!1,(d=d&&d.y)&&d.hide()):"scroll"===c&&(a.y=!0),this.setMaxUserPosition({x:a.x?e:0,y:a.y?b:0}),1===Ext.supports.touchScroll&&(this.initXStyle(),this.initYStyle()))},showIndicators:function(){var a=this.getIndicators(),b;a&&(this.isAxisEnabled("x")&&(b=a.x)&&b.show(),
this.isAxisEnabled("y")&&(a=a.y)&&a.show())},snapToBoundary:function(){var a=this.getPosition();if(!this.isConfiguring&&(a.x||a.y)){var b=this.getMinUserPosition(),c=this.getMaxUserPosition(),d=b.x,b=b.y,e=c.x,c=c.y,f=Math.round(a.x),a=Math.round(a.y);f<d?f=d:f>e&&(f=e);a<b?a=b:a>c&&(a=c);this.doScrollTo(f,a)}},snapToSlot:function(){var a=this.getSnapPosition("x"),b=this.getSnapPosition("y"),c=this.getSlotSnapEasing();return null!==a||null!==b?(this.doScrollTo(a,b,{easingX:c.x,easingY:c.y}),!0):!1},
stopAnimation:function(){this.getTranslatable().stopAnimation()},toggleResizeListeners:function(a){var b=this.getElement(),c,d;b&&(d=this.getInnerElement(),a?a=c="on":null===a?(a="on",c="un"):a=c="un",b[a]("resize","onElementResize",this),d[c]("resize","onInnerElementResize",this))},unwrapContent:function(){for(var a=this.getInnerElement().dom,b=this.getElement().dom,c;c=a.firstChild;)b.insertBefore(c,a)},wrapContent:function(a){var b=document.createElement("div");a=a.dom;for(var c;c=a.lastChild;)b.insertBefore(c,
b.firstChild);a.appendChild(b);this.setInnerElement(b);this._isWrapped=!0;return this.getInnerElement()}}});
Ext.define("Ext.scroll.DomScroller",{extend:Ext.scroll.Scroller,alias:"scroller.dom",isDomScroller:!0,getMaxPosition:function(){var a=this.getElement(),b=0,c=0;a&&!a.destroyed&&(a=a.dom,b=a.scrollWidth-a.clientWidth,c=a.scrollHeight-a.clientHeight);return{x:b,y:c}},getMaxUserPosition:function(){var a=this.getElement(),b=0,c=0;a&&!a.destroyed&&(a=a.dom,this.getX()&&(b=a.scrollWidth-a.clientWidth),this.getY()&&(c=a.scrollHeight-a.clientHeight));return{x:b,y:c}},getPosition:function(){this.positionDirty&&
this.updateDomScrollPosition();return this.position},getSize:function(){var a=this.getElement();a&&!a.destroyed?(a=a.dom,a={x:a.scrollWidth,y:a.scrollHeight}):a={x:0,y:0};return a},updateElement:function(a,b){this.initXStyle();this.initYStyle()},updateX:function(a){this.initXStyle()},updateY:function(a){this.initYStyle()},privates:{doScrollTo:function(a,b,c){var d=this.getElement(),e,f,g,h;if(d&&!d.destroyed){f=d.dom;g=Infinity===a;h=Infinity===b;if(g||h)e=this.getMaxPosition(),g&&(a=e.x),h&&(b=e.y);
a=this.convertX(a);c?d.animate(Ext.mergeIf({to:{scrollTop:b,scrollLeft:a}},c)):(null!=b&&(f.scrollTop=b),null!=a&&(f.scrollLeft=a,Ext.isIE8&&(f.scrollLeft=a)));this.positionDirty=!0}},getElementScroll:function(a){return a.getScroll()},stopAnimation:function(){var a=this.getElement().getActiveAnimation();a&&a.end()}}},function(a){Ext.onDocumentReady(function(){a.document=new a({x:!0,y:!0,element:document.body})})});
Ext.define("Ext.util.Floating",{mixinId:"floating",focusOnToFront:!0,shadow:"sides",animateShadow:!1,constrain:!1,config:{activeCounter:0,alwaysOnTop:!1},preventDefaultAlign:!1,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var a=this.el,b=this.shadow,c;if(b){c={mode:!0===b?"sides":b};if(b=this.shadowOffset)c.offset=b;c.animate=this.animateShadow;c.fixed=this.fixed;a.enableShadow(c,!1)}(this.shim||Ext.useShims)&&a.enableShim({fixed:this.fixed},!1);a.setVisibilityMode(this._visModeMap[this.hideMode]);
this.el.on({mousedown:this.onMouseDown,scope:this,capture:!0});this.registerWithOwnerCt();this.initHierarchyEvents()},alignTo:function(a,b,c,d){var e;Ext.un("scroll",this.onAlignToScroll,this);e=a.isComponent?a.el:a.nodeType?Ext.fly(a):a;if(!e.contains(this.el))Ext.on("scroll",this.onAlignToScroll,this);this._lastAlignTarget=a;this._lastAlignToPos=b;this.mixins.positionable.alignTo.call(this,e,b,c,d)},initFloatConstrain:function(){var a=this.floatParent;!this.constrain&&!this.constrainHeader||this.constrainTo||
(this.constrainTo=a?a.getTargetEl():this.container)},initHierarchyEvents:function(){var a=this.syncHidden;this.hasHierarchyEventListeners||(this.mon(Ext.GlobalEvents,{hide:a,collapse:a,show:a,expand:a,added:a,scope:this}),this.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var a=this.ownerCt,b=this.zIndexParent;b&&b.unregisterFloatingItem(this);b=this.zIndexParent=this.up("[floating]");this.floatParent=a||b;this.initFloatConstrain();delete this.ownerCt;b?b.registerFloatingItem(this):
Ext.WindowManager.register(this)},onMouseDown:function(a){var b=this.focusTask,c="touch"===a.pointerType;if(this.floating&&(!b||!b.id)){a=a.target;for(b=this.el.dom;!c&&a&&a!==b;)Ext.fly(a).isFocusable()&&(c=!0),a=a.parentNode;(a=Ext.WindowManager.getActive()===this&&(a===b||c))||this.toFront(c)}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){var a=this.el;if(a.shadow||a.shim)a.setUnderlaysVisible(!0),a.syncUnderlays()},syncHidden:function(){var a=this.hidden||
!this.rendered,b=this.hierarchicallyHidden=this.isHierarchicallyHidden(),c=this.pendingShow;a!==b&&(b?(this.hide(),this.pendingShow=!0):c&&(delete this.pendingShow,c.length?this.show.apply(this,c):this.show()))},setZIndex:function(a){this.el.setZIndex(a);a+=10;this.floatingDescendants&&(a=100*Math.floor(this.floatingDescendants.setBase(a)/100)+1E4);return a},doConstrain:function(a){(a=this.calculateConstrainedPosition(a,null,!0))&&this.setPosition(a)},updateActiveCounter:function(a){(a=this.zIndexParent)&&
!1!==this.bringParentToFront&&a.setActiveCounter(++Ext.ZIndexManager.activeCounter);if(a=this.zIndexManager)a.onComponentUpdate(this)},updateAlwaysOnTop:function(a){if(a=this.zIndexManager)a.onComponentUpdate(this)},toFront:function(a){this.zIndexManager.bringToFront(this,a||!this.focusOnToFront)&&this.hasListeners.tofront&&this.fireEvent("tofront",this,this.el.getZIndex());return this},setActive:function(a,b){var c;a?(this.el.shadow&&!this.maximized&&this.el.enableShadow(null,!0),b&&((c=Ext.ComponentManager.getActiveComponent())&&
c.up(this)||this.focus()),this.fireEvent("activate",this)):this.fireEvent("deactivate",this)},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a;this.isVisible()?(a=this.getAlignToXY(this.container,"c-c"),this.setPagePosition(a)):this.needsCenter=!0;return this},onFloatShow:function(){this.needsCenter&&this.center();delete this.needsCenter;this.toFrontOnShow&&this.toFront()},fitContainer:function(a){var b=this.floatParent,c=b?b.getTargetEl():this.container,
d=c.getViewSize(),b=b||c.dom!==document.body?[0,0]:c.getXY();d.x=b[0];d.y=b[1];this.setBox(d,a)},privates:{onFloatDestroy:function(){this.clearAlignEl()},clearAlignEl:function(){this._lastAlignTarget&&(Ext.un("scroll",this.onAlignToScroll,this),this._lastAlignPos=this._lastAlignTarget=null)},onAlignToScroll:function(a){var b=this._lastAlignTarget,c=b.isFloating,d;b&&(b.isComponent?(d=b.destroyed,b=b.el):(b.nodeType&&(b=Ext.fly(b)),d=b.dom,d=!d||Ext.isGarbage(d)),d?this.clearAlignEl():!a.getElement().contains(b)&&
!c||a.getElement().contains(this.el)||this.alignTo(b,this._lastAlignToPos))}}});
Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(a,b,c,d){b=b?Ext.Object.chain(b):{};var e;if(a instanceof Array)for(e=a.length;e--;)c=a[e],d&&c in b||("string"===typeof c?b[c]={name:c,itemId:c}:b[c.name]=c);else if(a)if(a.constructor===Object)for(e in a)d&&e in b||(c=a[e],!0===c?b[e]={itemId:e}:"string"===typeof c?b[e]={itemId:c}:(b[e]=c,"itemId"in c||(c.itemId=e)),b[e].name=e);else d&&a in b||(b[a]={name:a,itemId:a});return b}}},
destroy:function(){var a=this.getChildEls(),b;for(b in a)if(a=this[b])a.destroy&&(a.component=null,a.destroy()),this[b]=null},privates:{addChildEl:function(a){var b=this.getChildEls();this.hasOwnProperty("childEls")||(this.childEls=b=Ext.Object.chain(b));"string"===typeof a&&(a={name:a,itemId:a});b[a.name]=a},afterClassMixedIn:function(a){var b=a.prototype,c=b.childEls;c&&(delete b.childEls,a.getConfigurator().add({childEls:c}))},attachChildEls:function(a,b){var c=this.getChildEls(),d=b||this,e=d.id+
"-",f=!d.frame,g,h,k,l;for(g in c)if(h=c[g],!f||!h.frame){(k=h.select)?l=a.select(k,!0):(k=h.selectNode)?l=a.selectNode(k,!1):(k=h.id)?l=Ext.cache[k]||a.getById(k):(k=e+h.itemId,l=Ext.cache[k]);if(l)if(l.isElement)l.component=d;else if(l.isComposite&&!l.isLite)for(h=l.elements,k=h.length;k--;)h[k].component=d;this[g]=l||null}}}});
Ext.define("Ext.util.Renderable",{mixinId:"renderable",frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:"TL TC TR ML MC MR BL BC BR Table".split(" "),frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>',
'<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>',
'<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>',
'<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],
frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>',
'<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',
"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>',
'<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,ariaEl:"el",_layerCls:Ext.baseCSSPrefix+
"layer",_fixedLayerCls:Ext.baseCSSPrefix+"fixed-layer",ariaStaticRoles:{presentation:!0,article:!0,definition:!0,directory:!0,document:!0,img:!0,heading:!0,math:!0,note:!0,banner:!0,complementary:!0,contentinfo:!0,navigation:!0,search:!0,undefined:!0,"null":!0},statics:{makeRenderSetter:function(a,b){var c=a.name;return function(d){var e=this.renderConfigs||(this.renderConfigs={}),f=e[b];this._renderState>=b?(a.setter||a.getSetter()).call(this,d):(f||(e[b]=f={}),c in f||(f[c]=this[c]),this[c]=d);
return this}},processRenderConfig:function(a,b,c){var d=this.prototype,e=this.getConfigurator(),f=Ext.util.Renderable.makeRenderSetter,g=a[b],h,k,l,m;for(l in g)k=Ext.Config.get(l),d[m=k.names.set]||(h=k.renderSetter||(k.renderSetter={}),d[m]=h[c]||(h[c]=f(k,c)));delete a[b];e.add(g)}},onClassMixedIn:function(a){var b=a.override,c=this.processRenderConfig,d=function(a){a.beforeRenderConfig&&this.processRenderConfig(a,"beforeRenderConfig",1);a.renderConfig&&this.processRenderConfig(a,"renderConfig",
3);b.call(this,a)},e=function(a,b){a.override=d;a.processRenderConfig=c;b.beforeRenderConfig&&a.processRenderConfig(b,"beforeRenderConfig",1);b.renderConfig&&a.processRenderConfig(b,"renderConfig",3)};e(a,a.prototype);a.onExtended(e)},afterRender:function(){var a={},b=this.protoEl,c=this.el,d,e,f;this.finishRenderChildren();this._renderState=4;this.contentEl&&(d=Ext.baseCSSPrefix,e=d+"hidden-",f=this.contentEl=Ext.get(this.contentEl),f.component=this,f.removeCls([d+"hidden",e+"display",e+"offsets"]),
this.getContentTarget().appendChild(f.dom));b.writeTo(a);(b=a.removed)&&c.removeCls(b);b=a.cls;b.length&&c.addCls(b);(b=a.style)&&c.setStyle(b);this.protoEl=null;this.ownerCt||this.skipLayout||this.updateLayout();this.x&&this.y||!this.pageX&&!this.pageY||this.setPagePosition(this.pageX,this.pageY);if(this.disableOnRender)this.onDisable();(a=this.controller)&&a.afterRender&&a.afterRender(this)},afterFirstLayout:function(a,b){var c=this.x,d=this.y,e=this.defaultAlign,f=this.alignOffset,g,h,k;this.ownerLayout||
(g=void 0!==c,h=void 0!==d);!this.floating||this.preventDefaultAlign||g&&h||(this.floatParent?(k=this.floatParent.getTargetEl().getViewRegion(),e=this.el.getAlignToXY(this.alignTarget||this.floatParent.getTargetEl(),e,f),k.x=e[0]-k.x,k.y=e[1]-k.y):(e=this.el.getAlignToXY(this.alignTarget||this.container,e,f),k=this.el.translateXY(e[0],e[1])),c=g?c:k.x,d=h?d:k.y,g=h=!0);(g||h)&&this.setPosition(c,d);this.onBoxReady(a,b);(c=this.controller)&&c.boxReady&&c.boxReady(this)},beforeRender:function(){var a=
this.floating,b=this.getComponentLayout(),c=this.userCls,d;this._renderState=1;this.ariaUsesMainElement="el"===this.ariaEl;(d=this.controller)&&d.beforeRender&&d.beforeRender(this);this.initBindable();this.renderConfigs&&this.flushRenderConfigs();this.reference&&this.publishState();c&&this.addCls(c);a&&(this.addCls(this.fixed?this._fixedLayerCls:this._layerCls),(c=a.cls)&&this.addCls(c));this.frame=this.frame||this.alwaysFramed;b.initialized||b.initLayout();this.initOverflow();this.setUI(this.ui)},
doApplyRenderTpl:function(a,b){var c=b.$comp;c.rendered||(c=c.initRenderTpl(),c.applyOut(b.renderData,a))},getElConfig:function(){var a=this.autoEl,b=this.getFrameInfo(),c={tag:"div",tpl:b?this.initFramingTpl(b.table):this.initRenderTpl()},d=this.layoutTargetCls,e=this.protoEl,f=this.ariaRole;this.initStyles(e);d&&!b&&e.addCls(d);e.writeTo(c);e.flush();a&&(Ext.isString(a)?c.tag=a:Ext.apply(c,a));f&&this.ariaUsesMainElement&&(c.role=f,this.ariaStaticRoles[f]||(c["aria-hidden"]=!!this.hidden,c["aria-disabled"]=
!!this.disabled,this.ariaLabel&&!this.ariaLabelledBy&&(c["aria-label"]=this.ariaLabel),this.collapsible&&(c["aria-expanded"]=!this.collapsed),this.ariaRenderAttributes&&Ext.apply(c,this.ariaRenderAttributes),this.config.ariaAttributes&&Ext.apply(c,this.getAriaAttributes())));c.id=this.id;c.tpl&&(b?(c.tplData=a=this.getFrameRenderData(),a.renderData=this.initRenderData()):c.tplData=this.initRenderData());this.ariaRenderAttributes=null;return c},getInsertPosition:function(a){void 0!==a&&(a=Ext.isNumber(a)?
this.container.dom.childNodes[a]:Ext.getDom(a));return a},getRenderTree:function(){var a=null;this.hasListeners.beforerender&&!1===this.fireEvent("beforerender",this)||(this._renderState=1,this.beforeRender(),this.rendering=!0,this._renderState=2,a=this.getElConfig(),this.el&&(a.id=this.$pid=Ext.id(null,this.el.identifiablePrefix)));return a},initRenderData:function(){var a=this.ariaRole,b,c;b=Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,
frame:this.frame,renderScroller:this.touchScroll,scrollerCls:this.scrollerCls,childElCls:""},this.renderData);a&&!this.ariaUsesMainElement&&(c={role:a},this.ariaStaticRoles[a]||(c["aria-hidden"]=!!this.hidden,c["aria-disabled"]=!!this.disabled,this.ariaLabel&&!this.ariaLabelledBy&&(c["aria-label"]=this.ariaLabel),this.collapsible&&(c["aria-expanded"]=!this.collapsed),this.ariaRenderAttributes&&Ext.apply(c,this.ariaRenderAttributes),this.config.ariaAttributes&&Ext.apply(c,this.getAriaAttributes())),
b.ariaAttributes=c);return b},onRender:function(a,b){var c=this.x,d=this.y,e=null,f=this.el;this.applyRenderSelectors();this.rendering=null;this.rendered=!0;this._renderState=3;this.renderConfigs&&this.flushRenderConfigs();null!=c&&(e={x:c});null!=d&&((e=e||{}).y=d);this.getFrameInfo()||(c=this.width,d=this.height,"number"===typeof c&&(e=e||{},e.width=c),"number"===typeof d&&(e=e||{},e.height=d));1===this.touchScroll&&this.getOverflowEl().disableTouchScroll();this.lastBox=f.lastBox=e},render:function(a,
b){var c=this.el,d=this.ownerLayout,e,f,g;c&&!c.isElement&&(this.wrapPrimaryEl(c),c=this.el);this.skipLayout||Ext.suspendLayouts();a=this.initContainer(a);g=this.getInsertPosition(b);c?this.hasListeners.beforerender&&!1===this.fireEvent("beforerender",this)?e=!0:(this.beforeRender(),this.needsRenderTpl=this.rendering=!0,this._renderState=2,this.initStyles(c),!1!==this.allowDomMove&&(g?a.dom.insertBefore(c.dom,g):a.dom.appendChild(c.dom))):(f=this.getRenderTree(),d&&d.transformItemRenderTree&&(f=d.transformItemRenderTree(f)),
f&&(c=g?Ext.DomHelper.insertBefore(g,f):Ext.DomHelper.append(a,f),this.wrapPrimaryEl(c),this.cacheRefEls(c)));c&&!e&&this.finishRender(b);this.skipLayout||Ext.resumeLayouts(!this.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(a){for(var b=this,c;b.ownerCt;)b=b.ownerCt;b.container.isDetachedBody&&(b.container=c=Ext.getBody(),c.appendChild(b.el.dom),a&&b.updateLayout(),"number"!==typeof b.x&&"number"!==typeof b.y||b.setPosition(b.x,b.y))},privates:{applyRenderSelectors:function(){var a=this.renderSelectors,
b=this.el,c,d;this.attachChildEls(b);this.ariaEl=this[this.ariaEl]||this.el;if(a)for(d in a)(c=a[d])&&(this[d]=b.selectNode(c,!1))},cacheRefEls:function(a){a=a||this.el;var b=Ext.cache,c=Ext.dom.Element;a=(a.isElement?a.dom:a).querySelectorAll("[data-ref]");var d=a.length,e,f;for(f=0;f<d;f++)e=a[f],b[e.id]||new c(e)},doAutoRender:function(){this.rendered||(this.floating?this.render(this.renderTo||document.body):this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender))},doRenderContent:function(a,
b){var c=b.$comp,d=c.data;c.html&&(Ext.DomHelper.generateMarkup(c.html,a),delete c.html);c.tpl&&(c.tpl.isTemplate||(c.tpl=new Ext.XTemplate(c.tpl)),d&&(c.data=d=d.isEntity?d.getData(!0):d,c.tpl.applyOut(d,a)))},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;!d.rendered&&d.doRenderDockedItems&&(b.renderData.$skipDockedItems=!0,d.doRenderDockedItems.call(this,a,b,c))},flushRenderConfigs:function(){var a=this.renderConfigs,b=this._renderState,c,d,e,f,g;if(a){for(d=0;d<=b;++d)if(c=a[d])for(e in a[d]=
null,c)g=c[e],(f||(f={}))[e]=this[e],this[e]=g;f&&this.setConfig(f)}},finishRender:function(a){var b=Ext.cache,c,d;if(!this.el||this.$pid)if(this.container?d=(b=b[this.id])?b.dom:this.container.getById(this.id,!0):(c=this.$pid||this.id,d=(b=b[c])?b.dom:Ext.getDom(c)),this.el){delete this.$pid;this.el.dom||this.wrapPrimaryEl(this.el);d.parentNode.insertBefore(this.el.dom,d);c=d;d=this.el.dom;for(b=d.firstChild;c.firstChild;)d.insertBefore(c.firstChild,b);this.el.addCls(c.className);Ext.removeNode(c)}else this.wrapPrimaryEl(d);
else if(this.needsRenderTpl){if(c=this.initRenderTpl())b=this.initRenderData(),c.insertFirst(this.getTargetEl(),b);this.cacheRefEls()}this.el.component=this;this.container||(this.container=Ext.get(this.el.dom.parentNode));this.ctCls&&this.container.addCls(this.ctCls);this.onRender(this.container,a);this.overflowInited||this.initOverflow();this.el.setVisibilityMode(Ext.Element[this.hideMode.toUpperCase()]);this.overCls&&this.el.hover(this.addOverCls,this.removeOverCls,this);this.hasListeners.render&&
this.fireEvent("render",this);this.afterRender();this.hasListeners.afterrender&&this.fireEvent("afterrender",this);this.initEvents();this.hidden&&this.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getFrameRenderData:function(){var a=this.frameSize,b="";this._syncFrameHeight&&this.height&&(b="height:"+(this.height-a.height)+"px");return{$comp:this,id:this.id,fgid:this.id+"-frame",ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,frameBodyCls:this.layoutTargetCls||
"",baseCls:this.baseCls,top:!!a.top,left:!!a.left,right:!!a.right,bottom:!!a.bottom,mcStyle:b,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var a=this.frameInfoCache,b=this.getFramingInfoCls()+"-frameInfo",c=a[b],d,e,f,g,h,k,l,m,n,p,q,r;null==c&&(c=Ext.fly(this.getStyleProxy(b),"frame-style-el"),(c=c.getStyle("font-family"))?(c=c.split("-"),d=parseInt(c[1],10),e=parseInt(c[2],10),f=parseInt(c[3],10),g=parseInt(c[4],10),h=parseInt(c[5],10),k=parseInt(c[6],
10),l=parseInt(c[7],10),m=parseInt(c[8],10),n=parseInt(c[9],10),p=parseInt(c[10],10),q=parseInt(c[11],10),r=parseInt(c[12],10),c={table:"t"===c[0].charAt(0),vertical:"v"===c[0].charAt(1),top:d,right:e,bottom:f,left:g,width:g+e,height:d+f,border:{top:h,right:k,bottom:l,left:m,width:m+k,height:h+l},padding:{top:n,right:p,bottom:q,left:r,width:r+p,height:n+q}}):c=!1,a[b]=c);this.frame=!!c;return this.frameSize=c},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=
this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));b.className=a;return b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},initContainer:function(a){!a&&this.el&&(a=this.el.dom.parentNode,this.allowDomMove=!1);return this.container=a.dom?a:Ext.get(a)},initOverflow:function(){var a=this.getOverflowStyle(),b=this.scrollFlags,c=this.getOverflowEl(),d=this.touchScroll=(b=
b.y||b.x)&&Ext.supports.touchScroll;b&&c&&c.isElement&&(this.overflowInited=!0,2===d?c.setStyle("overflow","hidden"):c.setStyle(a))},doRenderPadding:function(a,b){var c=b.$comp;c.touchScroll&&a.push("padding:",c.unitizeBox(c.padding))},initFramingTpl:function(a){(a=this.getFrameTpl(a))&&!a.applyRenderTpl&&this.setupFramingTpl(a);return a},initRenderTpl:function(){var a=this.getTpl("renderTpl");a&&!a.renderContent&&this.setupRenderTpl(a);return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;
a.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent;a.renderPadding=this.doRenderPadding},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a=this.el.dom,b=this.frameTable,c=this.frameBody,d=c.dom,e=this.getFrameInfo(),f,g,h,k;g=document.createElement("div");h=this.getFrameRenderData();this.getFrameTpl(e.table).insertFirst(g,h);e=g.querySelectorAll("[data-ref]");k=g.querySelector('[data-ref="frameBody"]');
for(h=d;h.parentNode!==a;)h=h.parentNode;for(;g.firstChild;)a.insertBefore(g.firstChild,h);k.parentNode.replaceChild(d,k);d.className=k.className;c.setSize();a=this.getChildEls();b&&(b.destroy(),this.frameTable=null);for(f in a)a[f].frame&&(b=this[f])&&b!==c&&(b.destroy(),this[f]=null);for(b=e.length;b--;)f=(c=e[b]).getAttribute("data-ref"),"frameBody"!==f&&(this[f]=new Ext.dom.Element(c))}},frameInfoCache:{}}});
Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(a){Ext.apply(this,a);this.state={};this.mixins.observable.constructor.call(this)},get:function(a,b){var c=this.state[a];return void 0===c?b:c},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(a){a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(a));var b,c,d,e;if(a&&a[1])switch(b=
a[1],a=a[2],b){case "e":return null;case "n":return parseFloat(a);case "d":return new Date(Date.parse(a));case "b":return"1"===a;case "a":b=[];if(a)for(c=a.split("^"),d=c.length,e=0;e<d;e++)a=c[e],b.push(this.decodeValue(a));return b;case "o":b={};if(a)for(c=a.split("^"),d=c.length,e=0;e<d;e++)a=c[e],a=a.split("="),b[a[0]]=this.decodeValue(a[1]);return b;default:return a}},encodeValue:function(a){var b="",c=0,d;if(null==a)return"e:1";if("number"===typeof a)a="n:"+a;else if("boolean"===typeof a)a=
"b:"+(a?"1":"0");else if(Ext.isDate(a))a="d:"+a.toUTCString();else if(Ext.isArray(a)){for(d=a.length;c<d;c++)b+=this.encodeValue(a[c]),c!==d-1&&(b+="^");a="a:"+b}else if("object"===typeof a){for(d in a)"function"!==typeof a[d]&&void 0!==a[d]&&(b+=d+"="+this.encodeValue(a[d])+"^");a="o:"+b.substring(0,b.length-1)}else a="s:"+a;return escape(a)}});
Ext.define("Ext.state.Manager",{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});
Ext.define("Ext.state.Stateful",{mixinId:"state",stateful:!1,saveDelay:100,constructor:function(){this.stateEvents||(this.stateEvents=[]);!1!==this.stateful&&(this.addStateEvents(this.stateEvents),this.initState())},addStateEvents:function(a){var b,c,d,e;if(this.stateful&&this.getStateId())for(e="string"===typeof a?arguments:a,d=this.stateEventsByName||(this.stateEventsByName={}),b=e.length;b--;)(c=e[b])&&!d[c]&&(d[c]=1,this.on(c,this.onStateChange,this))},onStateChange:function(){var a=this.saveDelay,
b;this.stateful&&(a?(this.stateTask||(b=Ext.state.Stateful,b=b.runner||(b.runner=new Ext.util.TaskRunner),this.stateTask=b.newTask({run:this.saveState,scope:this,interval:a,repeat:1,fireIdleEvent:!1})),this.stateTask.start()):this.saveState())},saveState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners,c,d,e,f,g,h;if(a){g=this.getState()||{};c=this.getPlugins()||[];e=0;for(f=c.length;e<f;e++)(d=c[e])&&d.getState&&(h=d.getState(g))&&!g[d.ptype]&&(g[d.ptype]=h);b.beforestatesave&&
!1===this.fireEvent("beforestatesave",this,g)||(Ext.state.Manager.set(a,g),b.statesave&&this.fireEvent("statesave",this,g))}},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners,c,d,e,f,g,h;if(a&&(c=Ext.state.Manager.get(a))&&(a=Ext.apply({},c),!b.beforestaterestore||!1!==this.fireEvent("beforestaterestore",this,c))){f=
this.getPlugins()||[];d=0;for(e=f.length;d<e;d++)if(g=f[d])h=g.ptype,g.applyState&&g.applyState(a[h],c),delete a[h];this.applyState(a);b.staterestore&&this.fireEvent("staterestore",this,c)}},savePropToState:function(a,b,c){var d=this[a],e=this.initialConfig;return!this.hasOwnProperty(a)||e&&e[a]===d?!1:(b&&(b[c||a]=d),!0)},savePropsToState:function(a,b){var c,d;if("string"===typeof a)this.savePropToState(a,b);else for(c=0,d=a.length;c<d;++c)this.savePropToState(a[c],b);return b},destroy:function(){var a=
this.stateTask;a&&(a.destroy(),this.stateTask=null);this.clearListeners()}});
Ext.define("Ext.util.Focusable",{mixinId:"focusable",hasFocus:!1,focusable:!1,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){Ext.destroy(this.focusListeners);this.focusEl=this.ariaEl=this.focusListeners=this.focusEnterEvent=this.focusTask=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var a,b=this.focusCls;
this.hasFocus&&(a=this.findFocusTarget())&&a.focus();a=this.getFocusClsEl();b&&a&&a.removeCls(this.removeClsWithUI(b,!0))},isFocusable:function(a){var b;return this.focusable||this.isContainer&&a?(b=this.getFocusEl())&&this.canFocus()?b.isFocusable(a):!1:!1},canFocus:function(a,b){return(this.isContainer||this.focusable)&&this.rendered&&!this.destroying&&!this.destroyed&&!this.disabled&&(a||this.isVisible(!0))||b&&!!this.findFocusTarget()},focus:function(a,b,c,d){var e,f;if((this.focusable||this.isContainer)&&
!this.destroyed&&!this.destroying){if(b)return this.getFocusTask().delay(Ext.isNumber(b)?b:10,this.focus,this,[a,!1,c,d]),this;this.cancelFocus();if(this.canFocus()){if(e=this.getFocusEl()){if(e.isComponent)return e.focus(a,b,c,d);if(b=e.dom)this.floating&&(f=this.container.dom.scrollTop),e.focus(),a&&(Ext.isArray(a)?this.selectText&&this.selectText.apply(this,a):b.select?b.select():this.selectText&&this.selectText()),Ext.callback(c,d);this.floating&&void 0!==f&&(this.container.dom.scrollTop=f)}}else if(e=
this.findFocusTarget())return e.focus(a,b,c,d);return this}},cancelFocus:function(){var a=this.getFocusTask();a&&a.cancel()},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this.focusableContainer,c=this.focusCls,d;this.focusable&&!this.destroying&&(this.beforeBlur(a),b&&b.beforeFocusableChildBlur(this,a),d=this.getFocusClsEl(),c&&d&&d.removeCls(this.removeClsWithUI(c,!0)),this.validateOnBlur&&this.validate(),this.hasFocus=!1,this.fireEvent("blur",this,a),this.postBlur(a),b&&b.afterFocusableChildBlur(this,
a))},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(a){var b=this.focusableContainer,c=this.focusCls,d;this.focusable&&this.canFocus()&&(this.beforeFocus(a),b&&b.beforeFocusableChildFocus(this,a),d=this.getFocusClsEl(),c&&d&&d.addCls(this.addClsWithUI(c,!0)),this.hasFocus||(this.hasFocus=!0,this.fireEvent("focus",this,a)),this.postFocus(a),b&&b.afterFocusableChildFocus(this,a))},postFocus:Ext.emptyFn,getTabIndex:function(){var a;if(this.focusable){if(a=this.rendered&&this.getFocusEl()){if(a.isComponent)a=
a.getTabIndex();else if(a.isElement)a=a.getAttribute("tabIndex");else return;this.tabIndex=a}else a=this.tabIndex;return a-0}},setTabIndex:function(a,b){var c;this.focusable&&(this.tabIndex=a,this.rendered&&(c=b||this.getFocusEl())&&(c.isComponent?c.setTabIndex(a):c.isElement&&c.set({tabIndex:a})))},onFocusEnter:function(a){this.floating&&this!==this.zIndexManager.getActive()&&this.toFront(!0);this.focusEnterEvent=a;this.containsFocus=!0;this.fireEvent("focusenter",this,a)},onFocusLeave:function(a){this.focusEnterEvent=
null;this.containsFocus=!1;this.fireEvent("focusleave",this,a)},privates:{revertFocus:function(){var a=this.previousFocus,b=this.focusEnterEvent;this.previousFocus=null;if(!this.preventRefocus&&this.el.contains(Ext.Element.getActiveElement())){if(a=a||b&&b.fromComponent){if(a.canFocus&&a.canFocus(!1,!0)){a.focus();return}a.nodeType&&(a=Ext.fly(a));if(a.isFocusable&&a.isFocusable()){a.focus();return}}b&&(a=Ext.fly(b.relatedTarget),(Ext.isIE8||a.isFocusable&&a.isFocusable())&&a.focus())}},findFocusTarget:function(){var a,
b;for(a=this.up(":not([disabled])");a;a=a.up(":not([disabled])")){b=Ext.ComponentQuery.query(":focusable:not([hasFocus])",a);if(b.length)return b[0];if(a.isFocusable&&a.isFocusable())return a}},initFocusableElement:function(){var a=this.tabIndex,b=this.getFocusEl();b&&!b.isComponent&&(this.focusEl=b,null!=a&&this.canFocus(!0)&&this.setTabIndex(a,b),b.dom.setAttribute("data-componentid",this.id),this.config.keyHandlers&&this.initKeyHandlers(b))},getFocusTask:function(){this.focusTask||(this.focusTask=
Ext.focusTask);return this.focusTask},handleFocusEvent:function(a){var b;this.isFocusing(a)&&(b=new Ext.event.Event(a.event),b.type="focus",b.relatedTarget=a.fromElement,b.target=a.toElement,this.onFocus(b))},handleBlurEvent:function(a){var b;this.isBlurring(a)&&(b=new Ext.event.Event(a.event),b.type="blur",b.target=a.fromElement,b.relatedTarget=a.toElement,this.onBlur(b))},isFocusing:function(a){var b=a.fromElement;a=a.toElement;var c;return this.focusable&&(c=this.getFocusEl())?c.isComponent?c.isFocusing(b,
a):a===c.dom&&b!==a:!1},isBlurring:function(a){var b=a.fromElement;a=a.toElement;var c;return this.focusable&&(c=this.getFocusEl())?c.isComponent?c.isBlurring(b,a):b===c.dom&&b!==a:!1},blur:function(){var a;if(this.focusable&&this.canFocus()){if(a=this.getFocusEl())this.blurring=!0,a.blur(),delete this.blurring;return this}},disableTabbing:function(){var a=this.el,b;a&&a.saveTabbableState();(b=this.getFocusEl())&&(b.isComponent?b.disableTabbing():b.isElement&&a&&!a.contains(b)&&b.saveTabbableState())},
enableTabbing:function(){var a=this.el,b;(b=this.getFocusEl())&&(b.isComponent?b.enableTabbing():b.isElement&&a&&!a.contains(b)&&b.restoreTabbableState());a&&a.restoreTabbableState()}}},function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)});
Ext.define("Ext.mixin.Accessible",{extend:Ext.Mixin,mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:!0}},privates:{getAriaLabelEl:function(a){var b=[],c,d,e,f;if(a){if(Ext.isFunction(a))return a.call(this);Ext.isArray(a)||(a=[a]);if(c=this.lookupReferenceHolder())for(d=0,e=a.length;d<e;d++)(f=c.lookupReference(a[d]))&&b.push(f.ariaEl.id)}return b.length?b.join(" "):null}}});
Ext.define("Ext.util.KeyboardInteractive",{extend:Ext.Mixin,mixinConfig:{id:"keyboardinteractive"},config:{keyHandlers:{$value:null,lazy:!0}},initKeyHandlers:function(a){var b=this.getKeyHandlers(),c;for(c in b){a.on("keydown",this.handleKeydown,this);this.keydownListenerAttached=!0;break}},applyKeyHandlers:function(a){var b={},c,d;if(a){for(c in a)d=a[c],b[c]="function"===typeof d?d:this[d];this.focusable&&this.rendered&&!this.destroyed&&!this.destroying&&(a=this.getFocusEl())&&!this.keydownListenerAttached&&
(a.on("keydown",this.handleKeydown,this),this.keydownListenerAttached=!0)}return b},handleKeydown:function(a){var b;(b=a.getKeyName())&&(b=this.getKeyHandlers()[b])&&b.call(this,a)}});
Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],mixins:[Ext.mixin.Inheritable,Ext.util.Floating,Ext.util.Positionable,Ext.util.Observable,Ext.mixin.ComponentDelegation,Ext.mixin.Bindable,Ext.util.Animate,Ext.util.ElementContainer,Ext.util.Renderable,Ext.state.Stateful,Ext.util.Focusable,Ext.mixin.Accessible,Ext.util.KeyboardInteractive],statics:{AUTO_ID:1E3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",
DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:Ext.baseCSSPrefix+"aria-highcontrast",cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;c&&c.cancelComponent(a,!1,b)},fromElement:function(a,b,c){return Ext.ComponentManager.fromElement(a,b,c)},flushLayouts:function(){var a=this,b=a.pendingLayouts;b&&b.invalidQueue.length&&(a.pendingLayouts=null,a.runningLayoutContext=b,Ext.override(b,{runComplete:function(){a.runningLayoutContext=
null;var b=this.callParent();Ext.GlobalEvents.hasListeners.afterlayout&&Ext.GlobalEvents.fireEvent("afterlayout");return b}}),b.run())},resumeLayouts:function(a){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(a&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this.runningLayoutContext;c?c.queueInvalidate(a):(c=this.pendingLayouts||(this.pendingLayouts=
new Ext.layout.Context),c.queueInvalidate(a),b||this.layoutSuspendCount||a.isLayoutSuspended()||this.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},
frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var a="input select textarea optgroup option table".split(" ");!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||a.push("p");return new RegExp("^(?:"+a.join("|")+")$","i")}(),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,
renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"</tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"></div></tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",
isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,offsetsCls:Ext.baseCSSPrefix+"hidden-offsets",rendered:!1,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"scroll-scroller",scrollerSelector:"."+Ext.baseCSSPrefix+"scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:!0,y:!0,both:!0},"false":{overflowX:"auto",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"auto",overflowY:"scroll",x:!0,y:!0,both:!0}},"false":{auto:{overflowX:"hidden",
overflowY:"auto",x:!1,y:!0,both:!1},"false":{overflowX:"hidden",overflowY:"hidden",x:!1,y:!1,both:!1},scroll:{overflowX:"hidden",overflowY:"scroll",x:!1,y:!0,both:!1}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:!0,y:!0,both:!0},"false":{overflowX:"scroll",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"scroll",overflowY:"scroll",x:!0,y:!0,both:!0}},none:{overflowX:"",overflowY:"",x:!1,y:!1,both:!1}},_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,
y:!0},both:{x:!0,y:!0},"true":{x:!0,y:!0}},validIdRe:Ext.validIdRe,constructor:function(a){var b,c;a=a||{};if(a.initialConfig)a.isAction&&(this.baseAction=a),a=a.initialConfig;else if(a.tagName||a.dom||Ext.isString(a))a={applyTo:a,id:a.id||a};this.initialConfig=a;this.getId();this.protoEl=new Ext.util.ProtoElement;this.initConfig(a);if(null==this.scrollable){if(a=this.autoScroll)b=!!a;else if(a=this.overflowX,c=this.overflowY,a||c)b={x:a&&"hidden"!==a?a:!1,y:c&&"hidden"!==c?c:!1};b&&this.setScrollable(b)}if(b=
this.xhooks)delete this.xhooks,Ext.override(this,b);this.mixins.elementCt.constructor.call(this);this.setupProtoEl();this.cls&&(this.initialCls=this.cls,this.protoEl.addCls(this.cls));this.style&&(this.initialStyle=this.style,this.protoEl.setStyle(this.style));this.renderData=this.renderData||{};this.initComponent();this.preventRegister||Ext.ComponentManager.register(this);this.mixins.state.constructor.call(this);this.addStateEvents("resize");(b=this.getController())&&b.init(this);if(this.plugins)for(b=
0,a=this.plugins.length;b<a;b++)this.plugins[b]=this.initPlugin(this.plugins[b]);this.loader=this.getLoader();this.disabled&&(this.disabled=!1,this.disable(!0));this.renderTo&&this.render(this.renderTo);this.autoShow&&!this.$initParent&&this.show();this.baseAction&&this.baseAction.addComponent(this)},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(a){var b=this.rendered?this.el:this.protoEl;b.addCls.apply(b,arguments);return this},addClsWithUI:function(a,
b){var c=[],d=0,e=this.uiCls=Ext.Array.clone(this.uiCls),f=this.activeUI,g,h;"string"===typeof a&&(a=0>a.indexOf(" ")?[a]:Ext.String.splitWords(a));for(g=a.length;d<g;d++)(h=a[d])&&!this.hasUICls(h)&&(e.push(h),f&&(c=c.concat(this.addUIClsToElement(h))));!0!==b&&f&&this.addCls(c);return c},afterComponentLayout:function(a,b,c,d){var e;if(1===++this.componentLayoutCounter){if(e=this.scrollable)if(this.touchScroll&&e.isTouchScroller&&e.setInnerElement(this.getScrollerEl()),e.setElement(this.getOverflowEl()),
Ext.isIE)Ext.on("show",this.onGlobalShow,this);this.afterFirstLayout(a,b)}if(a!==c||b!==d)this.onResize(a,b,c,d);if(this.floating)this.onAfterFloatLayout()},addPlugin:function(a){a=this.constructPlugin(a);this.plugins?this.plugins.push(a):this.plugins=[a];this.pluginsInitialized&&this.initPlugin(a);return a},addPropertyToState:function(a,b,c){var d=arguments.length;if(3===d||this.hasOwnProperty(b))3>d&&(c=this[b]),c!==this.initialConfig[b]&&((a||(a={}))[b]=c);return a},addUIClsToElement:function(a){var b=
this.baseCls+"-"+this.ui+"-"+a;a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b];var c,d,e,f;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(d in b+="-",c=this.getChildEls(),c)(f=c[d].frame)&&!0!==f&&(e=this[d])&&e.addCls(b+f);return a},removeUIClsFromElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a;a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b];var c,d,e,f;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(d in b+="-",c=this.getChildEls(),c)(f=c[d].frame)&&!0!==f&&
(e=this[d])&&e.removeCls(b+f);return a},adjustPosition:function(a,b){var c;this.isContainedFloater()&&(c=this.floatParent.getTargetEl().getViewRegion(),a+=c.left,b+=c.top);return{x:a,y:b}},afterHide:function(a,b){var c=this.focusableContainer;this.hiddenByLayout=null;this.ownerLayout&&this.updateLayout({isRoot:!1});Ext.callback(a,b||this);this.fireHierarchyEvent("hide");this.fireEvent("hide",this);if(c)c.onFocusableChildHide(this)},afterSetPosition:function(a,b){this.onPosition(a,b);this.hasListeners.move&&
this.fireEvent("move",this,a,b)},afterShow:function(a,b,c){var d=this,e=d.el,f,g;a=d.getAnimateTarget(a);d.ghost||(a=null);if(a)f={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},a={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},e.addCls(d.offsetsCls),g=d.ghost(),g.el.stopAnimation(),g.setX(-1E4),d.ghostBox=f,g.el.animate({from:a,to:f,listeners:{afteranimate:function(){delete g.componentLayout.lastComponentSize;d.unghost();delete d.ghostBox;e.removeCls(d.offsetsCls);
d.onShowComplete(b,c)}}});else d.onShowComplete(b,c);d.fireHierarchyEvent("show")},animate:function(a){var b=this,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u;a=a||{};g=a.to||{};if(Ext.fx.Manager.hasFxBlock(b.id))return b;(c=Ext.isDefined(g.width))&&(f=Ext.Number.constrain(g.width,b.minWidth,b.maxWidth));(d=Ext.isDefined(g.height))&&(e=Ext.Number.constrain(g.height,b.minHeight,b.maxHeight));if(!a.dynamic&&(c||d)){m=l=(a.from?a.from.width:void 0)||b.getWidth();p=n=(a.from?a.from.height:void 0)||b.getHeight();h=!1;
d&&e>n&&(p=e,h=!0);c&&f>l&&(m=f,h=!0);if(d||c)u=b.el.getStyle("overflow"),"hidden"!==u&&b.el.setStyle("overflow","hidden");h&&(h=!Ext.isNumber(b.width),k=!Ext.isNumber(b.height),b.setSize(m,p),b.el.setSize(l,n),h&&delete b.width,k&&delete b.height);c&&(g.width=f);d&&(g.height=e)}q=b.constrain;r=b.constrainHeader;if(q||r)b.constrain=b.constrainHeader=!1,t=a.callback,a.callback=function(){b.constrain=q;b.constrainHeader=r;t&&t.call(a.scope||b,arguments);"hidden"!==u&&b.el.setStyle("overflow",u)};return b.mixins.animate.animate.apply(b,
arguments)},applyScrollable:function(a,b){var c=this.rendered,d;if(a){if(!0===a||"string"===typeof a)a=d=this._scrollableCfg[a];b?(b.setConfig(a),a=b):(a=Ext.Object.chain(a),c&&(a.element=this.getOverflowEl(),c=this.getScrollerEl())&&(a.innerElement=c),a.autoRefresh=!1,1===Ext.supports.touchScroll&&(a.translatable={translationMethod:"scrollparent"},a.indicators=!1),a=Ext.scroll.Scroller.create(a),a.component=this)}else b&&(b.setConfig({x:!1,y:!1}),b.destroy(),a=null);!this.rendered||this.destroying||
this.destroyed||(a?this.getOverflowStyle():this.scrollFlags=this._scrollFlags.none,this.updateLayout());return a},beforeComponentLayout:function(){return!0},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating)this.onBeforeFloatLayout()},beforeSetPosition:function(a,b,c){var d=null,e,f;a&&(Ext.isNumber(e=a[0])?(c=b,b=a[1],a=e):void 0!==(e=a.x)&&(c=b,b=a.y,a=e));if(this.constrain||this.constrainHeader)if(d=this.calculateConstrainedPosition(null,[a,b],!0))a=d[0],b=d[1];e=void 0!==a;f=
void 0!==b;if(e||f)this.x=a,this.y=b,a=this.adjustPosition(a,b),d={x:a.x,y:a.y,anim:c,hasX:e,hasY:f};return d},beforeShow:Ext.emptyFn,bubble:function(a,b,c){for(var d=this;d&&!1!==a.apply(b||d,c||[d]);)d=d.getBubbleTarget();return this},clearListeners:function(){this.mixins.observable.clearListeners.call(this);this.mixins.componentDelegation.clearDelegatedListeners.call(this)},cloneConfig:function(a){a=a||{};var b=a.id||Ext.id();a=Ext.applyIf(a,this.initialConfig);a.id=b;return new (Ext.getClass(this))(a)},
destroy:function(){var a=this.renderSelectors;this.getConfig("viewModel",!0);this.getConfig("session",!0);var b,c;if(!this.hasListeners.beforedestroy||!1!==this.fireEvent("beforedestroy",this)){this.isDestroying=this.destroying=!0;c=this.floatParent||this.ownerCt;this.floating&&(delete this.floatParent,this.zIndexManager&&(this.zIndexManager.unregister(this),this.zIndexManager=null));this.removeBindings();this.beforeDestroy();this.destroyBindable();c&&c.remove&&c.remove(this,!1);this.stopAnimation();
this.onDestroy();Ext.destroy(this.plugins);this.rendered&&Ext.Component.cancelLayout(this,!0);this.componentLayout=null;this.hasListeners.destroy&&this.fireEvent("destroy",this);this.preventRegister||Ext.ComponentManager.unregister(this);this.mixins.state.destroy.call(this);if(this.floating)this.onFloatDestroy();this.clearListeners();if(this.rendered){this.preserveElOnDestroy||this.el.destroy();this.el.component=null;this.mixins.elementCt.destroy.call(this);if(a)for(b in a)a.hasOwnProperty(b)&&(c=
this[b])&&(delete this[b],c.destroy());this.focusableContainer=this.container=this.scrollable=this.tpl=this.renderTpl=this.renderData=this.data=this.el=this.frameBody=this.rendered=this.afterRenderEvents=null}this.isDestroying=this.destroying=!1;this.callParent()}},disable:function(a,b){var c=this.focusableContainer,d=this.getInherited();b||(this.savedDisabled=d.disabled=!0);this.maskOnDisable&&(d.disableMask=!0);if(!this.disabled){c&&c.beforeFocusableChildDisable(this);this.addCls(this.disabledCls);
if(this.rendered)this.onDisable();else this.disableOnRender=!0;this.disabled=!0;!0!==a&&this.fireEvent("disable",this);if(c)c.onFocusableChildDisable(this)}return this},doFireEvent:function(a,b,c){c=this.mixins.observable.doFireEvent.call(this,a,b,c);!1!==c&&(c=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,a,b));return c},enable:function(a,b){var c=this.focusableContainer,d=this.getInherited();b||(delete this.getInherited().disabled,this.savedDisabled=!1);this.maskOnDisable&&delete d.disableMask;
if(this.disabled&&(!b||!d.hasOwnProperty("disabled"))){c&&c.beforeFocusableChildEnable(this);this.disableOnRender=!1;this.removeCls(this.disabledCls);if(this.rendered)this.onEnable();this.disabled=!1;!0!==a&&this.fireEvent("enable",this);if(c)c.onFocusableChildEnable(this)}return this},findParentBy:function(a){var b;for(b=this.getRefOwner();b&&!a(b,this);b=b.getRefOwner());return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):
this.up(a)},findPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++)if(c[b].ptype===a)return c[b]},getAnimateTarget:function(a){(a=a||this.animateTarget)&&(a=a.isComponent?a.getEl():Ext.get(a));return a||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){this.componentLayout&&this.componentLayout.isLayout||this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,"autocomponent"));return this.componentLayout},getEl:function(){return this.el},
getHeight:function(){return this.el.getHeight()},initInheritedState:function(a){var b=this.componentLayout;this.hidden&&(a.hidden=!0);this.collapseImmune&&(a.collapseImmune=!0);void 0!==this.modelValidation&&(a.modelValidation=this.modelValidation);this.savedDisabled&&(a.disabled=!0);this.mixins.bindable.initInheritedState.call(this,a);b&&b.initInheritedState&&b.initInheritedState(a)},getId:function(){var a;this.id||(this.id=this.initialConfig.id)||(a=(a=this.getXType())?a.replace(Ext.Component.INVALID_ID_CHARS_Re,
"-"):Ext.name.toLowerCase()+"-comp",this.id=a+"-"+this.getAutoId());return this.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var a=this.loader;return a?(a.isLoader?a.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this},a)),this.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++)if(c[b].pluginId===a)return c[b];return null},getPosition:function(a){var b,
c=this.isContainedFloater();if(!0===a&&!c)return[this.getLocalX(),this.getLocalY()];b=this.getXY();!0===a&&c&&(a=this.floatParent.getTargetEl().getViewRegion(),b[0]-=a.left,b[1]-=a.top);return b},getScrollX:function(){var a=this.getScrollable();return a?a.getPosition().x:0},getScrollY:function(){var a=this.getScrollable();return a?a.getPosition().y:0},getSize:function(a){return this.el.getSize(a)},getSizeModel:function(a){var b=Ext.layout.SizeModel,c=this.componentLayout.ownerContext,d=this.width,
e=this.height,f,g,h,k,l,m,n,p,q,r=this.floating||this.floated;c&&(q=c.widthModel,l=c.heightModel);q&&l||(h="number"===(f=typeof d),k="number"===(g=typeof e),(p=r||!(m=this.ownerLayout))?(n=Ext.layout.Layout.prototype.autoSizePolicy,m=r?3:this.shrinkWrap,h&&(q=b.configured),k&&(l=b.configured)):(n=m.getItemSizePolicy(this,a),m=m.isItemShrinkWrap(this)),c&&(c.ownerSizePolicy=n),m=!0===m?3:m||0,p&&m&&(d&&"string"===f&&(m&=2),e&&"string"===g&&(m&=1)),3!==m&&(a||(a=this.ownerCt&&this.ownerCt.getSizeModel()),
a&&(m|=(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0))),q||(q=n.setsWidth?n.readsWidth?h?b.calculatedFromConfigured:m&1?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:h?b.configured:m&1?b.shrinkWrap:b.natural),l||(l=n.setsHeight?n.readsHeight?k?b.calculatedFromConfigured:m&2?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:k?b.configured:m&2?b.shrinkWrap:b.natural));return q.pairsByHeightOrdinal[l.ordinal]},getState:function(){var a=null,b=this.getSizeModel();b.width.configured&&
(a=this.addPropertyToState(a,"width"));b.height.configured&&(a=this.addPropertyToState(a,"height"));return a},getUserCls:function(){return this.userCls},setUserCls:function(a){var b=this.userCls;a!==b&&(this.userCls=a,this.rendered&&this.el.replaceCls(b,a));return b},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var a=this.self,b,c,d;if(!a.xtypes){b=[];for(c=this;c;)d=c.xtypes,void 0!==d&&b.unshift.apply(b,d),c=c.superclass;a.xtypeChain=
b;a.xtypes=b.join("/")}return a.xtypes},hasCls:function(a){var b=this.rendered?this.el:this.protoEl;return b.hasCls.apply(b,arguments)},hasUICls:function(a){return Ext.Array.contains(this.uiCls||[],a)},hide:function(a,b,c){this.pendingShow&&(this.pendingShow=!1);if(!this.rendered||this.isVisible())if(!this.hasListeners.beforehide||!1!==this.fireEvent("beforehide",this)||this.hierarchicallyHidden)this.getInherited().hidden=this.hidden=!0,this.fireHierarchyEvent("beforehide"),this.rendered&&this.onHide.apply(this,
arguments);return this},initComponent:function(){var a=this.width,b=this.height;this.plugins&&!this.plugins.processed&&(this.plugins=this.constructPlugins());this.pluginsInitialized=!0;null==a&&null==b||this.setSize(a,b);this.listeners&&(this.on(this.listeners),this.listeners=null);this.focusable&&this.initFocusable()},initEvents:function(){var a=this.afterRenderEvents,b,c,d,e,f;if(a)for(d in a)if((c=this[d])&&c.on)for(b=a[d],e=0,f=b.length;e<f;++e)this.mon(c,b[e]);this.focusable&&this.initFocusableEvents()},
is:function(a){return Ext.ComponentQuery.is(this,a)},isDescendantOf:function(a){var b;for(b=this.getRefOwner();b&&b!==a;b=b.getRefOwner());return b||null},isAncestor:function(a){for(;a;){if(a.getRefOwner()===this)return!0;a=a.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var a=
this,b=!1,c,d;c=a.ownerCt||a.floatParent;a=c){d=c.getInherited();if(d.hidden){b=!0;break}if(a.getInherited().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=!0;break}}else{b=!!d.collapsed;break}}return b},isLayoutChild:function(a){return!this.floating&&!!this.up(a)},isLayoutRoot:function(){var a=this.ownerLayout;return!a||this._isLayoutRoot||this.floating?!0:a.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var a=this;a;){if(a.layoutSuspendCount||a.suspendLayout)return!0;a=a.ownerLayout;
if(!a)break;a=a.owner}return!1},isVisible:function(a){var b;this.hidden||!this.rendered||this.destroyed?b=!0:a&&(b=this.isHierarchicallyHidden());return!b},isXType:function(a,b){return b?-1!==Ext.Array.indexOf(this.xtypes,a):!!this.xtypesMap[a]},isMasked:function(a){return!!(this.masked||this.loadMask&&this.loadMask.isVisible()||a&&this.getInherited().masked)},setMasked:function(a){var b=this.focusableContainer;a?(this.masked=!0,this.getInherited().masked=a):(this.masked=!1,delete this.getInherited().masked);
if(b)b.onFocusableChildMasked(this,a);return this},mask:function(a,b,c){var d=this.lastBox,e=this.getMaskTarget()||this.el;d&&(c=d.height);e.mask(a,b,c);this.setMasked(!0)},nextNode:function(a,b){var c=this.ownerCt,d,e,f,g;if(b&&this.is(a))return this;if(c){e=c.items.items;g=Ext.Array.indexOf(e,this)+1;for(f=e.length;g<f;g++)if(d=e[g],d.is(a)||d.down&&(d=d.down(a)))return d;return c.nextNode(a)}return null},nextSibling:function(a){var b=this.ownerCt,c,d,e;if(b&&(b=b.items,d=b.indexOf(this)+1))if(a)for(c=
b.getCount();d<c;d++){if((e=b.getAt(d)).is(a))return e}else if(d<b.getCount())return b.getAt(d);return null},onAdded:function(a,b,c){this.ownerCt=a;this.onInheritedAdd(this,c);this.hasListeners&&this.hasListeners.added&&this.fireEvent("added",this,a,b);Ext.GlobalEvents.hasListeners.added&&this.fireHierarchyEvent("added")},onRemoved:function(a){Ext.GlobalEvents.hasListeners.removed&&this.fireHierarchyEvent("removed");this.hasListeners.removed&&this.fireEvent("removed",this,this.ownerCt);a||this.removeBindings();
this.onInheritedRemove(a);this.ownerCt=this.ownerLayout=null},onBoxReady:function(a,b){var c;if(this.ariaLabelledBy||this.ariaDescribedBy)this.ariaLabelledBy&&(c=this.getAriaLabelEl(this.ariaLabelledBy))&&this.ariaEl.dom.setAttribute("aria-labelledby",c),this.ariaDescribedBy&&(c=this.getAriaLabelEl(this.ariaDescribedBy))&&this.ariaEl.dom.setAttribute("aria-describedby",c);this.resizable&&this.initResizable(this.resizable);this.draggable&&this.initDraggable();this.hasListeners.boxready&&this.fireEvent("boxready",
this,a,b)},onDestroy:function(){var a=this.focusableContainer;this.rendered&&Ext.destroy(this.dd,this.resizer,this.proxy,this.proxyWrap,this.resizerComponent,this.scrollable,this.contentEl);if(a)a.onFocusableChildDestroy(this);this.focusable&&this.destroyFocusable();Ext.destroy(this.componentLayout,this.loadMask,this.floatingDescendants)},onDisable:function(){var a,b;this.focusable&&this.disableFocusable();this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute("aria-disabled",!0);this.maskOnDisable&&
!this.getInheritedConfig("disableMask",!0)&&(a=this.el.dom,b=a.nodeName,this.disabledRe.test(b)&&(a.disabled=!0),this.nonMaskableRe.test(b)||this.mask())},onEnable:function(){var a,b;this.focusable&&this.enableFocusable();this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute("aria-disabled",!1);this.maskOnDisable&&this.getInherited().hasOwnProperty("masked")&&(a=this.el.dom,b=a.nodeName,this.disabledRe.test(b)&&(a.disabled=!1),this.nonMaskableRe.test(b)||this.unmask())},onGlobalShow:function(a){this.up(a)&&
this.getScrollable().restoreState()},onHide:function(a,b,c){var d=this,e,f,g;d.ariaStaticRoles[d.ariaRole]||d.ariaEl.dom.setAttribute("aria-hidden",!0);d.revertFocus();a=d.getAnimateTarget(a);d.ghost||(a=null);a&&(g={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},e=d.ghost(),e.el.stopAnimation(),f=d.getSize(),e.el.animate({to:g,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;e.el.hide();e.setHiddenState(!0);e.el.setSize(f);d.afterHide(b,c)}}}));
d.el.hide();a||d.afterHide(b,c)},onPosition:Ext.emptyFn,onResize:function(a,b,c,d){this.floating&&this.constrain&&this.doConstrain();this.refreshScroll();this.hasListeners.resize&&this.fireEvent("resize",this,a,b,c,d)},onShow:function(){this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute("aria-hidden",!1);this.el.show();this.updateLayout({isRoot:!1});this.floating&&(this.maximized?this.fitContainer():this.constrain&&this.doConstrain())},onShowComplete:function(a,b){var c=this.focusableContainer;
if(this.floating)this.onFloatShow();Ext.callback(a,b||this);this.fireEvent("show",this);if(c)c.onFocusableChildShow(this);delete this.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(a,b){var c=this.ownerCt,d,e,f,g;if(b&&this.is(a))return this;if(c){e=c.items.items;for(f=Ext.Array.indexOf(e,this)-1;-1<f;f--){g=e[f];if(g.query&&(d=g.query(a),d=d[d.length-1]))return d;if(g.is(a))return g}return c.previousNode(a,!0)}return null},previousSibling:function(a){var b=this.ownerCt,c,d;if(b&&(b=
b.items,c=b.indexOf(this),-1!==c))if(a)for(--c;0<=c;c--){if((d=b.getAt(c)).is(a))return d}else if(c)return b.getAt(--c);return null},registerFloatingItem:function(a){this.floatingDescendants||(this.floatingDescendants=new Ext.ZIndexManager(this));this.floatingDescendants.register(a)},removeCls:function(a){var b=this.rendered?this.el:this.protoEl;b.removeCls.apply(b,arguments);return this},removeClsWithUI:function(a,b){var c=[],d;d=Ext.Array;var e=d.remove,f=this.uiCls=d.clone(this.uiCls),g=this.activeUI,
h,k;"string"===typeof a&&(a=0>a.indexOf(" ")?[a]:Ext.String.splitWords(a));h=a.length;for(d=0;d<h;d++)(k=a[d])&&this.hasUICls(k)&&(e(f,k),g&&(c=c.concat(this.removeUIClsFromElement(k))));!0!==b&&g&&this.removeCls(c);return c},resumeLayouts:function(a){this.rendered&&this.layoutSuspendCount&&!--this.layoutSuspendCount&&(this.suspendLayout=!1,a&&!this.isLayoutSuspended()&&this.updateLayout(a))},scrollBy:function(a,b,c){var d=this.getScrollable();d&&d.scrollBy(a,b,c)},scrollTo:function(a,b,c){var d=
this.getScrollable();d&&d.scrollTo(a,b,c)},setAutoScroll:function(a){this.setScrollable(!!a);return this},setBorder:function(a,b){var c=!!b;if(this.rendered||c)c||(b=this.el),a=a?!0===a?"1px":this.unitizeBox(a):0,b.setStyle("border-width",a),c||this.updateLayout();this.border=a},setDock:function(a){var b=this.ownerCt;a!==this.dock&&(b&&b.moveDocked?b.moveDocked(this,a):this.dock=a);return this},setDisabled:function(a){return this[a?"disable":"enable"]()},setFlex:function(a){this.flex=a},setHeight:function(a){return this.setSize(void 0,
a)},setLoading:function(a,b){var c={target:this};this.rendered&&(!1!==a?(Ext.isString(a)?c.msg=a:Ext.apply(c,a),this.loadMask&&this.loadMask.isLoadMask?Ext.apply(this.loadMask,c):(b&&null==c.useTargetEl&&(c.useTargetEl=!0),this.loadMask=new Ext.LoadMask(c)),this.loadMask.isVisible()?this.loadMask.syncMaskState():this.loadMask.show()):this.loadMask&&this.loadMask.isLoadMask&&this.loadMask.hide());return this.loadMask},setMargin:function(a,b){this.rendered?(a||0===a?(!0===a&&(a=5),a=this.unitizeBox(a)):
a="",this.margin=a,this.margin$=null,this.getEl().setStyle("margin",a),b||this.updateLayout(this._notAsLayoutRoot)):this.margin=a},setOverflowXY:function(a,b){this.setScrollable({x:a&&"hidden"!==a?a:!1,y:b&&"hidden"!==b?b:!1});return this},setPagePosition:function(a,b,c){var d;Ext.isArray(a)&&(b=a[1],a=a[0]);this.pageX=a;this.pageY=b;this.floating?(this.isContainedFloater()?(d=this.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(a)&&Ext.isNumber(d.left)&&(a-=d.left),Ext.isNumber(b)&&Ext.isNumber(d.top)&&
(b-=d.top)):(b=this.el.translateXY(a,b),a=b.x,b=b.y),this.setPosition(a,b,c)):(b=this.el.translateXY(a,b),this.setPosition(b.x,b.y,c));return this},setPosition:function(a,b,c){var d=this.beforeSetPosition.apply(this,arguments);if(d&&this.rendered)if(a=d.x,b=d.y,c){if(a!==this.getLocalX()||b!==this.getLocalY())this.stopAnimation(),this.animate(Ext.apply({duration:1E3,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[a,b])},to:{left:a,top:b}},c))}else this.setLocalXY(a,b),this.afterSetPosition(a,
b);return this},setScrollX:function(a,b){var c=this.getScrollable();c&&c.scrollTo(a,null,b)},setScrollY:function(a,b){var c=this.getScrollable();c&&c.scrollTo(null,a,b)},setSize:function(a,b){var c=this.width,d=this.height,e,f;a&&"object"===typeof a&&(b=a.height,a=a.width);"number"===typeof a?this.width=Ext.Number.constrain(a,this.minWidth,this.maxWidth):null===a?delete this.width:"string"===typeof a&&(e=!0,this.width=a);"number"===typeof b?this.height=Ext.Number.constrain(b,this.minHeight,this.maxHeight):
null===b?delete this.height:"string"===typeof b&&(f=!0,this.height=b);this.rendered&&this.isVisible()&&(c!==this.width||d!==this.height)&&((this.liquidLayout||e||f)&&this.el.setSize(this.width,this.height),this.updateLayout(this._notAsLayoutRoot));return this},setStyle:function(a,b){(this.el||this.protoEl).setStyle(a,b);return this},setUI:function(a){var b=this.uiCls,c=this.activeUI;a!==c&&(c?(c=this.removeClsWithUI(b,!0),c.length&&this.removeCls(c),this.removeUIFromElement()):this.uiCls=[],this.activeUI=
this.ui=a,this.addUIToElement(),c=this.addClsWithUI(b,!0),c.length&&this.addCls(c),this.rendered&&this.updateLayout())},setVisible:function(a){return this[a?"show":"hide"]()},setHidden:function(a){return this.setVisible(!a)},setWidth:function(a){return this.setSize(a)},show:function(a,b,c){var d=this.rendered;if(this.hierarchicallyHidden||this.floating&&!d&&this.isHierarchicallyHidden())d||this.initHierarchyEvents(),1<arguments.length?(arguments[0]=null,this.pendingShow=arguments):this.pendingShow=
!0;else if(d&&this.isVisible()){if(this.floating)this.onFloatShow()}else if(!1!==this.fireEvent("beforeshow",this))this.hidden=!1,delete this.getInherited().hidden,Ext.suspendLayouts(),d||!this.autoRender&&!this.floating||(this.doAutoRender(),d=this.rendered),d?(this.beforeShow(),Ext.resumeLayouts(),this.onShow.apply(this,arguments),this.afterShow.apply(this,arguments)):Ext.resumeLayouts(!0);else this.onShowVeto();return this},showAt:function(a,b,c){if(!this.rendered&&(this.autoRender||this.floating))return this.x=
a,this.y=b,this.show();this.floating?this.setPosition(a,b,c):this.setPagePosition(a,b,c);return this.show()},showBy:function(a,b,c){this.floating&&a&&(this.alignTarget=a,b&&(this.defaultAlign=b),c&&(this.alignOffset=c),this.show(),this.hidden||this.alignTo(a,b||this.defaultAlign,c||this.alignOffset));return this},suspendLayouts:function(){this.rendered&&1===++this.layoutSuspendCount&&(this.suspendLayout=!0)},unitizeBox:function(a){return Ext.Element.unitizeBox(a)},unmask:function(){(this.getMaskTarget()||
this.el).unmask();this.setMasked(!1)},unregisterFloatingItem:function(a){this.floatingDescendants&&this.floatingDescendants.unregister(a)},up:function(a,b){var c=this.getRefOwner(),d="string"===typeof b,e="number"===typeof b,f=b&&b.isComponent,g=0;if(a)for(;c;c=c.getRefOwner()){g++;if(a.isComponent){if(c===a)break}else if(Ext.ComponentQuery.is(c,a))break;if(d&&c.is(b)||e&&g===b||f&&c===b)return}return c},update:function(a,b,c,d){var e=this.tpl&&!Ext.isString(a),f=this.getScrollable(),g=this.focusableContainer,
h;e?this.data=a&&a.isEntity?a.getData(!0):a:this.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a;if(this.rendered){a=this.getSizeModel();a=a.width.shrinkWrap||a.height.shrinkWrap;this.isContainer?(h=this.layout.getRenderTarget(),a=a||0<this.items.items.length):h=this.touchScroll?this.getScrollerEl():this.getTargetEl();if(e)this.tpl[this.tplWriteMode](h,this.data||{});else h.setHtml(this.html,b,c,d||this);a&&this.updateLayout();f&&f.refresh(!0);if(g)g.onFocusableChildUpdate(this)}},setHtml:function(a,
b,c){this.update(a,b,null,c)},applyData:function(a){this.update(a)},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(a){var b=this.lastBox,c=a&&a.isRoot;b&&(b.invalid=!0);!this.rendered||this.layoutSuspendCount||this.suspendLayout||(this.hidden?Ext.Component.cancelLayout(this):"boolean"!==typeof c&&(c=this.isLayoutRoot()),!c&&this.ownerLayout&&this.ownerLayout.onContentChange(this)||
this.isLayoutSuspended()||(a=a&&a.hasOwnProperty("defer")?a.defer:this.deferLayouts,Ext.Component.updateLayout(this,a)))},updateMaxHeight:function(a,b){this.changeConstraint(a,b,"min","max-height","height")},updateMaxWidth:function(a,b){this.changeConstraint(a,b,"min","max-width","width")},updateMinHeight:function(a,b){this.changeConstraint(a,b,"max","min-height","height")},updateMinWidth:function(a,b){this.changeConstraint(a,b,"max","min-width","width")},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,
c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,
b)},setXY:function(a,b){this.el.setXY(a,b)},setY:function(a,b){this.el.setY(a,b)},privates:{addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},addUIToElement:function(){var a=this.baseCls+"-"+this.ui,b,c,d,e;this.addCls(a);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(c in a+="-",b=this.getChildEls(),b)(e=b[c].frame)&&!0!==e&&(d=this[c])&&d.addCls(a+e)},changeConstraint:function(a,b,c,d,e){var f=this[e];null!=a&&"number"===typeof f&&(this[e]=Math[c](f,a));this.liquidLayout&&
(null!=a?this.setStyle(d,a+"px"):b&&this.setStyle(d,""));this.rendered&&this.updateLayout()},constructPlugin:function(a){return a="string"===typeof a?Ext.PluginManager.create({},a,this):Ext.PluginManager.create(a,null,this)},constructPlugins:function(){var a=this.plugins,b,c,d;if(a)for(b=[],b.processed=!0,Ext.isArray(a)||(a=[a]),c=0,d=a.length;c<d;c++)b[c]=this.constructPlugin(a[c]);this.pluginsInitialized=!0;return b},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);
this.isDetached=!0},doAddListener:function(a,b,c,d,e,f,g){var h;if(Ext.isObject(b)||d&&d.element){if(d.element)for(h in f=d.element,e={},e[a]=b,c&&(e.scope=c),a=this.$elementEventOptions,d)a[h]&&(e[h]=d[h]);else e=b,f=a;(d=this[f])&&d.isObservable?this.mon(d,e):(this.afterRenderEvents=this.afterRenderEvents||{},this.afterRenderEvents[f]||(this.afterRenderEvents[f]=[]),this.afterRenderEvents[f].push(e))}else{if(d&&(h=d.delegate)){this.mixins.componentDelegation.addDelegatedListener.call(this,a,b,c,
d,e,f,g);return}this.mixins.observable.doAddListener.call(this,a,b,c,d,e,f,g)}},doRemoveListener:function(a,b,c){this.mixins.observable.doRemoveListener.call(this,a,b,c);this.mixins.componentDelegation.removeDelegatedListener.call(this,a,b,c)},fireHierarchyEvent:function(a){var b=Ext.GlobalEvents;b.hasListeners[a]&&b.fireEvent(a,this)},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=!0;return++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},
getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a=this.getScrollable(),b=this._scrollFlags,c;a?(c=a.getX(),!0===c&&(c="auto"),a=a.getY(),!0===a&&(a="auto"),b=b[c][a]):b=b.none;this.scrollFlags=b;return{overflowX:b.overflowX,overflowY:b.overflowY}},getPlugins:function(){var a=this.plugins;return(a=a&&a.processed?a:this.constructPlugins())||null},getProxy:function(){var a;this.proxy||(a=Ext.getBody(),this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",a,!0));
return this.proxy},getScrollerEl:function(){return this.scrollerEl||(this.scrollerEl=this.componentLayout.getScrollerEl()||this.getOverflowEl().child(this.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initCls:function(){var a=[this.baseCls],b=this.getComponentLayout().targetCls;b&&a.push(b);Ext.isDefined(this.cmpCls)&&
(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),this.componentCls=this.cmpCls,delete this.cmpCls);this.componentCls?a.push(this.componentCls):this.componentCls=this.baseCls;return a},initDraggable:function(){var a=this.resizer&&this.resizer.el!==this.el?this.resizerComponent=new Ext.Component({el:this.resizer.el,rendered:!0,container:this.container}):this,b=Ext.applyIf({el:a.getDragEl(),constrainTo:this.constrain||
this.draggable.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0},this.draggable);if(this.constrain||this.constrainDelegate)b.constrain=this.constrain,b.constrainDelegate=this.constrainDelegate;this.dd=new Ext.util.ComponentDragger(a,b)},initPadding:function(a){var b=this.padding;null!=b&&(this.touchScroll||this.layout&&this.layout.managePadding&&"padding"===this.contentPaddingProperty?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(!0===
b?5:b)))},initPlugin:function(a){a.init(this);return a},initResizable:function(a){a=Ext.apply({target:this,dynamic:!1,constrainTo:this.constrain||a&&a.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0,handles:this.resizeHandles},a);a.target=this;this.resizer=new Ext.resizer.Resizer(a)},initStyles:function(a){var b=this.margin,c=this.border,d=this.cls,e=this.style,f=this.x,g=this.y,h=this.liquidLayout;this.initPadding(a);null!=b&&a.setStyle("margin",
this.unitizeBox(!0===b?5:b));null!=c&&this.setBorder(c,a);d&&d!==this.initialCls&&(a.addCls(d),this.cls=this.initialCls=null);e&&e!==this.initialStyle&&(a.setStyle(e),this.style=this.initialStyle=null);null!=f&&a.setStyle(this.horizontalPosProp,"number"===typeof f?f+"px":f);null!=g&&a.setStyle("top","number"===typeof g?g+"px":g);if(!this.ownerCt||this.floating)Ext.scopeCss&&a.addCls(this.rootCls),a.addCls(this.borderBoxCls);if(h||!this.getFrameInfo())b=this.width,c=this.height,null!=b&&("number"===
typeof b?a.setStyle("width",b+"px"):a.setStyle("width",b)),null!=c&&("number"===typeof c?a.setStyle("height",c+"px"):a.setStyle("height",c))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(a){if(a.isContainer)for(var b=this.ownerCt;b;b=b.ownerCt)if(b===a)return!0;return!1},owns:function(a){var b=!1;a.isEvent?a=a.target:a.isElement&&(a=a.dom);(a=Ext.Component.fromElement(a))&&(b=a===this||!!a.up(this));return b},parseBox:function(a){return Ext.Element.parseBox(a)},
reattachToBody:function(){this.isDetached=!1},refreshScroll:function(){var a=this.getScrollable();a&&a.refresh()},removeManagedListenerItem:function(a,b,c,d,e,f){var g=b.options?b.options.element:null;if(g)(g=this[g])&&g.un&&(a||!(b.item!==c||b.ename!==d||e&&b.fn!==e||f&&b.scope!==f))&&(g.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(this.managedListeners,b));else return this.mixins.observable.removeManagedListenerItem.apply(this,arguments)},removeOverCls:function(){this.el.removeCls(this.overCls)},
removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},removeUIFromElement:function(){var a=this.baseCls+"-"+this.ui,b,c,d,e;this.removeCls(a);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(c in a+="-",b=this.getChildEls(),b)(e=b[c].frame)&&!0!==e&&(d=this[c])&&d.removeCls(a+e)},setComponentLayout:function(a){var b=this.componentLayout;b&&b.isLayout&&b!==a&&b.setOwner(null);this.componentLayout=a;a.setOwner(this)},setHiddenState:function(a){var b=this.getInherited(),
c=this.zIndexManager;(this.hidden=a)?b.hidden=!0:delete b.hidden;if(c)c.onComponentShowHide(this)},setupProtoEl:function(){var a=this.initCls();this.protoEl.addCls(a)},wrapPrimaryEl:function(a){var b=this.el;b&&b.isElement||(this.el=Ext.get(a));this.floating&&this.mixins.floating.constructor.call(this)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(a){var b=
a.prototype;(b.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(b.$eventOptions=Ext.Object.chain(b.$eventOptions)).delegate=1;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,d){a.suspendLayouts();b.call(d);a.resumeLayouts(!0)};Ext.setGlyphFontFamily=function(a){Ext._glyphFontFamily=a};a.hierarchyEventSource=
b.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){Ext.supports.HighContrastMode&&Ext.getBody().addCls(a.ariaHighContrastModeCls)})});
Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;a._borderRegionInited||(a._borderRegionInited=!0,a.addStateEvents(["changeregion","changeweight"]),Ext.override(a,{getState:function(){var b=a.callParent(),b=a.addPropertyToState(b,"region");return b=a.addPropertyToState(b,"weight")}}))},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&
a.isBorderLayout?a:null},setRegion:function(a){var b,c=this.region;if(a!==c)if(b=this.getOwningBorderLayout()){var d=b.regionFlags[a],e=this.placeholder,f=this.splitter,g=b.owner,h=b.regionMeta;b=this.collapsed||this.floated;var k;if(!1===this.fireEventArgs("beforechangeregion",[this,a]))return c;Ext.suspendLayouts();this.region=a;Ext.apply(this,d);this.updateCollapseTool&&this.updateCollapseTool();f&&(Ext.apply(f,d),f.updateOrientation(),d=g.items,k=d.indexOf(this),0<=k&&(a=h[a].splitterDelta,d.getAt(k+
a)!==f&&(d.remove(f),k=d.indexOf(this),0<a&&++k,d.insert(k,f))));e&&(b&&this.expand(!1),g.remove(e),this.placeholder=null,b&&this.collapse(null,!1));g.updateLayout();Ext.resumeLayouts(!0);this.fireEventArgs("changeregion",[this,c])}else this.region=a;return c},setWeight:function(a){var b=this.getOwningBorderContainer(),c=this.placeholder,d=this.weight;a!==d&&!1!==this.fireEventArgs("beforechangeweight",[this,a])&&(this.weight=a,c&&(c.weight=a),b&&b.updateLayout(),this.fireEventArgs("changeweight",
[this,d]));return d}},function(a){a=a.prototype;a.setBorderRegion=a.setRegion;a.setRegionWeight=a.setWeight});
Ext.define("Ext.util.CollectionKey",{mixins:[Ext.mixin.Identifiable],isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(a){this.initConfig(a)},get:function(a){return(this.map||this.getMap())[a]||null},clear:function(){this.map=null},getRootProperty:function(){var a=this.callParent();return null!==a?a:this.getCollection().getRootProperty()},indexOf:function(a,b){var c=(this.map||
this.getMap())[a],d=this.getCollection(),e=d.length,f,g,h;if(!c)return-1;void 0===b&&(b=-1);if(c instanceof Array){g=e;for(h=c.length;0<h--;)f=d.indexOf(c[h]),f<g&&f>b&&(g=f);if(g===e)return-1}else g=d.indexOf(c);return g>b?g:-1},updateKey:function(a,b){var c=this.map,d,e;c&&(d=c[b],d instanceof Array?(e=Ext.Array.indexOf(d,a),0<=e&&(2<d.length?d.splice(e,1):c[b]=d[1-e])):d&&delete c[b],this.add([a]))},onCollectionAdd:function(a,b){this.map&&this.add(b.items)},onCollectionItemChange:function(a,b){this.map=
null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(a,b){var c=this.map,d=b.items,e=d.length,f,g;if(c)if(this.getUnique()&&e<a.length/2)for(f=0;f<e;++f)g=this.getKey(d[f]),delete c[g];else this.map=null},add:function(a){var b=this.map,c,d,e,f,g,h;g=a.length;h=this.getUnique();for(d=0;d<g;++d)f=this.getKey(e=a[d]),!h&&f in b?((c=b[f])instanceof Array||(b[f]=c=[c]),c.push(e)):b[f]=e},applyKeyFn:function(a){Ext.isString(a)?this.getKey=function(b){return b[a]()}:this.getKey=
a},updateProperty:function(a){var b=this.getRootProperty();this.getKey=function(c){return(b?c[b]:c)[a]}},getMap:function(){var a=this.map;a||(this.map=a={},this.keysByItemKey={},++this.mapRebuilds,this.add(this.getCollection().items));return a},updateCollection:function(a){a.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}});
Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(a){this.callParent(arguments)},getGroupString:function(a){a=this._groupFn(a);return null!=a?String(a):""},sortFn:function(a,b){var c=this._groupFn(a),d=this._groupFn(b),e=this._sortProperty,f=this._root,g=this._sorterFn,h=this._transform;if(c===d)return 0;if(e||g){if(g)return g.call(this,a,b);f&&(a=a[f],b=b[f]);c=a[e];d=b[e];h&&(c=h(c),d=h(d))}return c>d?1:c<d?-1:0},standardGroupFn:function(a){var b=
this._root;return(b?a[b]:a)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}});
Ext.define("Ext.util.Collection",{mixins:[Ext.mixin.Observable],isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,constructor:function(a){this.items=[];this.map={};this.length=0;a&&a.keyFn&&(this.getKey=a.keyFn);
this.mixins.observable.constructor.call(this,a)},destroy:function(){var a=this._filters,b=this._sorters,c=this._groups;a&&(a.destroy(),this._filters=null);b&&(b.destroy(),this._sorters=null);c&&(c.destroy(),this._groups=null);this.setSource(null);this.observers=this.items=this.map=null;this.callParent()},add:function(a){var b=this.decodeItems(arguments,0),c=b;b.length&&(this.requestedIndex=this.length,this.splice(this.length,0,b),delete this.requestedIndex,c=1===b.length?b[0]:b);return c},replaceAll:function(){var a,
b;a=b=this.decodeItems(arguments,0);b.length?(this.splice(0,this.length,b),a=1===b.length?b[0]:b):this.removeAll();return a},aggregate:function(a,b,c,d,e){var f=Ext.Array.slice(arguments);f.unshift(this.items);return this.aggregateItems.apply(this,f)},aggregateByGroup:function(a,b,c){var d=this.getGroups();return this.aggregateGroups(d,a,b,c)},aggregateItems:function(a,b,c,d,e,f){var g=Ext.Number.clipIndices(a.length,[d,e]),h=0!==d&&e!==a.length,k,l,m,n;d=g[0];e=g[1];if(!Ext.isFunction(c))return c=
this._aggregators[c],c.call(this,a,d,e,b,this.getRootProperty());g=this.getRootProperty();m=Array(void 0);n=h?Array(void 0):a;for(k=0;d<e;++d,k++)h&&(n[k]=l=a[d]),m[k]=(g?l[g]:l)[b];return c.call(f||this,a,m,0)},aggregateGroups:function(a,b,c,d){a=a.items;var e=a.length,f=!Ext.isFunction(c),g={},h,k,l;for(h=0;h<e;++h)k=a[h],l=f?k[c](b):this.aggregateItems(k.items,b,c,null,null,d),g[k.getGroupKey()]=l;return g},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var a=
this.generation,b=a?this.items:[],c;if(a&&(this.items=[],this.length=0,this.map={},this.indices={},this.generation++,a=this.getExtraKeys()))for(c in a)a[c].clear();return b},clone:function(){var a=new this.self(this.initialConfig);a.add(this.items);return a},collect:function(a,b,c){var d=this.items,e=d.length,f={},g=[],h,k,l;for(h=0;h<e;++h)l=d[h],l=(b?l[b]:l)[a],k=String(l),!c&&Ext.isEmpty(l)||f[k]||(f[k]=1,g.push(l));return g},contains:function(a){var b=!1;null!=a&&(b=this.getKey(a),b=this.map[b]===
a);return b},containsKey:function(a){return a in this.map},createFiltered:function(a,b,c,d,e){var f=new this.self(this.initialConfig),g=this.getRootProperty(),h=this.items,k,l;if(Ext.isFunction(a))g=a,l=b;else{if(Ext.isString(a))k=[new Ext.util.Filter({property:a,value:b,root:g,anyMatch:c,caseSensitive:d,exactMatch:e})];else if(a instanceof Ext.util.Filter)k=[a],a.setRoot(g);else if(Ext.isArray(a))for(k=a.slice(0),a=0,b=k.length;a<b;++a)k[a].setRoot(g);g=Ext.util.Filter.createFilterFn(k)}l=l||this;
a=0;for(b=h.length;a<b;a++)g.call(l,h[a])&&f.add(h[a]);return f},filterBy:function(a,b){return this.createFiltered(a,b)},each:function(a,b){var c=this.items,d=c.length,e,f;if(d)for(b=b||this,c=c.slice(0),e=0;e<d&&(f=a.call(b,c[e],e,d),!1!==f);e++);return f},eachKey:function(a,b){var c=this.items,d=c.length,e,f,g;if(d)for(b=b||this,c=c.slice(0),e=0;e<d&&(g=this.getKey(f=c[e]),f=a.call(b,g,f,e,d),!1!==f);e++);return f},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(a,
b,c,d,e,f){if(Ext.isEmpty(b,!1))return null;var g=Ext.String.createRegex(b,d,e,f),h=this.getRootProperty();return this.findBy(function(b){return b&&g.test((h?b[h]:b)[a])},null,c)},findBy:function(a,b,c){var d=this.items,e=d.length,f,g;b=b||this;for(c=c||0;c<e;c++)if(g=this.getKey(f=d[c]),a.call(b,f,g))return d[c];return null},findIndex:function(a,b,c,d,e,f){return(a=this.find(a,b,c,d,e,f))?this.indexOf(a):-1},findIndexBy:function(a,b,c){return(a=this.findBy(a,b,c))?this.indexOf(a):-1},first:function(a){return(a=
a?this.getGroups():void 0)?this.aggregateGroups(a,null,"first"):this.items[0]},last:function(a){return(a=a?this.getGroups():void 0)?this.aggregateGroups(a,null,"last"):this.items[this.length-1]},get:function(a){return this.map[a]},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},getCount:function(){return this.length},getKey:function(a){var b=a.id;return 0===b||b?b:0===(b=a._id)||b?b:a.getId()},getRange:function(a,b){var c=this.items,d=c.length;d?(d=Ext.Number.clipIndices(d,
[a,b]),d=c.slice(d[0],d[1])):d=[];return d},getValues:function(a,b,c,d){var e=this.items;d=Ext.Number.clipIndices(e.length,[c,d]);c=[];var f,g;f=d[0];for(d=d[1];f<d;++f)g=e[f],g=(b?g[b]:g)[a],c.push(g);return c},indexOf:function(a){if(!a)return-1;a=this.getKey(a);return this.indexOfKey(a)},indexOfKey:function(a){var b=this.indices;return a in this.map?(b||(b=this.getIndices()),b[a]):-1},insert:function(a,b){var c=this.decodeItems(arguments,1),d=c;c.length&&(this.requestedIndex=a,this.splice(a,0,c),
delete this.requestedIndex,d=1===c.length?c[0]:c);return d},itemChanged:function(a,b,c,d){var e=0===c||!!c,f=this.filtered&&this.getAutoFilter(),g=!1,h=0,k=this.items,l=this.length-1,m=this.sorted&&0<l&&this.getAutoSort(),n=this.getSource(),p=0,q=!1,r=!1,t,u,v;n&&!n.updating?n.itemChanged(a,b,c,d):(n=this.getKey(a),f&&(u=this.indexOfKey(e?c:n),r=0>u,q=this.isItemFiltered(a),g=r!==q),g?q?(p=[a],v=-1):(t=[a],v=this.length):m&&!q&&(f||(u=this.indexOfKey(e?c:n)),f=this.getSortFn(),-1!==u&&(u&&0<f(k[u-
1],k[u])?(h=-1,v=Ext.Array.binarySearch(k,a,0,u,f)):u<l&&0<f(k[u],k[u+1])&&(h=1,v=Ext.Array.binarySearch(k,a,u+1,f)),h&&(t=[a]))),d={item:a,key:n,index:v,filterChanged:g,keyChanged:e,indexChanged:!!h,filtered:q,oldIndex:u,newIndex:v,wasFiltered:r,meta:d},e&&(d.oldKey=c),b&&(d.modified=b),this.beginUpdate(),this.notify("beforeitemchange",[d]),e&&this.updateKey(a,c),(t||p)&&this.splice(v,p,t),0<h?d.newIndex--:0>h&&d.oldIndex++,this.notify(q?"filtereditemchange":"itemchange",[d]),this.endUpdate())},
remove:function(a){var b=this.decodeRemoveItems(arguments,0),c=this.length;this.splice(0,b);return c-this.length},removeAll:function(){var a=this.length;this.generation&&a&&this.splice(0,a);return this},removeAt:function(a,b){var c=this.length,d=Ext.Number,e=d.clipIndices(c,[a,void 0===b?1:b],d.Clip.COUNT),d=e[0],f=e[1]-d,e=1===f&&this.getAt(d);this.splice(d,f);c=this.length-c;return e&&c?e:c},removeByKey:function(a){return(a=this.getByKey(a))&&this.remove(a)?a:!1},replace:function(a){var b=this.indexOf(a);
-1===b?this.add(a):this.insert(b,a)},splice:function(a,b,c){var d=this.sorted&&this.getAutoSort(),e=this.map,f=this.items,g=this.length,h=b instanceof Array?this.decodeRemoveItems(b):null,k=!h,l=Ext.Number,m=l.clipIndices(g,[a,k?b:0],l.Clip.COUNT),l=m[0],n=m[1],m=n-l,p=this.decodeItems(arguments,2),q=p?p.length:0,r,t,u=l,v=this.indices||(q||h?this.getIndices():null);t=null;var w=m?[l]:null,y=null,x=this.getSource(),z,A,C,B,H,D;if(x&&!x.updating){if(k)for(h=[],k=0;k<m;++k)h.push(f[l+k]);k=l<g?x.indexOf(f[l]):
x.length;x.splice(k,h,p);return this}if(q){r=p;y=[];t={};d&&(D=this.getSorters(),1<q&&(r.$cloned||(p=r=r.slice(0)),this.sortData(r)));for(k=0;k<q;++k)x=this.getKey(p[k]),void 0!==(C=t[x])?(A||(A={}))[C]=1:(B=v[x],(B<l||n<=B)&&(w||(w=[])).push(B)),t[x]=k,y.push(x);if(A){H=y;r=[];y=[];r.$cloned=!0;for(k=0;k<q;++k)A[k]||(C=p[k],r.push(C),y.push(H[k]));q=r.length}t={items:r,keys:y}}for(k=h?h.length:0;0<k--;)x=this.getKey(h[k]),void 0!==(B=v[x])&&(w||(w=[])).push(B);if(!t&&!w)return this;this.beginUpdate();
if(w){h=null;A=[];n={};1<w.length&&w.sort(Ext.Array.numericSortFn);k=0;for(p=w.length;k<p;++k)if(x=this.getKey(C=f[B=w[k]]),x in e){delete e[x];if(!h||B>h.at+z.length)A.push(h={at:B,items:z=[],keys:H=[],map:n,next:h,replacement:t}),t&&(t.replaced=h);z.push(n[x]=C);H.push(x);B<u&&--u;1<m&&B===l&&(--m,w[k--]=++l)}t&&(t.at=u);for(C=A.length;0<C--;){h=A[C];k=h.at;p=h.items.length;k+p<g&&(this.indices=v=null);this.length=g-=p;f.splice(k,p);if(v)for(H=h.keys,k=0;k<p;++k)delete v[H[k]];++this.generation;
this.notify("remove",[h])}}if(t)if(d&&1<q&&g)this.spliceMerge(r,y);else{d&&(1<q?(u=0,this.indices=null):u=D.findInsertionIndex(t.items[0],f,this.getSortFn()));if(u===g){n=u;for(k=r.length-1;0<=k;--k)f[n+k]=r[k];if(v=this.indices)for(k=0;k<q;++k)v[y[k]]=u+k}else this.indices=null,Ext.Array.insert(f,u,r);for(k=0;k<q;++k)e[y[k]]=r[k];this.length+=q;t.at=u;t.atItem=0===u?null:f[u-1];++this.generation;this.notify("add",[t])}this.endUpdate();return this},update:function(a,b){this.beginUpdate();try{return a.call(b||
this,this)}catch(c){throw c;}finally{this.endUpdate()}},updateKey:function(a,b){var c=this.map,d=this.indices,e=this.getSource(),f;e&&!e.updating?e.updateKey(a,b):(f=this.getKey(a))===b||c[b]!==a||f in c||(delete c[b],this.updating++,this.generation++,c[f]=a,d&&(d[f]=d[b],delete d[b]),this.notify("updatekey",[{item:a,newKey:f,oldKey:b}]),this.updating--)},findInsertIndex:function(a){var b=this.getSource(),c=b.items;for(a=b.indexOf(a)-1;-1<a;){b=c[a];b=this.indexOf(b);if(-1<b)return b+1;--a}return 0},
onCollectionAdd:function(a,b){var c=b.atItem,d=b.items,e=this.requestedIndex,f,g,h,k;this.sorted||(void 0!==e?g=e:c?(g=this.indexOf(c),-1===g?g=this.findInsertIndex(d[0]):++g):g=0);if(this.getAutoFilter()&&this.filtered)for(c=0,k=d.length;c<k;++c)e=d[c],this.isItemFiltered(e)?(h||(h=d.slice(0,c)),f||(f=[]),f.push(e)):h&&h.push(e);this.splice(0>g?this.length:g,0,h||d);f&&this.notify("filteradd",[f])},onCollectionBeforeItemChange:function(a,b){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},
onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(a,b){delete this.onCollectionUpdateKey;this.itemChanged(b.item,b.modified,b.oldKey,b.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(a){var b={},c={},d,e,f,g;e=a.items;e=this.filtered&&this.getAutoFilter()?Ext.Array.filter(e,this.getFilterFn()):e.slice(0);this.sorted&&this.sortData(e);this.items=e;this.length=g=e.length;this.map=b;this.indices=c;for(a=0;a<g;++a)f=this.getKey(d=e[a]),b[f]=d,c[f]=
a;this.notify("refresh")},onCollectionRemove:function(a,b){this.splice(0,b.items)},onCollectionUpdateKey:function(a,b){this.updateKey(b.item,b.oldKey)},_aggregators:{average:function(a,b,c,d,e){var f=c-b;return f&&this._aggregators.sum.call(this,a,b,c,d,e)/f},bounds:function(a,b,c,d,e){for(var f,g,h=b;h<c;++h)b=a[h],b=(e?b[e]:b)[d],b<f||(f=b),b>g||(g=b);return[g,f]},count:function(a){return a.length},extremes:function(a,b,c,d,e){for(var f=null,g=null,h,k,l,m;b<c;++b)h=a[b],m=(e?h[e]:h)[d],m<k||(k=
m,f=h),m>l||(l=m,g=h);return[g,f]},max:function(a,b,c,d,e){return this._aggregators.bounds.call(this,a,b,c,d,e)[1]},maxItem:function(a,b,c,d,e){return this._aggregators.extremes.call(this,a,b,c,d,e)[1]},min:function(a,b,c,d,e){return this._aggregators.bounds.call(this,a,b,c,d,e)[0]},minItem:function(a,b,c,d,e){return this._aggregators.extremes.call(this,a,b,c,d,e)[0]},sum:function(a,b,c,d,e){for(var f=0,g=b;g<c;++g)b=a[g],b=(e?b[e]:b)[d],f+=b;return f}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",
beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(a){var b=this.observers;b||(this.observers=b=[]);b.push(a);1<b.length&&Ext.Array.sort(b,this.prioritySortFn)},
prioritySortFn:function(a,b){return(a.observerPriority||0)-(b.observerPriority||0)},applyExtraKeys:function(a,b){var c=b||{},d,e,f;for(e in a)f=a[e],f.isCollectionKey?f.setCollection(this):(d={collection:this},Ext.isString(f)?d.property=f:d=Ext.apply(d,f),f=new Ext.util.CollectionKey(d)),c[e]=this[e]=f,f.name=e;return c},applyGrouper:function(a){a&&(a=this.getSorters().decodeSorter(a,"Ext.util.Grouper"));return a},decodeItems:function(a,b){var c=void 0===b?a:a[b],d,e,f;if(!c||!c.$cloned){if(d=a.length>
b+1||!Ext.isIterable(c))c=Ext.Array.slice(a,b),1===c.length&&void 0===c[0]&&(c.length=0);if(e=this.getDecoder())for(d||(c=c.slice(0),d=!0),f=c.length;0<f--;)!1===(c[f]=e.call(this,c[f]))&&c.splice(f,1);d&&(c.$cloned=!0)}return c},getIndices:function(){var a=this.indices,b=this.items,c=b.length,d,e;if(!a)for(this.indices=a={},++this.indexRebuilds,d=0;d<c;++d)e=this.getKey(b[d]),a[e]=d;return a},notify:function(a,b){var c=this.observers,d=this._eventToMethodMap[a],e=0,f,g,h,k;b=b||[];if(c&&d)for(f=
0,g=c.length;f<g;++f)if(h=(k=c[f])[d])e++||b.unshift(this),h.apply(k,b);this.hasListeners&&this.hasListeners[a]&&(e||b.unshift(this),this.fireEventArgs(a,b))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(a){var b=this._filters;b||!1===a||(b=new Ext.util.FilterCollection,this.setFilters(b));return b},isItemFiltered:function(a){return!this.getFilters().filterFn(a)},onFilterChange:function(a){a=this.getSource();var b,c;if(!a){if(a=this.getExtraKeys())for(c in b=
{},a)b[c]=a[c].clone(this);a=new Ext.util.Collection({keyFn:this.getKey,extraKeys:b,rootProperty:this.getRootProperty()});this.length&&a.add(this.items);this.setSource(a);this.autoSource=a}else if(a.length||this.length)this.onCollectionRefresh(a);this.notify("filter")},applyFilters:function(a,b){if(null==a||a&&a.isFilterCollection)return a;a&&(b||(b=this.getFilters()),b.splice(0,b.length,a));return b},updateFilters:function(a,b){b&&b.un("endupdate","onEndUpdateFilters",this);a&&(a.on({endupdate:"onEndUpdateFilters",
scope:this,priority:this.$endUpdatePriority}),a.$filterable=this);this.onEndUpdateFilters(a)},onEndUpdateFilters:function(a){var b=!!a&&0<a.length;if(this.filtered||b)this.filtered=b,this.onFilterChange(a)},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(a){var b=this._sorters;b||!1===a||(b=new Ext.util.SorterCollection,this.setSorters(b));return b},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(a,b,c){var d=this.getSorters();d.addSort.apply(d,
arguments);return this},sortData:function(a){Ext.Array.sort(a,this.getSortFn());return a},sortItems:function(a){this.sorted&&(a=this.getSortFn());this.indices=null;this.notify("beforesort",[this.getSorters(!1)]);this.length&&Ext.Array.sort(this.items,a);this.notify("sort")},sortBy:function(a){return this.sortItems(a)},findInsertionIndex:function(a,b,c){b||(b=this.items);c||(c=this.getSortFn());return Ext.Array.binarySearch(b,a,c)},applySorters:function(a,b){if(null==a||a&&a.isSorterCollection)return a;
a&&(b||(b=this.getSorters()),b.splice(0,b.length,a));return b},createSortFn:function(){var a=this.getGrouper(),b=this.getSorters(!1),c=b?b.getSortFn():null;return a?function(b,e){var f=a.sort(b,e);!f&&c&&(f=c(b,e));return f}:c},updateGrouper:function(a){var b=this.getGroups(),c=this.getSorters(),d;this.onSorterChange();this.grouped=!!a;a?this.getTrackGroups()&&(b||(b=new Ext.util.GroupCollection({itemRoot:this.getRootProperty()}),b.$groupable=this,this.setGroups(b)),b.setGrouper(a),d=!0):(b&&(this.removeObserver(b),
b.destroy()),this.setGroups(null));if(!c.updating)this.onEndUpdateSorters(c);if(d)b.onCollectionRefresh(this)},updateSorters:function(a,b){b&&b.un("endupdate","onEndUpdateSorters",this);a&&(a.on({endupdate:"onEndUpdateSorters",scope:this,priority:this.$endUpdatePriority}),a.$sortable=this);this.onSorterChange();this.onEndUpdateSorters(a)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(a){var b=this.sorted,c=this.grouped&&this.getAutoGroup()||a&&0<a.length;if(b||c)this.sorted=
!!c,this.onSortChange(a)},removeObserver:function(a){var b=this.observers;b&&Ext.Array.remove(b,a)},spliceMerge:function(a,b){var c=this.map,d=a.length,e=0,f=this.items,g=f.length,h=[],k=0,l=[],m=this.getSortFn(),n,p,q,r;this.items=l;for(p=0;p<d;){for(q=a[p];e<g&&!(0>m(q,r=f[e]));++e)l.push(r);if(e===g){h[k++]={at:l.length,itemAt:l[l.length-1],items:n=[]};1<k&&(h[k-2].next=h[k-1]);for(;p<d;++p)n.push(q=a[p]),l.push(q);break}h[k++]={at:l.length,itemAt:l[l.length-1],items:n=[q]};1<k&&(h[k-2].next=h[k-
1]);l.push(q);for(p+=1;p<d&&!(0<=m(q=a[p],r));++p)l.push(q),n.push(q)}for(;e<g;++e)l.push(f[e]);for(e=0;e<d;++e)c[b[e]]=a[e];this.length=l.length;++this.generation;this.indices=null;for(e=0;e<k;++e)this.notify("add",[h[e]])},getGroups:function(){return this.callParent()||null},updateAutoGroup:function(a){var b=this.getGroups();b&&b.setAutoGroup(a);this.onEndUpdateSorters(this._sorters)},updateGroups:function(a,b){b&&this.removeObserver(b);a&&this.addObserver(a)},updateSource:function(a,b){var c=this.autoSource;
b&&(b.removeObserver(this),b===c&&(c.destroy(),this.autoSource=null));if(a&&(a.addObserver(this),a.length||this.length))this.onCollectionRefresh(a)}},function(){var a=this.prototype;a.removeAtKey=a.removeByKey;a.decodeRemoveItems=a.decodeItems;Ext.Object.each(a._aggregators,function(b){a[b]=function(a,d,e){return this.aggregate(a,b,d,e)};a[b+"ByGroup"]=function(a){return this.aggregateByGroup(a,b)}})});
Ext.define("Ext.util.ObjectTemplate",{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(a,b){return a.isObjectTemplate?a:new Ext.util.ObjectTemplate(a,b)}},constructor:function(a,b){Ext.apply(this,b);this.template=a},apply:function(a){delete this.apply;this.apply=this.compile(this.template);return this.apply(a)},privates:{compile:function(a){var b=this.excludeProperties,c,d,e;if(Ext.isString(a))0>a.indexOf("{")?d=function(){return a}:this.valueRe.test(a)?
(a=a.substring(1,a.length-1).split("."),d=function(b){for(var c=0;b&&c<a.length;++c)b=b[a[c]];return b}):(a=new Ext.XTemplate(a),d=function(b){return a.apply(b)});else if(!a||Ext.isPrimitive(a)||Ext.isFunction(a))d=function(){return a};else if(a instanceof Array){c=[];d=0;for(e=a.length;d<e;++d)c[d]=this.compile(a[d]);d=function(a){var b=[],d;for(d=0;d<e;++d)b[d]=c[d](a);return b}}else{c={};for(d in a)b[d]||(c[d]=this.compile(a[d]));d=function(d){var e={},h,k;for(h in a)k=b[h]?a[h]:c[h](d),void 0!==
k&&(e[h]=k);return e}}return d}}});
Ext.define("Ext.data.schema.Role",{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(a,b){var c=b.extra;Ext.apply(this,b);c&&(delete c.type,Ext.apply(this,c),delete this.extra);this.association=a;a.owner===this.side&&(a.owner=this,this.owner=!0)},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(a,b,c,d){return c},
checkMembership:Ext.emptyFn,adoptAssociated:function(a,b){var c=this.getAssociatedItem(a);c&&b.adopt(c)},createAssociationStore:function(a,b,c,d){var e=this.association,f=e.getFieldName(),e=e.isManyToMany,g=this.storeConfig,h=b.getId();b={asynchronousLoad:!1,model:this.cls,role:this,session:a,associatedEntity:b,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!a};e?b.filters=[{property:this.inverse.field,value:h,exactMatch:!0}]:f&&(b.filters=[{property:f,value:h,exactMatch:!0}],
b.foreignKeyName=f);g&&Ext.apply(b,g);b=Ext.Factory.store(b);this.onStoreCreate(b,a,h);if(f||e&&a)b.on({scope:this,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"});c&&(b.loadData(c),b.complete=!!d);return b},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(a,b,c,d,e){var f=this.getStoreName(),g=a[f],h=a.session,k=b&&b.reload,l=a.$source,m=!1,n,p,q,r;if(!g){if(h){if(!d&&l&&(l=l[f])&&!l.isLoading()){r=l;d=[];n=l.getData().items;g=0;for(m=n.length;g<m;++g)q=n[g],d.push(h.getRecord(q.self,
q.id));m=!!l.complete;n=!0}n||(l=!!d,d=this.findRecords(h,a,d,e),l||d&&d.length||(d=null),m=l)}else m=!!(d&&0<d.length);g=this.createAssociationStore(h,a,d,m);g.$source=r;d||!this.autoLoad&&!b||(k=!0);a[f]=g}if(b)if(k||g.isLoading())g.on("load",function(d,e,f,g){p=[d,g];c=c||b.scope||a;f?Ext.callback(b.success,c,p):Ext.callback(b.failure,c,p);p.push(f);Ext.callback(b,c,p);Ext.callback(b.callback,c,p)},null,{single:!0});else p=[g,null],c=c||b.scope||a,Ext.callback(b.success,c,p),p.push(!0),Ext.callback(b,
c,p),Ext.callback(b.callback,c,p);k&&!g.isLoading()&&g.load();return g},getAssociatedItem:function(a){var b=this.isMany?this.getStoreName():this.getInstanceName();return a[b]||null},onDrop:Ext.emptyFn,getReaderRoot:function(){return this.associationKey||(this.associationKey=this.association.schema.getNamer().readerRoot(this.role))},getReader:function(){var a=this.reader,b=this.cls,c=!this.associationKey,d=this.getReaderRoot();a&&!a.isReader&&(Ext.isString(a)&&(a={type:a}),Ext.applyIf(a,{model:b,rootProperty:d,
useSimpleAccessors:c,type:this.defaultReaderType}),a=this.reader=Ext.createByAlias("reader."+a.type,a));return a},getInstanceName:function(){return this.instanceName||(this.instanceName=this.association.schema.getNamer().instanceName(this.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){return this.storeName||(this.storeName=this.association.schema.getNamer().storeName(this.role))},constructReader:function(a){var b=
this.getReader(),c=this.cls,d=!this.associationKey,e=this.getReaderRoot();b||((b=c.getProxy())?(a=b.getReader(),b=new a.self,b.copyFrom(a),b.setRootProperty(e)):b=new a.self({model:c,useSimpleAccessors:d,rootProperty:e}),this.reader=b);return b},read:function(a,b,c,d){a=this.constructReader(c);if(b=a.getRoot(b))return a.readRecords(b,d,this._internalReadOptions)},getCallbackOptions:function(a,b,c){"function"===typeof a?a={callback:a,scope:b||c}:a&&(a=Ext.apply({},a),a.scope=b||a.scope||c);return a},
doGetFK:function(a,b,c){var d=this.cls,e=this.association.getFieldName(),f=this.getInstanceName(),g=a[f],h=b&&b.reload,k=void 0!==g&&!h,l=a.session;k?g&&(k=!g.isLoading()):l?(e=a.get(e))||0===e?(k=l.peekRecord(d,e,!0)&&!h,g=l.getRecord(d,e,!1)):(k=!0,a[f]=g=null):e?(e=a.get(e))||0===e?g||(g=d.createWithId(e)):(k=!0,a[f]=g=null):k=!0;k?b&&(d=[g,null],c=c||b.scope||a,Ext.callback(b.success,c,d),d.push(!0),Ext.callback(b,c,d),Ext.callback(b.callback,c,d)):(a[f]=g,b=this.getCallbackOptions(b,c,a),g.load(b));
return g},doSetFK:function(a,b,c,d){var e=this.association.getFieldName(),f=this.getInstanceName(),g=a[f],h=this.inverse,k=h.setterName,l;if(b&&b.isEntity){if(g!==b&&(l=this.getOldInstanceName(),a[l]=g,a[f]=b,g&&g.isEntity&&(g[h.getInstanceName()]=void 0),e&&a.set(e,b.getId()),delete a[l],k))b[k](a)}else(e=a.changingKey&&!h.isMany||a.set(e,b))&&g&&g.isEntity&&!g.isEqual(g.getId(),b)&&(a[f]=void 0,h.isMany||(g[h.getInstanceName()]=void 0));if(c)return Ext.isFunction(c)&&(c={callback:c,scope:d||a}),
a.save(c)}});Ext.define("Ext.data.schema.Association",{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(a){var b;Ext.apply(this,a);this.left=a=new this.Left(this,this.left);this.right=b=new this.Right(this,this.right);a.inverse=b;b.inverse=a},hasField:function(){return!!this.field},getFieldName:function(){var a=this.field;return a?a.name:""}});
Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,
"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,
"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:"sheep fish series species money rice information equipment grass mud offspring deer means".split(" "),singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return-1!=
Ext.Array.indexOf(this.uncountable,a)},pluralize:function(a){if(this.isTransnumeral(a))return a;var b=this.plurals,c=b.length,d,e,f;for(f=0;f<c;f++)if(d=b[f],e=d[0],e==a||e.test&&e.test(a))return a.replace(e,d[1]);return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b=this.singulars,c=b.length,d,e,f;for(f=0;f<c;f++)if(d=b[f],e=d[0],e==a||e.test&&e.test(a))return a.replace(e,d[1]);return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=
parseInt(a,10),c=b%100;if(11<=c&&13>=c)return a+"th";switch(b%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",
genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a)a.hasOwnProperty(b)&&(this.plural(b,a[b]),this.singular(a[b],b))});
Ext.define("Ext.data.schema.Namer",{mixins:[Ext.mixin.Factoryable],alias:"namer.default",isNamer:!0,capitalize:function(a){return Ext.String.capitalize(a)},fieldRole:function(a){var b=a.match(this.endsWithIdRe,"");b&&(a=a.substr(0,a.length-(b[1]||b[2]).length));return this.apply("uncapitalize",a)},idField:function(a){return this.apply("uncapitalize,singularize",a)+"Id"},instanceName:function(a){return this.apply("underscore",a)},multiRole:function(a){return this.apply("undotted,uncapitalize,pluralize",
a)},pluralize:function(a){return Ext.util.Inflector.pluralize(a)},readerRoot:function(a){return this.apply("uncapitalize",a)},singularize:function(a){return Ext.util.Inflector.singularize(a)},storeName:function(a){return this.apply("underscore",a)},uncapitalize:function(a){return Ext.String.uncapitalize(a)},underscore:function(a){return"_"+a},uniRole:function(a){return this.apply("undotted,uncapitalize,singularize",a)},undotted:function(a){if(0>a.indexOf("."))return a;a=a.split(".");for(var b=a.length;1<
b--;)a[b]=this.apply("capitalize",a[b]);return a.join("")},getterName:function(a){var b=a.role;return a&&a.isMany?b:"get"+this.apply("capitalize",b)},inverseFieldRole:function(a,b,c,d){a=this.apply(b?"uniRole":"multiRole",a);b=this.apply("pluralize",c);d=this.apply("undotted,pluralize",d);b.toLowerCase()!==d.toLowerCase()&&(a=c+this.apply("capitalize",a));return a},manyToMany:function(a,b,c){b=this.apply("undotted,capitalize,singularize",b)+this.apply("undotted,capitalize,pluralize",c);a&&(b=this.apply("capitalize",
a+b));return b},manyToOne:function(a,b,c,d){return this.apply("capitalize,singularize",c)+this.apply("capitalize",b)},matrixRole:function(a,b){var c=this.apply(a?"multiRole,capitalize":"multiRole",b);return a?a+c:c},oneToOne:function(a,b,c,d){return this.apply("undotted,capitalize,singularize",c)+this.apply("capitalize",b)},setterName:function(a){return"set"+this.apply("capitalize",a.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(a,b){var c=this.cache,c=c[b]||(c[b]={}),d=c[a],
e,f,g;if(!d){if(0>a.indexOf(","))d=this[a](b);else for(f=(g=a.split(",")).length,d=b,e=0;e<f;++e)d=this.apply(g[e],d);c[a]=d}return d}});
Ext.define("Ext.data.schema.Schema",{mixins:[Ext.mixin.Factoryable],alias:"schema.default",aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},get:function(a){var b=this.instances,c="default",d=a&&Ext.isString(a),e;if(a){if(a.isSchema)return a;c=d?a:a.id||c}(e=b[c])?a&&!d&&(b=Ext.merge({},e.config),Ext.merge(b,a),e.setConfig(b),e.config=b):(b[c]=e=this.create(a),e.id=c);return e},lookupEntity:function(a){var b=null,c=this.instances,d,e;if(a)if(a.isEntity)b=a.self;else if(Ext.isFunction(a))b=
a;else if(Ext.isString(a)){b=Ext.ClassManager.get(a);!b||b.prototype&&b.prototype.isEntity||(b=null);if(!b)for(e in c)if(d=c[e],d=d.getEntity(a))b&&Ext.raise('Ambiguous entity name "'+a+'". Defined by schema "'+b.schema.type+'" and "'+e+'"'),b=d;b||Ext.raise('No such Entity "'+a+'".')}return b}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(a,b){var c=
b.alias;c&&!b.type&&(Ext.isString(c)||(c=c[0]),a.prototype.type=c.substring(this.prototype.aliasPrefix.length))},constructor:function(a){this.initConfig(a);this.clear()},applyDefaultIdentifier:function(a){return a&&Ext.Factory.dataIdentifier(a)},applyNamer:function(a){a=Ext.data.schema.Namer.create(a);a.schema=this;return a},applyNamespace:function(a){a&&"."!==a.charAt(a.length-1)&&(a+=".");return a},applyProxy:function(a){return Ext.util.ObjectTemplate.create(a)},eachAssociation:function(a,b){var c=
this.associations,d;for(d in c)if(c.hasOwnProperty(d)&&!1===a.call(b,d,c[d]))break},eachEntity:function(a,b){var c=this.entities,d;for(d in c)if(c.hasOwnProperty(d)&&!1===a.call(b,d,c[d].cls))break},getAssociation:function(a){return this.associations[a]||null},getEntity:function(a){return(a=this.entityClasses[a]||this.entities[a])&&a.cls||null},getEntityName:function(a){var b=this.getNamespace(),c;if(a="string"===typeof a?a:a.$className||null){if(b&&(c=b.length,a.substring(0,c)!==b))return a;c&&(a=
a.substring(c))}return a},hasAssociations:function(a){a=a.entityName||a;return!!this.associationEntityMap[a]},hasEntity:function(a){a=this.getEntityName(a);return!(!this.entities[a]&&!this.entityClasses[a])},addMatrix:function(a,b,c,d,e){var f=this.getNamer(),g=this.associations,h=this.entities,k=d.type,l=e.type,m=d.field||f.apply("idField",k),n=e.field||f.apply("idField",l),p=d.role||f.matrixRole(c,k),f=e.role||f.matrixRole(c,l);c=h[k]||(h[k]={cls:null,name:k,associations:{}});h=h[l]||(h[l]={cls:null,
name:l,associations:{}});++this.assocCount;g[b]=a=new Ext.data.schema.ManyToMany({name:b,schema:this,definedBy:a,left:{cls:c.cls,type:k,role:p,field:m,associationKey:d.associationKey},right:{cls:h.cls,type:l,role:f,field:n,associationKey:e.associationKey}});c.associations[a.right.role]=a.right;h.associations[a.left.role]=a.left;c.cls&&(this.associationEntityMap[c.cls.entityName]=!0);h.cls&&(this.associationEntityMap[h.cls.entityName]=!0);this.decorateModel(a)},addReference:function(a,b,c,d){var e=
this.getNamer(),f=this.entities,g=this.associations,h=a.entityName,k=c.association,l=!!c.legacy,m=c.child,n=c.parent,p=c.role,q=c.type||n||m,r=c.inverse,t=(r=Ext.isString(r)?{role:r}:r)&&r.role;p||(p=l?e.apply("uncapitalize",q):e.apply("fieldRole",b.name));t||(t=e.inverseFieldRole(h,d,p,q));k||(k=d?e.oneToOne(a,t,q,p):e.manyToOne(a,t,q,p));e=f[q]||(f[q]={cls:null,name:q,associations:{}});k=new (d?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne)({name:k,owner:m?"left":n?"right":null,definedBy:a,
schema:this,field:b,nullable:b?!!b.allowBlank:!0,legacy:c.legacy,left:{cls:a,type:h,role:t,extra:r},right:{cls:e.cls,type:q,role:p,extra:c}});a.associations[p]=k.right;e.associations[t]=k.left;b&&(b.reference=k.right,a.references.push(b));++this.assocCount;this.associationEntityMap[h]=!0;e.cls&&(this.associationEntityMap[e.cls.entityName]=!0);g[k.name]=k;k.right.cls&&this.decorateModel(k)},privates:{addEntity:function(a){var b=this.entities,c=a.entityName,d=b[c],e=a.fields,f;if(d)for(f in b=d.associations,
b)b[f].inverse.cls=a,this.associationEntityMap[c]=!0,this.decorateModel(b[f].association);else b[c]=d={name:c,associations:{}};d.cls=a;a.prototype.associations=a.associations=d.associations;this.entityClasses[a.$className]=d;++this.entityCount;d=0;for(f=e.length;d<f;++d)c=e[d],c.reference&&this.addReferenceDescr(a,c)},addMatrices:function(a,b){var c,d;if(Ext.isString(b))this.addMatrixDescr(a,null,b);else if(b[0])for(c=0,d=b.length;c<d;++c)this.addMatrixDescr(a,null,b[c]);else for(c in b)this.addMatrixDescr(a,
c,b[c])},addMatrixDescr:function(a,b,c){var d=a.entityName,e=this.associations,f=this.getNamer(),g=c.left,h=c.right,k;Ext.isString(c)?"#"===c.charAt(0)?(g={type:d},h={type:c.substring(1)}):"#"===c.charAt(g=c.length-1)?(g={type:c.substring(0,g)},h={type:d}):f.apply("multiRole",d)<f.apply("multiRole",c)?(g={type:d},h={type:c}):(g={type:c},h={type:d}):(k=c.relation,g||!h&&f.apply("multiRole",d)<f.apply("multiRole",c.type)?(g=g&&!0!==g?Ext.apply({type:d},g):{type:d},h=c):(h=h&&!0!==h?Ext.apply({type:d},
h):{type:d},g=c));b||(b=f.manyToMany(k,g.type,h.type));b in e||this.addMatrix(a,b,k,g,h)},addReferenceDescr:function(a,b){var c=b.$reference,c=Ext.isString(c)?{type:c}:Ext.apply({},c);c.legacy?c.single?this.addLegacySingle(a,c):this.addLegacyHasMany(a,c):this.addReference(a,b,c,b.unique)},addPending:function(a,b,c,d){var e=this.pending;e[a]||(e[a]=[]);e[a].push([b,c,d])},addLegacyBelongsTo:function(a,b){this.addLegacySingle(a,b)},addLegacyHasOne:function(a,b){this.addLegacySingle(a,b)},addLegacySingle:function(a,
b){var c;b=this.constructLegacyAssociation(a,b);b.single=!0;c=b.type;c=b.foreignKey||c.toLowerCase()+"_id";if(c=a.getField(c))c.$reference=b;this.addReference(a,c,b,!0)},addLegacyHasMany:function(a,b){var c=this.entities,d=this.pending,e=b.associationKey,f;b=this.constructLegacyAssociation(a,b);f=b.type;if((c=c[f])&&c.cls){b.type=a.entityName;f=b.foreignKey||b.type.toLowerCase()+"_id";d=c.cls;f=d.getField(f);b.inverse=b||{};if((c=b.name)||e)c&&(b.inverse.role=c),e&&(b.inverse.associationKey=e);f&&
(f.$reference=b);this.addReference(d,f,b,!1)}else d[f]||(d[f]=[]),d[f].push([a,b])},constructLegacyAssociation:function(a,b){Ext.isString(b)&&(b={model:b});b.legacy=!0;b.type=this.getEntityName(b.model);var c=b.associatedName||b.name;c&&(b.role=c);return b},afterLegacyAssociations:function(a){var b=this.pending;a=a.entityName;var c=b[a],d,e;if(c){d=0;for(e=c.length;d<e;++d)this.addLegacyHasMany.apply(this,c[d]);delete b[a]}},clear:function(a){var b=this.timer;delete this.setConfig;b&&(window.clearTimeout(b),
this.timer=null);this.associations={};this.associationEntityMap={};this.entities={};this.entityClasses={};this.pending={};this.assocCount=this.entityCount=0;a&&this.setNamespace(null)},constructProxy:function(a){a=Ext.Object.chain(a);var b=this.getProxy();a.schema=this;a.prefix=this.getUrlPrefix();return b.apply(a)},applyDecoration:function(a){var b=a.inverse.cls,c=this.getNamer(),d;b&&!a.decorated&&(a.decorated=!0,b=b.prototype,(d=a.getterName)||(a.getterName=d=c.getterName(a)),b[d]=a.createGetter(),
a.createSetter&&((d=a.setterName)||(a.setterName=d=c.setterName(a)),b[d]=a.createSetter()))},decorateModel:function(a){this.applyDecoration(a.left);this.applyDecoration(a.right)},processKeyChecks:function(a){var b=this.keyCheckQueue,c=this.timer,d,e;c&&(window.clearTimeout(c),this.timer=null);if(b){do for(b=this.keyCheckQueue,this.keyCheckQueue=[],d=0,c=b.length;d<c;++d)e=b[d],e.role.checkKeyForDrop(e.record);while(a&&this.keyCheckQueue.length)}},queueKeyCheck:function(a,b){var c=this.keyCheckQueue,
d=this.timer;c||(this.keyCheckQueue=c=[]);c.push({record:a,role:b});d||(this.timer=Ext.Function.defer(this.processKeyChecks,this.getKeyCheckDelay(),this))},rankEntities:function(){var a=this.entities,b=Ext.Object.getKeys(a),c=b.length,d,e;this.nextRank=1;b.sort();for(e=0;e<c;++e)d=a[b[e]].cls,d.rank||this.rankEntity(d)},rankEntity:function(a){var b=a.associations,c,d;for(d in b)c=b[d],!c.left&&c.association.field&&(c=c.cls,c.rank||this.rankEntity(c));a.rank=this.nextRank++}}});
Ext.define("Ext.data.AbstractStore",{mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},groupField:void 0,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:!1,isStore:!0,updating:0,constructor:function(a){var b;this.isInitializing=!0;this.mixins.observable.constructor.call(this,
a);this.isInitializing=!1;b=this.getStoreId();!b&&a&&a.id&&this.setStoreId(b=a.id);b&&Ext.data.StoreManager.register(this)},getCount:function(){return this.getData().getCount()},rangeCached:function(a,b){return this.getData().getCount()>=Math.max(a,b)},find:function(a,b,c,d,e,f){d=!d;f=!(!d||!f);return this.getData().findIndex(a,b,c,d,f,!e)},findRecord:function(){var a=this.find.apply(this,arguments);return-1!==a?this.getAt(a):null},findExact:function(a,b,c){return this.getData().findIndexBy(function(c){return c.isEqual(c.get(a),
b)},this,c)},findBy:function(a,b,c){return this.getData().findIndexBy(a,b,c)},getAt:function(a){return this.getData().getAt(a)||null},getRange:function(a,b,c){var d=this.getData().getRange(a,Ext.isNumber(b)?b+1:b);c&&c.callback&&c.callback.call(c.scope||this,d,a,b,c);return d},getFilters:function(a){var b=this.callParent();b||!1===a||(this.setFilters([]),b=this.callParent());return b},applyFilters:function(a,b){var c;b||(b=this.createFiltersCollection(),c=!0);b.add(a);if(c)this.onRemoteFilterSet(b,
this.getRemoteFilter());return b},getSorters:function(a){var b=this.callParent();b||!1===a||(this.setSorters([]),b=this.callParent());return b},applySorters:function(a,b){var c;b||(b=this.createSortersCollection(),c=!0);b.add(a);if(c)this.onRemoteSortSet(b,this.getRemoteSort());return b},filter:function(a,b,c){Ext.isString(a)&&(a={property:a,value:b});this.suppressNextFilter=!!c;this.getFilters().add(a);this.suppressNextFilter=!1},removeFilter:function(a,b){var c=this.getFilters();this.suppressNextFilter=
!!b;a instanceof Ext.util.Filter?c.remove(a):c.removeByKey(a);this.suppressNextFilter=!1},updateRemoteSort:function(a){this.onRemoteSortSet(this.getSorters(!1),a)},updateRemoteFilter:function(a){this.onRemoteFilterSet(this.getFilters(!1),a)},addFilter:function(a,b){this.suppressNextFilter=!!b;this.getFilters().add(a);this.suppressNextFilter=!1},filterBy:function(a,b){this.getFilters().add({filterFn:a,scope:b||this})},clearFilter:function(a){var b=this.getFilters(!1);b&&0!==b.getCount()&&(this.suppressNextFilter=
!!a,b.removeAll(),this.suppressNextFilter=!1)},isFiltered:function(){return 0<this.getFilters().getCount()},isSorted:function(){var a=this.getSorters(!1);return!!(a&&0<a.length)||this.isGrouped()},addFieldTransform:function(a){if(!a.getTransform()){var b=a.getProperty(),c=this.getModel(),d;c&&(d=(b=c.getField(b))?b.getSortType():null);d&&d!==Ext.identityFn&&a.setTransform(d)}},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&
(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var a=[],b=this.getFilters(),c=this.getGrouper(),d,e,f;this.getSorters().each(function(b){a[a.length]=b.getState();e=!0});this.statefulFilters&&this.saveStatefulFilters&&(e=!0,d=[],b.each(function(a){d[d.length]=a.getState()}));c&&(e=!0);e&&(f={},a.length&&(f.sorters=a),d&&(f.filters=d),c&&(f.grouper=c.getState()));return f},applyState:function(a){var b=a.sorters,c=a.filters;a=a.grouper;b&&this.getSorters().replaceAll(b);c&&(this.saveStatefulFilters=
!0,this.getFilters().replaceAll(c));a&&this.setGrouper(a)},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){this.getStoreId()&&Ext.data.StoreManager.unregister(this);this.callParent();this.onDestroy()},sort:function(a,b,c){0===arguments.length?this.getRemoteSort()?this.load():this.forceLocalSort():this.getSorters().addSort(a,b,c)},onBeforeCollectionSort:function(a,b){b&&this.fireEvent("beforesort",this,b.getRange())},onSorterEndUpdate:function(){var a=this,
b;b=a.getSorters(!1);!a.settingGroups&&b&&(b=b.getRange(),b.length?a.getRemoteSort()?a.load({callback:function(){a.fireEvent("sort",a,b)}}):(a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("sort",a,b)):a.fireEvent("sort",a,b))},onFilterEndUpdate:function(){var a=this.suppressNextFilter;this.getRemoteFilter()?(this.currentPage=1,a||this.load()):a||(this.fireEvent("datachanged",this),this.fireEvent("refresh",this));this.trackStateChanges&&(this.saveStatefulFilters=!0);this.fireEvent("filterchange",
this,this.getFilters().getRange())},updateGroupField:function(a){a?this.setGrouper({property:a,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(a,b){var c=this.getSorters(!1),c=a||c&&c.length;a&&"string"===typeof a&&(a={property:a,direction:b||this.getGroupDir()});this.settingGroups=!0;this.getData().setGrouper(a);delete this.settingGroups;c?this.getRemoteSort()?this.load({scope:this,callback:this.fireGroupChange}):(this.fireEvent("datachanged",
this),this.fireEvent("refresh",this),this.fireGroupChange()):this.fireGroupChange()},fireGroupChange:function(){this.destroyed||this.fireEvent("groupchange",this,this.getGrouper())},clearGrouping:function(){this.group(null)},getGroupField:function(){var a=this.getGrouper(),b="";a&&(b=a.getProperty());return b},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(a){this.group(a);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,
privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(a,b){if(a)a[b?"on":"un"]("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(a,b){a&&(a[b?"on":"un"]("endupdate",this.onSorterEndUpdate,this),this.getData()[b?"un":"on"]("beforesort",this.onBeforeCollectionSort,this))}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}});
Ext.define("Ext.data.Error",{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(a){this.initConfig(a);this.msg=this.message}});
Ext.define("Ext.data.ErrorCollection",{extend:Ext.util.MixedCollection,alternateClassName:"Ext.data.Errors",init:function(a){var b=a.fields,c=a.data,d,e,f,g,h,k;f=0;for(g=b.length;f<g;++f)e=b[f],k=e.name,h=c[k],e.validate&&!e.validate.$nullFn&&(d=this.length,e=e.validate(h,null,this,a),d===this.length&&!0!==e&&this.add(k,e));return this},add:function(a,b){var c=Ext.data.field.Field.defaultInvalidMessage,d=a;Ext.isString(a)?d=new Ext.data.Error({field:a,message:b||c}):(d.isError||(d=new Ext.data.Error({field:d.field||
d.name,message:d.error||d.message||d.msg||c})),a=d.field);if(c=this.get(a)){if(Ext.isArray(c))return c.push(d),c;this.removeAtKey(a);d=[c,d];d.field=a;d=[d]}return this.callParent([d])},getKey:function(a){return a.field},isValid:function(){return 0===this.length},getByField:function(a){(a=this.get(a))&&!Ext.isArray(a)&&(a=[a]);return a||[]}});
Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,idPrefix:"ext-operation-",constructor:function(a){var b=a&&a.scope;this.initConfig(a);
a&&(a.scope=b);b&&(this.setScope(b),this.initialConfig.scope=b);this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var a;delete this.error;delete this.success;this.complete=this.exception=!1;this.setStarted();(this.request=a=this.doExecute())&&a.setOperation(this);return a},doExecute:Ext.emptyFn,abort:function(){var a=this.request;this.running&&a&&(this.getProxy().abort(a),this.request=null)},process:function(a,b,c,d){d=!1!==d;this.setResponse(c);
this.setResultSet(a);a.getSuccess()?(this.doProcess(a,b,c),this.setSuccessful(d)):d&&this.setException(a.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(a,b,c){b=this._commitSetOptions;var d=this.getRecords(),e=d.length;c=d[0].clientIdProperty;var f=(a=a.getRecords())?a.length:0,g,h,k;if(f&&c){d=Ext.Array.toValueMap(d,"id");for(k=0;k<f;++k)if(g=a[k],h=d[g[c]])delete d[h.id],delete g[c],h.set(g,b);for(k in d)d[k].commit()}else for(k=0;k<e;++k)h=d[k],0!==f&&(g=a[k])?h.set(g,
b):h.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var a=this.getProxy();this.complete=!0;this.running=!1;this.triggerCallbacks();a&&a.completeOperation(this)},setSuccessful:function(a){this.success=!0;a&&this.setCompleted()},setException:function(a){this.exception=!0;this.success=this.running=!1;this.error=a;this.setCompleted()},triggerCallbacks:function(){var a=this.getInternalCallback();a&&(a.call(this.getInternalScope()||this,this),this.setInternalCallback(null),
this.setInternalScope(null));if(a=this.getCallback())a.call(this.getScope()||this,this.getRecords(),this,this.wasSuccessful()),this.setCallback(null),this.setScope(null)},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var a;return this._records||((a=this.getResultSet())?a.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&
!0===this.success},allowWrite:function(){return!0}});Ext.define("Ext.data.operation.Create",{extend:Ext.data.operation.Operation,alias:"data.operation.create",action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}});
Ext.define("Ext.data.operation.Destroy",{extend:Ext.data.operation.Operation,alias:"data.operation.destroy",action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var a=this.getRecords(),b=a.length,c;for(c=0;c<b;++c)a[c].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(a,b){var c={},d=a.idField,e=this.getNameProperty()||"name";c[d[e]]=a.id;return c}});
Ext.define("Ext.data.operation.Read",{extend:Ext.data.operation.Operation,alias:"data.operation.read",action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}});
Ext.define("Ext.data.operation.Update",{extend:Ext.data.operation.Operation,alias:"data.operation.update",action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}});
Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return null!=a?String(a).replace(this.stripTagsRe,""):"\x00"},asUCText:function(a){return null!=a?String(a).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(a){return null!=a?String(a).toUpperCase():"\x00"},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){a=parseFloat(String(a).replace(this.stripCommasRe,
""));return isNaN(a)?0:a},asInt:function(a){a=parseInt(String(a).replace(this.stripCommasRe,""),10);return isNaN(a)?0:a}});
Ext.define("Ext.data.validator.Validator",{mixins:[Ext.mixin.Factoryable],alias:"data.validator.base",isValidator:!0,type:"base",statics:{all:{},register:function(a,b){var c=this.all;c[a.toUpperCase()]=c[a.toLowerCase()]=c[a]=b.prototype}},onClassExtended:function(a,b){b.type&&Ext.data.validator.Validator.register(b.type,a)},constructor:function(a){"function"===typeof a?(this.fnOnly=!0,this.validate=a):this.initConfig(a)},validate:function(){return!0},clone:function(){return this.fnOnly?new Ext.data.validator.Validator(this.validate):
new this.self(this.getCurrentConfig())}},function(){this.register(this.prototype.type,this)});
Ext.define("Ext.data.field.Field",{mixins:[Ext.mixin.Factoryable],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,
identifier:!1,onClassExtended:function(a,b){var c=b.sortType,d=a.prototype,e=d.validators,f=b.validators;c&&Ext.isString(c)&&(d.sortType=Ext.data.SortTypes[c]);f&&(Ext.isArray(f)||(f=[f]),delete b.validators,e&&(f=e.concat(f)),d.validators=f)},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(a){var b=this.calculateRe,c,d,e,f,g,h;if(a)if(Ext.isString(a))this.name=a;else{if(c=a.validators)delete a.validators,this.instanceValidators=
c;Ext.apply(this,a)}this.allowNull||(this.allowNull=!!this.reference);c=this.calculate;a=this.depends;if(c&&(this.convert=this.doCalculate,!a)){if(!(a=c.$depends))for(e={},h=c.toString(),c.$depends=a=[],g=(f=this.argumentNamesRe.exec(h))?f[1]:"data";f=b.exec(h);)g!==f[1]||e[d=f[2]]||(e[d]=1,a.push(d));this.depends=a}b=this.defaultValue;this.convert&&(this.evil=(this.calculated=d=1<this.convert.length)&&!a);null===this.persist&&(this.persist=!c);c=this.sortType;this.sortType?Ext.isString(c)&&(this.sortType=
Ext.data.SortTypes[c]):this.sortType=Ext.data.SortTypes.none;a&&"string"===typeof a&&(this.depends=[a]);this.cloneDefaultValue=void 0!==b&&(Ext.isDate(b)||Ext.isArray(b)||Ext.isObject(b))},setModelValidators:function(a){this._validators=null;this.modelValidators=a},compileValidators:function(){this._validators=[];this.constructValidators(this.validators);this.constructValidators(this.modelValidators);this.constructValidators(this.instanceValidators)},constructValidators:function(a){if(a){a instanceof
Array||(a=[a]);var b=a.length,c=this._validators,d,e;for(d=0;d<b;++d)e=a[d],e.fn&&(e=e.fn),c.push(Ext.Factory.dataValidator(e))}},collate:function(a,b){var c=a,d=b;this.sortType&&(c=this.sortType(c),d=this.sortType(d));return c===d?0:c<d?-1:1},compare:function(a,b){return a===b?0:a<b?-1:1},isEqual:function(a,b){return 0===this.compare(a,b)},convert:null,serialize:null,validate:function(a,b,c,d){var e="",f,g,h,k;this._validators||this.compileValidators();g=this._validators;k=0;for(h=g.length;k<h;++k)if(f=
g[k],f=f.validate(a,d),!0!==f)if(f=f||this.defaultInvalidMessage,c)c.add(this.name,f),e=e||f;else if(b)e&&(e+=b),e+=f;else{e=f;break}return e||!0},doCalculate:function(a,b){return b?this.calculate(b.data):a},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},
hasMapping:function(){var a=this.mapping;return!(!a&&0!==a)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{"5.1":{methods:{getSortDir:function(){return this.sortDir}}}}});
Ext.define("Ext.data.field.Boolean",{extend:Ext.data.field.Field,alias:["data.field.bool","data.field.boolean"],isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(a){return"boolean"===typeof a?a:!this.allowNull||void 0!==a&&null!==a&&""!==a?this.trueRe.test(String(a)):null},getType:function(){return"bool"}});
Ext.define("Ext.data.field.Date",{extend:Ext.data.field.Field,alias:"data.field.date",sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(a,b){var c=a instanceof Date,d=b instanceof Date;d&&c?(c=a.getTime()-b.getTime(),c=0===c?0:0>c?-1:1):c=c===d?0:c?1:-1;return c},convert:function(a){if(!a)return null;if(a instanceof Date)return a;var b=this.dateReadFormat||this.dateFormat;return b?Ext.Date.parse(a,b):(a=Date.parse(a))?new Date(a):null},serialize:function(a){var b=
null;Ext.isDate(a)&&(b=(b=this.getDateWriteFormat())?Ext.Date.format(a,b):a);return b},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){return this.hasOwnProperty("dateWriteFormat")?this.dateWriteFormat:this.hasOwnProperty("dateFormat")?this.dateFormat:this.dateWriteFormat||this.dateFormat||"timestamp"},getType:function(){return"date"}});
Ext.define("Ext.data.field.Integer",{extend:Ext.data.field.Field,alias:["data.field.int","data.field.integer"],isNumeric:!0,isIntegerField:!0,numericType:"int",convert:function(a){if("number"===typeof a)return this.getNumber(a);var b=this.allowNull;void 0===a||null===a||""===a?a=b?null:0:(a=this.parse(a),b&&isNaN(a)&&(a=null));return a},getNumber:function(a){return parseInt(a,10)},getType:function(){return this.numericType},parse:function(a){return parseInt(String(a).replace(this.stripRe,""),10)},
sortType:function(a){null==a&&(a=Infinity);return a}});Ext.define("Ext.data.field.Number",{extend:Ext.data.field.Integer,alias:["data.field.float","data.field.number"],isIntegerField:!1,isNumberField:!0,numericType:"float",getNumber:Ext.identityFn,parse:function(a){return parseFloat(String(a).replace(this.stripRe,""))}});
Ext.define("Ext.data.field.String",{extend:Ext.data.field.Field,alias:"data.field.string",sortType:"asUCString",isStringField:!0,convert:function(a){var b=this.allowNull?null:"";return void 0===a||null===a?b:String(a)},getType:function(){return"string"}});
Ext.define("Ext.data.identifier.Generator",{"abstract":!0,mixins:[Ext.mixin.Factoryable],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(a){var b;this.initConfig(a);if(b=this.getId())a=a&&a.cache||Ext.data.identifier.Generator.all,a[b]=this},privates:{clone:function(a){var b=this.getInitialConfig(),b=a?Ext.apply({},a,b):b;return new this.self(b)},statics:{all:{}}}},function(){var a=this,b=Ext.Factory,c=b.dataIdentifier;
b.dataIdentifier=function(b){var e=Ext.isString(b)?b:b&&b.id;return e&&(b&&b.cache||a.all)[e]||c(b)}});Ext.define("Ext.data.identifier.Sequential",{extend:Ext.data.identifier.Generator,alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var a=this._seed,b=this._prefix;this._seed+=this._increment;return null!==b?b+a:a}});
Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,observableType:"record",constructor:function(a,b){var c=this.self,d=c.identifier,e=Ext.data.Model,f=e.identifier,g=this.idField.name,h,k,l,m,n,p;this.data=this.data=a||(a={});this.session=b||null;this.internalId=l=f.generate();if((h=a)instanceof Array)for(this.data=a={},p=this.getFields(),m=Math.min(p.length,h.length),n=0;n<m;++n)a[p[n].name]=h[n];(h=c.initializeFn)||(c.initializeFn=
h=e.makeInitializeFn(c));h.$nullFn||c.initializeFn(this);(this.id=k=a[g])||0===k||(b?(d=b.getIdentifier(c),k=d.generate()):k=f===d?l:d.generate(),a[g]=this.id=k,this.phantom=!0);b&&b.add(this);this.init&&Ext.isFunction(this.init)&&this.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",manyToMany:null,identifier:null,previousValues:void 0,proxy:void 0,schema:"default",versionProperty:null,generation:1,validationSeparator:null,
convertOnSet:!0,beginEdit:function(){var a=this.modified,b=this.previousValues;this.editing||(this.editing=!0,this.editMemento={dirty:this.dirty,data:Ext.apply({},this.data),generation:this.generation,modified:a&&Ext.apply({},a),previousValues:b&&Ext.apply({},b)})},cancelEdit:function(){var a=this.editMemento;a&&(this.editing=!1,Ext.apply(this,a),this.editMemento=null)},endEdit:function(a,b){var c=this.editMemento;c&&(this.editing=!1,this.editMemento=null,this.previousValues=c.previousValues,a||(b||
(b=this.getModifiedFieldNames(c.data)),(this.dirty||b&&b.length)&&this.callJoined("afterEdit",[b])))},getField:function(a){return this.self.getField(a)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(a,b){this.set(this.idProperty,a,b)},getPrevious:function(a){var b=this.previousValues;return b&&b[a]},
isModified:function(a){var b=this.modified;return!(!b||!b.hasOwnProperty(a))},getModified:function(a){var b;this.isModified(a)&&(b=this.modified[a]);return b},get:function(a){return this.data[a]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(a,b,c){var d=this.self,e=this.data,f=this.modified,g=this.previousValues,h=this.session,k=Ext.isString(a),l=k?c:b;c=l?!1!==l.convert:this.convertOnSet;var m=this.fieldsMap,n=l&&l.silent,p=l&&l.commit,q=!(l&&!1===l.refs)&&h,l=!(l&&!1===l.dirty&&
!p),r=null,t,u,v,w,y,x,z,A,C,B=0,H,D,G,E;k?(E=this._singleProp,E[a]=b):E=a;(b=d.rankedFields)||(b=d.rankFields());H=b.length;do{for(w in E)if(G=E[w],d=e[w],x=this,(t=m[w])?(c&&t.convert&&(G=t.convert(G,this)),x=t,z=t.reference):z=null,!x.isEqual(d,G)){e[w]=G;(r||(r=[])).push(w);(g||(this.previousValues=g={}))[w]=d;z&&z.cls&&(q&&h.updateReference(this,t,G,d),z.onValueChange(this,h,G,d));for(C=(A=t&&t.dependents)&&A.length;0<C--;)(z=A[C]).dirty=!0,B=B?Math.min(B,z.rank):z.rank;if(!t||t.persist)if(f&&
f.hasOwnProperty(w)){if(!l||x.isEqual(f[w],G))delete f[w],this.dirty=-1}else l&&(f||(this.modified=f={}),this.dirty=!0,f[w]=d);w===this.idField.name&&(u=!0,y=d,D=G)}if(!B)break;t=b[B-1];t.dirty=!1;k?delete E[a]:(E=this._singleProp,k=!0);a=t.name;E[a]=e[a];for(c=!0;B<H&&!b[B].dirty;++B);B<H?++B:B=0}while(1);if(0>this.dirty)for(v in this.dirty=!1,f)if(f.hasOwnProperty(v)){this.dirty=!0;break}k&&delete E[a];++this.generation;u&&(this.id=D,this.callJoined("onIdChanged",[y,D]));p?this.commit(n,r):n||this.editing||
!r||this.callJoined("afterEdit",[r]);return r},reject:function(a){var b=this.modified;b&&this.set(b,this._rejectOptions);this.dropped=!1;this.clearState();a||this.callJoined("afterReject")},commit:function(a,b){var c=this.versionProperty,d=this.data,e;this.clearState();!c||this.phantom||isNaN(d[c])||++d[c];this.phantom=!1;this.dropped&&(this.erased=e=!0);a||(e?this.callJoined("afterErase"):this.callJoined("afterCommit",[b]))},clearState:function(){this.dirty=this.editing=!1;this.editMemento=this.modified=
null},drop:function(a){var b=this.associations,c=this.session,d;if(!this.erased&&!this.dropped){this.dropped=!0;if(b&&!1!==a)for(d in b)b[d].onDrop(this,c);this.callJoined("afterDrop");this.phantom&&this.setErased()}},join:function(a){var b=this.joined;b?b.length?Ext.Array.include(b,a):b[0]=a:this.joined=[a];a.isStore&&!this.store&&(this.store=a)},unjoin:function(a){var b=this.joined,c=b&&b.length,d=this.store,e;1===c&&b[0]===a?b.length=0:c&&Ext.Array.remove(b,a);if(d===a){d=null;if(b)for(e=0,c=b.length;e<
c;++e)if(a=b[e],a.isStore){d=a;break}this.store=d}},clone:function(a){var b=this.modified;a=this.copy(this.id,a);b&&(a.modified=Ext.apply({},b));a.dirty=this.dirty;a.dropped=this.dropped;a.phantom=this.phantom;return a},copy:function(a,b){var c=Ext.apply({},this.data),d=this.idProperty,e=this.self;a||0===a?c[d]=a:null===a&&delete c[d];return new e(c,b)},getProxy:function(){return this.self.getProxy()},getValidation:function(a){var b=this.validation;b||(this.validation=b=new Ext.data.Validation,b.attach(this));
(!0===a||!1!==a&&b.syncGeneration!==this.generation)&&b.refresh(a);return b},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var a=this.$className.split(".");return a[a.length-1].toLowerCase()+"/"+this.getId()},erase:function(a){this.erasing=!0;this.drop();this.erasing=!1;return this.save(a)},setErased:function(){this.erased=!0;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},
getCriticalFields:function(){var a=this.self,b=a.criticalFields;b||(a.rankFields(),b=a.criticalFields);return b},getAssociatedData:function(a,b){var c=this.associations,d,e,f,g,h,k,l,m,n,p;a=a||{};this.$gathering=1;b&&(b=Ext.Object.chain(b));for(m in c)if(e=c[m],(f=e.getAssociatedItem(this))&&!f.$gathering){if(f.isStore){f.$gathering=1;g=f.getData().items;k=g.length;h=[];for(e=0;e<k;++e)l=g[e],d=!l.$gathering,l.$gathering=1,b?(p=b.associated,void 0===p?(b.associated=d,n=!0):d||(b.associated=!1,n=
!0),d=b):d=d?this._getAssociatedOptions:this._getNotAssociatedOptions,h.push(l.getData(d)),n&&(b.associated=p,n=!1),delete l.$gathering;delete f.$gathering}else d=b||this._getAssociatedOptions,b&&void 0===b.associated&&(d.associated=!0),h=f.getData(d);a[m]=h}delete this.$gathering;return a},getData:function(a){var b={};a=!0===a?this._getAssociatedOptions:a||b;var c=this.data,d=a.associated,e=a.changes,f=e&&a.critical,g=e?this.modified:c,h=this.fieldsMap,k=a.persist,e=a.serialize,l,m;if(g)for(l in g){m=
c[l];if(g=h[l]){if(k&&!g.persist)continue;e&&g.serialize&&(m=g.serialize(m,this))}b[l]=m}if(f)for(f=this.self.criticalFields||this.getCriticalFields(),h=f.length;0<h--;)l=(g=f[h]).name,l in b||(m=c[l],e&&g.serialize&&(m=g.serialize(m,this)),b[l]=m);d&&this.getAssociatedData(b,a);return b},getTransientFields:function(){var a=this.self,b=a.transientFields;b||(a.rankFields(),b=a.transientFields);return b},isLoading:function(){return!!this.loadOperation},abort:function(){var a=this.loadOperation;a&&a.abort()},
load:function(a){a=Ext.apply({},a);var b=this,c=a.scope||b,d=b.getProxy(),e=a.callback,f=b.loadOperation,g=b.getId();if(f)return d=f.extraCalls,d||(d=f.extraCalls=[]),d.push(a),f;a.id=g;a.recordCreator=function(a,c,d){c=b.session;d&&(d.recordCreator=c?c.recordCreator:null);b.set(a,b._commitOptions);return b};a.internalCallback=function(d){var f=d.wasSuccessful()&&0<d.getRecords().length,g=b.loadOperation.extraCalls,m=[b,d];d=[b,d,f];var n,p;b.loadOperation=null;f?Ext.callback(a.success,c,m):Ext.callback(a.failure,
c,m);Ext.callback(e,c,d);if(g)for(n=0,p=g.length;n<p;++n)a=g[n],f?Ext.callback(a.success,c,m):Ext.callback(a.failure,c,m),Ext.callback(a.callback,c,d);b.callJoined("afterLoad")};delete a.callback;b.loadOperation=f=d.createOperation("read",a);f.execute();return f},save:function(a){a=Ext.apply({},a);var b=this,c=b.phantom,d=b.dropped,e=d?"destroy":c?"create":"update",f=a.scope||b,g=a.callback,h=b.getProxy();a.records=[b];a.internalCallback=function(c){var d=[b,c];(c=c.wasSuccessful())?Ext.callback(a.success,
f,d):Ext.callback(a.failure,f,d);d.push(c);Ext.callback(g,f,d)};delete a.callback;e=h.createOperation(e,a);d&&c?(e.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),b.setErased(),e.setSuccessful(!0)):e.execute();return e},inheritableStatics:{addFields:function(a){this.replaceFields(a)},replaceFields:function(a,b){var c=this.prototype,d=Ext.data.field.Field,e=this.fields,f=this.fieldsMap,g=this.fieldOrdinals,h,k,l,m,n;if(!0===b)e.length=0,this.fieldsMap=f={},this.fieldOrdinals=g={};else if(b){for(k=
b.length;0<k--;)m=b[k],m in g&&(delete g[m],delete f[m]);k=0;for(l=e.length;k<l;++k)m=e[k].name,m in g?g[m]=k:(e.splice(k,1),--k,--l)}k=0;for(l=a?a.length:0;k<l;k++)m=(h=a[k]).name,m in g||(g[m]=n=e.length,e.push(h=d.create(h)),f[m]=h,h.ordinal=n,h.definedBy=h.owner=this);this.idField=c.idField=c=f[c.idProperty];c.allowNull=c.critical=c.identifier=!0;this.initializeFn=this.rankedFields=this.transientFields=this.criticalFields=c.defaultValue=null},removeFields:function(a){this.replaceFields(null,a)},
getIdFromData:function(a){var b=this.idField;return b.calculated?(new this(a)).id:a[b.name]},createWithId:function(a,b,c){var d=b;if(a||0===a)d={},b&&Ext.apply(d,b),d[this.idField.name]=a;return new this(d,c)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(a){return this.fieldsMap[a]||null},getProxy:function(){var a=this.proxy,b=this.defaultProxy;a||(a=this.proxyConfig,!a&&b&&(a=b),a&&a.isProxy||("string"===typeof a&&(a={type:a}),b=this.schema.constructProxy(this),
a=a?Ext.merge(b,a):b),a=this.setProxy(a));return a},setProxy:function(a){var b;a&&(a.isProxy?(b=a.getModel())&&b!==this&&(a=a.clone()):a=Ext.Factory.proxy(a),a.setModel(this));return this.prototype.proxy=this.proxy=a},load:function(a,b,c){var d={};d[this.prototype.idProperty]=a;a=new this(d,c);a.load(b);return a}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(a,b){var c=this.stores,d=c.length,e;for(e=0;e<d;++e)a.call(b,c[e])},join:function(a){var b=this.stores,
c=this.joined;c?c.push(a):this.joined=[a];a.isStore&&(this.store=this.store||a,b||(b=this.stores=[]),b.push(a))},unjoin:function(a){var b=this.stores,c=this.joined;1===c.length?c.length=0:Ext.Array.remove(c,a);a.isStore&&(Ext.Array.remove(b,a),this.store=b[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},
copyFrom:function(a){var b=this.fields,c=b.length,d=[],e,f=0,g,h,k=this.idProperty,l;if(a){g=this.data;for(h=a.data;f<c;f++)e=b[f],e=e.name,e!==k&&(l=h[e],void 0===l||this.isEqual(g[e],l)||(g[e]=l,d.push(e)));this.phantom&&!a.phantom&&(this.beginEdit(),this.setId(a.getId()),this.endEdit(!0),this.commit(!0))}return d},callJoined:function(a,b){var c=this.joined,d=this.session,e,f,g,h;if(c||d){b?b.unshift(this):b=[this];if(c)for(e=0,f=c.length;e<f;++e)(h=c[e])&&(g=h[a])&&g.apply(h,b);(g=d&&d[a])&&g.apply(d,
b)}},setSession:function(a){(this.session=a)&&a.add(this)},getModifiedFieldNames:function(a){var b=this.data,c=[];a=a||this.editMemento.data;for(var d in b)b.hasOwnProperty(d)&&(this.isEqual(b[d],a[d],d)||c.push(d));return c},isEqual:function(a,b,c){return c&&(c=c.isField?c:this.fieldsMap[c])?c.isEqual(a,b):a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():a===b},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var a=this.prototype,b=this.fields,
c=b.length,d=[],e=[],f=[],g,h;this.rankedFields=a.rankedFields=d;this.criticalFields=a.criticalFields=e;this.transientFields=a.transientFields=f;for(a=0;a<c;++a)h=b[a],h.critical&&e.push(h),h.persist||f.push(h),h.evil?(g||(g=[])).push(h):h.depends||(d.push(h),h.rank=d.length);for(a=0;a<c;++a)(h=b[a]).rank||h.evil||this.topoAdd(h);if(g)for(a=0,c=g.length;a<c;++a)d.push(h=g[a]),h.rank=d.length;return d},topoAdd:function(a){var b=a.depends,c=b?b.length:0,d=this.rankedFields,e,f;for(e=0;e<c;++e)f=this.fieldsMap[b[e]],
(f.dependents||(f.dependents=[])).push(a),f.rank||this.topoAdd(f);d.push(a);a.rank=d.length},initFields:function(a,b,c){var d=Ext.data.field.Field,e=a.fields,f=[],g={},h={},k=c.fields,l=a.versionProperty||c.versionProperty,m=b.idProperty,n,p,q,r,t,u,v;b.fields=c.fields=f;b.fieldOrdinals=c.fieldOrdinals=g;b.fieldsMap=c.fieldsMap=h;b.references=c.references=[];if(k)for(p=0,q=k.length;p<q;++p)f[p]=n=Ext.Object.chain(k[p]),n.dependents=null,n.owner=b,g[r=n.name]=p,h[r]=n,n.rank=null,n.generated&&(t=n,
u=n.name);if(e)for(delete a.fields,p=0,q=e.length;p<q;++p)n=e[p],(r=n.reference)&&"string"!==typeof r&&(r=Ext.merge({},r)),n.$reference=r,n=d.create(e[p]),r=n.name,a=g[r],void 0===a&&(g[r]=a=f.length),h[r]=n,f[a]=n,n.definedBy=n.owner=b,n.ordinal=a,r===m&&(v=n);e=h[m];if(!e)a=t&&t.generated?t.ordinal:f.length,delete h[u],delete g[u],e=new d(m),f[a]=e,g[m]=a,h[m]=e,e.definedBy=b,e.ordinal=a,e.generated=!0;else if(v&&t&&t.generated)for(Ext.Array.remove(f,t),delete h[u],delete g[u],h[m]=v,p=0,q=f.length;p<
q;++p)n=f[p],f.ordinal=p,g[n.name]=p;e.allowNull=e.critical=e.identifier=!0;e.defaultValue=null;b.idField=c.idField=e;l&&(n=h[l],n||(a=f.length,n=new d({name:l,type:"int"}),f[a]=n,g[l]=a,h[l]=n,n.definedBy=b,n.ordinal=a,n.generated=!0),n.defaultValue=1,n.critical=!0)},initValidators:function(a,b,c){var d=c.validators,e,f,g,h,k;if(d)for(f in e={},d)e[f]=Ext.Array.clone(d[f]);if(d=a.validators||a.validations){delete a.validators;e=e||{};if(Ext.isArray(d)){a={};f=0;for(g=d.length;f<g;++f)k=d[f],h=k.field,
a[h]||(a[h]=[]),k=k.fn||k,a[h].push(k);d=a}for(h in d)a=d[h],Ext.isArray(a)||(a=[a]),f=e[h],e[h]?Ext.Array.push(f,a):e[h]=a}if(e)for(h in e)(f=b.getField(h))&&f.setModelValidators(e[h]);b.validators=c.validators=e},initAssociations:function(a,b,c){var d=b.associations,e=b.belongsTo,f=b.hasMany,g=b.hasOne,h=b.manyToMany,k;delete b.manyToMany;h&&a.addMatrices(c,h);delete b.associations;delete b.belongsTo;delete b.hasMany;delete b.hasOne;if(d)for(d=Ext.isArray(d)?d:[d],b=0,h=d.length;b<h;++b)switch(k=
d[b],k.type){case "belongsTo":a.addLegacyBelongsTo(c,k);break;case "hasMany":a.addLegacyHasMany(c,k);break;case "hasOne":a.addLegacyHasOne(c,k)}if(e)for(e=Ext.isArray(e)?e:[e],b=0,h=e.length;b<h;++b)a.addLegacyBelongsTo(c,e[b]);if(f)for(f=Ext.isArray(f)?f:[f],b=0,h=f.length;b<h;++b)a.addLegacyHasMany(c,f[b]);if(g)for(g=Ext.isArray(g)?g:[g],b=0,h=g.length;b<h;++b)a.addLegacyHasOne(c,g[b]);a.afterLegacyAssociations(c)},initIdentifier:function(a,b,c){var d=a.identifier||a.idgen,e=c.identifier||b.schema._defaultIdentifier;
d?(delete a.identifier,delete a.idgen,d=Ext.Factory.dataIdentifier(d)):e&&(d=e.clone&&!e.getId()?e.clone():e.isGenerator?e:Ext.Factory.dataIdentifier(e));b.identifier=c.identifier=d;d||((a=b.entityName)||(a=Ext.id(null,"extModel")),b.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:a+"-"}))},findValidator:function(a,b,c){c=c.type||c;a=a[b];var d,e;if(a)for(d=0,b=a.length;d<b;++d)if(e=a[d],e.type===c)return e;return null},makeInitializeFn:function(a){var b=["var "],c=["\nreturn function (e) {\n    var data = e.data, v;\n"],
d=0,e,f,g,h,k,l,m,n,p;(k=a.rankedFields)||(k=a.rankFields());n=0;for(p=k.length;n<p;++n)if(h=k[n],l="f"+n,f=h.convert,n&&b.push(",  \n    "),b.push(l," = $fields["+n+"]"),(m=void 0!==h.defaultValue)||f)g='data["'+h.name+'"]',++d,a=e="",h.cloneDefaultValue&&(a="Ext.clone(",e=")"),c.push("\n"),f&&m?c.push("    v = ",g,";\n    if (v !== undefined) {\n        v = ",l,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",a,l,".defaultValue",e,";\n    }\n    ",g," = v;"):f?c.push("    v = ",
l,".convert(",g,",e);\n    if (v !== undefined) {\n        ",g," = v;\n    }\n"):m&&c.push("    if (",g," === undefined) {\n        ",g," = ",a,l,".defaultValue",e,";\n    }\n");if(!d)return Ext.emptyFn;b.push(";\n");b.push.apply(b,c);b.push("}");b=b.join("");return(new Function("$fields","Ext",b))(k,Ext)}}}},function(){var a=this,b=a.prototype,c=Ext.data.schema.Schema,d;a.proxyConfig=b.proxy;delete b.proxy;a.fields=[];a.fieldsMap=b.fieldsMap={};a.schema=b.schema=c.get(b.schema);b.idField=new Ext.data.field.Field(b.idProperty);
a.identifier=new Ext.data.identifier.Sequential;a.onExtended(function(b,f){var g=b.prototype,h=f.schema,k=g.superclass.self,l;b.idProperty=f.idProperty||g.idProperty;h?(delete f.schema,h=c.get(h)):(h=g.schema)||(h=d||(d=c.get("default")));b.rankFields=a.rankFields;b.topoAdd=a.topoAdd;g.schema=b.schema=h;(l=f.entityName)||(g.entityName=l=h.getEntityName(b));b.entityName=l;b.fieldExtractors={};a.initIdentifier(f,b,g);a.initFields(f,b,g);a.initValidators(f,b,g);b.fields.items=b.fields;l&&(h.addEntity(b),
a.initAssociations(h,f,b));(g=f.proxy)?delete f.proxy:k!==a&&(g=k.proxyConfig||k.proxy);b.proxyConfig=g})});Ext.define("Ext.data.ResultSet",{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null},constructor:function(a){this.initConfig(a)},getCount:function(){var a=this.callParent(),b;!a&&(b=this.getRecords())&&(a=b.length);return a}});
Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null,keepRawData:null},isReader:!0,constructor:function(a){a&&a.hasOwnProperty("root")&&(a=Ext.apply({},a),a.rootProperty=
a.root,delete a.root);this.duringInit=1;this.mixins.observable.constructor.call(this,a);--this.duringInit;this.buildExtractors()},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},applyTransform:function(a){return a?(Ext.isFunction(a)?a={fn:a}:a.charAt&&(a={fn:this[a]}),a.fn.bind(a.scope||this)):a},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},
updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(a,b){var c;if(a)if(a.responseText){if((c=this.getResponseData(a))&&c.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:c.msg});c=this.readRecords(c,b)}else c=this.readRecords(a,b);return c||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(a){return{__$isError:!0,msg:a}},readRecords:function(a,b,c){var d=c&&c.recordsOnly;c=c&&c.asRoot;
var e,f,g,h,k,l;(e=this.getTransform())&&(a=e(a));this.buildExtractors();this.getKeepRawData()&&(this.rawData=a);this.hasListeners.rawdata&&this.fireEventArgs("rawdata",[a]);a=this.getData(a);e=!0;f=0;g=[];this.getSuccessProperty()&&(k=this.getSuccess(a),!1===k||"false"===k)&&(e=!1);this.getMessageProperty()&&(l=this.getMessage(a));if(e||this.getReadRecordsOnFailure()){if(c=c||Ext.isArray(a)?a:this.getRoot(a))h=c.length;this.getTotalProperty()&&(k=parseInt(this.getTotal(a),10),isNaN(k)||(h=k));c&&
(g=this.extractData(c,b),f=g.length)}return d?g:new Ext.data.ResultSet({total:h||f,count:f,records:g,success:e,message:l})},extractData:function(a,b){var c=b&&b.model?Ext.data.schema.Schema.lookupEntity(b.model):this.getModel(),d=c.schema,e=d.hasAssociations(c)&&this.getImplicitIncludes(),f=this.getFieldExtractorInfo(c.fieldExtractors),g=a.length,h=Array(g),k=this.getTypeProperty(),l,m,n,p;!g&&Ext.isObject(a)&&(a=[a],g=1);for(p=0;p<g;p++){l=a[p];l.isModel||(m=l,k&&(n=this.getChildType(d,m,k))?(l=
n.getProxy().getReader(),l=l.extractRecord(m,b,n,d.hasAssociations(n)&&l.getImplicitIncludes(),l.getFieldExtractorInfo(n.fieldExtractors))):l=this.extractRecord(m,b,c,e,f),l.isModel&&l.isNode&&(l.raw=m));if(l.onLoad)l.onLoad();h[p]=l}return h},getChildType:function(a,b,c){var d;switch(typeof c){case "string":return a.getEntity(b[c]);case "object":return d=c.namespace,a.getEntity((d?d+".":"")+b[c.name]);case "function":return a.getEntity(c(b))}},extractRecordData:function(a,b){var c=b&&b.model?Ext.data.schema.Schema.lookupEntity(b.model):
this.getModel(),d=this.getFieldExtractorInfo(c.fieldExtractors);return this.extractRecord(a,b,c,!1,d)},extractRecord:function(a,b,c,d,e){var f=b&&b.recordCreator||this.defaultRecordCreator;e=this.extractModelData(a,e);c=f.call(this,e,c||this.getModel(),b);d&&c.isModel&&this.readAssociated(c,a,b);return c},getFieldExtractorInfo:function(a){if(a){var b=this.$className,c=a[b];void 0===c&&(a[b]=c=this.buildFieldExtractors());return c}},buildFieldExtractors:function(){var a=this.getFields(),b=a.length,
c=[],d=[],e=null,f=0,g,h,k;for(h=0;h<b;++h)if(g=a[h],k=this.createFieldAccessor(g))g=g.name,c.push("val = extractors["+f+"](raw); if (val !== undefined) { data['"+g+"'] = val; }"),d.push(k),++f;c.length&&(e={extractors:d,fn:new Function("raw","data","extractors","var val;"+c.join(""))});return e},defaultRecordCreator:function(a,b){var c=new b(a);c.phantom=!1;return c},getModelData:function(a){return{}},extractModelData:function(a,b){var c=this.getModelData(a),d;b&&(d=b.fn,d(a,c,b.extractors));return c},
readAssociated:function(a,b,c){var d=a.associations,e,f;for(e in d)d.hasOwnProperty(e)&&(f=d[e],f.cls&&f.read(a,b,this,c))},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(a){var b=a.fields;this.metaData=a;a.root&&this.setRootProperty(a.root);a.totalProperty&&this.setTotalProperty(a.totalProperty);a.successProperty&&this.setSuccessProperty(a.successProperty);a.messageProperty&&this.setMessageProperty(a.messageProperty);
a=a.clientIdProperty;b?(b=Ext.define(null,{extend:"Ext.data.Model",fields:b,clientIdProperty:a}),this.setModel(b),(a=this.getProxy())&&a.setModel(b)):a&&(b=this.getModel())&&(b.self.prototype.clientIdProperty=a)},buildExtractors:function(a){var b,c;if(a||!this.hasExtractors)return a=this.getTotalProperty(),b=this.getSuccessProperty(),c=this.getMessageProperty(),a&&(this.getTotal=this.getAccessor(a)),b&&(this.getSuccess=this.getAccessor(b)),c&&(this.getMessage=this.getAccessor(c)),this.hasExtractors=
!0},getAccessor:function(a){var b=this.extractorCache,c,d;"string"===typeof a?(d=this.getAccessorKey(a),c=b.get(d),c||(c=this.createAccessor(a),b.add(d,c))):c=this.createAccessor(a);return c},getAccessorKey:function(a){return this.$className+a},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){this.transform=this.onMetaChange=this.model=this.getTotal=this.getSuccess=this.getMessage=this.rawData=null;this.callParent()},privates:{copyFrom:function(a){a.buildExtractors();
this.getTotal=a.getTotal;this.getSuccess=a.getSuccess;this.getMessage=a.getMessage;++this.duringInit;this.setConfig(a.getConfig());--this.duringInit;this.hasExtractors=!0}}},function(a){a=a.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})});a.extractorCache=new Ext.util.LruCache});
Ext.define("Ext.data.writer.Writer",{mixins:[Ext.mixin.Factoryable],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(a){this.initConfig(a)},applyTransform:function(a){return a?(Ext.isFunction(a)&&(a={fn:a}),a.fn.bind(a.scope||
this)):a},write:function(a){var b=a.getOperation(),c=b.getRecords()||[],d=c.length,e=[],f;for(f=0;f<d;f++)e.push(this.getRecordData(c[f],b));return this.writeRecords(a,e)},writeRecords:Ext.emptyFn,getRecordData:function(a,b){var c=this.getNameProperty(),d="name"!==c,e=a.self.idField,f=e[c]||e.name,g=a.id,h=this.getWriteAllFields(),k,l,m;e.serialize&&(g=e.serialize(g));if(!h&&b&&b.isDestroyOperation)k={},k[f]=g;else for(f in e=this.getDateFormat(),k=(l=a.phantom)||h?this.getAllDataOptions():this.getPartialDataOptions(),
l=l&&this.getClientIdProperty(),h=a.getFieldsMap(),k.serialize=!1,m=a.getData(k),k=d?{}:m,l?(k[l]=g,delete m[f]):this.getWriteRecordId()||delete m[f],m)g=m[f],(l=h[f])?(l.isDateField&&e&&Ext.isDate(g)?g=Ext.Date.format(g,e):l.serialize&&(g=l.serialize(g,a)),d&&(f=l[c]||f),k[f]=g):d&&(k[f]=g);return k}});
Ext.define("Ext.data.proxy.Proxy",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Observable],$configPrefixed:!1,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.pendingOperations={}},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateModel:function(a){if(a){var b=
this.getReader();b&&!b.getModel()&&b.setModel(a)}},applyReader:function(a){this.isSynchronous&&(a=a||{},a.keepRawData=!0);return Ext.Factory.reader(a)},updateReader:function(a){if(a){var b=this.getModel();b?a.setModel(b):(b=a.getModel())&&this.setModel(b);a.onMetaChange&&(a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this))}},applyWriter:function(a){var b=this.getReader();a=Ext.Factory.writer(a);a.getRecord&&!a.getRecord()&&b&&b.getRecord&&(b=b.getRecord())&&a.setRecord(b);
return a},abort:Ext.emptyFn,onMetaChange:function(a){this.fireEvent("metachange",this,a)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(a,b){var c=this.getBatchActions(),d,e,f,g,h,k,l,m,n;void 0===a.operations&&(a={operations:a,listeners:b});a.batch?Ext.isDefined(a.batch.runOperation)&&(d=Ext.applyIf(a.batch,{proxy:this,listeners:{}})):a.batch={proxy:this,listeners:a.listeners||{}};d||(d=new Ext.data.Batch(a.batch));d.on("complete",Ext.bind(this.onBatchComplete,
this,[a],0));f=this.getBatchOrder().split(",");g=f.length;for(k=0;k<g;k++)if(h=f[k],e=a.operations[h])if(c)d.add(this.createOperation(h,{records:e,params:a.params}));else for(m=e.length,l=0;l<m;l++)n=e[l],d.add(this.createOperation(h,{records:[n],params:a.params}));d.start();return d},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException()?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]);Ext.isFunction(a.callback)&&Ext.callback(a.callback,
c,[b,a])},createOperation:function(a,b){var c=Ext.createByAlias("data.operation."+a,b);c.setProxy(this);return this.pendingOperations[c._internalId]=c},completeOperation:function(a){delete this.pendingOperations[a._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var a=this.pendingOperations,b,c;for(b in a)(c=a[b])&&c.isRunning()&&c.abort();this.pendingOperations=null}});
Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}});
Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:{$value:null,merge:function(a,b,c,d){return Ext.isArray(a)?Ext.Array.clone(a):Ext.clone(a)}}},finishOperation:function(a){var b=0,c=a.getRecords(),d=c.length;for(b;b<d;b++)c[b].commit();a.setSuccessful(!0)},create:function(a){this.finishOperation(a)},update:function(a){this.finishOperation(a)},erase:function(a){this.finishOperation(a)},
read:function(a){var b=this.getReader().read(this.getData()),c=b.getRecords(),d=a.getSorters(),e=a.getGrouper(),f=a.getFilters(),g=a.getStart(),h=a.getLimit();!1!==a.process(b,null,null,!1)&&(f&&f.length&&(b.setRecords(c=Ext.Array.filter(c,Ext.util.Filter.createFilterFn(f))),b.setTotal(c.length)),e&&(d=d?d.concat(e):d),d&&d.length&&b.setRecords(c=Ext.Array.sort(c,Ext.util.Sortable.createComparator(d))),this.getEnablePaging()&&void 0!==g&&void 0!==h&&(g>=b.getTotal()?b.setConfig({success:!1,records:[],
total:0}):b.setRecords(Ext.Array.slice(c,g,g+h))),a.setCompleted())},clear:Ext.emptyFn});
Ext.define("Ext.data.ProxyStore",{extend:Ext.data.AbstractStore,config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:void 0},onClassExtended:function(a,b,c){var d=b.model,e;"string"===typeof d&&(e=c.onBeforeCreated,c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(d,function(){e.apply(a,b)})})},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(a){this.removed=[];this.callParent(arguments);
!1===this.getAsynchronousLoad()&&this.flushLoad()},applyAsynchronousLoad:function(a){null==a&&(a=!this.loadsSynchronously());return a},updateAutoLoad:function(a){this.getData();a&&this.load(Ext.isObject(a)?a:void 0)},getTotalCount:function(){return this.totalCount||0},applyFields:function(a){a&&this.createImplicitModel(a)},applyModel:function(a){a?a=Ext.data.schema.Schema.lookupEntity(a):(this.getFields(),a=this.getModel()||this.createImplicitModel());return a},applyProxy:function(a){var b=this.getModel();
null!==a&&(a?a.isProxy?a.setModel(b):(Ext.isString(a)?a={type:a,model:b}:a.model||(a=Ext.apply({model:b},a)),a=Ext.createByAlias("proxy."+a.type,a),a.autoCreated=!0):b&&(a=b.getProxy()),a||(a=Ext.createByAlias("proxy.memory"),a.autoCreated=!0));return a},applyState:function(a){this.callParent([a]);(this.getAutoLoad()||this.isLoaded())&&this.load()},updateProxy:function(a,b){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(a){this.cleanRemoved();this.removed=a?[]:null},
onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c=new (this.getModel())(a);b=Ext.apply({},b);b.records||(b.records=[c]);b.internalScope=this;b.internalCallback=this.onProxyWrite;return this.createOperation("create",b).execute()},read:function(){return this.load.apply(this,arguments)},update:function(a){a=Ext.apply({},a);a.records||(a.records=this.getUpdatedRecords());a.internalScope=this;a.internalCallback=this.onProxyWrite;return this.createOperation("update",
a).execute()},onProxyWrite:function(a){var b=a.wasSuccessful(),c=a.getRecords();switch(a.getAction()){case "create":this.onCreateRecords(c,a,b);break;case "update":this.onUpdateRecords(c,a,b);break;case "destroy":this.onDestroyRecords(c,a,b)}b&&(this.fireEvent("write",this,a),this.fireEvent("datachanged",this))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){c&&this.cleanRemoved()},erase:function(a){a=Ext.apply({},a);a.records||(a.records=this.getRemovedRecords());
a.internalScope=this;a.internalCallback=this.onProxyWrite;return this.createOperation("destroy",a).execute()},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a,b){var c=a.operations,d=c.length,e;if("operation"!==this.batchUpdateMode){this.suspendEvents();for(e=0;e<d;e++)this.onProxyWrite(c[e]);this.resumeEvents()}this.isSyncing=!1;this.fireEvent("datachanged",this)},onBatchException:function(a,b){},filterNew:function(a){return!0===a.phantom&&a.isValid()},
getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return!0===a.dirty&&!0!==a.phantom&&a.isValid()},getRemovedRecords:function(){var a=this.getRawRemovedRecords();return a?Ext.Array.clone(a):a},sync:function(a){var b={},c=this.getNewRecords(),d=this.getUpdatedRecords(),e=this.getRemovedRecords(),f=!1;this.needsSync=!1;0<c.length&&(b.create=c,f=!0);0<d.length&&
(b.update=d,f=!0);0<e.length&&(b.destroy=e,f=!0);f&&!1!==this.fireEvent("beforesync",b)&&(this.isSyncing=!0,a=a||{},this.proxy.batch(Ext.apply(a,{operations:b,listeners:this.getBatchListeners()})));return this},getBatchListeners:function(){var a={scope:this,exception:this.onBatchException,complete:this.onBatchComplete};"operation"===this.batchUpdateMode&&(a.operationcomplete=this.onBatchOperationComplete);return a},save:function(){return this.sync.apply(this,arguments)},load:function(a){this.pendingLoadOptions=
a="function"===typeof a?{callback:a}:a?Ext.Object.chain(a):{};this.getAsynchronousLoad()?this.loadTimer||(this.loadTimer=Ext.asap(this.flushLoad,this)):this.flushLoad();return this},flushLoad:function(){var a=this.pendingLoadOptions;this.clearLoadTask();a&&(this.setLoadOptions(a),this.getRemoteSort()&&a.sorters&&this.fireEvent("beforesort",this,a.sorters),this.lastOptions=a=Ext.apply({internalScope:this,internalCallback:this.onProxyLoad,scope:this},a),a=this.createOperation("read",a),!1!==this.fireEvent("beforeload",
this,a)&&(this.onBeforeLoad(a),this.loading=!0,a.execute()))},reload:function(a){a=Ext.apply({},a,this.lastOptions);return this.load(a)},onEndUpdate:function(){this.needsSync&&this.autoSync&&!this.autoSyncSuspended&&this.sync()},afterReject:function(a){this.contains(a)&&(this.onUpdate(a,Ext.data.Model.REJECT,null),this.fireEvent("update",this,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,b){b||(b=null);this.contains(a)&&(this.onUpdate(a,Ext.data.Model.COMMIT,b),this.fireEvent("update",this,
a,Ext.data.Model.COMMIT,b))},afterErase:function(a){this.onErase(a)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var a=this.getProxy();this.clearLoadTask();this.getData().destroy();this.data=null;this.setProxy(null);a.autoCreated&&a.destroy();this.setModel(null)},hasPendingLoad:function(){return!!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return 0<this.loadCount},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(a){this.autoSyncSuspended&&
!--this.autoSyncSuspended&&a&&this.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){Ext.asapCancel(this.loadTimer);this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var a=this.getRawRemovedRecords(),b,c;if(a){c=0;for(b=a.length;c<b;++c)a[c].unjoin(this);a.length=0}},createOperation:function(a,b){var c=this.getProxy(),d;this.proxyListeners||(d={scope:this,
destroyable:!0,beginprocessresponse:this.beginUpdate,endprocessresponse:this.endUpdate},this.disableMetaChangeEvent||(d.metachange=this.onMetaChange),this.proxyListeners=c.on(d));return c.createOperation(a,b)},createImplicitModel:function(a){var b={extend:this.implicitModel,statics:{defaultProxy:"memory"}};a&&(b.fields=a);b=Ext.define(null,b);this.setModel(b);(a=this.getProxy())?b.setProxy(a):this.setProxy(b.getProxy())},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,
removeFromRemoved:function(a){var b=this.getRawRemovedRecords();b&&(Ext.Array.remove(b,a),a.unjoin(this))},setLoadOptions:function(a){var b;this.getRemoteFilter()&&(b=this.getFilters(!1))&&b.getCount()&&(a.filters=b.getRange());this.getRemoteSort()&&(b=this.getSorters(!1))&&b.getCount()&&(a.sorters=b.getRange())}}});
Ext.define("Ext.data.LocalStore",{extend:Ext.Mixin,mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(a){var b,c=this.getData();c.setExtraKeys(a);a=c.getExtraKeys();for(b in a)this[b]=a[b]},add:function(a){return this.insert(this.getCount(),1===arguments.length?a:arguments)},constructDataCollection:function(){return new Ext.util.Collection({rootProperty:"data"})},createModel:function(a){var b=this.getSession(),c;a.isModel||(c=this.getModel(),a=new c(a,b));return a},createFiltersCollection:function(){return this.getData().getFilters()},
createSortersCollection:function(){var a=this.getData().getSorters();a.setSorterConfigure(this.addFieldTransform,this);return a},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(a){return-1<this.indexOf(a)},each:function(a,b){var c=this.data.items,d=c.length,e,f;for(f=0;f<d&&(e=c[f],!1!==a.call(b||e,e,
f,d));++f);},collect:function(a,b,c){var d=this.getData();!0===c&&d.filtered&&(d=d.getSource());return d.collect(a,"data",b)},getById:function(a){var b=this.getData();b.filtered&&(b=b.getSource());return b.get(a)||null},getByInternalId:function(a){var b=this.getData(),c;b.filtered&&(b.$hasExtraKeys||(c=this.makeInternalKeyCfg(),b.setExtraKeys(c),b.$hasExtraKeys=!0),b=b.getSource());b.$hasExtraKeys||(b.setExtraKeys(c||this.makeInternalKeyCfg()),b.$hasExtraKeys=!0);return b.byInternalId.get(a)||null},
getDataSource:function(){var a=this.getData();return a.getSource()||a},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},insert:function(a,b){var c,d;b&&(b=Ext.isIterable(b)?Ext.Array.clone(b):[b],c=b.length);if(!c)return[];for(d=0;d<c;++d)b[d]=this.createModel(b[d]);this.getData().insert(a,b);return b},queryBy:function(a,b){var c=this.getData();return(c.getSource()||c).createFiltered(a,b)},query:function(a,b,c,d,e){var f=this.getData();
return(f.getSource()||f).createFiltered(a,b,c,d,e)},first:function(a){return this.getData().first(a)||null},last:function(a){return this.getData().last(a)||null},sum:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.sumByGroup(a):c.sum(a)},count:function(a){var b=this.getData();return a&&this.isGrouped()?b.countByGroup():b.count()},min:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.minByGroup(a):c.min(a)},max:function(a,b){var c=this.getData();return b&&this.isGrouped()?
c.maxByGroup(a):c.max(a)},average:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.averageByGroup(a):c.average(a)},aggregate:function(a,b,c,d){var e,f,g,h;if(c&&this.isGrouped()){c=this.getGroups().items;e=c.length;f={};for(h=0;h<e;++h)g=c[h],f[g.getGroupKey()]=this.getAggregate(a,b||this,g.items,d);return f}return this.getAggregate(a,b,this.getData().items,d)},getAggregate:function(a,b,c,d){var e=[],f=c.length,g;for(g=0;g<f;++g)e[g]=c[g].get(d);return a.call(b||this,c,e)},addObserver:function(a){var b=
this.observers;b||(this.observers=b=new Ext.util.Collection);b.add(a)},removeObserver:function(a){var b=this.observers;b&&b.remove(a)},callObservers:function(a,b){var c=this.observers,d,e,f,g;if(c)for(d=c.items,b?b.unshift(this):b=[this],e=0,c=d.length;e<c;++e)g=d[e],f="onSource"+a,g[f]&&g[f].apply(g,b)},queryRecordsBy:function(a,b){var c=this.getData(),d=[],e,f,g,c=(c.getSource()||c).items;b=b||this;f=0;for(e=c.length;f<e;++f)g=c[f],!0===a.call(b,g)&&d.push(g);return d},queryRecords:function(a,b){var c=
this.getData(),d=[],e,f,g,c=(c.getSource()||c).items;f=0;for(e=c.length;f<e;++f)g=c[f],g.get(a)===b&&d.push(g);return d},privates:{isLast:function(a){return a===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}});
Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3E4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,
arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){var c=this.getExtraParams();c[a]=b;this.fireEvent("extraparamschanged",c)},updateExtraParams:function(a,b){this.fireEvent("extraparamschanged",a)},buildRequest:function(a){var b=Ext.apply({},a.getParams()),b=Ext.applyIf(b,this.getExtraParams()||{}),c,d;Ext.applyIf(b,this.getParams(a));
c=a.getId();d=this.getIdParam();void 0!==c&&void 0===b[d]&&(b[d]=c);b=new Ext.data.Request({params:b,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:this});b.setUrl(this.buildUrl(b));a.setRequest(b);return b},processResponse:function(a,b,c,d){var e;this.fireEvent("beginprocessresponse",this,d,b);!0===a?(e=this.getReader(),e=204===d.status?e.getNullResultSet():e.read(this.extractResponseData(d),{recordCreator:b.getRecordCreator()}),b.process(e,c,d),e=!b.wasSuccessful()):
(this.setException(b,d),e=!0);e&&this.fireEvent("exception",this,d,b);this.afterRequest(c,a);this.fireEvent("endprocessresponse",this,d,b)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText,response:b})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a,b){var c=[],d=a.length,e;for(e=0;e<d;e++)c[e]=a[e].serialize();return this.applyEncoding(b?c[0]:c)},encodeFilters:function(a){var b=[],c=a.length,d;for(d=0;d<
c;d++)b[d]=a[d].serialize();return this.applyEncoding(b)},getParams:function(a){if(!a.isReadOperation)return{};var b={},c=a.getGrouper(),d=a.getSorters(),e=a.getFilters(),f=a.getPage(),g=a.getStart(),h=a.getLimit(),k=this.getSimpleSortMode(),l=this.getSimpleGroupMode(),m=this.getPageParam(),n=this.getStartParam(),p=this.getLimitParam(),q=this.getGroupParam(),r=this.getGroupDirectionParam();a=this.getSortParam();var t=this.getFilterParam(),u=this.getDirectionParam();m&&f&&(b[m]=f);n&&(g||0===g)&&(b[n]=
g);p&&h&&(b[p]=h);if(f=q&&c)l?(b[q]=c.getProperty(),b[r]=c.getDirection()):b[q]=this.encodeSorters([c],!0);a&&d&&0<d.length&&(k?(c=0,1<d.length&&f&&(c=1),b[a]=d[c].getProperty(),b[u]=d[c].getDirection()):b[a]=this.encodeSorters(d));t&&e&&0<e.length&&(b[t]=this.encodeFilters(e));return b},buildUrl:function(a){a=this.getUrl(a);this.getNoCache()&&(a=Ext.urlAppend(a,Ext.String.format("{0}={1}",this.getCacheString(),Ext.Date.now())));return a},getUrl:function(a){var b;a&&(b=a.getUrl()||this.getApi()[a.getAction()]);
return b?b:this.callParent()},doRequest:function(a){},afterRequest:Ext.emptyFn,destroy:function(){this.callParent();Ext.destroy(this.getReader(),this.getWriter());this.reader=this.writer=null}});
Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:!0,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(a){var b=this.getWriter(),c=this.buildRequest(a),d=this.getMethod(c);
b&&a.allowWrite()&&(c=b.write(c));c.setConfig({binary:this.getBinary(),headers:this.getHeaders(),timeout:this.getTimeout(),scope:this,callback:this.createRequestCallback(c,a),method:d,useDefaultXhrHeader:this.getUseDefaultXhrHeader(),disableCaching:!1});"GET"!==d.toUpperCase()&&this.getParamsAsJson()&&(b=c.getParams())&&(a=(a=c.getJsonData())?Ext.Object.merge({},a,b):b,c.setJsonData(a),c.setParams(void 0));this.getWithCredentials()&&(c.setWithCredentials(!0),c.setUsername(this.getUsername()),c.setPassword(this.getPassword()));
return this.sendRequest(c)},sendRequest:function(a){a.setRawRequest(Ext.Ajax.request(a.getCurrentConfig()));return this.lastRequest=a},abort:function(a){(a=a||this.lastRequest)&&Ext.Ajax.abort(a.getRawRequest())},getMethod:function(a){var b=this.getActionMethods();a=a.getAction();var c;b&&(c=b[a]);return c||this.defaultActionMethods[a]},createRequestCallback:function(a,b){var c=this;return function(d,e,f){a===c.lastRequest&&(c.lastRequest=null);c.processResponse(e,b,a,f)}},destroy:function(){this.lastRequest=
null;this.callParent()}});
Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(a,b,c){var d;if(this.getMeta){if(d=this.getMeta(a))this.onMetaChange(d)}else if(a.metaData)this.onMetaChange(a.metaData);return this.callParent([a,b,c])},
getResponseData:function(a){var b;try{return Ext.decode(a.responseText)}catch(c){return b=this.createReadError(c.message),Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.fireEvent("exception",this,a,b),b}},buildExtractors:function(){var a,b;this.callParent(arguments)&&(a=this.getMetaProperty(),this.getRoot=(b=this.getRootProperty())?this.getAccessor(b):Ext.identityFn,a&&(this.getMeta=this.getAccessor(a)))},extractData:function(a,b){var c=this.getRecord(),d=[],e,f;if(c)for(e=
a.length,!e&&Ext.isObject(a)&&(e=1,a=[a]),f=0;f<e;f++)d[f]=a[f][c];else d=a;return this.callParent([d,b])},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a},createAccessor:function(){var a=/[\[\.]/;return function(b){var c=this.getUseSimpleAccessors(),d,e,f,g,h,k,l,m,n;if(b||0===b){if("function"===typeof b)return b;c||(d=String(b).search(a));if(!0===c||0>d)c=function(a){return a[b]};else{c="raw";d=[];e="";f=0;n=b.length;for(m=0;m<=n;++m)l=b[m],g="."===l,h="["===l,k="]"===
l,g=g||h||k||!l,!g||1<f||f&&!k?e+=l:g&&(l=!1,h?++f:k&&(--f,l=!0),e&&(e=l?"["+e+"]":"."+e,c+=e,d.push(""+c),e=""));c=d.join(" && ");c=Ext.functionFactory("raw","return "+c)}return c}}}(),createFieldAccessor:function(a){var b=this,c=a.mapping,d=c||0===c,c=d?c:a.name;if(d)return"function"===typeof c?function(c){return a.mapping(c,b)}:b.createAccessor(c)},getAccessorKey:function(a){var b=this.getUseSimpleAccessors()?"simple":"";return this.$className+b+a},privates:{copyFrom:function(a){this.callParent([a]);
this.getRoot=a.getRoot}}});
Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(a){for(var b=a.length,c=0,d,e,f,g,h;c<b;c++)for(e in d=a[c],d)if(d.hasOwnProperty(e)&&(f=e.split("."),g=f.length-1,0<g)){for(h=d[e];0<g;g--){var k={};k[f[g]]=h;h=k}d[f[0]]=d[f[0]]||{};Ext.Object.merge(d[f[0]],h);delete d[e]}return a},writeRecords:function(a,b){var c=this.getRootProperty(),
d,e;this.getExpandData()&&(b=this.getExpandedData(b));this.getAllowSingle()&&1===b.length&&(b=b[0],d=!0);(e=this.getTransform())&&(b=e(b,a));if(this.getEncode())c&&a.setParam(c,Ext.encode(b));else if(d||b&&b.length)d=a.getJsonData()||{},c?d[c]=b:d=b,a.setJsonData(d);return a}});Ext.define("Ext.util.Group",{extend:Ext.util.Collection,config:{groupKey:null},$endUpdatePriority:2001});
Ext.define("Ext.util.SorterCollection",{extend:Ext.util.Collection,isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(a){this.sortFn=Ext.util.Sorter.createComparator(this);this.callParent([a]);this.setDecoder(this.decodeSorter)},addSort:function(a,b,c){var d,e,f,g,h;a?(e=this.getOptions(),a instanceof Array?(h=a,c=b,b=null):Ext.isString(a)?h=(g=this.get(a))?[g]:[{property:a,direction:b||e.getDefaultSortDirection()}]:Ext.isFunction(a)?
h=[{sorterFn:a,direction:b||e.getDefaultSortDirection()}]:(h=[a],c=b,b=null),c=this._sortModes[c||"replace"],f=this.getAt(0),a=this.length,d=c.append?a:0,this.beginUpdate(),this.splice(d,c.replace?a:0,h),c.multi&&(a=this.length,c=e.getMultiSortLimit(),a>c&&this.removeAt(c,a)),g&&b?g.setDirection(b):0===d&&f&&f===this.getAt(0)&&f.toggle()):this.beginUpdate();this.endUpdate()},clear:function(){this.beginUpdate();this.callParent();this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},
getByProperty:function(a){var b=this.items,c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.getProperty()===a)return e;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(a,b){var c=this.getOptions(),d=c.getRootProperty(),e=this.getSorterOptionsFn();if(a.isSorter)a.getRoot()||a.setRoot(d);else{c={direction:c.getDefaultSortDirection(),root:d};d=typeof a;if("string"===d){if(d=this.get(a))return d;c.property=a}else"function"===d?c.sorterFn=
a:(c=Ext.apply(c,a),c.fn&&(c.sorterFn=c.fn,delete c.fn));a=Ext.create(b||"Ext.util.Sorter",c)}e&&e.call(this.getSorterOptionsScope()||this,a);return a},setSorterConfigure:function(a,b){this.setSorterOptionsFn(a);this.setSorterOptionsScope(b)},decodeRemoveItems:function(a,b){var c=void 0===b?a:a[b];if(!c||!c.$cloned){if(a.length>b+1||!Ext.isIterable(c))c=Ext.Array.slice(a,b);var d=this.items,e=c.length,f=[],g,h,k,l;for(g=0;g<e;g++)if((l=c[g])&&l.isSorter)f.push(l);else if(h=typeof l,"string"===h)(l=
this.get(l))&&f.push(l);else if("function"===h)for(k=d.length;0<k--;)h=d[k],h.getSorterFn()===l&&f.push(h);c=f;c.$cloned=!0}return c},getOptions:function(){return this.$sortable||this}});
Ext.define("Ext.util.FilterCollection",{extend:Ext.util.Collection,isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(a){this.filterFn=Ext.util.Filter.createFilterFn(this);this.callParent([a]);this.setDecoder(this.decodeFilter)},filterData:function(a){return this.filtered?Ext.Array.filter(a,this.filterFn):a},getFilterFn:function(){return this.filterFn},isItemFiltered:function(a){return!this.filterFn(a)},decodeFilter:function(a){var b=this.getOptions().getRootProperty();if(a.isFilter)a.getRoot()||
a.setRoot(b);else{b={root:b};if(Ext.isFunction(a))b.filterFn=a;else if(b=Ext.apply(b,a),b.fn&&(b.filterFn=b.fn,delete b.fn),Ext.util.Filter.isInvalid(b))return!1;a=new Ext.util.Filter(b)}return a},decodeRemoveItems:function(a,b){var c=void 0===b?a:a[b];if(!c.$cloned){if(a.length>b+1||!Ext.isIterable(c))c=Ext.Array.slice(a,b);var d=this.items,e=c.length,f=[],g,h,k,l,m,n,p,q;for(h=0;h<e;h++)if((g=c[h])&&g.isFilter)f.push(g);else for(m=typeof g,k="function"===m,l=void 0!==g.property&&void 0!==g.value,
m="string"===m,q=d.length;0<q--;)n=d[q],p=!1,m?p=n.getProperty()===g:k?p=n.getFilterFn()===g:l&&(p=n.getProperty()===g.property&&n.getValue()===g.value),p&&f.push(n);c=f;c.$cloned=!0}return c},getOptions:function(){return this.$filterable||this}});
Ext.define("Ext.util.GroupCollection",{extend:Ext.util.Collection,isGroupCollection:!0,config:{grouper:null,itemRoot:null},observerPriority:-100,onCollectionAdd:function(a,b){this.addItemsToGroups(a,b.items)},onCollectionBeforeItemChange:function(a,b){this.changeDetails=b},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(a,b){var c=b.item;b.indexChanged||this.syncItemGrouping(a,c,a.getKey(c),b.oldKey,b.oldIndex);
this.changeDetails=null},onCollectionRefresh:function(a){this.removeAll();this.addItemsToGroups(a,a.items)},onCollectionRemove:function(a,b){var c=this.changeDetails,d,e,f,g,h;c?(d=c.item,e=this.findGroupForItem(d),c=[],e&&c.push({group:e,items:[d]})):c=this.groupItems(a,b.items,!1);f=0;for(g=c.length;f<g;++f)if(e=(d=c[f]).group)e.remove(d.items),e.length||(h||(h=[])).push(e);h&&this.remove(h)},onCollectionSort:function(a){a=a.getSorters(!1);var b,c,d,e;if(a)for(b=this.items,c=this.length,d=0;d<c;++d)e=
b[d],e.getSorters()!==a&&e.setSorters(a)},onCollectionUpdateKey:function(a,b){var c,d=b.item;b.indexChanged||(c=a.indexOf(d),this.syncItemGrouping(a,d,b.newKey,b.oldKey,c))},addItemsToGroups:function(a,b){this.groupItems(a,b,!0)},groupItems:function(a,b,c){var d={},e=[],f=a.getGrouper(),g=this.itemGroupKeys,h,k,l,m,n,p;l=0;for(n=b.length;l<n;++l)k=f.getGroupString(m=b[l]),h=a.getKey(m),c?(g||(this.itemGroupKeys=g={}))[h]=k:g&&delete g[h],(h=d[k])||(!(h=this.getByKey(k))&&c&&(p||(p=[])).push(h=this.createGroup(a,
k)),e.push(d[k]=h={group:h,items:[]})),h.items.push(m);l=0;for(n=e.length;l<n;++l)h=e[l],h.group.add(h.items);p&&this.add(p);return e},syncItemGrouping:function(a,b,c,d,e){var f=this.itemGroupKeys||(this.itemGroupKeys={}),g=a.getGrouper().getGroupString(b),h=0,k=-1,l,m;d?(m=f[d],delete f[d]):m=f[c];f[c]=g;(d=this.get(g))||(d=this.createGroup(a,g),l=[d]);d.get(c)!==b?(0<d.getCount()&&0===a.getSorters().getCount()&&(a=a.indexOf(d.items[0]),k=e<a?0:e-a),-1===k?d.add(b):d.insert(k,b)):d.itemChanged(b);
g!==m&&(0===m||m)&&(e=this.get(m))&&(e.remove(b),e.length||(h=[e]));l?this.splice(0,h,l):h&&this.splice(0,h)},createGroup:function(a,b){return new Ext.util.Group({groupKey:b,rootProperty:this.getItemRoot(),sorters:a.getSorters()})},getKey:function(a){return a.getGroupKey()},createSortFn:function(){var a=this.getGrouper(),b=this.getSorters().getSortFn();return a?function(c,d){return a.sort(c.items[0],d.items[0])||b(c,d)}:b},updateGrouper:function(a){this.grouped=!(!a||!this.$groupable.getAutoGroup());
this.onSorterChange();this.onEndUpdateSorters(this.getSorters())},destroy:function(){this.$groupable=null;this.callParent()},privates:{findGroupForItem:function(a){var b=this.items,c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.contains(a))return e}}});
Ext.define("Ext.data.Store",{extend:Ext.data.ProxyStore,alias:"store.store",mixins:[Ext.data.LocalStore],config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(a){if(a&&a.buffered)return new Ext.data.BufferedStore(a);this.callParent([a]);this.getData().addObserver(this);if(a=this.inlineData)delete this.inlineData,this.loadInlineData(a)},onCollectionBeginUpdate:function(){this.beginUpdate()},
onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(a,b){this.getFields();this.getModel();a&&a.isCollection?b=a:(b||(b=this.constructDataCollection()),a&&(this.isInitializing?this.inlineData=a:this.loadData(a)));return b},loadInlineData:function(a){var b=this.getProxy();b&&b.isMemoryProxy?(b.setData(a),this.suspendEvents(),this.read()):(this.removeAll(!0),this.suspendEvents(),this.loadData(a));this.resumeEvents()},onCollectionAdd:function(a,b){this.onCollectionAddItems(a,b.items,
b)},onCollectionFilterAdd:function(a,b){this.onCollectionAddItems(a,b)},onCollectionAddItems:function(a,b,c){a=b.length;var d=c?!c.next:!1,e=this.removed,f=this.ignoreCollectionAdd,g=this.getSession(),h=c&&c.replaced,k,l,m,n;for(k=0;k<a;++k)m=b[k],g&&g.adopt(m),f||(m.join(this),e&&e.length&&Ext.Array.remove(e,m),l=l||m.phantom||m.dirty);if(!f){if(h){n=[];do Ext.Array.push(n,h.items),h=h.next;while(h);this.setMoving(n,!0)}c&&(c.replaced?d&&this.fireEvent("refresh",this):(this.fireEvent("add",this,
b,c.at),d&&this.fireEvent("datachanged",this)));n&&this.setMoving(n,!1);this.needsSync=this.needsSync||l}},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(a,b){var c=b.item,d=b.modified||null,e=b.meta;this.fireChangeEvent(c)&&(this.onUpdate(c,e,d,b),this.fireEvent("update",this,c,e,d,b))},fireChangeEvent:function(a){return this.getDataSource().contains(a)},afterChange:function(a,b,c){this.getData().itemChanged(a,b||null,
void 0,c)},afterCommit:function(a,b){this.afterChange(a,b,Ext.data.Model.COMMIT)},afterEdit:function(a,b){this.needsSync=this.needsSync||a.dirty;this.afterChange(a,b,Ext.data.Model.EDIT)},afterReject:function(a){this.afterChange(a,null,Ext.data.Model.REJECT)},afterDrop:function(a){this.getData().remove(a)},afterErase:function(a){this.removeFromRemoved(a)},addSorted:function(a){var b=this.getRemoteSort(),c=this.getData(),d;b&&c.setSorters(this.getSorters());d=c.findInsertionIndex(a);b&&c.setSorters(null);
return this.insert(d,a)},remove:function(a,b,c){var d=this.getDataSource(),e,f,g,h;if(a)if(a.isModel)-1<d.indexOf(a)?(g=[a],e=1):e=0;else{g=[];f=0;for(e=a.length;f<e;++f){if((h=a[f])&&h.isEntity){if(!d.contains(h))continue}else if(!(h=d.getAt(h)))continue;g.push(h)}e=g.length}if(!e)return[];this.removeIsMove=!0===b;this.removeIsSilent=c;d.remove(g);this.removeIsSilent=!1;return g},onCollectionRemove:function(a,b){var c=this.removed,d=b.items,e=d.length,f=b.at,g=b.replacement,h=this.removeIsMove||
g&&Ext.Array.equals(d,g.items),k=this.removeIsSilent,l=!b.next,m=this.getDataSource(),n,p;if(!this.ignoreCollectionRemove){g&&this.setMoving(g.items,!0);for(n=0;n<e;++n)p=d[n],m.contains(p)||(!c||h||p.phantom||p.erasing?p.unjoin(this):(p.removedFrom=f+n,c.push(p),this.needsSync=!0));k||g&&g.items.length||(this.fireEvent("remove",this,d,f,h),l&&this.fireEvent("datachanged",this));g&&this.setMoving(g.items,!1)}},onFilterEndUpdate:function(){this.callParent(arguments);this.callObservers("Filter")},removeAt:function(a,
b){var c=this.getData();a=Math.max(a,0);if(a<c.length){if(1===arguments.length)b=1;else if(!b)return;c.removeAt(a,b)}},removeAll:function(a){var b=this.getData(),c=b.getRange();b.length&&(this.removeIsSilent=!0,this.callObservers("BeforeRemoveAll"),b.removeAll(),this.removeIsSilent=!1,a||(this.fireEvent("clear",this,c),this.fireEvent("datachanged",this)),this.callObservers("AfterRemoveAll",[!!a]));return c},setRecords:function(a){var b=this.getCount();++this.loadCount;b?this.getData().splice(0,b,
a):this.add(a)},splice:function(a,b,c){return this.getData().splice(a,b,c)},onProxyLoad:function(a){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful();this.destroyed||(b&&(this.totalCount=b.getTotal()),d?(c=this.processAssociation(c),this.loadRecords(c,a.getAddRecords()?{addRecords:!0}:void 0)):this.loading=!1,this.hasListeners.load&&this.fireEvent("load",this,c,d,a),this.callObservers("AfterLoad",[c,d,a]))},filterDataSource:function(a){var b=this.getDataSource(),c=b.items,d=c.length,e=[],
f;for(f=0;f<d;f++)a.call(b,c[f])&&e.push(c[f]);return e},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(a,b){var c=a.length,d=[],e;for(e=0;e<c;e++)d.push(this.createModel(a[e]));d=this.processAssociation(d);this.loadRecords(d,b?this.addRecordsOptions:void 0)},loadRawData:function(a,b){var c=this.getSession(),
c=this.getProxy().getReader().read(a,c?{recordCreator:c.recordCreator}:void 0),d=c.getRecords(),e=c.getSuccess();e&&(this.totalCount=c.getTotal(),this.loadRecords(d,b?this.addRecordsOptions:void 0));return e},loadRecords:function(a,b){var c=a.length,d=this.getData(),e,f;b&&(e=b.addRecords);this.getRemoteSort()||this.getSortOnLoad()||(f=!0,d.setAutoSort(!1));e||this.clearData(!0);this.loading=!1;this.ignoreCollectionAdd=!0;this.callObservers("BeforePopulate");d.add(a);this.ignoreCollectionAdd=!1;f&&
d.setAutoSort(!0);for(d=0;d<c;d++)a[d].join(this);++this.loadCount;this.complete=!0;this.fireEvent("datachanged",this);this.fireEvent("refresh",this);this.callObservers("AfterPopulate")},loadPage:function(a,b){var c=this.getPageSize();this.currentPage=a;b=Ext.apply({page:a,start:(a-1)*c,limit:c,addRecords:!this.getClearOnPageLoad()},b);this.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){var b=this.removed,
c=this.getDataSource(),d=this.getClearRemovedOnLoad(),e=b&&a&&!d,f,g,h,k;if(c){f=c.items;h=0;for(k=f.length;h<k;++h)g=f[h],e&&Ext.Array.contains(b,g)||g.unjoin(this);this.ignoreCollectionRemove=!0;this.callObservers("BeforeClear");c.removeAll();this.ignoreCollectionRemove=!1;this.callObservers("AfterClear")}!b||a&&!d||(b.length=0)},onIdChanged:function(a,b,c){this.getData().updateKey(a,b);this.fireEvent("idchanged",this,a,b,c)},commitChanges:function(){var a=this.getModifiedRecords(),b=a.length,c=
0;Ext.suspendLayouts();for(this.beginUpdate();c<b;c++)a[c].commit();this.cleanRemoved();this.endUpdate();Ext.resumeLayouts(!0)},filterNewOnly:function(a){return!0===a.phantom},filterRejects:function(a){return a.phantom||a.dirty},rejectChanges:function(){var a=this.getRejectRecords(),b=a.length,c,d,e,f,g;Ext.suspendLayouts();this.beginUpdate();for(c=0;c<b;c++)d=a[c],d.phantom?(e=e||[],e.push(d)):d.reject();if(e)for(this.remove(e),c=0,b=e.length;c<b;++c)e[c].reject();if(a=this.getRawRemovedRecords()){b=
a.length;if(e=!this.getRemoteSort()&&this.isSorted())f=this.getData(),g=f.getAutoSort(),f.setAutoSort(!1);for(c=b-1;0<=c;c--)d=a[c],d.reject(),e||this.insert(d.removedFrom||0,d);e&&(f.setAutoSort(g),this.add(a));a.length=0}this.endUpdate();Ext.resumeLayouts(!0)},onDestroy:function(){var a=this.loadTask,b=this.getData().getSource();this.clearData();this.callParent();this.setSession(null);this.observers=null;a&&(a.cancel(),this.loadTask=null);b&&b.destroy()},privates:{fetch:function(a){a=Ext.apply({},
a);this.setLoadOptions(a);this.createOperation("read",a).execute()},onBeforeLoad:function(a){this.callObservers("BeforeLoad",[a])},onRemoteFilterSet:function(a,b){a&&this.getData().setFilters(b?null:a);this.callParent([a,b])},onRemoteSortSet:function(a,b){var c=this.getData();a&&c.setSorters(b?null:a);c.setAutoGroup(!b);this.callParent([a,b])},isMoving:function(a,b){var c=this.moveMap,d=0,e,f;if(c)if(a)if(Ext.isArray(a))for(f=0,e=a.length;f<e;++f)d+=c[a[f].id]?1:0;else c[a.id]&&++d;else d=b?c:this.moveMapCount;
return d},setLoadOptions:function(a){var b=this.getPageSize(),c;this.getRemoteSort()&&!a.grouper&&(c=this.getGrouper())&&(a.grouper=c);if(b||"start"in a||"limit"in a||"page"in a)a.page=null!=a.page?a.page:this.currentPage,a.start=void 0!==a.start?a.start:(a.page-1)*b,a.limit=null!=a.limit?a.limit:b,this.currentPage=a.page;a.addRecords=a.addRecords||!1;!a.recordCreator&&(b=this.getSession())&&(a.recordCreator=b.recordCreator);this.callParent([a])},setMoving:function(a,b){var c=this.moveMap||(this.moveMap=
{}),d=a.length,e,f;for(e=0;e<d;++e)f=a[e].id,b?c[f]?++c[f]:(c[f]=1,++this.moveMapCount):0===--c[f]&&(delete c[f],--this.moveMapCount);0===this.moveMapCount&&(this.moveMap=null)},processAssociation:function(a){var b=this.getAssociatedEntity();b&&(a=this.getRole().processLoad(this,b,a,this.getSession()));return a}}});
Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(a){var b=a.mapping,c=a.hasMapping()?b:a.ordinal;a.mapping=c;c=this.callParent(arguments);a.mapping=b;return c},getModelData:function(a){return{}}});
Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(a,b){if(this.expandData){for(var c=[],d=0,e=a.length;d<e;d++)c[c.length]=[a[d]];a=c}this.callParent([a,b])}});
Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a,b){if(Ext.isArray(a)){var c=["field1"],d=!Ext.isArray(a[0]),e=a,f,g;if(d)for(e=[],f=0,g=a.length;f<g;++f)e.push([a[f]]);else for(f=2,g=a[0].length;f<=g;++f)c.push("field"+f);return new Ext.data.ArrayStore({data:e,
fields:c,autoDestroy:!0,autoCreated:!0,expanded:d})}return Ext.isString(a)?this.get(a):Ext.Factory.store(a,b)},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(a,b){var c;if(Ext.isObject(a))b=a;else{if(Ext.data.StoreManager.containsKey(a))return Ext.data.StoreManager.lookup(a);b.storeId=a}c=b instanceof Ext.data.Store?b:new Ext.data.Store(b);Ext.data.StoreManager.register(c);return c};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)};Ext.regStore("ext-empty-store",
{proxy:"memory",useModelWarning:!1}).isEmptyStore=!0});
Ext.define("Ext.data.Batch",{mixins:{observable:Ext.mixin.Observable},config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.operations=[];this.exceptions=[]},add:function(a){var b,c;if(Ext.isArray(a))for(b=0,c=a.length;b<c;++b)this.add(a[b]);else this.total++,a.setBatch(this),this.operations.push(a);return this},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(a,b){var c=a.order-
b.order;if(c)return c;var c=a.entityType,d=b.entityType,e;if(!c||!d)return 0;(e=c.rank)||(c.schema.rankEntities(),e=c.rank);return(e-d.rank)*a.foreignKeyDirection},start:function(a){if(!this.operations.length||this.running)return this;this.exceptions.length=0;this.exception=!1;this.running=!0;return this.runOperation(Ext.isDefined(a)?a:this.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){this.running&&this.runOperation(this.current+1);return this},pause:function(){this.running=
!1;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var a=null,b=this.current;-1===b||this.complete||(a=this.operations[b]);return a},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(a){var b=this.operations,c=b[a];void 0===c?(this.running=!1,this.complete=!0,this.fireEvent("complete",
this,b[b.length-1])):(this.current=a,c.setInternalCallback(this.onOperationComplete),c.setInternalScope(this),c.execute());return this},onOperationComplete:function(a){var b=a.hasException();b&&(this.exception=!0,this.exceptions.push(a),this.fireEvent("exception",this,a));b&&this.getPauseOnException()?this.pause():(this.fireEvent("operationcomplete",this,a),this.runNextOperation())}});
Ext.define("Ext.app.bind.Template",{numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(a){var b=this._initters,c;this.text=a;for(c in b)this[c]=b[c]},_initters:{apply:function(a,b){return this.parse().apply(a,b)},getTokens:function(){return this.parse().getTokens()}},apply:function(a,b){var c=this.slots,
d=this.buffer,e=c.length,f,g,h;for(f=0;f<e;++f)if(g=c[f])null==(h=a[g.pos])&&(h=""),g.not&&(h=!h),g.format&&(h=g.format(h,b)),d[f]=h;return d.join("")},getTokens:function(){return this.tokens},parse:function(){var a=this.text,b=[],c=[],d=[],e={},f=0,g=this.tokenRe,h=0,k,l,m,n;for(l in this._initters)delete this[l];this.buffer=b;this.slots=c;for(this.tokens=d;l=g.exec(a);){if(k=l.index-f)b[h++]=a.substring(f,f+k),f+=k;f+=(m=l[0]).length;m={fmt:k=l[3]||null,index:l[1]?parseInt(l[1],10):null,not:"!"===
m.charAt(1),token:l[2]||null};n=m.token||String(m.index);n in e?m.pos=e[n]:(e[n]=m.pos=d.length,d.push(n));k&&("this."===k.substring(0,5)?m.fmt=k.substring(5):m.scope=Ext.util.Format,this.parseArgs(l[4],m));c[h++]=m}f<a.length&&(b[h++]=a.substring(f));return this},parseArgs:function(a,b){var c=this.numberRe,d=this.stringRe,e,f,g,h;f=a?0>a.indexOf(",")?[a]:a.split(","):[];b=b||{};h=f.length;b.args=f;for(g=0;g<h;++g)if(e=f[g],"true"===e)f[g]=!0;else if("false"===e)f[g]=!1;else if("null"===e)f[g]=null;
else if(c.test(e))f[g]=parseFloat(e);else if(d.test(e))f[g]=e.substring(1,e.length-1);else{b.fn=Ext.functionFactory("return ["+a+"];");b.format=this._formatEval;break}b.format||(f.unshift(0),b.format=this._formatArgs);return b},parseFormat:function(a){var b=this.formatRe.exec(a);a={fmt:a,scope:Ext.util.Format};var c;(c=b[2])?(a.fmt=b[1],this.parseArgs(c,a)):(a.args=[0],a.format=this._formatArgs);return a},_formatArgs:function(a,b){b=this.scope||b;this.args[0]=a;return b[this.fmt].apply(b,this.args)},
_formatEval:function(a,b){var c=this.fn();c.unshift(a);b=this.scope||b;return b[this.fmt].apply(b,c)}});
Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,config:{store:null,pageSize:0,rootProperty:""},clear:function(a){this.pageMapGeneration=(this.pageMapGeneration||0)+1;this.indexMap={};this.callParent([a])},forEach:function(a,b){var c=Ext.Object.getKeys(this.map),d=c.length,e=this.getPageSize(),f,g,h,k,l;for(f=0;f<d;f++)c[f]=+c[f];Ext.Array.sort(c,Ext.Array.numericSortFn);b=b||this;for(f=0;f<d;f++)for(h=c[f],k=this.getPage(h),l=k.length,g=0;g<l;g++)if(!1===a.call(b,k[g],(h-1)*e+g))return},findBy:function(a,
b){var c=null;b=b||this;this.forEach(function(d,e){if(a.call(b,d,e))return c=d,!1});return c},findIndexBy:function(a,b){var c=-1;b=b||this;this.forEach(function(d,e){if(a.call(b,d))return c=e,!1});return c},find:function(a,b,c,d,e,f){if(Ext.isEmpty(b,!1))return null;var g=Ext.String.createRegex(b,d,e,f),h=this.getRootProperty();return this.findBy(function(b){return b&&g.test((h?b[h]:b)[a])},null,c)},findIndex:function(a,b,c,d,e,f){if(Ext.isEmpty(b,!1))return null;var g=Ext.String.createRegex(b,d,
e,f),h=this.getRootProperty();return this.findIndexBy(function(b){return b&&g.test((h?b[h]:b)[a])},null,c)},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},addAll:function(a){this.addPage(1,a)},addPage:function(a,b){var c=this.getPageSize(),d=a+Math.floor((b.length-1)/c),e=(a-1)*c,f=this.indexMap,g,h,k,l;for(l=0;a<=d;a++,l+=c){g=Ext.Array.slice(b,l,l+c);h=0;for(k=g.length;h<k;h++)f[g[h].internalId]=e++;this.add(a,g);this.fireEvent("pageadd",this,a,g)}},getCount:function(){var a=
this.callParent();a&&(a=(a-1)*this.getPageSize()+this.last.value.length);return a},getByInternalId:function(a){a=this.indexMap[a];if(null!=a)return this.getAt(a)},indexOf:function(a){var b=-1;a&&(b=this.indexMap[a.internalId],null==b&&(b=-1));return b},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(a){var b=this.getPage(a),c,d;if(b&&!1!==this.fireEvent("beforepageremove",this,a,b)){c=b.length;for(d=0;d<c;d++)delete this.indexMap[b[d].internalId];c=this.callParent(arguments);
this.fireEvent("pageremove",this,a,b);b.length=0}return c},getPage:function(a){return this.get(a)},hasRange:function(a,b){for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);c<=d;c++)if(!this.hasPage(c))return!1;return(d-1)*this._pageSize+this.getPage(d).length>b},hasPage:function(a){return!!this.get(a)},peekPage:function(a){return this.map[a]},getAt:function(a){return this.getRange(a,a+1)[0]},getRange:function(a,b){b--;this.hasRange(a,b)||Ext.raise("PageMap asked for range which it does not have");
for(var c=Ext.Array,d=this.getPageSize(),e=this.getPageFromRecordIndex(a),f=this.getPageFromRecordIndex(b),g=(e-1)*d,h=f*d-1,k=e,l=[],m,n,p;k<=f;k++)k===e?(m=a-g,p=0<m):(m=0,p=!1),k===f&&(n=d-(h-b),p=p||n<d),p?c.push(l,c.slice(this.getPage(k),m,n)):c.push(l,this.getPage(k));return l},destroy:function(){this.callParent();this.indexMap={}}});
Ext.define("Ext.data.BufferedStore",{extend:Ext.data.ProxyStore,alias:"store.buffered",isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(a){return this.data||(this.data=this.createDataCollection())},applyProxy:function(a){(a=this.callParent([a]))&&a.setEnablePaging&&a.setEnablePaging(!0);return a},createFiltersCollection:function(){return new Ext.util.FilterCollection},
createSortersCollection:function(){return new Ext.util.SorterCollection},updateGroupField:function(a){this.group(a)},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var a=new Ext.data.PageMap({store:this,rootProperty:"data",pageSize:this.getPageSize(),maxSize:this.getPurgePageCount(),listeners:{clear:this.onPageMapClear,scope:this}});this.relayEvents(a,["beforepageremove","pageadd","pageremove"]);this.pageRequests={};return a},
removeAll:function(a){var b=this.getData();b&&(a&&this.suspendEvent("clear"),b.clear(),a&&this.resumeEvent("clear"))},flushLoad:function(){var a=this.pendingLoadOptions;this.clearLoadTask();if(a)return this.getData().clear(),a.page=1,a.start=0,a.limit=this.getViewSize()||this.getDefaultViewSize(),a.loadCallback=a.callback,a.callback=null,this.loadToPrefetch(a)},reload:function(a){var b=this,c=b.getData(),d=Number.MAX_VALUE,e,f,g,h,k;a||(a={});if(!b.loading&&!1!==b.fireEvent("beforeload",b,a))for(h=
function(){var a=b.totalCount,d=f-e;f>=a&&(f=a-1,e=Math.max(f-d,0));b.rangeCached(e,Math.min(f,b.totalCount))&&(b.loading=!1,c.un("pageadd",h),k=c.getRange(e,f+1),b.fireEvent("load",b,k,!0),b.fireEvent("refresh",b))},g=Math.ceil((b.getLeadingBufferZone()+b.getTrailingBufferZone())/2),b.lastRequestStart&&b.preserveScrollOnReload?(e=b.lastRequestStart,f=b.lastRequestEnd,d=b.getTotalCount()):(e=a.start||0,f=e+(a.count||b.getPageSize())-1),c.clear(!0),delete b.totalCount,e=Math.max(e-g,0),f=Math.min(f+
g,d),g=b.getPageFromRecordIndex(e),d=b.getPageFromRecordIndex(f),b.loading=!0,a.waitForReload=h,c.on("pageadd",h);g<=d;g++)b.prefetchPage(g,a)},filter:function(){this.callParent(arguments)},filterBy:function(a,b){},loadData:function(a,b){},loadPage:function(a,b){b=b||{};b.page=this.currentPage=a;b.start=(a-1)*this.getPageSize();b.limit=this.getViewSize()||this.getDefaultViewSize();b.loadCallback=b.callback;b.callback=null;return this.loadToPrefetch(b)},clearData:function(a){(a=this.getData())&&a.clear()},
getCount:function(){return this.totalCount||0},getRange:function(a,b,c){var d=this,e=d.totalCount-1,f=d.lastRequestStart,g=[],h=d.getData(),k,l,m,n,p;c=Ext.apply({prefetchStart:a,prefetchEnd:b},c);b=b>=d.totalCount?e:b;l=0===a?0:a-1;m=b===e?b:b+1;d.lastRequestStart=a;d.lastRequestEnd=b;d.rangeCached(l,m)?(d.onRangeAvailable(c),g=h.getRange(a,b+1)):(d.fireEvent("cachemiss",d,a,b),n=d.getPageFromRecordIndex(l),p=d.getPageFromRecordIndex(m),k=function(e,f,g){f>=n&&f<=p&&d.rangeCached(l,m)&&(d.fireEvent("cachefilled",
d,a,b),h.un("pageadd",k),d.onRangeAvailable(c))},h.on("pageadd",k),d.prefetchRange(a,b));d.primeCache(a,b,a<f?-1:1);return g},getById:function(a){return this.data.findBy(function(b){return b.getId()===a})},getAt:function(a){var b=this.getData();if(b.hasRange(a,a))return b.getAt(a)},getByInternalId:function(a){return this.data.getByInternalId(a)},contains:function(a){return-1<this.indexOf(a)},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},
group:function(a,b){var c=this,d;a&&"string"===typeof a?(d=c.grouper)?void 0===b?d.toggle():d.setDirection(b):c.grouper=new Ext.util.Grouper({property:a,direction:b||"ASC",root:"data"}):c.grouper=a?c.getSorters().decodeSorter(a,"Ext.util.Grouper"):null;c.getData().clear();c.loadPage(1,{callback:function(){c.fireEvent("groupchange",c,c.getGrouper())}})},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},calculatePageCacheSize:function(a){var b=this.getPurgePageCount();return b?
Math.max(this.getData().getMaxSize()||0,2*Math.ceil((a+this.getTrailingBufferZone()+this.getLeadingBufferZone())/this.getPageSize())+b):0},loadToPrefetch:function(a){var b=this,c=a,d,e,f,g=a.start,h=a.start+a.limit-1,k=b.getViewSize()||a.limit,l=Math.min(h,a.start+k-1),m=b.getPageFromRecordIndex(Math.max(g-b.getTrailingBufferZone(),0)),n=b.getPageFromRecordIndex(h+b.getLeadingBufferZone()),p=b.getData(),q=function(){e=e||[];a.loadCallback&&a.loadCallback.call(a.scope||b,e,u,!0);a.callback&&a.callback.call(a.scope||
b,e,g||0,h||0,a)},r=function(){b.fireEvent("datachanged",b);b.fireEvent("refresh",b);b.fireEvent("load",b,e,!0)},t=function(){b.rangeCached(g,l)&&(b.loading=!1,e=p.getRange(g,l+1),p.un("pageadd",t),b.hasListeners.guaranteedrange&&b.guaranteeRange(g,l,a.callback,a.scope),q(),r())},u;p.setMaxSize(b.calculatePageCacheSize(k));!1!==b.fireEvent("beforeload",b,a)&&(delete b.totalCount,b.loading=!0,a.callback&&(c=Ext.apply({},a),delete c.callback),b.on("prefetch",function(a,e,g,h){u=h;if(g)if(f=b.getTotalCount())for(p.on("pageadd",
t),l=Math.min(l,f-1),n=b.getPageFromRecordIndex(Math.min(l+b.getLeadingBufferZone(),f-1)),d=m+1;d<=n;++d)b.prefetchPage(d,c);else q(),r();else b.loading=!1,q(),b.fireEvent("load",b,e,!1)},null,{single:!0}),b.prefetchPage(m,c))},prefetch:function(a){var b=this.getPageSize(),c=this.getData();b?(this.lastPageSize&&b!=this.lastPageSize&&Ext.raise("pageSize cannot be dynamically altered"),c.getPageSize()||c.setPageSize(b)):this.pageSize=c.setPageSize(b=a.limit);this.lastPageSize=b;a.page||(a.page=this.getPageFromRecordIndex(a.start),
a.start=(a.page-1)*b,a.limit=Math.ceil(a.limit/b)*b);b=this.pageRequests[a.page];b&&b.getOperation().pageMapGeneration===c.pageMapGeneration||(a=Ext.apply({action:"read",filters:this.getFilters().items,sorters:this.getSorters().items,grouper:this.getGrouper(),internalCallback:this.onProxyPrefetch,internalScope:this},a),b=this.createOperation("read",a),b.pageMapGeneration=c.pageMapGeneration,!1!==this.fireEvent("beforeprefetch",this,b)&&(this.pageRequests[a.page]=b.execute(),this.getProxy().isSynchronous&&
delete this.pageRequests[a.page]));return this},onPageMapClear:function(){var a=this.wasLoading,b=this.pageRequests,c=this.getData(),d;c.clearListeners();c.on("clear",this.onPageMapClear,this);this.relayEvents(c,["beforepageremove","pageadd","pageremove"]);this.loading=!0;this.totalCount=0;for(d in b)b.hasOwnProperty(d)&&b[d].getOperation().abort();this.fireEvent("clear",this);this.loading=a},prefetchPage:function(a,b){var c=this.getPageSize(),d=(a-1)*c,e=this.totalCount;void 0!==e&&this.data.getCount()===
e||this.prefetch(Ext.applyIf({page:a,start:d,limit:c},b))},onProxyPrefetch:function(a){if(!this.destroyed){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful(),e=a.getPage(),f=a.waitForReload,g=this.totalCount,h=this.pageRequests,k;if(a.pageMapGeneration===this.getData().pageMapGeneration){b&&(this.totalCount=b.getTotal(),this.totalCount!==g&&this.fireEvent("totalcountchange",this.totalCount));void 0!==e&&delete this.pageRequests[e];this.loading=!1;this.fireEvent("prefetch",this,c,d,a);if(d)if(0===
this.totalCount){if(f){for(k in h)b=h[k].getOperation(),b.waitForReload===f&&delete b.waitForReload;this.getData().un("pageadd",f);this.fireEvent("load",this,[],!0);this.fireEvent("refresh",this)}}else this.cachePage(c,a.getPage());Ext.callback(a.getCallback(),a.getScope()||this,[c,a,d])}}},cachePage:function(a,b){var c=a.length,d;Ext.isDefined(this.totalCount)||(this.totalCount=a.length,this.fireEvent("totalcountchange",this.totalCount));for(d=0;d<c;d++)a[d].join(this);this.getData().addPage(b,a)},
rangeCached:function(a,b){return this.getData().hasRange(a,b)},pageCached:function(a){return this.getData().hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},onRangeAvailable:function(a){var b=this.getTotalCount(),c=a.prefetchStart,b=a.prefetchEnd>b-1?b-1:a.prefetchEnd,d,b=Math.max(0,b);d=this.getData().getRange(c,b+1);!1!==a.fireEvent&&this.fireEvent("guaranteedrange",d,c,b,a);a.callback&&a.callback.call(a.scope||this,d,c,
b,a)},guaranteeRange:function(a,b,c,d,e){e=Ext.apply({callback:c,scope:d},e);this.getRange(a,b+1,e)},prefetchRange:function(a,b){var c,d,e=this.getData();if(!this.rangeCached(a,b))for(c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b),e.setMaxSize(this.calculatePageCacheSize(b-a+1));c<=d;c++)this.pageCached(c)||this.prefetchPage(c)},primeCache:function(a,b,c){var d=this.getLeadingBufferZone(),e=this.getTrailingBufferZone(),f=this.getPageSize(),g=this.totalCount;-1===c?(a=Math.max(a-
d,0),b=Math.min(b+e,g-1)):1===c?(a=Math.max(Math.min(a-e,g-f),0),b=Math.min(b+d,g-1)):(a=Math.min(Math.max(Math.floor(a-(d+e)/2),0),g-this.pageSize),b=Math.min(Math.max(Math.ceil(b+(d+e)/2),0),g-1));this.prefetchRange(a,b)},sort:function(a,b,c){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(a,b,c)},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange();b.length?(a.fireEvent("beforesort",a,b),a.clearAndLoad({callback:function(){a.fireEvent("sort",a,b)}})):a.fireEvent("sort",
a,b)},clearAndLoad:function(a){this.getData().clear();this.loadPage(1,a)},privates:{isLast:function(a){return this.indexOf(a)===this.getTotalCount()-1},isMoving:function(){return!1}}});
Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(a){a=Ext.data.schema.Schema.lookupEntity(a);var b=a.prototype,c;a.prototype.isObservable||a.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable);b.isNode||(b=b.idProperty,b=a.getField(b),c=b.type,a.override(this.getPrototypeBody()),a.addFields([{name:"parentId",type:c,defaultValue:null,allowNull:b.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,
convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",
defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",
defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var a=
{idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},b={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){this.mixins.observable.constructor.call(this);this.callParent(arguments);this.childNodes=[];return this},createNode:function(a){var b=this.childType,e,f=this.self;a.isModel||(b?f=this.schema.getEntity(b):
(b=(b=this.getTreeStore())&&b.getProxy().getReader(),e=(e=this.getProxy())?e.getReader():null,(b=!b||e&&e.initialConfig.typeProperty?e:b)&&(e=b.getTypeProperty())&&(f=b.getChildType(this.schema,a,e))),a=new f(a));a.childNodes||(a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null,a.childNodes=[]);return a},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a,b){var e=this.data,
f=e.depth,g=this.childNodes,h=g.length,k=this.phantom,l=this.fields,m=this.modified||(this.modified={}),n,p,q,r,t=b.parentId,u,v;for(n in b)if(q=l[this.fieldOrdinals[n]],p=b[n],v=q&&q.persist,q=e[n],(u=v&&"index"===n&&-1!==q&&t&&t!==m.parentId)||!this.isEqual(q,p))if(e[n]=p,v)if(!u&&m.hasOwnProperty(n)){if(this.isEqual(m[n],p))for(r in delete m[n],this.dirty=!1,m)if(m.hasOwnProperty(r)){this.dirty=!0;break}}else this.dirty=!0,m[n]=q;a&&(this.commit(),this.phantom=k);if(this.data.depth!==f)for(e={depth:this.data.depth+
1},f=0;f<h;f++)g[f].updateInfo(a,e)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){return this.get("expandable")?!(this.isLeaf()||this.isLoaded()&&!this.phantom&&!this.hasChildNodes()):!1},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(a,b,e){var f,g,h,k,l={isLast:!0,parentId:this.getId(),depth:(this.data.depth||0)+1},m=(f=
this.getTreeStore())&&f.bulkUpdate;Ext.suspendLayouts();if(Ext.isArray(a)){g=a.length;h=Array(g);this.callTreeStore("beginFill");for(f=0;f<g;f++)h[f]=this.appendChild(a[f],b,e);this.callTreeStore("endFill",[h])}else{a=this.createNode(a);if(!0!==b&&!1===this.fireEventArgs("beforeappend",[this,a]))return Ext.resumeLayouts(!0),!1;h=this.childNodes.length;if(g=a.parentNode)if(!0!==b&&!1===a.fireEventArgs("beforemove",[a,g,this,h])||!1===g.removeChild(a,!1,b,g.getTreeStore()===f))return Ext.resumeLayouts(!0),
!1;f&&f.beginUpdate();h=this.childNodes.length;0===h&&this.setFirstChild(a);this.childNodes[h]=a;a.parentNode=this;a.nextSibling=null;this.setLastChild(a);(k=this.childNodes[h-1])?(a.previousSibling=k,k.nextSibling=a,k.updateInfo(e,{isLast:!1}),m||k.triggerUIUpdate()):a.previousSibling=null;l.isFirst=0===h;l.index=h;a.updateInfo(e,l);this.isLeaf()&&this.set("leaf",!1);this.isLoaded()?1!==this.childNodes.length||m||this.triggerUIUpdate():m?this.data.loaded=!0:this.set("loaded",!0);h&&this.childNodes[h-
1].isExpanded()&&!m&&this.childNodes[h-1].cascadeBy(this.triggerUIUpdate);f&&(f.registerNode(this,!m),m&&f.registerNode(a));!0!==b&&(this.fireEventArgs("append",[this,a,h]),g&&a.fireEventArgs("move",[a,g,this,h]));this.callTreeStore("onNodeAppend",[a,h]);h=a;f&&f.endUpdate()}Ext.resumeLayouts(!0);return h},getOwnerTree:function(){var a=this.getTreeStore();if(a)return a.ownerTree},getTreeStore:function(){for(var a=this;a&&!a.treeStore;)a=a.parentNode;return a&&a.treeStore},removeChild:function(a,d,
e,f){var g=this.indexOf(a),h,k=this.getTreeStore(),l=k&&k.bulkUpdate;if(-1===g||!0!==e&&!1===this.fireEventArgs("beforeremove",[this,a,!!f]))return!1;Ext.suspendLayouts();k&&k.beginUpdate();Ext.Array.erase(this.childNodes,g,1);this.firstChild===a&&this.setFirstChild(a.nextSibling);this.lastChild===a&&this.setLastChild(a.previousSibling);if(h=a.previousSibling)a.previousSibling.nextSibling=a.nextSibling;if(a.nextSibling)for(a.nextSibling.previousSibling=a.previousSibling,0===g&&a.nextSibling.updateInfo(!1,
{isFirst:!0}),h=this.childNodes.length;g<h;g++)this.childNodes[g].updateInfo(!1,{index:g});else h&&(h.updateInfo(!1,{isLast:!0}),l||(h.isExpanded()?h.cascadeBy(this.triggerUIUpdate):h.triggerUIUpdate()));this.childNodes.length||l||this.triggerUIUpdate();Ext.resumeLayouts(!0);!0!==e&&(e={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling},this.callTreeStore("beforeNodeRemove",[[a],!!f]),a.previousSibling=a.nextSibling=a.parentNode=null,this.fireEventArgs("remove",[this,
a,!!f,e]),this.callTreeStore("onNodeRemove",[[a],!!f]));d?a.erase(!0):a.clear();f||a.set({parentId:null,lastParentId:this.getId()},b);k&&k.endUpdate();return a},copy:function(a,b){var e=this.callParent([a]),f=this.childNodes?this.childNodes.length:0,g;if(b)for(g=0;g<f;g++)e.appendChild(this.childNodes[g].copy(void 0,!0));return e},clear:function(a){this.parentNode=this.previousSibling=this.nextSibling=null;a&&(this.firstChild=this.lastChild=this.childNodes=null)},drop:function(){var a=this.childNodes,
b=this.parentNode,e=a?a.length:0,f,g;this.callParent();b?(g=this.getTreeStore(),b.removeChild(this)):this.get("root")&&(g=this.getTreeStore(),g.setRoot(null));g&&g.beginUpdate();for(b=0;b<e;b++)f=a[b],f.clear(),f.drop();g&&g.endUpdate()},erase:function(a){var b=this.childNodes,e=b&&b.length,f,g;this.remove();this.clear(!0);this.callParent([a]);for(f=0;f<e;f++)g=b[f],g.parentNode=null,g.erase(a)},insertBefore:function(a,b,e){var f=this.indexOf(b),g=a.parentNode,h=f,k,l=this.getTreeStore(),m=l&&l.bulkUpdate;
if(!b)return this.appendChild(a);if(a===b)return!1;a=this.createNode(a);if(!0!==e&&!1===this.fireEventArgs("beforeinsert",[this,a,b]))return!1;g===this&&this.indexOf(a)<f&&h--;if(g&&(!0!==e&&!1===a.fireEventArgs("beforemove",[a,g,this,f,b])||!1===g.removeChild(a,!1,e,g.getTreeStore()===l)))return!1;l&&l.beginUpdate();0===h&&this.setFirstChild(a);Ext.Array.splice(this.childNodes,h,0,a);a.parentNode=this;a.nextSibling=b;b.previousSibling=a;(f=this.childNodes[h-1])?(a.previousSibling=f,f.nextSibling=
a):a.previousSibling=null;a.updateInfo(!1,{parentId:this.getId(),index:h,isFirst:0===h,isLast:!1,depth:(this.data.depth||0)+1});k=h+1;for(f=this.childNodes.length;k<f;k++)this.childNodes[k].updateInfo(!1,{index:k});this.isLoaded()?1!==this.childNodes.length||m||this.triggerUIUpdate():m?this.data.loaded=!0:this.set("loaded",!0);l&&l.registerNode(this,!m);!0!==e&&(this.fireEventArgs("insert",[this,a,b]),g&&a.fireEventArgs("move",[a,g,this,h,b]));this.callTreeStore("onNodeInsert",[a,h]);l&&l.endUpdate();
return a},insertChild:function(a,b){var e=this.childNodes[a];return e?this.insertBefore(b,e):this.appendChild(b)},isLastVisible:function(){var a=this.data.isLast,b=this.nextSibling;if(!a&&this.getTreeStore().isFiltered()){for(;b;){if(b.data.visible)return!1;b=b.nextSibling}return!0}return a},remove:function(a,b){var e=this.parentNode;e?e.removeChild(this,a,b):a&&this.erase(!0);return this},removeAll:function(a,b,e){var f=this.childNodes,g=f.length,h,k,l;if(g){!e&&(k=this.getTreeStore())&&(k.beginUpdate(),
k.suspendEvent("remove"),this.callTreeStore("beforeNodeRemove",[f,!1]));for(l=0;l<g;++l)h=f[l],h.previousSibling=h.nextSibling=h.parentNode=null,this.fireEventArgs("remove",[this,h,!1]),a?h.erase(!0):h.removeAll(!1,b,!0);!e&&k&&(k.resumeEvent("remove"),this.callTreeStore("onNodeRemove",[f,!1]),k.endUpdate());this.firstChild=this.lastChild=null;f.length=0;e||this.triggerUIUpdate();return this}},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b,e){var f=b?b.nextSibling:null;
this.removeChild(b,!1,e);this.insertBefore(a,f,e);return b},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){for(var b=this.childNodes,e=b.length,f=0;f<e;++f)if(b[f].getId()===a)return f;return-1},getPath:function(a,b){a=a||this.idProperty;b=b||"/";for(var e=[this.get(a)],f=this.parentNode;f;)e.unshift(f.get(a)),f=f.parentNode;return b+e.join(b)},getDepth:function(){return this.get("depth")},bubble:function(a,b,e){for(var f=this;f&&!1!==a.apply(b||f,e||[f]);)f=
f.parentNode},cascade:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.");return this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,b,e,f){1!==arguments.length||Ext.isFunction(a)||(f=a.after,b=a.scope,e=a.args,a=a.before);if(!a||!1!==a.apply(b||this,e||[this])){var g=this.childNodes,h=g.length,k;for(k=0;k<h;k++)g[k].cascadeBy.call(g[k],a,b,e,f);f&&f.apply(b||this,e||[this])}},eachChild:function(a,
b,e){var f=this.childNodes,g=f.length,h;for(h=0;h<g&&!1!==a.apply(b||this,e||[f[h]]);h++);},findChild:function(a,b,e){return this.findChildBy(function(){return this.get(a)==b},null,e)},findChildBy:function(a,b,e){for(var f=this.childNodes,g=f.length,h=0,k;h<g;h++)if(k=f[h],!0===a.call(b||k,k)||e&&(k=k.findChildBy(a,b,e),null!==k))return k;return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1},sort:function(a,
b,e){var f=this.childNodes,g=f.length,h,k,l={isFirst:!0};if(0<g){a||(a=this.getTreeStore().getSortFn());Ext.Array.sort(f,a);this.setFirstChild(f[0]);this.setLastChild(f[g-1]);for(h=0;h<g;h++)k=f[h],k.previousSibling=f[h-1],k.nextSibling=f[h+1],l.isLast=h===g-1,l.index=h,k.updateInfo(!1,l),l.isFirst=!1,b&&!k.isLeaf()&&k.sort(a,!0,!0);!0!==e&&(this.fireEventArgs("sort",[this,f]),this.callTreeStore("onNodeSort",[f]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},
isBranchLoaded:function(){var a=!this.isLeaf()&&this.isLoaded();a&&this.cascadeBy(function(b){b.isLeaf()||(a=a||b.isBranchLoaded());return a});return a},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var a=this.parentNode;a;){if(!a.isExpanded())return!1;a=a.parentNode}return!0},expand:function(a,b,e){var f=this,g,h;if(f.isLeaf())Ext.callback(b,e||f);else if(f.isLoading())f.on("expand",function(){f.expand(a,b,e)},f,{single:!0});else if(f.isExpanded())a?
f.expandChildren(!0,b,e):Ext.callback(b,e||f,[f.childNodes]);else if(!1!==f.fireEventArgs("beforeexpand",[f])){if(a)if(f.parentNode&&f.parentNode.isSynchronousRecursiveExpand)f.isSynchronousRecursiveExpand=!0;else if(g=f.getTreeStore(),g.getProxy().isSynchronous||f.isBranchLoaded())f.isSynchronousRecursiveExpand=!0,g.suspendEvent("add"),h=!0;f.callTreeStore("onBeforeNodeExpand",[f.onChildNodesAvailable,f,[a,b,e]]);h&&(g.resumeEvent("add"),g.fireEvent("refresh",g));f.isSynchronousRecursiveExpand=!1}},
onChildNodesAvailable:function(a,b,e,f){var g=this.getTreeStore(),g=g&&g.bulkUpdate,h,k,l;Ext.suspendLayouts();for(h=this.parentNode;h;h=h.parentNode)h.isExpanded()||(l||(l=[])).unshift(h);g?this.data.expanded=!0:this.set("expanded",!0);if(l){for(k=1;k<l.length;k++)h=l[k],g?h.data.expanded=!0:h.set("expanded",!0);l[0].expand();for(k=1;k<l.length;k++)h=l[k],h.fireEventArgs("expand",[h,h.childNodes])}else this.callTreeStore("onNodeExpand",[a,!1]);this.fireEventArgs("expand",[this,a]);b?this.expandChildren(!0,
e,f):Ext.callback(e,f||this,[this.childNodes]);Ext.resumeLayouts(!0)},expandChildren:function(a,b,e,f){var g,h,k,l;Ext.isBoolean(b)&&(g=b,b=e,e=f,f=g);void 0===f&&(f=(g=this.getTreeStore())&&g.singleExpand);g=this.childNodes;h=[];k=f?Math.min(g.length,1):g.length;for(f=0;f<k;++f)l=g[f],l.isLeaf()||(h[h.length]=l);k=h.length;for(f=0;f<k;++f)h[f].expand(a);b&&Ext.callback(b,e||this,[this.childNodes])},collapse:function(a,b,e){var f=this,g=f.isExpanded(),h=f.getTreeStore(),h=h&&h.bulkUpdate,k=f.childNodes.length,
l;if(!f.isLeaf()&&(!g&&a||!1!==f.fireEventArgs("beforecollapse",[f]))){Ext.suspendLayouts();if(f.isExpanded())a?(a=function(){for(l=0;l<k;l++)f.childNodes[l].setCollapsed(!0)},b=b?Ext.Function.createSequence(a,Ext.Function.bind(b,e,[f.childNodes])):a):b&&(b=Ext.Function.bind(b,e,[f.childNodes])),h?f.data.expanded=!1:f.set("expanded",!1),f.callTreeStore("onNodeCollapse",[f.childNodes,b,e]),f.fireEventArgs("collapse",[f,f.childNodes]),b=null;else if(a)for(l=0;l<k;l++)f.childNodes[l].setCollapsed(!0);
Ext.resumeLayouts(!0)}Ext.callback(b,e||f,[f.childNodes])},setCollapsed:function(a){var b=this.childNodes.length;if(!this.isLeaf()&&!1!==this.fireEventArgs("beforecollapse",[this])&&(this.data.expanded=!1,this.fireEventArgs("collapse",[this,this.childNodes]),a))for(a=0;a<b;a++)this.childNodes[a].setCollapsed(!0)},collapseChildren:function(a,b,e){var f,g=this.childNodes,h=g.length,k=[],l;for(f=0;f<h;++f)l=g[f],!l.isLeaf()&&l.isLoaded()&&l.isExpanded()&&k.push(l);if(h=k.length)for(f=0;f<h;++f)l=k[f],
f===h-1?l.collapse(a,b,e):l.collapse(a);else Ext.callback(b,e)},fireEvent:function(a){return this.fireEventArgs(a,Ext.Array.slice(arguments,1))},fireEventArgs:function(b,d){var e=Ext.mixin.Observable.prototype.fireEventArgs,f,g,h;if(a[b]){for(g=this;!1!==f&&g;g=(h=g).parentNode)g.hasListeners&&g.hasListeners[b]&&(f=e.call(g,b,d));!1!==f&&(g=h.getTreeStore())&&g.hasListeners&&g.hasListeners[b="node"+b]&&(f=g.fireEventArgs(b,d));return f}return e.apply(this,arguments)},serialize:function(a){a=a||new Ext.data.writer.Json({writeAllFields:!0});
var b=a.getRecordData(this),e=this.childNodes,f=e.length,g,h;if(0<f)for(b.children=g=[],h=0;h<f;h++)g.push(e[h].serialize(a));return b},callTreeStore:function(a,b){var e=this.getTreeStore(),f=e&&e[a];e&&f&&(b=b||[],b[0]!==this&&b.unshift(this),f.apply(e,b))},privates:{join:function(a){a.isTreeStore?this.isRoot()&&(this.treeStore=this.store=a):this.callParent([a])},callJoined:function(a,b){this.callParent([a,b]);this.callTreeStore(a,b)}}}}}});
Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:!0,query:function(a){return Ext.ComponentQuery.query(a||"*",this.getQueryRoot())},queryBy:function(a,b){for(var c=[],d=this.getQueryRoot().getRefItems(!0),e=0,f=d.length,g;e<f;++e)g=d[e],!1!==a.call(b||g,g)&&c.push(g);return c},queryById:function(a){return this.down(Ext.makeIdSelector(a))},child:function(a){var b=this.getQueryRoot().getRefItems();if(a&&a.isComponent)return this.matchById(b,a.getItemId());a&&(b=Ext.ComponentQuery.query(a,
b));return b.length?b[0]:null},down:function(a){return a&&a.isComponent?this.matchById(this.getRefItems(!0),a.getItemId()):this.query(a||"")[0]||null},visitPreOrder:function(a,b,c,d){Ext.ComponentQuery._visit(!0,a,this.getQueryRoot(),b,c,d)},visitPostOrder:function(a,b,c,d){Ext.ComponentQuery._visit(!1,a,this.getQueryRoot(),b,c,d)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(a,b){var c=a.length,d,e;for(d=0;d<c;++d)if(e=a[d],e.getItemId()===b)return e;
return null}}});Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model,mixins:[Ext.mixin.Queryable],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},function(){Ext.data.NodeInterface.decorate(this)});
Ext.define("Ext.data.Request",{config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3E4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(a){this.initConfig(a)},getParam:function(a){var b=this.getParams();if(b)return b[a]},setParam:function(a,b){var c=this.getParams()||
{};c[a]=b;this.setParams(c)}});
Ext.define("Ext.data.TreeStore",{extend:Ext.data.Store,alias:"store.tree",isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:!1},lazyFill:!1,fillCount:0,bulkUpdate:0,_silentOptions:{silent:!0},implicitModel:"Ext.data.TreeModel",constructor:function(a){this.byIdMap={};this.callParent([a])},applyFields:function(a,b){a&&this.defaultRootProperty!==
this.self.prototype.config.defaultRootProperty&&(a=a.concat({name:this.defaultRootProperty,type:"auto",defaultValue:null,persist:!1}));this.callParent([a,b])},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange(),c=a.getRoot(),d=a.getFolderSort();a.fireEvent("beforesort",a,b);c&&(d||b.length)?a.getRemoteSort()?b.length&&a.load({callback:function(){a.fireEvent("sort",a,b)}}):(c.sort(this.getSortFn(),!0),a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("sort",a,b)):a.fireEvent("sort",
a,b)},updateFolderSort:function(a){this.needsFolderSort=a;this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var a=this,b=this.sorters.getSortFn();return function(c,d){var e,f;e=0;a.needsFolderSort&&(e=c.data.leaf?1:0,f=d.data.leaf?1:0,e-=f);a.needsIndexSort&&0===e&&(e=c.data.index-d.data.index);return e||b(c,d)}},getTotalCount:function(){return this.getCount()},afterEdit:function(a,b){this.needsLocalFilter()&&this.doFilter(a);
this.callParent([a,b])},afterReject:function(a){this.contains(a)&&(this.onUpdate(a,Ext.data.Model.REJECT,null),this.fireEvent("update",this,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,b){b||(b=null);this.contains(a)&&(this.onUpdate(a,Ext.data.Model.COMMIT,b),this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b))},fireChangeEvent:function(a){return!!this.byIdMap[a.id]},updateRootVisible:function(a){var b=this.getRoot(),c;b&&(c=this.getData(),a?c.insert(0,b):c.remove(b))},updateTrackRemoved:function(a){this.callParent(arguments);
this.removedNodes=this.removed;this.removed=null},onDestroyRecords:function(a,b,c){c&&(this.removedNodes.length=0)},updateProxy:function(a){a&&(a.setIdParam&&a.setIdParam(this.getNodeParam()),a=a.getReader(),Ext.isEmpty(a.getRootProperty())&&a.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(a){this.changingProxy=!0;this.callParent([a]);this.changingProxy=!1},updateModel:function(a){var b=a.prototype.isNode;Ext.data.NodeInterface.decorate(a);b||this.changingProxy||this.getProxy().getReader().buildExtractors(!0)},
onFilterEndUpdate:function(a){var b=this,c=a.length,d=b.getRoot(),e,f,g,h;if(b.getRemoteFilter())b.callParent([a]);else{c?b.doFilter(d):d.cascadeBy({after:function(a){a.set("visible",!0,b._silentOptions)}});if(c)for(g=[],e=d.childNodes,h=0,c=e.length;h<c;h++)f=e[h],f.get("visible")&&g.push(f);else g=d.childNodes;b.onNodeFilter(d,g);d.fireEvent("filterchange",d,g);b.fireEvent("filterchange",b,a);b.suppressNextFilter=!0;b.callParent([a]);b.suppressNextFilter=!1}},onNodeFilter:function(a,b){var c=this.getData(),
d=[];this.getRootVisible()&&(b.length?d.push(a):a.set("visible",!1,this._silentOptions));this.handleNodeExpand(a,b,d);this.suspendEvents();c.splice(0,c.getCount(),d);this.resumeEvents();this.suppressNextFilter||(this.fireEvent("datachanged",this),this.fireEvent("refresh",this))},onBeforeNodeExpand:function(a,b,c,d){var e=this,f,g,h;if(a.isLoaded())h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h);else if(a.isLoading())e.on("load",function(){h=[a.childNodes];d&&h.push.apply(h,d);Ext.callback(b,
c||a,h)},e,{single:!0,priority:1001});else f=e.getProxy().getReader(),f=(g=(g=a.getProxy())?g.getReader():null)&&g.initialConfig.rootProperty?g:f,(g=f.getRoot(a.raw||a.data))||a.phantom&&!a.isRoot()?(g&&e.fillNode(a,f.extractData(g,{model:a.childType,recordCreator:e.recordCreator})),h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)):(e.read({node:a,onChildNodesAvailable:function(){delete e.lastOptions.onChildNodesAvailable;h=[a.childNodes];d&&h.push.apply(h,d);Ext.callback(b,c||a,h)}}),
e.flushLoad())},onNodeExpand:function(a,b){var c=this.indexOf(a)+1,d=[];this.handleNodeExpand(a,b,d);this.refreshCounter||!a.isRoot()||a.get("visible")?this.insert(c,d):this.loadRecords(d)},handleNodeExpand:function(a,b,c){var d=b?b.length:0,e;if((a===this.getRoot()||this.isVisible(a))&&d)for(a=0;a<d;a++)e=b[a],e.get("visible")&&(c.push(e),e.isExpanded()&&(e.isLoaded()?this.handleNodeExpand(e,e.childNodes,c):(e.set("expanded",!1),e.expand())))},onNodeCollapse:function(a,b,c,d){var e=this.indexOf(a)+
1;this.needsLocalFilter()&&(b=Ext.Array.filter(b,this.filterVisible));b.length&&this.data.contains(b[0])&&(a=this.indexOfNextVisibleNode(a),this.removeAt(e,a-e));Ext.callback(c,d)},indexOfNextVisibleNode:function(a){for(var b;a.parentNode;){for(b=a.nextSibling;b&&!b.get("visible");b=b.nextSibling);if(b)return this.indexOf(b);a=a.parentNode}return this.getCount()},filterNew:function(a){return!a.get("root")&&this.callParent([a])},filterRejects:function(a){return!a.get("root")&&this.callParent([a])},
getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(a,b){Ext.isArray(b)||(b=[b]);var c=b.length,d,e;for(d=0;!e&&d<c;d++)b[d].get("visible")&&(e=b[d]);e?(this.startRemoveIndex=this.indexOf(b[0]),this.lastRemoveIndexPlusOne=this.indexOfNextVisibleNode(b[b.length-1])):(this.startRemoveIndex=-1,this.lastRemoveIndexPlusOne=
0)},afterDrop:Ext.emptyFn,onNodeRemove:function(a,b,c){var d=this,e=d.removedNodes;a=b.length;var f=d.startRemoveIndex,g=d.lastRemoveIndexPlusOne;d.suspendAutoSync();-1!==f&&(d.removeIsMove=c,d.removeAt(f,g-f),d.removeIsMove=!1);for(f=0;f<a;f++)b[f].cascadeBy(function(a){d.unregisterNode(a);!e||c||a.phantom||a.erasing||d.loading||(a.removedFrom=d.indexOf(a),e.push(a),d.needsSync=!0)});d.resumeAutoSync()},onNodeAppend:function(a,b,c){this.onNodeInsert(a,b,c)},onNodeInsert:function(a,b,c){var d=b.raw||
b.data,e=this.removedNodes;a&&this.needsLocalFilter()&&this.doFilter(a);this.beginUpdate();if(this.isVisible(b)){if(0!==c&&b.previousSibling){for(a=b.previousSibling;a&&!a.get("visible");a=a.previousSibling);for(;a.isExpanded()&&a.lastChild;)a=a.lastChild}this.insert(this.indexOf(a)+1,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,b.childNodes);else this.fillCount||(b.set("expanded",!1),b.expand())}Ext.Array.remove(e,b);this.needsSync=this.needsSync||b.phantom||b.dirty;b.isLeaf()||
b.isLoaded()||this.lazyFill||(e=this.getProxy().getReader(),e=(a=(a=b.getProxy())?a.getReader():null)&&a.initialConfig.rootProperty?a:e,(d=e.getRoot(d))&&this.fillNode(b,e.extractData(d,{model:b.childType,recordCreator:this.recordCreator})));this.endUpdate()},registerNode:function(a,b){var c,d,e;this.byIdMap[a.id]=a;if(!0===b)for(c=a.childNodes,d=c.length,e=0;e<d;e++)this.registerNode(c[e],!0)},unregisterNode:function(a,b){var c,d,e;delete this.byIdMap[a.id];if(!0===b)for(c=a.childNodes,d=c.length,
e=0;e<d;e++)this.unregisterNode(c[e],!0)},onNodeSort:function(a,b){this.suspendAutoSync();if(-1!==this.indexOf(a)&&a.isExpanded()||a===this.getRoot()&&!this.getRootVisible())Ext.suspendLayouts(),this.onNodeCollapse(a,b),this.onNodeExpand(a,b),Ext.resumeLayouts(!0);this.resumeAutoSync(this.autoSync)},applyRoot:function(a){var b=this.getModel(),c=b.prototype.idProperty,d=this.getDefaultRootId();a&&!a.isNode&&(a=Ext.apply({text:this.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,
allowDrag:!1},a),d&&void 0===a[c]&&(a[c]=d),a=new b(a));return a},updateRoot:function(a,b){var c=this,d,e=!b;c.byIdMap={};c.getTrackRemoved();c.suspendEvent("add","remove");b&&b.isModel&&(d=c.getRootVisible()?[b]:b.childNodes,c.beforeNodeRemove(null,d),b.set("root",!1),c.onNodeRemove(null,d),b.fireEvent("remove",null,b,!1),b.fireEvent("rootchange",null),b.clearListeners(),b.store=b.treeStore=null);c.getData().clear();if(a)if(!1===a.fireEventArgs("beforeappend",[null,a]))a=null;else{if(d=a.parentNode){if(!d.removeChild(a,
!1,!1,d.getTreeStore()===c))return}else(d=a.getTreeStore())&&d!==c&&a===d.getRoot()&&d.setRoot(null);a.store=a.treeStore=c;a.set("root",!0);a.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});c.registerNode(a,!0);a.fireEvent("append",null,a,!1);a.fireEvent("rootchange",a);c.onNodeAppend(null,a,0);a.phantom=!0}c.fireEvent("rootchange",a,b);a&&(c.getAutoLoad()||a.isExpanded())?a.isLoaded()?(c.onNodeExpand(a,a.childNodes),c.fireEvent("datachanged",c),c.fireEvent("refresh",c)):(a.data.expanded=
!1,a.expand(!1,function(){c.fireEvent("datachanged",c);c.fireEvent("refresh",c)})):e||(c.fireEvent("datachanged",c),c.fireEvent("refresh",c));c.resumeEvent("add","remove")},getNodeById:function(a){return this.byIdMap[a]||null},findNode:function(a,b,c,d,e){if(Ext.isEmpty(b,!1))return null;if(b===this.model.idProperty&&3>arguments.length)return this.byIdMap[b];var f=Ext.String.createRegex(b,c,d,e),g=null;Ext.Object.eachValue(this.byIdMap,function(b){if(b&&f.test(b.get(a)))return g=b,!1});return g},
load:function(a){var b=a&&a.node;if(!b&!(b=this.getRoot()))this.setRoot({expanded:!0});else if(!b.isLoading())return this.callParent([a])},flushLoad:function(){var a=this.pendingLoadOptions,b,c,d,e=this.getClearOnLoad(),f,g;this.clearLoadTask();if(a)return f=(b=a.node||this.getRoot())&&b.isRoot()&&b.isLoaded()&&e,c=a.callback,d=a.scope,a.params=a.params||{},b.data.expanded&&!f&&(b.data.loaded=!1,e&&(b.data.expanded=!1),a.callback=function(a,f,g){e||b.collapse();b.expand();Ext.callback(c,d,[a,f,g])}),
a.id=b.getId(),a=Ext.apply({filters:this.getFilters().items,sorters:this.getSorters().items,node:a.node||b,internalScope:this,internalCallback:this.onProxyLoad},a),this.lastOptions=Ext.apply({},a),a.isReload=f,a=this.createOperation("read",a),!1!==this.fireEvent("beforeload",this,a)&&(this.loading=!0,f?(this.getClearRemovedOnLoad()&&(this.removedNodes.length=0),this.unregisterNode(b,!0),b.childNodes.length=0,g=!0):e&&(this.getTrackRemoved()&&this.getClearRemovedOnLoad()&&this.clearRemoved(b),b.removeAll(!1)),
this.loading&&b&&b.set("loading",!0),g&&(this.clearData(!0),this.getRootVisible()&&(this.suspendEvents(),this.add(b),this.resumeEvents())),a.execute()),this},onProxyLoad:function(a){var b=a.initialConfig,c=a.wasSuccessful(),d=a.getRecords(),e=b.node,f=b.isReload,g=a.getScope()||this,h=[d,a,c];this.destroyed||(this.loading=!1,e.set("loading",!1),c&&(++this.loadCount,this.getClearOnLoad()||(d=this.cleanRecords(e,d)),this.getParentIdProperty()&&(d=this.treeify(e,d)),f&&this.suspendEvent("add","update"),
d=this.fillNode(e,d)),f?(this.resumeEvent("add","update"),this.callObservers("BeforePopulate"),this.fireEvent("datachanged",this),this.fireEvent("refresh",this),this.callObservers("AfterPopulate")):Ext.callback(b.onChildNodesAvailable,g,h),this.fireEvent("load",this,d,c,a,e))},clearRemoved:function(a){var b=this.removedNodes,c=a.getId(),d=b.length,e=d,f={},g=[],h={},k,l;if(a===this.getRoot())this.removedNodes.length=0;else{for(;e--;)a=b[e],h[a.getId()]=a;for(e=d;e--;){for(k=a=b[e];k&&k.getId()!==
c;)l=k.get("parentId")||k.get("lastParentId"),k=k.parentNode||this.getNodeById(l)||h[l];k&&(f[a.getId()]=a)}for(e=0;e<d;e++)a=b[e],f[a.getId()]||g.push(a);this.removedNodes=g}},fillNode:function(a,b){var c=b?b.length:0;++this.bulkUpdate;c&&this.setupNodes(b);1===this.bulkUpdate?a.set("loaded",!0):a.data.loaded=!0;b.length&&a.appendChild(b,void 0,!0);--this.bulkUpdate;return b},setupNodes:function(a){var b=this.getSorters(),c=!1,d=a.length,b=this.sortOnLoad&&1<d&&!this.getRemoteSort()&&this.getFolderSort()||
b.length,e,f,g;this.needsLocalFilter()&&(g=this.getFilters().getFilterFn(),a[0].set("visible",g(a[0])));for(f=1;f<d;f++)c=a[f],e=a[f-1],g&&c.set("visible",g(c)),c=c.data.index!==e.data.index;b?(this.needsIndexSort=!0,Ext.Array.sort(a,this.getSortFn()),this.needsIndexSort=!1):c&&Ext.Array.sort(a,this.sortByIndex)},beginFill:function(){this.fillCount++||(this.beginUpdate(),this.suspendEvent("add","update"),this.suspendAutoSync(),this.fillArray=[])},endFill:function(a,b){var c=this.fillArray,d,e,f;c.push(b);
if(!--this.fillCount){this.resumeAutoSync();this.resumeEvent("add","update");d=0;for(e=c.length;d<e;d++)f=this.indexOf(c[d][0]),-1!==f&&this.fireEvent("add",this,c[d],f);this.fillArray=null;this.endUpdate()}},sortByIndex:function(a,b){return a.data.index-b.data.index},onIdChanged:function(a,b,c){var d=a.childNodes,e=d&&d.length,f;this.callParent(arguments);delete this.byIdMap[b];this.byIdMap[c]=a;for(f=0;f<e;f++)d[f].set("parentId",c)},treeify:function(a,b){var c=a.getId(),d=this.getParentIdProperty(),
e=b.length,f=[],g={},h,k,l,m;for(h=0;h<e;h++)k=b[h],g[k.id]=k;for(h=0;h<e;h++)k=b[h],l=k.data[d],!l&&0!==l||l===c?f.push(k):(l=g[l],l.$children=l.$children||[],l.$children.push(k));for(m in g){k=g[m];if(c=k.$children)delete k.$children,this.setupNodes(c),k.appendChild(c);this.registerNode(k)}this.setupNodes(f);return f},cleanRecords:function(a,b){for(var c={},d=a.childNodes,e=0,f=d.length,g=[];e<f;++e)c[d[e].getId()]=!0;e=0;for(f=b.length;e<f;++e)d=b[e],c[d.getId()]||g.push(d);return g},removeAll:function(){this.suspendEvents();
this.setRoot(null);this.resumeEvents();this.callParent()},doSort:function(a){this.getRemoteSort()?this.load():(this.tree.sort(a,!0),this.fireEvent("datachanged",this),this.fireEvent("refresh",this));this.fireEvent("sort",this,this.sorters.getRange())},filterVisible:function(a){return a.get("visible")},isVisible:function(a){for(var b=a.parentNode,c=a.data.visible,d=this.getRoot();c&&b;)c=b.data.expanded&&b.data.visible,b=b.parentNode;return c&&!(a===d&&!this.getRootVisible())},commitChanges:function(){var a=
this.removedNodes;a&&(a.length=0);this.callParent()},getRootNode:function(){return this.getRoot()},setRootNode:function(a){this.setRoot(a);return this.getRoot()},privates:{getRawRemovedRecords:function(){return this.removedNodes},recordCreator:function(a,b){return new b(a)},doFilter:function(a){var b=this.getRoot(),c=this.getFilters().getFilterFn();this.filterNodes(b,a,c)},filterNodes:function(a,b,c){var d=b.childNodes,e=d&&d.length,f;if(e)for(f=0;f<e;++f)this.filterNodes(a,d[f],c);a=b===a||c(b);
b.set("visible",a,this._silentOptions);return a},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(a,b){this.getData().setFilters(null);if(a)a.on("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(a,b){this.getData().setSorters(null);if(a)a.on("endupdate",this.onSorterEndUpdate,this)}},deprecated:{5:{properties:{tree:null}}}});
Ext.define("Ext.data.Validation",{extend:Ext.data.Model,isValidation:!0,syncGeneration:0,attach:function(a){this.record=a;delete this.data.id},getValidation:function(){return null},isValid:function(){this.syncGeneration!==this.record.generation&&this.refresh();return!this.dirty},refresh:function(a){var b=this.data,c=this.record,d=c.fields,e=c.generation,f=c.data,g=c.validationSeparator,h=null,k,l,m,n,p,q;if(a||this.syncGeneration!==e){this.syncGeneration=e;m=0;for(n=d.length;m<n;++m)l=d[m],q=l.name,
p=f[q],a=l.defaultInvalidMessage,e=0,q in b?k=b[q]:b[q]=k=!0,l.validate!==Ext.emptyFn&&(l=l.validate(p,g,null,c),!0!==l&&(e=l||a)),e||(e=!0),e!==k&&((h||(h={}))[q]=e);h&&this.set(h)}}});
Ext.define("Ext.dom.Helper",function(){var a=["BeforeBegin","previousSibling"],b=["AfterEnd","nextSibling"],c={beforebegin:a,afterend:b},d={beforebegin:a,afterend:b,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},
closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){function a(b,c,d){return c+"-"+d.toLowerCase()}var b=/([a-z])([A-Z])/g,c={};return function(d){return c[d]||(c[d]=d.replace(b,a))}}(),generateMarkup:function(a,b){var c=typeof a,d,k;if("string"===c||"number"===c)b.push(a);else if(Ext.isArray(a))for(d=0;d<a.length;d++)a[d]&&this.generateMarkup(a[d],b);else{c=a.tag||"div";b.push("<",c);for(d in a)a.hasOwnProperty(d)&&(k=a[d],void 0===k||this.confRe.test(d)||("object"===
typeof k?(b.push(" ",d,'="'),this.generateStyles(k,b,!0).push('"')):b.push(" ",this.attributeTransform[d]||d,'="',k,'"')));this.emptyTags.test(c)?b.push("/>"):(b.push(">"),(k=a.tpl)&&k.applyOut(a.tplData,b),(k=a.html)&&b.push(k),(k=a.cn||a.children)&&this.generateMarkup(k,b),d=this.closeTags,b.push(d[c]||(d[c]="</"+c+">")))}return b},generateStyles:function(a,b,c){var d=b||[],k,l;for(k in a)a.hasOwnProperty(k)&&(l=a[k],k=this.decamelizeName(k),c&&Ext.String.hasHtmlCharacters(l)&&(l=Ext.String.htmlEncode(l)),
d.push(k,":",l,";"));return b||d.join("")},markup:function(a){return"string"===typeof a?a:this.generateMarkup(a,[]).join("")},applyStyles:function(a,b){Ext.fly(a).applyStyles(b)},createContextualFragment:function(a){var b=this.detachedDiv,c=document.createDocumentFragment();b.innerHTML=a;b=b.childNodes;for(a=b.length;a--;)c.appendChild(b[0]);return c},createDom:function(a,b){var c=this.markup(a),d=this.detachedDiv;d.innerHTML=c;c=d.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?
c.cloneNode(!0):c},insertHtml:function(a,b,g){var h,k,l,m;a=a.toLowerCase();if(b.insertAdjacentHTML){if(this.ieInsertHtml&&(m=this.ieInsertHtml(a,b,g)))return m;if(a=d[a])return b.insertAdjacentHTML(a[0],g),b[a[1]]}else{3===b.nodeType&&(a="afterbegin"===a?"beforebegin":a,a="beforeend"===a?"afterend":a);h=Ext.supports.CreateContextualFragment?b.ownerDocument.createRange():void 0;l="setStart"+(this.endRe.test(a)?"After":"Before");if(c[a])return h?(h[l](b),m=h.createContextualFragment(g)):m=this.createContextualFragment(g),
b.parentNode.insertBefore(m,"beforebegin"===a?b:b.nextSibling),b[("beforebegin"===a?"previous":"next")+"Sibling"];k=("afterbegin"===a?"first":"last")+"Child";if(b.firstChild){if(h)try{h[l](b[k]),m=h.createContextualFragment(g)}catch(n){m=this.createContextualFragment(g)}else m=this.createContextualFragment(g);"afterbegin"===a?b.insertBefore(m,b.firstChild):b.appendChild(m)}else b.innerHTML=g;return b[k]}},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,
b,c){return this.doInsert(a,b,c,"afterend")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend")},overwrite:function(a,b,c){var d;a=Ext.getDom(a);b=this.markup(b);this.ieOverwrite&&(d=this.ieOverwrite(a,b));d||(a.innerHTML=b,d=a.firstChild);return c?Ext.get(d):d},doInsert:function(a,b,d,h){a=a.dom||Ext.getDom(a);"innerHTML"in a?b=this.insertHtml(h,a,this.markup(b)):(b=this.createDom(b,null),3===a.nodeType&&(h="afterbegin"===
h?"beforebegin":h,h="beforeend"===h?"afterend":h),c[h]?a.parentNode.insertBefore(b,"beforebegin"===h?a:a.nextSibling):a.firstChild&&"afterbegin"===h?a.insertBefore(b,a.firstChild):a.appendChild(b));return d?Ext.get(b):b},createTemplate:function(a){a=this.markup(a);return new Ext.Template(a)},createHtml:function(a){return this.markup(a)}}});
Ext.define("Ext.overrides.dom.Helper",function(){var a=/^(?:table|thead|tbody|tr|td)$/i,b=/td|tr|tbody|thead/i;return{override:"Ext.dom.Helper",ieInsertHtml:function(b,d,e){var f=null;Ext.isIE9m&&a.test(d.tagName)&&(f=this.insertIntoTable(d.tagName.toLowerCase(),b,d,e));return f},ieOverwrite:function(b,d){if(Ext.isIE9m&&a.test(b.tagName)){for(;b.firstChild;)b.removeChild(b.firstChild);if(d)return this.insertHtml("afterbegin",b,d)}},ieTable:function(a,b,e,f){var g=-1,h=this.detachedDiv;for(h.innerHTML=
[b,e,f].join("");++g<a;)h=h.firstChild;if(a=h.nextSibling)for(a=h,h=document.createDocumentFragment();a;)b=a.nextSibling,h.appendChild(a),a=b;return h},insertIntoTable:function(a,d,e,f){var g="beforebegin"===d,h="afterbegin"===d,k="beforeend"===d,l="afterend"===d;if("td"===a&&(h||k)||!b.test(a)&&(g||l))return null;d=g?e:l?e.nextSibling:h?e.firstChild:null;if(g||l)e=e.parentNode;a="td"===a||"tr"===a&&(k||h)?this.ieTable(4,"<table><tbody><tr>",f,"</tr></tbody></table>"):("tbody"===a||"thead"===a)&&
(k||h)||"tr"===a&&(g||l)?this.ieTable(3,"<table><tbody>",f,"</tbody></table>"):this.ieTable(2,"<table>",f,"</table>");e.insertBefore(a,d);return a}}}());
Ext.define("Ext.dom.GarbageCollector",{singleton:!0,interval:3E4,constructor:function(){this.collect=Ext.Function.bind(this.collect,this);this.lastTime=Ext.now();this.resume()},collect:function(){var a=Ext.cache,b,c,d,e;for(b in a)if(a.hasOwnProperty(b)&&(d=a[b],!d.skipGarbageCollection)){c=d.dom;try{e=Ext.isGarbage(c)}catch(f){delete a[b];continue}e&&d&&d.dom&&d.collect()}if(Ext.isIE9m){c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);Ext.cache=Ext.dom.Element.cache=c}this.lastTime=Ext.now()},pause:function(){clearTimeout(this.timerId)},
resume:function(){var a=this.lastTime;Ext.enableGarbageCollector&&Ext.now()-a>this.interval&&this.collect();this.timerId=Ext.interval(this.collect,this.interval)}});
Ext.define("Ext.event.gesture.Recognizer",{mixins:[Ext.mixin.Identifiable],priority:0,handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},
reset:Ext.emptyFn,debugHooks:{$enabled:!1,fail:function(a){Ext.log.info(this.$className+" Gesture Failed: "+a);return!1}}});Ext.define("Ext.event.gesture.SingleTouch",{extend:Ext.event.gesture.Recognizer,inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(a){if(1<a.touches.length)return this.fail(this.self.NOT_SINGLE_TOUCH)},onTouchCancel:function(){return!1}});
Ext.define("Ext.event.gesture.DoubleTap",{extend:Ext.event.gesture.SingleTouch,priority:300,inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(a){var b;if(!1===this.callParent(arguments))return!1;b=this.lastStartPoint=a.changedTouches[0].point;this.startPoint=this.startPoint||b;this.startTime=a.time;clearTimeout(this.singleTapTimer)},
onTouchMove:function(a){if(Math.abs(a.changedTouches[0].point.getDistanceTo(this.lastStartPoint))>=this.getMoveDistance())return this.startPoint=null,this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){var b=this.getMaxDuration(),c=a.time,d=a.target,e=this.lastTapTime,f=this.lastTarget,g=a.changedTouches[0].point;this.lastTapTime=c;this.lastTarget=d;if(e&&(e=c-e,e<=b&&Math.abs(g.getDistanceTo(this.startPoint))<=this.getTapDistance())){if(d!==f)return this.fail(this.self.DIFFERENT_TARGET);this.lastTarget=
null;this.lastTapTime=0;this.fire("doubletap",a,{touch:a.changedTouches[0],duration:e});this.startPoint=null;return}c-this.startTime>b?this.fireSingleTap(a):this.setSingleTapTimer(a)},setSingleTapTimer:function(a){var b=this;b.singleTapTimer=Ext.defer(function(){b.fireSingleTap(a)},b.getMaxDuration())},fireSingleTap:function(a,b){this.fire("singletap",a,{touch:b});this.startPoint=null},reset:function(){this.startTime=this.lastTapTime=0;this.lastStartPoint=this.startPoint=this.singleTapTimer=null}},
function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.doubleTap)});
Ext.define("Ext.event.gesture.Drag",{extend:Ext.event.gesture.SingleTouch,priority:100,isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callParent(arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(a){if(!1===
this.callParent(arguments))return this.isStarted&&null!==this.lastMoveEvent&&(this.lastMoveEvent.isStopped=!1,this.onTouchEnd(this.lastMoveEvent)),!1;this.startTime=a.time;this.startPoint=a.changedTouches[0].point},tryDragStart:function(a){var b=this.startPoint,c=a.changedTouches[0],d=c.point,e=this.getMinDistance(),f=this.info;Math.abs(d.getDistanceTo(b))>=e&&(this.isStarted=!0,this.previousPoint=this.lastPoint=d,this.resetInfo("x",a,c),this.resetInfo("y",a,c),f.time=a.time,this.fire("dragstart",
a,f))},onTouchMove:function(a){this.isStarted||this.tryDragStart(a);if(this.isStarted){var b=a.changedTouches[0],c=b.point;this.lastPoint&&(this.previousPoint=this.lastPoint);this.lastPoint=c;this.lastMoveEvent=a;this.updateInfo("x",a,b);this.updateInfo("y",a,b);this.info.time=a.time;this.fire("drag",a,this.info)}},onAxisDragEnd:function(a,b){var c=b.time-b.previousTime[a];0<c&&(b.flick.velocity[a]=(b[a]-b.previous[a])/c)},resetInfo:function(a,b,c){b=this.lastPoint[a];var d=this.startPoint[a],e=b-
d,f=a.toUpperCase(),g=this.info;g.touch=c;g.delta[a]=e;g.absDelta[a]=Math.abs(e);g.previousTime[a]=this.startTime;g.previous[a]=d;g[a]=b;g.direction[a]=0;g["start"+f]=this.startPoint[a];g["previous"+f]=g.previous[a];g["page"+f]=g[a];g["delta"+f]=g.delta[a];g["absDelta"+f]=g.absDelta[a];g["previousDelta"+f]=0;g.startTime=this.startTime},updateInfo:function(a,b,c){b=this.lastPoint[a];var d=this.previousPoint[a],e=this.startPoint[a],f=b-e,g=this.info,h=g.direction,k=a.toUpperCase(),l=g.previous[a];g.touch=
c;g.delta[a]=f;g.absDelta[a]=Math.abs(f);b!==l&&b!==g[a]&&(g.previous[a]=g[a],g.previousTime[a]=g.time);g[a]=b;b>d?h[a]=1:b<d&&(h[a]=-1);g["start"+k]=e;g["previous"+k]=g.previous[a];g["page"+k]=g[a];g["delta"+k]=g.delta[a];g["absDelta"+k]=g.absDelta[a];g["previousDelta"+k]=g.previous[a]-e;g.startTime=this.startTime},onTouchEnd:function(a){this.doEnd(a)},onTouchCancel:function(a){this.doEnd(a,!0);return!1},doEnd:function(a,b){this.isStarted||this.tryDragStart(a);if(this.isStarted){var c=a.changedTouches[0],
d=c.point,e=this.info;this.isStarted=!1;this.lastPoint=d;this.updateInfo("x",a,c);this.updateInfo("y",a,c);e.time=a.time;this.onAxisDragEnd("x",e);this.onAxisDragEnd("y",e);this.fire(b?"dragcancel":"dragend",a,e);this.lastMoveEvent=this.lastPoint=this.previousPoint=this.startPoint=null}},reset:function(){this.isStarted=this.lastPoint=this.startPoint=this.previousPoint=this.lastPoint=this.lastMoveEvent=null;this.initInfo()}},function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.drag)});
Ext.define("Ext.event.gesture.Swipe",{extend:Ext.event.gesture.SingleTouch,priority:500,handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1E3},onTouchStart:function(a){if(!1===this.callParent(arguments))return!1;var b=a.changedTouches[0];this.startTime=a.time;this.isVertical=this.isHorizontal=!0;this.startX=
b.pageX;this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageX,d=b.pageY,e=c-this.startX,f=d-this.startY,c=Math.abs(c-this.startX),d=Math.abs(d-this.startY),g=a.time-this.startTime,h=this.getMinDistance(),k,l;if(a.time-this.startTime>this.getMaxDuration())return this.fail(this.self.MAX_DURATION_EXCEEDED);this.isHorizontal&&d>this.getMaxOffset()&&(this.isHorizontal=!1);this.isVertical&&c>this.getMaxOffset()&&(this.isVertical=!1);this.isVertical&&this.isHorizontal||(this.isHorizontal&&
c<h?(k=0>e?"left":"right",l=c):this.isVertical&&d<h&&(k=0>f?"up":"down",l=d));k&&!this.started&&(this.started=!0,this.fire("swipestart",a,{touch:b,direction:k,distance:l,duration:g}));if(!this.isHorizontal&&!this.isVertical)return this.fail(this.self.MAX_OFFSET_EXCEEDED)},onTouchEnd:function(a){if(!1===this.onTouchMove(a))return!1;var b=a.changedTouches[0],c=b.pageX-this.startX,d=b.pageY-this.startY,e=Math.abs(c),f=Math.abs(d),g=this.getMinDistance(),h=a.time-this.startTime;this.isVertical&&f<g&&
(this.isVertical=!1);this.isHorizontal&&e<g&&(this.isHorizontal=!1);if(this.isHorizontal)c=0>c?"left":"right";else if(this.isVertical)c=0>d?"up":"down",e=f;else return this.fail(this.self.DISTANCE_NOT_ENOUGH);this.started=!1;this.fire("swipe",a,{touch:b,direction:c,distance:e,duration:h})},onTouchCancel:function(a){this.fire("swipecancel",a);return!1},reset:function(){this.startTime=this.isHorizontal=this.isVertical=this.startX=this.startY=null}},function(a){var b=Ext.manifest.gestures;a.instance=
new a(b&&b.swipe)});
Ext.define("Ext.event.gesture.EdgeSwipe",{extend:Ext.event.gesture.Swipe,priority:800,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(a){if(!1===this.callParent(arguments))return!1;var b=a.changedTouches[0];this.started=!1;this.direction=null;this.isVertical=this.isHorizontal=!0;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageX,
d=b.pageY,e=c-this.startX,f=d-this.startY,d=Math.abs(d-this.startY),c=Math.abs(c-this.startX),g=this.getMinDistance(),h=this.getMaxOffset(),k=a.time-this.startTime,l=Ext.Viewport&&Ext.Element.getViewportWidth(),m=Ext.Viewport&&Ext.Element.getViewportHeight(),n,p;this.isVertical&&c>h&&(this.isVertical=!1);this.isHorizontal&&d>h&&(this.isHorizontal=!1);this.isVertical&&this.isHorizontal&&(d>c?this.isHorizontal=!1:this.isVertical=!1);this.isHorizontal?(n=0>e?"left":"right",p=e):this.isVertical&&(n=0>
f?"up":"down",p=f);n=this.direction||(this.direction=n);"up"===n?p=-1*f:"left"===n&&(p=-1*e);this.distance=p;if(!p)return this.fail(this.self.DISTANCE_NOT_ENOUGH);if(this.started)this.fire("edgeswipe",a,{touch:b,direction:n,distance:p,duration:k});else{if("right"===n&&this.startX>g||"down"===n&&this.startY>g||"left"===n&&l-this.startX>g||"up"===n&&m-this.startY>g)return this.fail(this.self.NOT_NEAR_EDGE);this.started=!0;this.startTime=a.time;this.fire("edgeswipestart",a,{touch:b,direction:n,distance:p,
duration:k})}},onTouchEnd:function(a){var b;!1!==this.onTouchMove(a)&&(b=a.time-this.startTime,this.fire("edgeswipeend",a,{touch:a.changedTouches[0],direction:this.direction,distance:this.distance,duration:b}))},onTouchCancel:function(a){this.fire("edgeswipecancel",a,{touch:a.changedTouches[0]});return!1},reset:function(){this.started=this.direction=this.isHorizontal=this.isVertical=this.startX=this.startY=this.startTime=this.distance=null}},function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&
b.edgeSwipe)});
Ext.define("Ext.event.gesture.LongPress",{extend:Ext.event.gesture.SingleTouch,priority:400,inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1E3},handledEvents:["longpress","taphold"],fireLongPress:function(a){this.fire("longpress",a,{touch:a.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=!0},onTouchStart:function(a){if(!1===this.callParent(arguments))return!1;this.startPoint=a.changedTouches[0].point;this.isLongPress=!1;this.setLongPressTimer(a)},
setLongPressTimer:function(a){var b=this;b.timer=Ext.defer(function(){b.fireLongPress(a)},b.getMinDuration())},onTouchMove:function(a){if(Math.abs(a.changedTouches[0].point.getDistanceTo(this.startPoint))>=this.getMoveDistance())return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress)return this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)},reset:function(){this.isLongPress=this.startPoint=null},fire:function(a){if("longpress"===
a){var b=Array.prototype.slice.call(arguments);b[0]="taphold";this.fire.apply(this,b)}return this.callParent(arguments)}},function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.longPress)});
Ext.define("Ext.event.gesture.MultiTouch",{extend:Ext.event.gesture.Recognizer,requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(a){var b=this.requiredTouchesCount,c=a.touches.length;c===b?this.start(a):c>b&&this.end(a)},onTouchEnd:function(a){this.end(a)},onTouchCancel:function(a){this.end(a,!0);return!1},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},end:function(a,b){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this[b?
"fireCancel":"fireEnd"](a)))},reset:function(){this.isTracking=this.isStarted=!1}});
Ext.define("Ext.event.gesture.Pinch",{extend:Ext.event.gesture.MultiTouch,priority:600,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(a){if(this.isTracking){var b=a.touches,c;c=b[0].point.getDistanceTo(b[1].point);0!==c&&(this.isStarted?this.fire("pinch",a,{touches:b,distance:c,scale:c/this.startDistance}):(this.isStarted=!0,this.startDistance=c,this.fire("pinchstart",a,{touches:b,distance:c,scale:1})))}},fireEnd:function(a){this.fire("pinchend",
a)},fireCancel:function(a){this.fire("pinchcancel",a)},fail:function(){return this.callParent(arguments)},reset:function(){this.lastTouches=null;this.startDistance=0;this.callParent()}},function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.pinch)});
Ext.define("Ext.event.gesture.Rotate",{extend:Ext.event.gesture.MultiTouch,priority:700,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(a){if(this.isTracking){var b=a.touches,c=this.lastAngle,d,e,f,g;d=b[0].point.getAngleTo(b[1].point);null!==c&&(g=Math.abs(c-d),e=d+360,f=d-360,Math.abs(e-c)<g?d=e:Math.abs(f-c)<g&&(d=f));this.lastAngle=d;this.isStarted?this.fire("rotate",a,{touches:b,angle:d,rotation:d-this.startAngle}):
(this.isStarted=!0,this.startAngle=d,this.fire("rotatestart",a,{touches:b,angle:d,rotation:0}));this.lastTouches=Ext.Array.clone(b)}},fireEnd:function(a){this.lastAngle=null;this.fire("rotateend",a)},fireCancel:function(a){this.lastAngle=null;this.fire("rotatecancel",a)},reset:function(){this.lastTouches=this.lastAngle=this.startAngle=null;this.callParent()}},function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.rotate)});
Ext.define("Ext.event.gesture.Tap",{extend:Ext.event.gesture.SingleTouch,priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(a){if(!1===this.callParent([a]))return!1;this.startPoint=a.changedTouches[0].point},onTouchMove:function(a){var b=a.changedTouches[0];if(Math.abs(b.point.getDistanceTo(this.startPoint))>=this.getMoveDistance())return this.fire("tapcancel",a,{touch:b}),this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){this.fire("tap",a,{touch:a.changedTouches[0]})},
onTouchCancel:function(a){this.fire("tapcancel",a,{touch:a.changedTouches[0]});return!1},reset:function(){this.startPoint=null}},function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.tap)});
Ext.define("Ext.event.publisher.Focus",{extend:Ext.event.publisher.Dom,type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],doDelegatedEvent:function(a,b){var c;if(a=this.callParent([a,!1]))"focusout"===a.type?null==a.relatedTarget&&this.processFocusIn(a,a.target,document.body,b):(c=a.relatedTarget,this.processFocusIn(a,null!=c&&c.tagName?c:document.body,a.target,b))},processFocusIn:function(a,b,c,d){var e,f,g=[],h;e=Ext.fly(b);f=Ext.fly(c);if(!(e&&
e.isFocusSuspended()||f&&f.isFocusSuspended())){f=b;for(e=Ext.dom.Element.getCommonAncestor(c,b,!0);f&&f!==e;f=f.parentNode)g.push(f);if(g.length&&(f=this.createSyntheticEvent("focusleave",a,b,c),this.publish("focusleave",g,f),f.isStopped))return;g.length=0;for(f=c;f!==e;f=f.parentNode)g.push(f);h=this.createSyntheticEvent("focusenter",a,c,b);if(g.length&&(this.publish("focusenter",g,h),h.isStopped))return;g=this.getPropagatingTargets(e);if(g.length&&(f=this.createSyntheticEvent("focusmove",a,c,b),
this.publish("focusmove",g,f),f.isStopped))return;d&&this.afterEvent(a);Ext.GlobalEvents.fireEvent("focus",{event:h,toElement:c,fromElement:b})}},createSyntheticEvent:function(a,b,c,d){b=new Ext.event.Event(b);b.type=a;b.relatedTarget=d;b.target=c;return b}},function(a){var b;a.instance=new a;Ext.supports.FocusinFocusoutEvents||this.override({handledDomEvents:["focus","blur"],doDelegatedEvent:function(c,d){var e=this;if(c=e.callSuper([c,!1]))if(clearTimeout(b),b=0,"blur"===c.type){var f=c.target===
window?document.body:c.target;b=setTimeout(function(){b=0;e.processFocusIn(c,f,document.body,d);a.previousActiveElement=null},0);a.previousActiveElement=c.target===window||c.target===document?null:c.target}else e.processFocusIn(c,a.previousActiveElement||document.body,c.target===window?document.body:c.target,d)}})});
Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,
"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=
a;return this},clear:function(){return this.setRaw({})},setTransform:function(a,b){var c=this.data,d=Ext.isArray(b),e=c.transform,f;e||(e=c.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0});if("string"==typeof a)switch(a){case "translate":d?(c=b.length,0!=c&&(e.translateX=b[0],1!=c&&(e.translateY=b[1],2!=c&&(e.translateZ=b[2])))):e.translateX=b;break;case "rotate":d?(c=b.length,0!=c&&(e.rotateX=b[0],1!=c&&(e.rotateY=
b[1],2!=c&&(e.rotateZ=b[2])))):e.rotate=b;break;case "scale":d?(c=b.length,0!=c&&(e.scaleX=b[0],1!=c&&(e.scaleY=b[1],2!=c&&(e.scaleZ=b[2])))):(e.scaleX=b,e.scaleY=b);break;case "skew":d?(c=b.length,0!=c&&(e.skewX=b[0],1!=c&&(e.skewY=b[1]))):e.skewX=b;break;default:e[a]=b}else for(f in a)a.hasOwnProperty(f)&&(b=a[f],this.setTransform(f,b))},set:function(a,b){var c=this.data,d;if("string"!=typeof a)for(d in a)b=a[d],"transform"===d?this.setTransform(b):c[d]=b;else"transform"===a?this.setTransform(b):
c[a]=b;return this},unset:function(a){var b=this.data;b.hasOwnProperty(a)&&delete b[a];return this},getData:function(){return this.data}});
Ext.define("Ext.fx.animation.Abstract",{extend:Ext.Evented,isAnimation:!0,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states=
{};this.callParent(arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},applyAfter:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var b=this.stateNameRegex,
c;for(c in a)b.test(c)&&this.setState(c,a[c]);return this},getStates:function(){return this.states},updateCallback:function(a){a&&this.setOnEnd(a)},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();this.callParent()},setState:function(a,b){var c=this.getStates(),d;(d=Ext.factory(b,Ext.fx.State,c[a]))&&(c[a]=d);return this},getState:function(a){return this.getStates()[a]},getData:function(){var a=this.getStates(),b={},c=this.getBefore(),d=this.getAfter(),
e=a[this.STATE_TO],f=a[this.STATE_FROM].getData(),e=e.getData(),g,h;for(h in a)a.hasOwnProperty(h)&&(g=a[h],g=g.getData(),b[h]=g);return{before:c?c.getData():{},after:d?d.getData():{},states:b,from:f,to:e,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});
Ext.define("Ext.fx.animation.Slide",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(a){return"auto"===a?"ease-"+(this.getOut()?"in":"out"):a},getContainerBox:function(){var a=this._containerBox;"auto"===
a&&(a=this.getElement().getParent().getBox());return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit())return this.getContainerBox();"auto"===a&&(a=this.getElement().getBox());return a},getData:function(){var a=this.getElementBox(),b=this.getContainerBox(),c=a?a:b,d=this.getFrom(),a=this.getTo(),e=this.getOut(),f=this.getOffset(),g=this.getDirection(),h=this.getUseCssTransform(),k=0,l=0;this.getReverse()&&(g=this.reverseDirectionMap[g]);switch(g){case this.DIRECTION_UP:l=
e?b.top-c.top-c.height-f:b.bottom-c.bottom+c.height+f;break;case this.DIRECTION_DOWN:l=e?b.bottom-c.bottom+c.height+f:b.top-c.height-c.top-f;break;case this.DIRECTION_RIGHT:k=e?b.right-c.right+c.width+f:b.left-c.left-c.width-f;break;case this.DIRECTION_LEFT:k=e?b.left-c.left-c.width-f:b.right-c.right+c.width+f}b=e?0:k;c=e?0:l;h?d.setTransform({translateX:b,translateY:c}):(d.set("left",b),d.set("top",c));d=e?k:0;e=e?l:0;h?a.setTransform({translateX:d,translateY:e}):(a.set("left",d),a.set("top",e));
return this.callParent(arguments)}});Ext.define("Ext.fx.animation.SlideOut",{extend:Ext.fx.animation.Slide,alias:["animation.slideOut"],config:{out:!0}});
Ext.define("Ext.fx.animation.Fade",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var b=this.getTo(),c=this.getFrom();a?(c.set("opacity",1),b.set("opacity",0)):(c.set("opacity",0),b.set("opacity",1))}});Ext.define("Ext.fx.animation.FadeOut",{extend:Ext.fx.animation.Fade,alias:"animation.fadeOut",config:{out:!0,before:{}}});
Ext.define("Ext.fx.animation.Flip",{extend:Ext.fx.animation.Abstract,alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var a=this.getFrom(),b=this.getTo(),c=this.getDirection(),d=this.getOut(),e=this.getHalf()?90:180,f=1,g=1,h=0,k=0,l=0,m=0;d?g=.8:f=.8;switch(c){case this.DIRECTION_UP:d?l=e:h=-e;break;case this.DIRECTION_DOWN:d?l=-e:h=e;break;case this.DIRECTION_RIGHT:d?m=e:k=-e;break;case this.DIRECTION_LEFT:d?m=-e:k=e}a.setTransform({rotateX:h,
rotateY:k,scale:f});b.setTransform({rotateX:l,rotateY:m,scale:g});return this.callParent()}});
Ext.define("Ext.fx.animation.Pop",{extend:Ext.fx.animation.Abstract,alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var a=this.getTo(),b=this.getFrom();this.getOut()?(b.set("opacity",1),b.setTransform({scale:1}),a.set("opacity",0),a.setTransform({scale:0})):(b.set("opacity",0),b.setTransform({scale:0}),a.set("opacity",1),a.setTransform({scale:1}));return this.callParent(arguments)}});
Ext.define("Ext.fx.animation.PopOut",{extend:Ext.fx.animation.Pop,alias:"animation.popOut",config:{out:!0,before:{}}});Ext.define("Ext.fx.Animation",{constructor:function(a){var b=Ext.fx.animation.Abstract,c;"string"==typeof a?(c=a,a={}):a&&a.type&&(c=a.type);c&&(b=Ext.ClassManager.getByAlias("animation."+c));return Ext.factory(a,b)}});
Ext.define("Ext.fx.runner.Css",{extend:Ext.Evented,prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,
"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,
"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},transformMethods3d:"translateX translateY translateZ rotate rotateX rotateY rotateZ skewX skewY scaleX scaleY scaleZ".split(" "),transformMethodsNo3d:"translateX translateY rotate skewX skewY scaleX scaleY".split(" "),
constructor:function(){this.transformMethods=Ext.feature.has.Css3dTransforms?this.transformMethods3d:this.transformMethodsNo3d;this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};this.callParent()},getStyleSheet:function(){var a=this.styleSheet;a||(a=document.createElement("style"),a.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(a),a=document.styleSheets,this.styleSheet=a=a[a.length-1]);return a},applyRules:function(a){var b=this.getStyleSheet(),
c=this.ruleStylesCache,d=b.cssRules,e,f,g,h,k,l;for(e in a)for(k in f=a[e],g=c[e],void 0===g&&(g=d.length,b.insertRule(e+"{}",g),g=c[e]=d.item(g).style),h=g.$cache,h||(h=g.$cache={}),f)l=this.formatValue(f[k],k),k=this.formatName(k),h[k]!==l&&(h[k]=l,null===l?g.removeProperty(k):g.setProperty(k,l,"important"));return this},applyStyles:function(a){var b,c,d,e,f;for(b in a)if(a.hasOwnProperty(b)&&(c=document.getElementById(b)))for(e in c=c.style,d=a[b],d)d.hasOwnProperty(e)&&(f=this.formatValue(d[e],
e),e=this.formatName(e),null===f?c.removeProperty(e):c.setProperty(e,f,"important"));return this},formatName:function(a){var b=this.formattedNameCache,c=b[a];c||(c=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[a]?a:this.vendorPrefix+a,b[a]=c);return c},formatValue:function(a,b){var c=typeof a,d=this.DEFAULT_UNIT_LENGTH,e,f,g;if(null===a)return"";if("string"==c){if(this.lengthProperties[b]&&(c=a.match(this.lengthUnitRegex)[1],!(0<c.length)))return a+d}else if("number"==
c){if(0==a)return"0";if(this.lengthProperties[b])return a+d;if(this.angleProperties[b])return a+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[b])return a+this.DEFAULT_UNIT_DURATION}else{if("transform"===b){e=this.transformMethods;g=[];d=0;for(c=e.length;d<c;d++)f=e[d],g.push(f+"("+this.formatValue(a[f],f)+")");return g.join(" ")}if(Ext.isArray(a)){e=[];d=0;for(c=a.length;d<c;d++)e.push(this.formatValue(a[d],b));return 0<e.length?e.join(", "):"none"}}return a}});
Ext.define("Ext.fx.runner.CssTransition",{extend:Ext.fx.runner.Css,alternateClassName:"Ext.Animator",singleton:!0,listenersAttached:!1,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(a){var b=a.target,c=b.id;c&&this.runningAnimationsData.hasOwnProperty(c)&&this.refreshRunningAnimationsData(Ext.get(b),[a.browserEvent.propertyName])},
onAnimationEnd:function(a,b,c,d,e){var f=a.getId(),g=this.runningAnimationsData[f],h={},k={},l,m;c.un("stop","onAnimationStop",this);g&&(l=g.nameMap);h[f]=k;b.onBeforeEnd&&b.onBeforeEnd.call(b.scope||this,a,d);c.fireEvent("animationbeforeend",c,a,d);this.fireEvent("animationbeforeend",this,c,a,d);if(e||!d&&!b.preserveEndState)for(e=b.toPropertyNames,f=0,g=e.length;f<g;f++)m=e[f],l&&!l.hasOwnProperty(m)&&(k[m]=null);b.after&&Ext.merge(k,b.after);this.applyStyles(h);b.onEnd&&b.onEnd.call(b.scope||this,
a,d);c.fireEvent("animationend",c,a,d);this.fireEvent("animationend",this,c,a,d);Ext.AnimationQueue.stop(Ext.emptyFn,c)},onAllAnimationsEnd:function(a){var b=a.getId(),c={};delete this.runningAnimationsData[b];c[b]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(c);this.fireEvent("animationallend",this,a)},hasRunningAnimations:function(a){a=a.getId();var b=this.runningAnimationsData;return b.hasOwnProperty(a)&&0<b[a].sessions.length},
refreshRunningAnimationsData:function(a,b,c,d){var e=a.getId(),f=this.runningAnimationsData[e];if(f){var e=f.nameMap,g=f.nameList,h=f.sessions,k,l,m,n,p,q,r,t=!1;c=!!c;d=!!d;if(!h)return this;k=h.length;if(0===k)return this;if(d){f.nameMap={};for(n=g.length=0;n<k;n++)p=h[n],this.onAnimationEnd(a,p.data,p.animation,c,d);h.length=0}else for(n=0;n<k;n++){p=h[n];q=p.map;r=p.list;f=0;for(l=b.length;f<l;f++)m=b[f],q[m]&&(delete q[m],Ext.Array.remove(r,m),p.length--,0==--e[m]&&(delete e[m],Ext.Array.remove(g,
m)));0==p.length&&(h.splice(n,1),n--,k--,t=!0,this.onAnimationEnd(a,p.data,p.animation,c))}if(!d&&!c&&0==h.length&&t)this.onAllAnimationsEnd(a)}},getRunningData:function(a){var b=this.runningAnimationsData;b.hasOwnProperty(a)||(b[a]={nameMap:{},nameList:[],sessions:[]});return b[a]},getTestElement:function(){var a=this.testElement,b;a||(a=document.createElement("iframe"),a.setAttribute("tabIndex",-1),b=a.style,b.setProperty("visibility","hidden","important"),b.setProperty("width","0px","important"),
b.setProperty("height","0px","important"),b.setProperty("position","absolute","important"),b.setProperty("border","0px","important"),b.setProperty("zIndex","-1000","important"),document.body.appendChild(a),b=a.contentDocument,b.open(),b.writeln("</body>"),b.close(),this.testElement=a=b.createElement("div"),a.style.setProperty("position","absolute","important"),b.body.appendChild(a),this.testElementComputedStyle=window.getComputedStyle(a));return a},getCssStyleValue:function(a,b){var c=this.getTestElement(),
d=this.testElementComputedStyle,e=c.style;e.setProperty(a,b);Ext.browser.is.Firefox&&c.offsetHeight;b=d.getPropertyValue(a);e.removeProperty(a);return b},run:function(a){var b=this,c=b.lengthProperties,d={},e={},f={},g,h,k,l,m,n,p,q,r,t,u,v,w,y,x,z,A,C,B;b.listenersAttached||b.attachListeners();a=Ext.Array.from(a);u=0;for(w=a.length;u<w;u++){y=a[u];y=Ext.factory(y,Ext.fx.Animation);g=y.getElement();Ext.AnimationQueue.start(Ext.emptyFn,y);t=window.getComputedStyle(g.dom);h=g.getId();f=Ext.merge({},
y.getData());y.onBeforeStart&&y.onBeforeStart.call(y.scope||b,g);y.fireEvent("animationstart",y);b.fireEvent("animationstart",b,y);f[h]=f;m=f.before;k=f.from;l=f.to;f.fromPropertyNames=n=[];f.toPropertyNames=p=[];for(C in l)l.hasOwnProperty(C)&&(l[C]=x=b.formatValue(l[C],C),A=b.formatName(C),(v=c.hasOwnProperty(C))||(x=b.getCssStyleValue(A,x)),k.hasOwnProperty(C)?(k[C]=B=b.formatValue(k[C],C),v||(B=b.getCssStyleValue(A,B)),x!==B&&(n.push(A),p.push(A))):(B=t.getPropertyValue(A),x!==B&&p.push(A)));
x=p.length;if(0===x)b.onAnimationEnd(g,f,y);else{t=b.getRunningData(h);A=t.sessions;0<A.length&&b.refreshRunningAnimationsData(g,Ext.Array.merge(n,p),!0,f.replacePrevious);B=t.nameMap;t=t.nameList;z={};for(v=0;v<x;v++)C=p[v],z[C]=!0,B.hasOwnProperty(C)?B[C]++:(B[C]=1,t.push(C));g={element:g,map:z,list:p.slice(),length:x,data:f,animation:y};A.push(g);y.on("stop","onAnimationStop",b);m=Ext.apply({},m);Ext.apply(m,k);0<t.length&&(n=Ext.Array.difference(t,n),p=Ext.Array.merge(n,p),m["transition-property"]=
n);d[h]=m;e[h]=Ext.apply({},l);e[h]["transition-property"]=p;e[h]["transition-duration"]=f.duration;e[h]["transition-timing-function"]=f.easing;e[h]["transition-delay"]=f.delay;y.startTime=Date.now()}}r=b.$className;b.applyStyles(d);q=function(a){a.data===r&&a.source===window&&(window.removeEventListener("message",q,!1),b.applyStyles(e))};window.requestAnimationFrame?window.requestAnimationFrame(function(){window.addEventListener("message",q,!1);window.postMessage(r,"*")}):Ext.defer(function(){window.addEventListener("message",
q,!1);window.postMessage(r,"*")},1)},onAnimationStop:function(a){var b=this.runningAnimationsData,c,d,e,f,g;for(c in b)if(b.hasOwnProperty(c))for(d=b[c],d=d.sessions,e=0,f=d.length;e<f;e++)g=d[e],g.animation===a&&this.refreshRunningAnimationsData(g.element,g.list.slice(),!1)}});
Ext.define("Ext.mixin.Container",{extend:Ext.Mixin,mixinConfig:{id:"container"},isContainer:!0,config:{referenceHolder:!1},getReferences:function(){Ext.ComponentManager.fixReferences();return this.refs||null},lookup:function(a){var b=this.getReferences();return b&&b[a]||null},lookupReference:function(a){return this.lookup(a)},privates:{attachReference:function(a){var b,c;this.destroying||this.destroyed||(c=this.refs||(this.refs={}),b=a.referenceKey,c[b]=a)},clearReference:function(a){var b=this.refs,
c=a.referenceKey;b&&c&&(a.viewModelKey=a.referenceKey=b[c]=null)},containerOnAdded:function(a,b){b&&Ext.ComponentManager.markReferencesDirty()},containerOnRemoved:function(a){!a&&(a=this.lookupReferenceHolder())&&(Ext.ComponentManager.markReferencesDirty(),a.clearReferences())},clearReferences:function(){this.refs=null},initContainerInheritedState:function(a,b){var c=this.getController(),d=this.getSession(),e=this.getConfig("viewModel",!0),f=this.getReference(),g=this.getReferenceHolder();c?(a.referenceHolder=
c,g=!0):g&&(a.referenceHolder=this);g?a.referencePath="":f&&this.isParentReference&&(a.referencePath=this.referenceKey+".");d&&(a.session=d);e?a.viewModelPath="":f&&this.isParentReference&&(a.viewModelPath=this.viewModelKey+".")},setupReference:function(a){var b;a&&">"===a.charAt(b=a.length-1)&&(this.isParentReference=!0,a=a.substring(0,b));return a}}});
Ext.define("Ext.mixin.Responsive",function(a){return{extend:Ext.Mixin,mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:void 0,merge:function(a,c,d,e){if(!a)return c;c=c?Ext.Object.chain(c):{};for(var f in a)e&&f in c||(c[f]={fn:null,config:a[f]});return c}},responsiveFormulas:{$value:0,merge:function(a,c,d,e){return this.mergeNew(a,c,d,e)}}},destroy:function(){a.unregister(this);this.callParent()},privates:{statics:{active:!1,all:{},context:Ext.Object.chain(Ext.platformTags),
count:0,nextId:0,activate:function(){a.active=!0;a.updateContext();Ext.on("resize",a.onResize,a)},deactivate:function(){a.active=!1;Ext.un("resize",a.onResize,a)},notify:function(){var b=a.all,c=a.context,d=Ext.GlobalEvents,e=a.timer,f;e&&(a.timer=null,Ext.Function.cancelAnimationFrame(e));a.updateContext();Ext.suspendLayouts();d.fireEvent("beforeresponsiveupdate",c);for(f in b)b[f].setupResponsiveContext();d.fireEvent("beginresponsiveupdate",c);for(f in b)b[f].updateResponsiveState();d.fireEvent("responsiveupdate",
c);Ext.resumeLayouts(!0)},onResize:function(){a.timer||(a.timer=Ext.Function.requestAnimationFrame(a.onTimer))},onTimer:function(){a.timer=null;a.notify()},processConfig:function(a,c,d){c=c&&c[d];var e=a.config,f;c&&(f=a.getConfigurator(),f=f.configs[d],e[d]=f.merge(c,e[d],a))},register:function(b){var c=b.$responsiveId;c||(b.$responsiveId=c=++a.nextId,a.all[c]=b,1===++a.count&&a.activate())},unregister:function(b){var c=b.$responsiveId;c in a.all&&(b.$responsiveId=null,delete a.all[c],0===--a.count&&
a.deactivate())},updateContext:function(){var b=Ext.Element,c=b.getViewportWidth(),b=b.getViewportHeight(),d=a.context;d.width=c;d.height=b;d.tall=c<b;d.wide=!d.tall;d.landscape=d.portrait=!1;d.platform||(d.platform=Ext.platformTags);d[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(a){var c=a.prototype,d=c.responsiveConfig,e=c.responsiveFormulas,f;if(d||e)f={},d&&(delete c.responsiveConfig,f.responsiveConfig=d),e&&(delete c.responsiveFormulas,f.responsiveFormulas=e),a.getConfigurator().add(f)},
applyResponsiveConfig:function(a){for(var c in a)a[c].fn=Ext.createRuleFn(c);return a},applyResponsiveFormulas:function(a){var c={},d,e;if(a)for(e in a)Ext.isString(d=a[e])&&(d=Ext.createRuleFn(d)),c[e]=d;return c},getResponsiveState:function(){var b=a.context,c=this.getResponsiveConfig(),d={},e,f;if(c)for(f in c)e=c[f],e.fn.call(this,b)&&Ext.merge(d,e.config);return d},setupResponsiveContext:function(){var b=this.getResponsiveFormulas(),c=a.context,d;if(b)for(d in b)c[d]=b[d].call(this,c)},transformInstanceConfig:function(b){var c;
a.register(this);b&&(a.processConfig(this,b,"responsiveConfig"),a.processConfig(this,b,"responsiveFormulas"));this.setupResponsiveContext();c=this.getResponsiveState();b&&(c=Ext.merge({},b,c),delete c.responsiveConfig,delete c.responsiveFormulas);return c},updateResponsiveState:function(){var a=this.getResponsiveState();this.setConfig(a)}}}});
Ext.define("Ext.perf.Accumulator",function(){function a(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function b(b){b=b?b:h()-this.time;var c=this.accum;++c.count;--c.depth||a(c.total,b);a(c.pure,b-this.childTime);if(e=this.parent)++e.accum.childCount,e.childTime+=b}function c(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);c.leave();return d}}function d(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};a&&(e.sum=d.sum-b*(c||0),e.avg=e.sum/a);return e}var e=null,f=
Ext.global.chrome,g,h=function(){h=Ext.now;var a,b;if(Ext.isChrome&&f&&f.Interval)a=new f.Interval,a.start(),h=function(){return a.microseconds()/1E3};else if(window.ActiveXObject)try{b=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=b,h=function(){return b.milliseconds}}catch(c){}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=h;return h()};return{constructor:function(a){this.count=this.childCount=this.depth=this.maxDepth=0;this.pure={min:Number.MAX_VALUE,max:0,sum:0};this.total=
{min:Number.MAX_VALUE,max:0,sum:0};this.name=a},statics:{getTimestamp:h},format:function(a){g||(g=new Ext.XTemplate('{name} - {count} call(s)<tpl if="count"><tpl if="childCount"> ({childCount} children)</tpl><tpl if="depth - 1"> ({depth} deep)</tpl><tpl for="times">, {type}: {[this.time(values.sum)]} msec (avg={[this.time(values.sum / parent.count)]})</tpl></tpl>',{time:function(a){return Math.round(100*a)/100}}));a=this.getData(a);a.name=this.name;a.pure.type="Pure";a.total.type="Total";a.times=
[a.pure,a.total];return g.apply(a)},getData:function(a){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:d(this.count,this.childCount,a,this.pure),total:d(this.count,this.childCount,a,this.total)}},enter:function(){var a={accum:this,leave:b,childTime:0,parent:e};++this.depth;this.maxDepth<this.depth&&(this.maxDepth=this.depth);e=a;a.time=h();return a},monitor:function(a,b,c){var d=this.enter();c?a.apply(b,c):a.call(b);d.leave()},report:function(){Ext.log(this.format())},
tap:function(a,b){var d=this,e="string"===typeof b?[b]:b,f,g,h,t,u,v,w;Ext.ClassManager.onCreated(function(){if("string"===typeof a)for(f=Ext.global,t=a.split("."),h=0,u=t.length;h<u;++h)f=f[t[h]];else f=a;h=0;for(u=e.length;h<u;++h)v=e[h],(g="!"===v.charAt(0))?v=v.substring(1):g=!(v in f.prototype),w=g?f:f.prototype,w[v]=c(d,w[v])},d,a);return d}}},function(){Ext.perf.getTimestamp=this.getTimestamp});
Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var a=new Ext.perf.Accumulator("$"),b=a.total,c=Ext.perf.Accumulator.getTimestamp,d=0,e,f;f=c();do e=a.enter(),e.leave(),++d;while(100>b.sum);return(c()-f)/d},get:function(a){var b=this.accumulatorsByName[a];b||(this.accumulatorsByName[a]=b=new Ext.perf.Accumulator(a),this.accumulators.push(b));return b},enter:function(a){return this.get(a).enter()},
monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this.accumulators,b=this.calibrate();a.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});this.updateGC();Ext.log("Calibration: "+Math.round(100*b)/100+" msec/sample");Ext.each(a,function(a){Ext.log(a.format(b))})},getData:function(a){var b={};Ext.each(this.accumulators,function(c){if(a||c.count)b[c.name]=c.getData()});return b},reset:function(){Ext.each(this.accumulators,function(a){a.count=a.childCount=a.depth=
a.maxDepth=0;a.pure={min:Number.MAX_VALUE,max:0,sum:0};a.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,c;a&&(a.count=b.garbageCollectionCounter||0,a.count&&(c=a.pure,a.total.sum=c.sum=b.garbageCollectionMilliseconds,c.min=c.max=c.sum/a.count,c=a.total,c.min=c.max=c.sum/a.count))},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;a&&(this.get("GC"),a.watchGarbageCollector(!1))},setup:function(a){a||(a={render:{"Ext.Component":"render"},
layout:{"Ext.layout.Context":"run"}});this.currentConfig=a;var b,c,d,e,f;for(b in a)if(a.hasOwnProperty(b))for(e in c=a[b],d=Ext.Perf.get(b),c)c.hasOwnProperty(e)&&(f=c[e],d.tap(e,f));this.watchGC()},setupLog:function(a){var b,c,d,e,f;for(b in a)if(a.hasOwnProperty(b)&&(c=Ext.ClassManager.get(b))){d=a[b];f={};for(e in d)f[e]=function(a,b){return function(){var c,d,e,f;c=+Date.now();f=this.callParent(arguments);c=+Date.now()-c;if(window.console&&0<c){if(e="this"===b?this:"string"===typeof b?this[b]:
"number"===typeof b?arguments[b]:null)d=e.id;null!=d?console.log(a+" for "+d+": "+c+"ms"):console.log(a+" for unknown: "+c+"ms");console.trace&&console.trace()}return f}}(e,d[e]);Ext.override(c,f)}}});
Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",isPlugin:!0,constructor:function(a){a&&(this.pluginConfig=a,this.initConfig(a))},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null;this.callParent()},onClassExtended:function(a,b,c){(c=b.alias)&&!b.ptype&&(Ext.isArray(c)&&(c=c[0]),a.prototype.ptype=c.split("plugin.")[1])},
resolveListenerScope:function(a){var b=this.getCmp(),c;b&&(c=b.resolveSatelliteListenerScope(this,a));return c||this.mixins.observable.resolveListenerScope.call(this,a)}});Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:!1,$configPrefixed:!1,disabled:!1,getState:null,applyState:null,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}});
Ext.define("Ext.util.ItemCollection",{extend:Ext.util.MixedCollection,alternateClassName:"Ext.ItemCollection",getKey:function(a){return a.getItemId&&a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}});Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:!0});
Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,b,c){var d=this.shared;d||(d=this.shared=new this(a,c));d.bind(a);d.setFixedWidth(c||"auto");return d.getSize(b)},destroy:function(){Ext.destroy(this.shared);this.shared=null}},constructor:function(a,b){var c=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});c.setVisibilityMode(1);this.measure=c;a&&this.bind(a);c.position("absolute");c.setLocalXY(-1E3,-1E3);c.hide();b&&c.setWidth(b)},getSize:function(a){var b=
this.measure;b.setHtml(a);a=b.getSize();b.setHtml("");return a},bind:function(a){this.el=Ext.get(a);this.measure.setStyle(this.el.getStyle("font-size font-style font-weight font-family line-height text-transform letter-spacing word-break".split(" ")))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){this.el=this.measure=Ext.destroy(this.measure);
this.callParent()}},function(){Ext.Element.override({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(a,this.dom.innerHTML,!0)).width,b||0,c||1E6)}})});
Ext.define("Ext.ElementLoader",{mixins:[Ext.util.Observable],statics:{Renderer:{Html:function(a,b,c){a.getTarget().setHtml(b.responseText,!0===c.scripts,c.rendererScope);return!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.setTarget(this.target);this.autoLoad&&(a=this.autoLoad,!0===a&&(a=null),this.load(a))},setTarget:function(a){a=Ext.get(a);this.target&&
this.target!==a&&this.abort();this.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;void 0!==a&&(Ext.Ajax.abort(a.request),a.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(!0===a?null:a)},load:function(a){a=Ext.apply({},a);var b=Ext.isDefined(a.loadMask)?a.loadMask:this.loadMask,c=Ext.apply({},a.params),d=Ext.apply({},a.ajaxOptions),e=a.callback||this.callback,f=a.scope||this.scope||
this;Ext.applyIf(d,this.ajaxOptions);Ext.applyIf(a,d);Ext.applyIf(c,this.params);Ext.apply(c,this.baseParams);Ext.applyIf(a,{url:this.url});Ext.apply(a,{scope:this,params:c,callback:this.onComplete});!1!==this.fireEvent("beforeload",this,a)&&(b&&this.addMask(b),this.active={options:a,mask:b,scope:f,callback:e,success:a.success||this.success,failure:a.failure||this.failure,renderer:a.renderer||this.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:this.scripts},this.active.request=Ext.Ajax.request(a),
this.setOptions(this.active,a))},setOptions:function(a,b){a.rendererScope=b.rendererScope||this.rendererScope||this},onComplete:function(a,b,c){var d=this.active,e,f;d&&(f=d.scope,e=d.rendererScope,b&&(b=!1!==this.getRenderer(d.renderer).call(e,this,c,d)),b?(Ext.callback(d.success,f,[this,c,a]),this.fireEvent("load",this,c,a)):(Ext.callback(d.failure,f,[this,c,a]),this.fireEvent("exception",this,c,a)),Ext.callback(d.callback,f,[this,b,c,a]),d.mask&&this.removeMask());delete this.active},getRenderer:function(a){return Ext.isFunction(a)?
a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=Ext.interval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){this.stopAutoRefresh();delete this.target;this.abort();this.callParent()}});
Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(a,b,c){c=!0;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){c=!1}return c},Component:function(a,b,c){var d=!0;a=a.getTarget();var e=[];try{e=Ext.decode(b.responseText)}catch(f){d=!1}d&&(a.suspendLayouts(),c.removeAll&&a.removeAll(),a.add(e),a.resumeLayouts(!0));return d}}},target:null,loadOnRender:!1,loadMask:!1,renderer:"html",setTarget:function(a){Ext.isString(a)&&(a=Ext.getCmp(a));this.target&&
this.target!==a&&this.abort();(this.target=a)&&this.loadOnRender&&(a.rendered?this.doLoadOnRender():this.mon(a,"render",this.doLoadOnRender,this))},doLoadOnRender:function(){var a=this.loadOnRender;this.load(Ext.isObject(a)?a:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll;a.rendererScope=b.rendererScope||this.rendererScope||this.target},getRenderer:function(a){if(Ext.isFunction(a))return a;
var b=this.statics().Renderer;switch(a){case "component":return b.Component;case "data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});
Ext.define("Ext.layout.SizeModel",{constructor:function(a){var b=this.self,c=b.sizeModelsArray;Ext.apply(this,a);this[a=this.name]=!0;this.fixed=!(this.auto=this.natural||this.shrinkWrap);c[this.ordinal=c.length]=b[a]=b.sizeModels[a]=this},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var a=this.sizeModelsArray,
b,c,d,e,f;new this({name:"calculated"});new this({name:"configured",names:{width:"width",height:"height"}});new this({name:"natural"});new this({name:"shrinkWrap"});new this({name:"calculatedFromConfigured",configured:!0,calculatedFrom:!0,names:{width:"width",height:"height"}});new this({name:"calculatedFromNatural",natural:!0,calculatedFrom:!0});new this({name:"calculatedFromShrinkWrap",shrinkWrap:!0,calculatedFrom:!0});new this({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",
height:"maxHeight"}});new this({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}});new this({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});b=0;for(d=a.length;b<d;++b)for(f=a[b],f.pairsByHeightOrdinal=e=[],c=0;c<d;++c)e.push({width:f,height:a[c]})});
Ext.define("Ext.layout.Layout",{mixins:[Ext.mixin.Factoryable],factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(a){this.id=Ext.id(null,this.type+"-");this.initConfig(a);delete this.type;this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b;this.lastWidthModel!==a.widthModel&&(this.lastWidthModel&&
(b=!0),this.lastWidthModel=a.widthModel);this.lastHeightModel!==a.heightModel&&(this.lastWidthModel&&(b=!0),this.lastHeightModel=a.heightModel);b&&((a=a.context).clearTriggers(this,!1),a.clearTriggers(this,!0),this.triggerCount=0)},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},
getScrollerEl:Ext.emptyFn,isItemBoxParent:function(a){return!1},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,b=b.height;return a.componentLayout.lastComponentSize||!c.calculated&&!b.calculated?!c.shrinkWrap&&!b.shrinkWrap:!1},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c=a.length,d,e,f,g;if(c)for(g=[],d=0;d<c;++d)e=a[d],e.rendered||(b&&void 0!==b[e.id]?f=b[e.id]:(this.configureItem(e),f=e.getRenderTree(),
b&&(b[e.id]=f)),f&&g.push(f));return g},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c=b.length,d,e;for(d=0;d<c;d++)e=b[d],e.rendering&&e.finishRender(d)},renderChildren:function(){var a=this.getLayoutItems(),b=this.getRenderTarget();this.renderItems(a,b)},renderItems:function(a,b){var c=a.length,d=0,e;if(c){for(Ext.suspendLayouts();d<c;d++)(e=a[d])&&!e.rendered?this.renderItem(e,b,d):this.isValidParent(e,b,d)?this.configureItem(e):this.moveItem(e,b,d);Ext.resumeLayouts(!0)}},isValidParent:function(a,
b,c){b=b&&b.dom||b;return(a=this.getItemLayoutEl(a))&&b?"number"===typeof c?(c=this.getPositionOffset(c),a===b.childNodes[c]):a.parentNode===b:!1},getItemLayoutEl:function(a){a=a.el?a.el.dom:Ext.getDom(a);var b=a.parentNode;b&&(b=b.className)&&-1!==b.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(a=a.parentNode);return a},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){a.rendered||(this.configureItem(a),a.render(b,c))},moveItem:function(a,
b,c){b=b.dom||b;"number"===typeof c&&(c=b.childNodes[c]);b.insertBefore(a.el.dom,c||null);a.container=Ext.get(b);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return!0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b=a.el,c=this.owner,d;a.rendered&&(d=[].concat(this.itemCls||[]),c.itemCls&&(d=
Ext.Array.push(d,c.itemCls)),d.length&&b.removeCls(d));delete a.ownerLayout},afterCollapse:function(a,b){if(b)this.onContentChange(a)},afterExpand:function(a,b){if(b)this.onContentChange(a)},destroy:function(){var a;this.targetCls&&(a=this.getTarget())&&a.removeCls(this.targetCls);this.onDestroy();this.callParent()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;c<d;++c)a[c].$i=c;Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;d||(d=a.$i-c.$i,a[b]&&(d=-d));return d});for(c=0;c<d;++c)delete a[c].$i}},
function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels});
Ext.define("Ext.layout.container.Container",{extend:Ext.layout.Layout,alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:[Ext.util.ElementContainer],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();
this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);b&&(this.usesContainerHeight&&++a.consumersContainerHeight,this.usesContainerWidth&&++a.consumersContainerWidth)},cacheChildItems:function(a){var b,c,d,e;if(this.needsItemSize||this.setsItemSize)for(b=a.context,c=a.childItems=[],a=a.visibleItems=this.getVisibleItems(),
d=a.length,e=0;e<d;++e)c.push(b.getCmp(a[e]))},cacheElements:function(){var a=this.owner;this.attachChildEls(a.el,a)},calculate:function(a){var b=a.props,c=a.el;a.widthModel.shrinkWrap&&isNaN(b.width)&&a.setContentWidth(c.getWidth());a.heightModel.shrinkWrap&&isNaN(b.height)&&a.setContentHeight(c.getHeight())},configureItem:function(a){var b=this.itemCls,c=this.owner.itemCls,d,e;a.ownerLayout=this;b&&("string"===typeof b?e=[b]:(e=b,d=!!e));c&&(d&&(e=Ext.Array.clone(e)),e=Ext.Array.push(e||[],c));
e&&a.addCls(e)},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),c=c.getRenderData();d.applyOut(c,a)},doRenderItems:function(a,b){var c=b.$layout.getRenderTree();c&&Ext.DomHelper.generateMarkup(c,a)},finishRender:function(){var a,b;this.callParent();this.cacheElements();a=this.getRenderTarget();b=this.getLayoutItems();this.finishRenderItems(a,b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,
b){var c=a.targetContext,d=c.getFrameInfo(),e=a.paddingContext.getPaddingInfo(),f=0,g=0,h,k,l,m;!a.widthModel.shrinkWrap&&(++g,l=b?c.getDomProp("width"):c.getProp("width"),h="number"===typeof l)&&(++f,l-=d.width+e.width,0>l&&(l=0));!a.heightModel.shrinkWrap&&(++g,m=b?c.getDomProp("height"):c.getProp("height"),k="number"===typeof m)&&(++f,m-=d.height+e.height,0>m&&(m=0));return{width:l,height:m,needed:g,got:f,gotAll:f===g,gotWidth:h,gotHeight:k}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=
this.owner.itemNodeOffset;b&&(a+=b)}return a},getLayoutItems:function(){var a=this.owner;return(a=a&&a.items)&&a.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,d=[],e,f;for(e=0;e<c;e++)f=b[e],f.rendered&&this.isValidParent(f,a,e)&&d.push(f);return d},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},
getRenderTpl:function(){var a=Ext.XTemplate.getTpl(this,"renderTpl");a.renderContent||this.owner.setupRenderTpl(a);return a},getRenderTree:function(){var a,b=this.owner.items,c,d={};do c=b.generation,a=this.getItemsRenderTree(this.getLayoutItems(),d);while(b.generation!==c);return a},renderChildren:function(){var a=this.owner.items,b=this.getRenderTarget(),c,d;do c=a.generation,d=this.getLayoutItems(),this.renderItems(d,b);while(a.generation!==c)},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),
f="number"===typeof a,g="number"===typeof b,h=0,k=0;if(!e.width)return 0;g&&b<d&&(k=2,a-=e.width);f&&a<c&&(h=1,!k&&g&&(b-=e.height,b<d&&(k=2)));return k+h},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,d=[],e,f;for(e=0;e<c;e++)f=b[e],f.rendered&&this.isValidParent(f,a,e)&&!0!==f.hidden&&!f.floated&&d.push(f);return d},getMoveAfterIndex:function(a){return this.owner.items.indexOf(a)+1},moveItemBefore:function(a,
b){var c=this.owner,d=c.items,e=d.indexOf(a);if(a===b)return a;b?(d=d.indexOf(b),-1<e&&e<d&&--d):d=d.length;return c.insert(d,a)},setupRenderTpl:function(a){a.renderBody=this.doRenderBody;a.renderContainer=this.doRenderContainer;a.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(a){a.liquidLayout||++this.activeItemCount;this.callParent([a])},onRemove:function(a,b){a.liquidLayout||--this.activeItemCount;this.callParent([a,b])}});
Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:'<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">;<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ;<tpl if="!$comp.html">role="presentation"</tpl>;class="{innerCtCls}">;{%this.renderBody(out,values)%};</div>;</div>'.split(";"),
beginLayout:function(a){this.callParent(arguments);this.initContextItems(a)},beforeLayoutCycle:function(a){var b=this.owner,c=b.inheritedState,d=b.inheritedStateInner;if(!c||c.invalid)b.getInherited(),d=b.inheritedStateInner;a.widthModel.shrinkWrap?d.inShrinkWrapTable=!0:delete d.inShrinkWrapTable},beginLayoutCycle:function(a){var b=this.outerCt,c=this.lastOuterCtWidth||"",d=this.lastOuterCtHeight||"",e=this.lastOuterCtTableLayout||"",f=a.state,g,h,k,l;this.callParent(arguments);h=k=g="";a.widthModel.shrinkWrap||
(h="100%",l=this.owner.inheritedStateInner,g=this.getOverflowXStyle(a),g=l.inShrinkWrapTable||"auto"===g||"scroll"===g?"":"fixed");a.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(k="100%");if(h!==c||this.hasOuterCtPxWidth)b.setStyle("width",h),this.lastOuterCtWidth=h,this.hasOuterCtPxWidth=!1;g!==e&&(b.setStyle("table-layout",g),this.lastOuterCtTableLayout=g);if(k!==d||this.hasOuterCtPxHeight)b.setStyle("height",k),this.lastOuterCtHeight=k,this.hasOuterCtPxHeight=!1;this.hasInnerCtPxHeight&&
(this.innerCt.setStyle("height",""),this.hasInnerCtPxHeight=!1);f.overflowAdjust=f.overflowAdjust||this.lastOverflowAdjust},calculate:function(a){var b=a.state,c=this.getContainerSize(a,!0),b=b.calculatedItems||(b.calculatedItems=this.calculateItems?this.calculateItems(a,c):!0);this.setCtSizeIfNeeded(a,c);if(b&&a.hasDomProp("containerChildrenSizeDone")&&(this.calculateContentSize(a),c.gotAll)){!this.manageOverflow||a.state.secondPass||this.reserveScrollbar||this.calculateOverflow(a,c);return}this.done=
!1},calculateContentSize:function(a){var b=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),c=b&1||void 0,b=b&2||void 0,d=0,e=a.props;c&&(isNaN(e.contentWidth)?++d:c=void 0);b&&(isNaN(e.contentHeight)?++d:b=void 0);d&&(c&&!a.setContentWidth(this.measureContentWidth(a))&&(this.done=!1),b&&!a.setContentHeight(this.measureContentHeight(a))&&(this.done=!1))},calculateOverflow:function(a){var b,c,d,e,f;e="auto"===this.getOverflowXStyle(a);b="auto"===this.getOverflowYStyle(a);if(e||b)if(c=Ext.getScrollbarSize(),
f=a.overflowContext.el.dom,d=0,f.scrollWidth>f.clientWidth&&(d|=1),f.scrollHeight>f.clientHeight&&(d|=2),b=b&&d&2?c.width:0,c=e&&d&1?c.height:0,b!==this.lastOverflowAdjust.width||c!==this.lastOverflowAdjust.height)this.done=!1,a.invalidate({state:{overflowAdjust:{width:b,height:c},overflowState:d,secondPass:!0}})},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderBody:function(a,b){var c=b.$layout,d=Ext.XTemplate,e=c.afterBodyTpl;c.beforeBodyTpl&&d.getTpl(c,"beforeBodyTpl").applyOut(b,
a);this.renderItems(a,b);this.renderContent(a,b);e&&d.getTpl(c,"afterBodyTpl").applyOut(b,a)},doRenderPadding:function(a,b){var c=b.$layout.owner,d=c[c.contentPaddingProperty];b.$layout.managePadding&&d&&a.push("padding:",c.unitizeBox(d))},finishedLayout:function(a){var b=this.innerCt;this.callParent(arguments);Ext.isIE8&&b.repaint();Ext.isOpera&&(b.setStyle("position","relative"),b.dom.scrollWidth,b.setStyle("position",""))},getContainerSize:function(a,b){var c=this.callParent(arguments),d=a.state.overflowAdjust;
d&&(c.width-=d.width,c.height-=d.height);return c},getRenderData:function(){var a=this.callParent();a.innerCtCls=this.innerCtCls;a.outerCtCls=this.outerCtCls;return a},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||
a.overflowContext.getStyle("overflow-y"))},initContextItems:function(a){var b=a.target,c=this.owner.getOverflowEl();a.outerCtContext=a.getEl("outerCt",this);a.innerCtContext=a.getEl("innerCt",this);a.overflowContext=c===a.el?a:a.getEl(c);void 0!==b[b.contentPaddingProperty]&&(a.paddingContext=a.innerCtContext)},initLayout:function(){var a=Ext.getScrollbarSize().width,b=this.owner;this.callParent();a&&this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust")&&(b.scrollable||this.reserveScrollbar)&&
(this.lastOverflowAdjust={width:a,height:0})},measureContentHeight:function(a){var b=this.outerCt.getHeight(),c=a.target;this.managePadding&&void 0===c[c.contentPaddingProperty]&&(b+=a.targetContext.getPaddingInfo().height);return b},measureContentWidth:function(a){var b,c,d;this.chromeCellMeasureBug&&(b=this.innerCt.dom,c=b.style,d=c.display,"table-cell"===d&&(c.display="",b.offsetWidth,c.display=d));Ext.isSafari&&(b=this.outerCt.dom,c=b.style,c.display="table-cell",b.offsetWidth,b.style.display=
"");b=this.outerCt.getWidth();c=a.target;this.managePadding&&void 0===c[c.contentPaddingProperty]&&(b+=a.targetContext.getPaddingInfo().width);return b},setCtSizeIfNeeded:function(a,b){var c=b.height,d=a.paddingContext.getPaddingInfo(),e=this.getTarget(),f=this.getOverflowXStyle(a),f="auto"===f||"scroll"===f,g=Ext.getScrollbarSize(),h,k;c&&!a.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(h=!0),Ext.isIE8&&(k=!0),(h||k)&&f&&e.dom.scrollWidth>e.dom.clientWidth&&(c=Math.max(c-g.height,
0)),h&&(a.outerCtContext.setProp("height",c+d.height),this.hasOuterCtPxHeight=!0),k&&(a.innerCtContext.setProp("height",c),this.hasInnerCtPxHeight=!0))},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&26<=Ext.chromeVersion});
Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9E3,activeCounter:0},constructor:function(a){var b=this;b.id=Ext.id(null,"zindex-mgr-");b.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(a,b){var e=(a.alwaysOnTop||0)-(b.alwaysOnTop||0);e||(e=a.getActiveCounter()-b.getActiveCounter());return e}},filters:{filterFn:function(a){return a.isVisible()}}});b.zIndexStack.addObserver(b);b.front=null;b.globalListeners=Ext.GlobalEvents.on({beforehide:b.onComponentShowHide,
show:b.onComponentShowHide,scope:b,destroyable:!0});a?a.isContainer?(a.on("resize",b.onContainerResize,b),b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed()),b.targetEl=a.getTargetEl(),b.container=a):(Ext.on("resize",b.onContainerResize,b),b.zseed=b.getNextZSeed(),b.targetEl=Ext.get(a)):(b.zseed=b.getNextZSeed(),Ext.onInternalReady(function(){Ext.on("resize",b.onContainerResize,b);b.targetEl=Ext.getBody()}))},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=
1E4},setBase:function(a){this.zseed=a;return this.onCollectionSort()},onCollectionSort:function(){var a=this.front,b=this.zseed,c=this.zIndexStack.getRange(),d=c.length,e,f,g,h;for(e=0;e<d;e++)f=c[e],b=f.setZIndex(b),f.hidden||(h=f,f.modal&&(g=f));h!==a&&(a&&!a.destroying&&a.setActive(!1),h&&(a=h.isFocusable(!0)&&(h.modal||h.focusOnToFront&&!h.preventFocusOnActivate),h.setActive(!0,a)));this.front=h;g?this.showModalMask(g):this.hideModalMask();return b},onComponentUpdate:function(a){this.zIndexStack.contains(a)&&
this.zIndexStack.sort()},onComponentRender:function(a){this.zIndexStack.itemChanged(a,"hidden")},onComponentShowHide:function(a){var b=this.zIndexStack;a.isFloating()&&!this.hidingAll&&(b.getSource()||b).contains(a)&&(b.itemChanged(a,"hidden"),b.sort())},register:function(a){a.zIndexManager&&a.zIndexManager.unregister(a);a.zIndexManager=this;if(!a.rendered)a.on("render",this.onComponentRender,this,{single:!0});this.zIndexStack.add(a)},unregister:function(a){delete a.zIndexManager;a.un("render",this.onComponentRender,
this);this.zIndexStack.remove(a);this.onCollectionSort()},get:function(a){return a.isComponent?a:this.zIndexStack.get(a)},bringToFront:function(a,b){var c=this.zIndexStack,d=c.last(),e;a=this.get(a);if(!a||c.find("alwaysOnTop",!0))return!1;e=a.preventFocusOnActivate;a.preventFocusOnActivate=b;a.setActiveCounter(++Ext.ZIndexManager.activeCounter);a.preventFocusOnActivate=e;c=c.last();return c===a&&c!==d},sendToBack:function(a){(a=this.get(a))&&a.setActiveCounter(0);return a||null},hideAll:function(){var a=
this.zIndexStack.getRange(),b=a.length,c;this.hidingAll=!0;for(c=0;c<b;c++)a[c].hide();this.hidingAll=!1},hide:function(){var a=Ext.Element.getActiveElement(),b=this.tempHidden=this.zIndexStack.getRange(),c=b.length,d,e;this.focusRestoreElement=null;for(d=0;d<c;d++)e=b[d],e.el.contains(a)&&(this.focusRestoreElement=a),e.el.hide(),e.hidden=!0},show:function(){var a,b=this.tempHidden,c=b?b.length:0,d;for(a=0;a<c;a++)d=b[a],d.el.show(),d.hidden=!1,d.setPosition(d.x,d.y);this.tempHidden=null;this.focusRestoreElement&&
this.focusRestoreElement.focus()},getActive:function(){return this.zIndexStack.last()},getBy:function(a,b){return this.zIndexStack.filterBy(a,b).getRange()},each:function(a,b){this.zIndexStack.each(a,b)},eachBottomUp:function(a,b){var c=this.zIndexStack.getRange(),d,e=c.length,f;for(d=0;d<e&&(f=c[d],!f.isComponent||!1!==a.call(b||f,f));d++);},eachTopDown:function(a,b){var c=this.zIndexStack.getRange(),d,e;for(d=c.length;0<d--&&(e=c[d],!e.isComponent||!1!==a.call(b||e,e)););},destroy:function(){var a=
this.zIndexStack.getRange(),b=a.length,c;for(c=0;c<b;c++)Ext.destroy(a[c]);this.container?this.container.un("resize",this.onContainerResize,this):this.targetEl&&Ext.un("resize",this.onContainerResize,this);Ext.destroy(this.mask,this.maskShim,this.zIndexStack,this.globalListeners);this.zIndexStack=this.container=this.targetEl=this.globalListeners=null;this.callParent()},privates:{getMaskBox:function(){var a=this.mask.maskTarget;return a.dom===document.body?{height:Math.max(document.body.scrollHeight,
Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:a.getBox()},onContainerResize:function(){var a=this.mask,b=this.maskShim,c;a&&a.isVisible()&&(a.hide(),b&&b.hide(),c=this.getMaskBox(),b&&(b.setSize(c),b.show()),a.setSize(c),a.show())},onMaskClick:function(){this.front&&this.front.focus()},showModalMask:function(a){var b=a.el,c=b.getStyle("zIndex")-4;a=a.floatParent?a.floatParent.getTargetEl():a.container;var d=this.mask,e=
this.maskShim,f;d?this.hideModalMask():(this.mask=d=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",style:"height:0;width:0"}),d.setVisibilityMode(Ext.Element.DISPLAY),d.on("click",this.onMaskClick,this));d.maskTarget=a;f=this.getMaskBox();e&&(e.setStyle("zIndex",c),e.show(),e.setBox(f));d.setStyle("zIndex",c);a.saveTabbableState({excludeRoot:b});d.show();d.setBox(f)},hideModalMask:function(){var a=this.mask,b=this.maskShim;a&&a.isVisible()&&
(a.maskTarget.restoreTabbableState(),a.maskTarget=void 0,a.hide(),b&&b.hide())}}},function(){Ext.WindowManager=Ext.WindowMgr=new this});
Ext.define("Ext.container.Container",{extend:Ext.Component,xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],mixins:[Ext.mixin.Queryable,Ext.mixin.Container],renderTpl:"{%this.renderContainer(out,values)%}",autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,items:void 0,layout:"auto",suspendLayout:!1,_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var a=Ext.Array.slice(arguments),
b="number"===typeof a[0]?a.shift():-1,c=this.getLayout(),d=!1,e,f,g,h,k,l;1===a.length&&Ext.isArray(a[0])&&(a=a[0],e=!0);this.rendered&&Ext.suspendLayouts();k=a=this.prepareItems(a,!0);f=a.length;e||1!==f||(k=a[0]);for(e=0;e<f;e++)g=a[e],h=0>b?this.items.length:b+e,l=!!g.instancedCmp,delete g.instancedCmp,g.floating?((this.floatingItems||(this.floatingItems=new Ext.util.ItemCollection)).add(g),g.onAdded(this,h,l),delete g.$initParent,this.hasListeners.add&&this.fireEvent("add",this,g,h)):this.hasListeners.beforeadd&&
!1===this.fireEvent("beforeadd",this,g,h)||!1===this.onBeforeAdd(g)||(this.items.insert(h,g),g.onAdded(this,h,l),delete g.$initParent,this.onAdd(g,h),c.onAdd(g,h),d=!0,this.hasListeners.add&&this.fireEvent("add",this,g,h));d&&this.updateLayout();this.rendered&&Ext.resumeLayouts(!0);return k},onAdded:function(a,b,c){this.callParent([a,b,c]);this.containerOnAdded(a,c)},onRemoved:function(a){this.containerOnRemoved(a);this.callParent(arguments)},afterComponentLayout:function(){var a=this.floatingItems,
b,c,d;this.callParent(arguments);if(a)for(a=a.items,b=a.length,c=0;c<b;c++)d=a[c],!d.rendered&&d.autoShow&&d.show()},afterLayout:function(a){var b=this.getScrollable();++this.layoutCounter;b&&1<this.layoutCounter&&b.refresh();this.hasListeners.afterlayout&&this.fireEvent("afterlayout",this,a)},beforeDestroy:function(){var a=this.items,b=this.floatingItems,c;if(a)for(;c=a.first();)this.doRemove(c,!0);if(b)for(;c=b.first();)this.doRemove(c,!0);Ext.destroy(this.layout);this.callParent()},destroy:function(){this.callParent();
this.items&&this.items.destroy();this.floatingItems&&this.floatingItems.destroy();this.refs=this.items=this.floatingItems=this.layout=null},beforeRender:function(){var a=this.getLayout();this.preventChildDisable=!0;this.callParent();this.preventChildDisable=!1;a.initialized||a.initLayout();(a=a.targetCls)&&this.applyTargetCls(a)},cascade:function(a,b,c){var d=this.items?this.items.items:[],e=d.length,f=0,g,h=c?c.concat(this):[this],k=h.length-1;if(!1!==a.apply(b||this,h))for(;f<e;f++)g=d[f],g.cascade?
g.cascade(a,b,c):(h[k]=g,a.apply(b||g,h));return this},contains:function(a,b){var c=!1;return b?(this.cascade(function(b){if(b.contains&&b.contains(a))return c=!0,!1}),c):this.items.contains(a)||this.floatingItems&&this.floatingItems.contains(a)},disable:function(a,b){var c=this.disabled,d,e;this.callParent([a,b]);if(!b&&!this.preventChildDisable&&!c)for(c=this.getChildItemsToDisable(),d=c.length,e=0;e<d;e++)c[e].disable(a,!0);return this},enable:function(a,b){var c=this.disabled,d,e;this.callParent([a,
b]);if(c)for(c=this.getChildItemsToDisable(),d=c.length,e=0;e<d;e++)c[e].enable(a,!0);return this},getChildByElement:function(a,b){var c,d,e=0,f=this.getRefItems(),g=f.length;for(a=Ext.getDom(a);e<g;e++)if(c=f[e],(d=c.getEl())&&(d.dom===a||d.contains(a)))return b&&c.getChildByElement?c.getChildByElement(a,b):c;return null},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());var b=this.items.get(a),c=this.floatingItems;!b&&c&&"number"!==typeof a&&(b=c.get(a));return b},getFocusEl:function(){var a=
this.getDefaultFocus();if(a)return a;if(this.focusable)return this.getTargetEl()},getLayout:function(){var a=this.layout;a&&a.isLayout||this.setLayout(a);return this.layout},getRefItems:function(a){for(var b=this.items.items,c=b.length,d=0,e,f=[];d<c;d++)e=b[d],f[f.length]=e,a&&e.getRefItems&&f.push.apply(f,e.getRefItems(!0));if(this.floatingItems)for(b=this.floatingItems.items,c=b.length,d=0;d<c;d++)e=b[d],f[f.length]=e,a&&e.getRefItems&&f.push.apply(f,e.getRefItems(!0));return f},getDefaultFocus:function(){var a=
this.defaultFocus,b;a&&(b=this.down(a));return b},initComponent:function(){this.callParent();this.getLayout();this.constructing=!0;this.initItems();this.disabled&&(this.disabled=!1,this.disable(!0));delete this.constructing},initItems:function(){var a=this.items;a&&a.isMixedCollection||(this.items=new Ext.util.ItemCollection,a&&(Ext.isArray(a)||(a=[a]),this.add(a)))},initInheritedState:function(a,b){var c=this.layout;this.callParent([a,b]);this.collapsed&&(a.collapsed=!0);this.initContainerInheritedState(a,
b);c&&c.initInheritedState&&c.initInheritedState(a,b)},insert:function(a,b){var c;return b&&b.isComponent&&(c=this.items.indexOf(b),-1!==c)?this.move(c,a):this.add(a,b)},lookupComponent:function(a){a.isComponent||(a="string"===typeof a?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType));return a},move:function(a,b){var c=this.items,d;a.isComponent&&(a=c.indexOf(a));d=c.getAt(a);if(a!==b){d=c.removeAt(a);if(!1===d)return!1;b=Math.min(b,c.getCount());c.insert(b,d);this.onMove(d,
a,b);this.hasListeners.childmove&&this.fireEvent("childmove",this,d,a,b);this.updateLayout()}return d},moveBefore:function(a,b){a!==b&&(a=this.layout.moveItemBefore(a,b));return a},moveAfter:function(a,b){var c=this.layout,d;a!==b&&(d=b?c.getMoveAfterIndex(b):0,a=c.moveItemBefore(a,this.items.getAt(d)));return a},nextChild:function(a,b){var c=this.items,d=c.indexOf(a),e=0,f=c.length,g;if(-1!==d)if(b)for(;e<f&&(g=c.getAt(d+e),g&&!Ext.ComponentQuery.is(g,b));e++);else g=c.getAt(d+1);return g||null},
onAdd:Ext.emptyFn,onBeforeAdd:function(a){var b=a.ownerCt;b&&b!==this&&b.remove(a,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},prevChild:function(a,b){var c=this.items,d=c.indexOf(a),e=0,f=c.length,g;if(-1!==d)if(b)for(;e<f&&(g=c.getAt(d-e),g&&!Ext.ComponentQuery.is(g,b));e++);else g=c.getAt(d-1);return g||null},remove:function(a,b){var c;
if(!this.destroyed&&!this.destroying)return!(c=this.getComponent(a))||this.hasListeners.beforeremove&&!1===this.fireEvent("beforeremove",this,c)||(this.doRemove(c,b),this.hasListeners.remove&&this.fireEvent("remove",this,c),this.destroying||c.floating||this.updateLayout()),c},removeAll:function(a){var b;b=this.floatingItems;var c=[],d=0,e,f;b=b?this.items.items.concat(b.items):this.items.items.slice();e=b.length;Ext.suspendLayouts();for(this.removingAll=!0;d<e;d++)f=b[d],this.remove(f,a),f.ownerCt!==
this&&c.push(f);this.removingAll=!1;Ext.resumeLayouts(!!e);return c},setLayout:function(a){var b=this.layout,c=b&&b.isLayout,d;"string"===typeof a&&(a={type:a});d=a.type;!c||d&&d!==b.type?(c&&b.setOwner(null),b=this.self.prototype.layout,"string"===typeof b?a.type=d||b:Ext.merge(Ext.merge({},b),a),a=this.layout=Ext.Factory.layout(a),a.setOwner(this)):(delete a.type,b.setConfig(a));this.rendered&&this.updateLayout()},setActiveItem:function(a){return this.getLayout().setActiveItem(a)},privates:{applyDefaults:function(a){var b=
this.defaults;b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)&&(a=Ext.ComponentManager.get(a)),a.isComponent?a.setConfig(b,null,this._applyDefaultsOptions):a=this.getConfigurator().merge(this,Ext.Object.fork(b),a));return a},applyReference:function(a){return this.setupReference(a)},applyTargetCls:function(a){this.layoutTargetCls=a},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},doRemove:function(a,b){b=!0===b||!1!==b&&this.autoDestroy;var c=this.layout,d=c&&this.rendered,
e=a.destroying||b,f=a.floating;f?this.floatingItems.remove(a):this.items.remove(a);d&&!f&&(c.running&&Ext.Component.cancelLayout(a,e),c.onRemove(a,e));a.onRemoved(e);this.onRemove(a,e);b?a.destroy():(d&&!f&&c.afterRemove(a),this.detachOnRemove&&a.rendered&&this.detachComponent(a))},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},
getDefaultContentTarget:function(){return this.el},getScrollerEl:function(){return this.layout.getScrollerEl()||this.callParent()},prepareItems:function(a,b){a=Ext.isArray(a)?a.slice():[a];for(var c=0,d=a.length,e;c<d;c++)e=a[c],null==e?(Ext.Array.erase(a,c,1),--c,--d):(b&&(e=this.applyDefaults(e)),e.$initParent=this,e.isComponent&&(e.instancedCmp=!0),a[c]=this.lookupComponent(e),delete e.$initParent);return a},repositionFloatingItems:function(){var a=this.floatingItems,b,c,d;if(a)for(a=a.items,b=
a.length,c=0;c<b;c++)d=a[c],d.el&&!d.hidden&&d.setPosition(d.x,d.y)},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var a=this.items.items,b=a.length,c=this._noMargin,d;b--;)d=a[b],d.margin$=null,d.el.setStyle(c)},setupRenderTpl:function(a){this.callParent(arguments);this.getLayout().setupRenderTpl(a)}}});
Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",config:{src:null},alt:"",title:"",imgCls:"",maskOnDisable:!1,initComponent:function(){this.glyph&&(this.autoEl="div");this.callParent()},applySrc:function(a){return a&&Ext.resolveResource(a)},getElConfig:function(){var a=this.autoEl,b=this.callParent(),c=Ext._glyphFontFamily,d=this.glyph,e;"img"===a||Ext.isObject(a)&&"img"===a.tag?e=b:this.glyph?("string"===typeof d&&
(a=d.split("@"),d=a[0],c=a[1]||c),b.html="&#"+d+";",c&&(b.style=b.style||{},b.style.fontFamily=c),b.role="img"):b.cn=[e={tag:"img",id:this.id+"-img"}];e&&(this.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+this.imgCls),e.src=this.src||Ext.BLANK_IMAGE_URL);(e||b).alt=this.alt?this.alt:"";this.title&&((e||b).title=this.title);return b},onRender:function(){var a=this.autoEl,b;this.callParent(arguments);b=this.el;"img"===a||Ext.isObject(a)&&"img"===a.tag?this.imgEl=b:this.imgEl=b.getById(this.id+"-img")},onDestroy:function(){var a=
this.imgEl;a&&this.el!==a&&a.destroy();this.imgEl=null;this.callParent()},getTitle:function(){return this.title},setTitle:function(a){var b=this.imgEl;this.title=a||"";b&&(b.dom.title=a||"")},getAlt:function(){return this.alt},setAlt:function(a){var b=this.imgEl;this.alt=a||"";b&&(b.dom.alt=a||"")},updateSrc:function(a){var b=this.imgEl;b&&(b.dom.src=a||Ext.BLANK_IMAGE_URL)},setGlyph:function(a){var b=Ext._glyphFontFamily,c=this.glyph,d=this.el;this.glyph=a;this.rendered&&a!==c&&("string"===typeof a&&
(c=a.split("@"),a=c[0],b=c[1]||b),d.dom.innerHTML="&#"+a+";",b&&d.setStyle("font-family",b))}});
Ext.define("Ext.util.StoreHolder",{mixinId:"storeholder",bindStore:function(a,b,c){c=c||"store";var d=b?null:this[c];a!==d&&(d&&(this.onUnbindStore(d,b,c),this.isComponent&&"store"===c&&d.autoDestroy?d.destroy():this.unbindStoreListeners(d)),a?(this[c]=a=Ext.data.StoreManager.lookup(a),this.bindStoreListeners(a),this.onBindStore(a,d)):this[c]=null);return this},getStore:function(){return this.store},setStore:function(a){this.bindStore(a)},unbindStoreListeners:function(a){var b=this.storeListeners;
b&&a.un(b)},bindStoreListeners:function(a){var b=this.getStoreListeners(a);b&&(b=Ext.apply({},b),b.scope||(b.scope=this),this.storeListeners=b,a.on(b))},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});
Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:[Ext.util.StoreHolder],isLoadMask:!0,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",msgWrapCls:Ext.baseCSSPrefix+"mask-msg",useMsg:!0,useTargetEl:!1,cls:Ext.baseCSSPrefix+"mask",componentCls:Ext.baseCSSPrefix+"border-box",ariaRole:"status",focusable:!0,tabIndex:0,autoEl:{tag:"div",role:"status"},childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}">',
'<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}">{msg}</div>',"</div>","</div>"],maskOnDisable:!1,skipLayout:!0,constructor:function(a){var b;2===arguments.length?(b=this.target=a,a=arguments[1]):b=a.target;this.callParent([a]);b.isComponent?(this.ownerCt=b,this.hidden=!0,this.renderTo=this.getMaskTarget(),this.external=this.renderTo===
Ext.getBody(),this.bindComponent(b)):(Ext.get(b),this.isElement=!0,this.renderTo=this.target);this.render(this.renderTo);this.store&&this.bindStore(this.store,!0)},initRenderData:function(){var a=this.callParent(arguments);a.msg=this.msg||"";return a},onRender:function(){this.callParent(arguments);this.maskEl=this.el},bindComponent:function(a){var b={scope:this,resize:this.sizeMask};if(this.external)if(b.added=this.onComponentAdded,b.removed=this.onComponentRemoved,a.floating)b.move=this.sizeMask,
this.activeOwner=a;else if(a.ownerCt)this.onComponentAdded(a.ownerCt);this.mon(a,b);this.external&&this.mon(Ext.GlobalEvents,{show:this.onContainerShow,hide:this.onContainerHide,expand:this.onContainerExpand,collapse:this.onContainerCollapse,scope:this})},onComponentAdded:function(a){delete this.activeOwner;this.floatParent=a;a.floating||(a=a.up("[floating]"));a?(this.activeOwner=a,this.mon(a,"move",this.sizeMask,this),this.mon(a,"tofront",this.onOwnerToFront,this)):this.preventBringToFront=!0;a=
this.floatParent.ownerCt;this.rendered&&this.isVisible()&&a&&(this.floatOwner=a,this.mon(a,"afterlayout",this.sizeMask,this,{single:!0}))},onComponentRemoved:function(a){a=this.activeOwner;var b=this.floatOwner;a&&(this.mun(a,"move",this.sizeMask,this),this.mun(a,"tofront",this.onOwnerToFront,this));b&&this.mun(b,"afterlayout",this.sizeMask,this);delete this.activeOwner;delete this.floatOwner},afterRender:function(){this.callParent(arguments);if(Ext.isIE)this.el.on("mousedown",this.onMouseDown,this);
this.el.skipGarbageCollection=!0},onMouseDown:function(a){var b=this.el;a.within(b)&&(a.preventDefault(),b.focus())},onOwnerToFront:function(a,b){this.el.setStyle("zIndex",b+1)},onContainerShow:function(a){if(!this.isHierarchicallyHidden())this.onComponentShow()},onContainerHide:function(a){if(this.isHierarchicallyHidden())this.onComponentHide()},onContainerExpand:function(a){if(!this.isHierarchicallyHidden())this.onComponentShow()},onContainerCollapse:function(a){if(this.isHierarchicallyHidden())this.onComponentHide()},
onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var a=this.activeOwner||this.target,b=this.external?this.getOwner().el:this.getMaskTarget();if(this.rendered&&this.isVisible()){if(this.external){if(!this.isElement&&a.floating)this.onOwnerToFront(a,a.el.getZIndex());this.el.setSize(b.getSize()).alignTo(b,"tl-tl")}this.msgWrapEl.center(this.el)}},bindStore:function(a,
b){Ext.destroy(this.proxyListeners);this.mixins.storeholder.bindStore.apply(this,arguments);if(a=this.store){for(;a.getSource;)a=a.getSource();a.loadsSynchronously()||(this.proxyListeners=a.getProxy().on({exception:this.onLoad,scope:this,destroyable:!0}));if(a.isLoading())this.onBeforeLoad()}},getStoreListeners:function(a){var b=this.onLoad,c=this.onBeforeLoad,d={cachemiss:c,cachefilled:{fn:b,buffer:100}};a.loadsSynchronously()||(d.beforeload=c,d.load=b);return d},onDisable:function(){this.callParent(arguments);
if(this.loading)this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.isElement?this.target:this.useTargetEl?a.getTargetEl():a.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var a=this,b=a.getOwner(),c;a.disabled||(a.loading=!0,b.componentLayoutCounter?a.maybeShow():(c=b.afterComponentLayout,b.afterComponentLayout=function(){b.afterComponentLayout=c;c.apply(b,arguments);a.maybeShow()}))},maybeShow:function(){var a=
this.getOwner();a.isVisible(!0)?this.loading&&a.rendered&&this.show():this.showNext=!0},hide:function(){var a=this.ownerCt;if(this.isElement)a.unmask(),this.fireEvent("hide",this);else return a&&(a.enableTabbing(),a.setMasked(!1)),delete this.showNext,this.callParent(arguments)},show:function(){if(this.isElement)this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),this.fireEvent("show",this);else return this.callParent(arguments)},afterShow:function(){var a=this.ownerCt;this.loading=!0;this.callParent(arguments);
a.disableTabbing();a.setMasked(!0);this.el.restoreTabbableState();this.syncMaskState()},syncMaskState:function(){var a=this.ownerCt,b=this.el;this.isVisible()&&(this.hasOwnProperty("msgWrapCls")&&(b.dom.className=this.msgWrapCls),this.useMsg?this.msgTextEl.setHtml(this.msg):this.msgEl.hide(),this.shim||Ext.useShims?b.enableShim(null,!0):b.disableShim(),a.el.contains(Ext.Element.getActiveElement())&&this.focus(),this.sizeMask())},onLoad:function(){this.loading=!1;this.hide()},beforeDestroy:function(){this.ownerCt=
null;this.bindStore(null);this.callParent()},onDestroy:function(){this.isElement&&this.ownerCt.unmask();this.callParent()}});
Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(a,b){var c=this.owner,d=a.ownerCtContext,e=a.heightModel,f=a.widthModel,g=c.el.dom===document.body,h=c.lastBox||this.nullBox,k=c.el.lastBox||this.nullBox,l=!g,m=a.isTopLevel;this.callParent([a,b]);b&&(this.usesContentWidth&&++a.consumersContentWidth,this.usesContentHeight&&
++a.consumersContentHeight,this.usesWidth&&++a.consumersWidth,this.usesHeight&&++a.consumersHeight,d&&!d.hasRawContent&&(d=c.ownerLayout))&&(d.usesWidth&&++a.consumersWidth,d.usesHeight&&++a.consumersHeight);f.configured?(d=c[f.names.width],m&&f.calculatedFrom&&(d=h.width),g||(l=this.setWidthInDom||(b?d!==k.width:f.constrained)),a.setWidth(d,l)):m&&(f.calculated&&(f=h.width,a.setWidth(f,f!==k.width)),f=h.x,a.setProp("x",f,f!==k.x));e.configured?(c=c[e.names.height],m&&e.calculatedFrom&&(c=h.height),
g||(l=b?c!==k.height:e.constrained),a.setHeight(c,l)):m&&(e.calculated&&(f=h.height,a.setHeight(f,f!==k.height)),f=h.y,a.setProp("y",f,f!==k.y))},finishedLayout:function(a){var b=a.children,c=this.owner,d,e,f;if(b)for(d=b.length,e=0;e<d;e++)f=b[e],f.el.lastBox=f.props;a.previousSize=this.lastComponentSize;this.lastComponentSize=c.el.lastBox=b=a.props;c=c.lastBox||(c.lastBox={});c.x=b.x;c.y=b.y;c.width=b.width;c.height=b.height;c.invalid=!1;this.callParent([a])},notifyOwner:function(a){var b=this.lastComponentSize;
a=a.previousSize;this.owner.afterComponentLayout(b.width,b.height,a?a.width:void 0,a?a.height:void 0)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b=this.targetInfo;b||(a=a.getEl("getTarget",this),this.targetInfo=b={padding:a.getPaddingInfo(),border:a.getBorderInfo()});return b},measureAutoDimensions:function(a,b){var c=this.owner,d=c.layout,e=a.heightModel,f=a.widthModel,g=a.boxParent,h=a.isBoxParent,k=a.target,l=a.props,
m,n={gotWidth:!1,gotHeight:!1,isContainer:m=!a.hasRawContent},p=b||3,q,r=0,t=0,u;if(f.shrinkWrap&&a.consumersContentWidth)if(++r,q=!(p&1),m)q?(n.contentWidth=0,n.gotWidth=!0,++t):void 0!==(n.contentWidth=a.getProp("contentWidth"))&&(n.gotWidth=!0,++t);else if(u=l.contentWidth,"number"===typeof u)n.contentWidth=u,n.gotWidth=!0,++t;else{if(u=q?!0:a.hasDomProp("containerChildrenSizeDone")?h||!g||g.widthModel.shrinkWrap?!0:g.hasDomProp("width"):!1)q?q=0:d&&d.measureContentWidth?q=d.measureContentWidth(a):
k.cacheWidth?(q=k.xtype+"-"+k.ui,u=this.widthCache,q=u[q]||(u[q]=this.measureContentWidth(a))):q=this.measureContentWidth(a),isNaN(n.contentWidth=q)||(a.setContentWidth(q,!0),n.gotWidth=!0,++t)}else f.natural&&a.consumersWidth&&(++r,u=l.width,"number"===typeof u?(n.width=u,n.gotWidth=!0,++t):(u=h||!g?!0:g.hasDomProp("width"))&&!isNaN(n.width=this.measureOwnerWidth(a))&&(a.setWidth(n.width,!1),n.gotWidth=!0,++t));if(e.shrinkWrap&&a.consumersContentHeight)if(++r,e=!(p&2),m)e?(n.contentHeight=0,n.gotHeight=
!0,++t):void 0!==(n.contentHeight=a.getProp("contentHeight"))&&(n.gotHeight=!0,++t);else if(u=l.contentHeight,"number"===typeof u)n.contentHeight=u,n.gotHeight=!0,++t;else{if(u=e?!0:a.hasDomProp("containerChildrenSizeDone")?c.noWrap?!0:f.shrinkWrap?h||!g||g.widthModel.shrinkWrap?!0:g.hasDomProp("width"):(a.bodyContext||a).hasDomProp("width"):!1)e?q=0:d&&d.measureContentHeight?q=d.measureContentHeight(a):k.cacheHeight?(q=k.xtype+"-"+k.ui,u=this.heightCache,q=u[q]||(u[q]=this.measureContentHeight(a))):
q=this.measureContentHeight(a),isNaN(n.contentHeight=q)||(a.setContentHeight(q,!0),n.gotHeight=!0,++t)}else e.natural&&a.consumersHeight&&(++r,u=l.height,"number"===typeof u?(n.height=u,n.gotHeight=!0,++t):(u=h||!g?!0:g.hasDomProp("width"))&&!isNaN(n.height=this.measureOwnerHeight(a))&&(a.setHeight(n.height,!1),n.gotHeight=!0,++t));if(g)a.onBoxMeasured();n.gotAll=t===r;return n},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-
a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});
Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(a,b){var c=this.lastWidthModel,d=this.lastHeightModel,e=this.owner.el;this.callParent(arguments);c&&c.fixed&&a.widthModel.shrinkWrap&&e.setWidth(null);d&&d.fixed&&a.heightModel.shrinkWrap&&e.setHeight(null)},calculate:function(a){var b=this.measureAutoDimensions(a),
c=a.heightModel,d=a.widthModel;b.gotWidth?d.shrinkWrap?this.publishOwnerWidth(a,b.contentWidth):this.publishInnerWidth&&this.publishInnerWidth(a,b.width):!d.auto&&this.publishInnerWidth&&(d=this.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width"),void 0===d?this.done=!1:this.publishInnerWidth(a,d));b.gotHeight?c.shrinkWrap?this.publishOwnerHeight(a,b.contentHeight):this.publishInnerHeight&&this.publishInnerHeight(a,b.height):!c.auto&&this.publishInnerHeight&&(c=this.waitForOuterHeightInDom?
a.getDomProp("height"):a.getProp("height"),void 0===c?this.done=!1:this.publishInnerHeight(a,c));b.gotAll||(this.done=!1)},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c=this.owner,d=this.calculateOwnerHeightFromContentHeight(a,b),e,f;isNaN(d)?this.done=!1:(c=Ext.Number.constrain(d,c.minHeight,c.maxHeight),c===d?e=this.setHeightInDom:(f=this.sizeModels[c<
d?"constrainedMax":"constrainedMin"],d=c,a.heightModel.calculatedFromShrinkWrap?a.heightModel=f:a.invalidate({heightModel:f})),a.setHeight(d,e))},publishOwnerWidth:function(a,b){var c=this.owner,d=this.calculateOwnerWidthFromContentWidth(a,b),e,f;isNaN(d)?this.done=!1:(c=Ext.Number.constrain(d,c.minWidth,c.maxWidth),c===d?e=this.setWidthInDom:(f=this.sizeModels[c<d?"constrainedMax":"constrainedMin"],d=c,a.widthModel.calculatedFromShrinkWrap?a.widthModel=f:a.invalidate({widthModel:f})),a.setWidth(d,
e))}});
Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(a){var b,c;this.callParent(arguments);if(!a.textEls)if(c=this.owner.textEl,c.isComposite)for(a.textEls=[],c=c.elements,b=c.length;b--;)a.textEls[b]=a.getEl(Ext.get(c[b]));else a.textEls=[a.getEl("textEl")]},calculate:function(a){var b,c,d;this.callParent(arguments);if(Ext.isNumber(d=a.getProp("width")))for(d-=a.getBorderInfo().width,c=a.textEls,b=c.length;b--;)c[b].setWidth(d);
else this.done=!1}});
Ext.define("Ext.ProgressBar",{extend:Ext.Component,xtype:"progressbar",mixins:[Ext.ProgressBase],baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:'<tpl if="internalText">;<div class="{baseCls}-text {baseCls}-text-back">{text}</div>;</tpl>;<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">;<tpl if="internalText">;<div class="{baseCls}-text">;<div>{text}</div>;</div>;</tpl>;</div>'.split(";"),componentLayout:"progressbar",
ariaRole:"progressbar",initRenderData:function(){var a=this.value||0;return Ext.apply(this.callParent(),{internalText:!this.hasOwnProperty("textEl"),text:this.text||"&#160;",percentage:100*a})},onRender:function(){this.callParent(arguments);this.textEl?(this.textEl=Ext.get(this.textEl),this.updateText(this.text)):this.textEl=this.el.select("."+this.baseCls+"-text")},updateValue:function(a){this.updateProgress(a,Math.round(100*a)+"%")},updateProgress:function(a,b,c){a=a||0;var d=this.value,e=this.getTextTpl();
this.value=a||(a=0);null!=b?this.updateText(b):e&&this.updateText(e.apply({value:a,percent:100*a}));this.rendered&&!this.destroyed&&(!0===c||!1!==c&&this.animate?(this.bar.stopAnimation(),this.bar.animate(Ext.apply({from:{width:100*d+"%"},to:{width:100*a+"%"}},this.animate))):this.bar.setStyle("width",100*a+"%"));this.fireEvent("update",this,a,b);return this},updateText:function(a){this.text=a;this.rendered&&this.textEl.setHtml(this.text);return this},applyText:function(a){this.updateText(a)},getText:function(){return this.text},
wait:function(a){var b=this;b.waitTimer||(a=a||{},b.updateText(a.text),b.waitTimer=Ext.TaskManager.start({run:function(c){var d=a.increment||10;b.updateProgress(100/d*((c-1+d)%d+1)*.01,null,a.animate)},interval:a.interval||1E3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||b);b.reset()},scope:b}));return b},isWaiting:function(){return null!==this.waitTimer},reset:function(a){this.updateProgress(0);this.clearTimer();!0===a&&this.hide();return this},clearTimer:function(){this.waitTimer&&
(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},onDestroy:function(){var a=this.bar;this.clearTimer();this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar"),a&&this.animate&&a.stopAnimation());this.callParent()}});
Ext.define("Ext.dom.ButtonElement",{extend:Ext.dom.Element,setSize:function(a,b,c){var d=this.component;this.callParent([a,b,c]);d.btnWrap.setStyle("table-layout",a&&"auto"!==a?"fixed":"");d.btnEl.setStyle("height",b&&"auto"!==b?"auto":"");return this},setStyle:function(a,b){var c=this.component,d;this.callParent([a,b]);if(a){if("width"===a||"string"!==typeof a&&"width"in a)d=b||a.width,c.btnWrap.setStyle("table-layout",d&&"auto"!==d?"fixed":"");if("height"===a||"string"!==typeof a&&"height"in a)d=
b||a.height,c.btnEl.setStyle("height",d&&"auto"!==d?"auto":"")}return this},setHeight:function(a,b){this.callParent([a,b]);this.component.btnEl.setStyle("height",a&&"auto"!==a?"auto":"");return this},setWidth:function(a,b){this.callParent([a,b]);this.component.btnWrap.setStyle("table-layout",a&&"auto"!==a?"fixed":"");return this}});
Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){this.initialized||(Ext.getDoc().on({mouseup:this.onDocumentMouseUp,scope:this}),this.initialized=!0)},onButtonMousedown:function(a,b){var c=this.pressedButton;if(c)c.onMouseUp(b);this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;b&&(b.onMouseUp(a),this.pressedButton=null)},toggleGroup:function(a,b){if(b){var c=this.groups[a.toggleGroup],
d=c.length,e;for(e=0;e<d;e++)c[e]!==a&&c[e].toggle(!1)}},register:function(a){var b=this.groups,c=b[a.toggleGroup];this.init();a.toggleGroup&&(c||(c=b[a.toggleGroup]=[]),c.push(a),a.on("toggle",this.toggleGroup,this))},unregister:function(a){if(a.toggleGroup){var b=this.groups[a.toggleGroup];b&&(Ext.Array.remove(b,a),a.un("toggle",this.toggleGroup,this))}},getPressed:function(a){a=this.groups[a];var b=0,c;if(a)for(c=a.length;b<c;b++)if(!0===a[b].pressed)return a[b];return null}});
Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var a=this;a.onShow=function(){delete a.onShow;Ext.on("mousedown",a.checkActiveMenus,a);return a.onShow.apply(a,arguments)}},checkActiveMenus:function(a){var b=this.visible,c=b.length,d,e,f=Ext.Component.fromElement(a.target);if(c)for(b=b.slice(),d=0;d<c;++d)e=b[d],e.owns(a)||f&&f.isMenuCheckItem&&f.menu===e||e.hide()},onShow:function(a){a.floating&&Ext.Array.include(this.visible,
a)},onHide:function(a){a.floating&&Ext.Array.remove(this.visible,a)},hideAll:function(){var a=this.visible,b=a.length,c=!1,d;if(b)for(a=a.slice(),d=0;d<b;d++)a[d].hide(),c=!0;return c},get:function(a,b){var c;"string"===typeof a?(c=Ext.getCmp(a),c instanceof Ext.menu.Menu&&(a=c)):Ext.isArray(a)?(b=Ext.apply({items:a},b),a=new Ext.menu.Menu(b)):a.isComponent||(b=Ext.apply({},a,b),a=Ext.ComponentManager.create(b,"menu"));return a},registerCheckable:function(a){var b=this.groups,c=a.group;c&&(b[c]||
(b[c]=[]),b[c].push(a))},unregisterCheckable:function(a){var b=this.groups,c=a.group;c&&Ext.Array.remove(b[c],a)},onCheckChange:function(a,b){var c=this.groups,d=a.group,e=0,f;if(d&&b)for(c=c[d],d=c.length;e<d;e++)f=c[e],f!==a&&f.setChecked(!1)}});
Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(a,b){this.el=Ext.get(a);this.el.unselectable();Ext.apply(this,b);this.callParent();this.disabled||(this.disabled=!0,this.enable());if(this.handler)this.on("click",this.handler,this.scope||this)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8)this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||
this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=!1},disable:function(a){if(a||!this.disabled)clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners();this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault();this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0);this.callParent()},handleDblClick:function(a){clearTimeout(this.timer);
this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);this.accelerate&&(this.delay=400);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a]);this.mousedownPreventDefault&&a.preventDefault();
this.mousedownStopEvent&&a.stopEvent()},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12E3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a===d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(a){this.el.un("mouseover",
this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click(a)},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",this,a)}});
Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:[Ext.mixin.Queryable,Ext.util.KeyboardInteractive],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",
destroyMenu:!0,focusable:!0,ariaRole:"button",keyHandlers:{SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",
_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_arrowElCls:Ext.baseCSSPrefix+"btn-arrow-el",_focusCls:Ext.baseCSSPrefix+"btn-focus",_arrowFocusCls:Ext.baseCSSPrefix+"arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl>>{arrowElText}</span></tpl>',
iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",
unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){this.addCls(Ext.baseCSSPrefix+"unselectable");this.callParent();this.menu&&(this.split=!0,this.setMenu(this.menu,!1,!0));this.url&&(this.href=this.url);this.configuredWithPreventDefault=this.hasOwnProperty("preventDefault");
this.href&&!this.configuredWithPreventDefault&&(this.preventDefault=!1);Ext.isString(this.toggleGroup)&&""!==this.toggleGroup&&(this.enableToggle=!0);this.html&&!this.text&&(this.text=this.html,delete this.html)},getElConfig:function(){var a=this.callParent(),b=this.getHref(),c=this.hrefTarget;"a"===a.tag&&(this.disabled||(a.tabIndex=this.tabIndex),b&&!this.disabled&&(a.href=b,c&&(a.target=c)));this.ariaStaticRoles[this.ariaRole]||(this.menu&&!this.isSplitButton&&(a["aria-haspopup"]=!0),this.enableToggle&&
(a["aria-pressed"]=!!this.pressed));return a},beforeRender:function(){this.callParent();this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(a,b,c){var d=this.menu,e=this.isSplitButton?this.arrowEl&&this.arrowEl.dom:this.ariaEl.dom;d&&!c&&(!1!==b&&this.destroyMenu&&d.destroy(),d.ownerCmp=null);if(a)b=a.isMenu,a=Ext.menu.Manager.get(a,{ownerCmp:this}),a.setOwnerCmp(this,
b),a.menuClickBuffer=250,this.mon(a,{scope:this,show:this.onMenuShow,hide:this.onMenuHide}),!d&&this.getArrowVisible()&&(this.split=!0,this.rendered&&(this._addSplitCls(),this.updateLayout())),this.menu=a,e?(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",a.id)):(d=this.isSplitButton?this.ariaArrowElAttributes||(this.ariaArrowElAttributes={}):this.ariaRenderAttributes||(this.ariaRenderAttributes={}),d["aria-haspopup"]=!0,d["aria-owns"]=a.id);else{if(this.rendered)e.removeAttribute("aria-haspopup"),
e.removeAttribute("aria-owns"),this._removeSplitCls(),this.updateLayout();else if(d=this.isSplitButton?this.ariaArrowElAttributes:this.ariaRenderAttributes)delete d["aria-haspopup"],delete d["aria-owns"];this.split=!1;this.menu=null}},onRender:function(){var a,b,c;this.callParent(arguments);b=this.el;this.tooltip&&this.setTooltip(this.tooltip,!0);this.handleMouseEvents?(c={scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousedown:this.onMouseDown},this.split&&(c.mousemove=this.onMouseMove)):
c={scope:this};Ext.supports.Touch&&(c.touchstart=this.onTouchStart);this.repeat?this.mon(new Ext.util.ClickRepeater(b,Ext.isObject(this.repeat)?this.repeat:{}),"click",this.onRepeatClick,this):c[this.clickEvent]?a=!0:c[this.clickEvent]=this.onClick;this.mon(b,c);this.hasFrameTable()&&this.mon(this.frameTable,"click",this.frameTableListener,this);a&&this.mon(b,this.clickEvent,this.onClick,this);Ext.button.Manager.register(this)},onFocusLeave:function(a){this.callParent([a]);this.menu&&this.menu.hide()},
getTemplateArgs:function(){var a=this._btnCls,b=this._baseIconCls,c=this.getIconAlign(),d=this.glyph,e=Ext._glyphFontFamily,f=this.text,g=this._hasIcon(),h=this._hasIconCls;"string"===typeof d&&(e=d.split("@"),d=e[0],e=e[1]);return{split:this.isSplitButton,innerCls:this._innerCls,splitCls:this.getArrowVisible()?this.getSplitCls():"",iconUrl:this.icon,iconCls:this.iconCls,glyph:d,glyphCls:d?this._glyphCls:"",glyphFontFamily:e,text:f||"&#160;",closeText:this.closeText,textCls:f?this._textCls:"",noTextCls:f?
"":this._noTextCls,hasIconCls:g?h:"",btnWrapCls:this._btnWrapCls,btnWrapStyle:this.width?"table-layout:fixed;":"",btnElStyle:this.height?"height:auto;":"",btnCls:a,baseIconCls:b,iconBeforeText:"left"===c||"top"===c,iconAlignCls:g?h+"-"+c:"",textAlignCls:a+"-"+this.getTextAlign(),arrowElCls:this._arrowElCls,tabIndex:this.tabIndex}},renderIcon:function(a){return this.getTpl("iconTpl").apply(a)},setHref:function(a){var b=this.hrefTarget,c;this.href=a;this.configuredWithPreventDefault||(this.preventDefault=
!a);this.rendered&&(c=this.el.dom,!a||this.disabled?(c.removeAttribute("href"),c.removeAttribute("hrefTarget")):(c.href=this.getHref(),b&&(c.target=b)))},getHref:function(){var a=this.href;return a?Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams))):!1},setParams:function(a){this.params=a;this.rendered&&(a=this.el.dom,this.disabled?a.removeAttribute("href"):a.href=this.getHref()||"")},getSplitCls:function(){return this.split?this.baseCls+"-"+this.arrowCls+" "+(this.baseCls+
"-"+this.arrowCls+"-"+this.arrowAlign):""},setIcon:function(a){a=a||"";var b=this.btnIconEl,c=this.icon||"";this.icon=a;a!==c&&(b&&(b.setStyle("background-image",a?"url("+a+")":""),this._syncHasIconCls(),this.didIconStateChange(c,a)&&this.updateLayout()),this.fireEvent("iconchange",this,c,a));return this},setIconCls:function(a){a=a||"";var b=this.btnIconEl,c=this.iconCls||"";this.iconCls=a;c!==a&&(b&&(b.removeCls(c),b.addCls(a),this._syncHasIconCls(),this.didIconStateChange(c,a)&&this.updateLayout()),
this.fireEvent("iconchange",this,c,a));return this},setGlyph:function(a){a=a||0;var b=this.btnIconEl,c=this.glyph,d=this._glyphCls,e;this.glyph=a;b&&("string"===typeof a&&(e=a.split("@"),a=e[0],e=e[1]||Ext._glyphFontFamily),a?c!==a&&(b.dom.innerHTML="&#"+a+";",b.addCls(d)):(b.dom.innerHTML="",b.removeCls(d)),e&&b.setStyle("font-family",e),this._syncHasIconCls(),this.didIconStateChange(c,a)&&this.updateLayout());this.fireEvent("glyphchange",this,this.glyph,c);return this},setTooltip:function(a,b){this.rendered?
(b&&a||this.clearTip(),a&&(Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.el.id},a)),this.tooltip=a):this.el.dom.setAttribute(this.getTipAttr(),a))):this.tooltip=a;return this},updateIconAlign:function(a,b){var c,d,e;this.rendered&&(c=this.btnEl,d=this.btnIconEl,e=this._hasIconCls,b&&c.removeCls(e+"-"+b),c.addCls(e+"-"+a),"top"===a||"left"===a?c.insertFirst(d):c.appendChild(d),this.updateLayout())},updateTextAlign:function(a,b){var c=this.btnEl,d=this._btnCls;
this.rendered&&(c.removeCls(d+"-"+b),c.addCls(d+"-"+a))},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},getRefItems:function(a){var b=this.menu,c;b&&(c=b.getRefItems(a),c.unshift(b));return c||[]},clearTip:function(){var a=this.el;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(a):a.dom.removeAttribute(this.getTipAttr())},beforeDestroy:function(){this.rendered&&this.clearTip();Ext.destroy(this.repeater);this.callParent()},onDestroy:function(){var a=
this.menu;this.rendered&&(Ext.destroy(this.keyMap),delete this.keyMap);a&&this.destroyMenu&&(this.menu=Ext.destroy(a));Ext.button.Manager.unregister(this);this.callParent()},setHandler:function(a,b){this.handler=a;1<arguments.length&&(this.scope=b);return this},updateText:function(a,b){a=null==a?"":String(a);b=b||"";var c=this.btnInnerEl,d=this.btnEl;this.rendered&&(c.setHtml(a||"&#160;"),d[a?"addCls":"removeCls"](this._textCls),d[a?"removeCls":"addCls"](this._noTextCls),this.updateLayout());this.fireEvent("textchange",
this,b,a)},didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},click:function(a){return this.onClick(a)},setPressed:function(a){return this.toggle(!1!==a)},toggle:function(a,b){var c=this.ariaEl.dom;a=void 0===a?!this.pressed:!!a;!1!==this.fireEvent("beforetoggle",this,a)&&a!==this.pressed&&(this[a?"addCls":"removeCls"](this._pressedCls),this.pressed=a,c&&c.setAttribute("aria-pressed",a),b||(this.fireEvent("toggle",this,a),Ext.callback(this.toggleHandler,this.scope,[this,
a],0,this),this.reference&&this.publishState&&this.publishState("pressed",a)));return this},maybeShowMenu:function(a){this.menu&&this.showMenu(a)},showMenu:function(a){var b=this.menu,c=!a||a.pointerType;if(b&&this.rendered)if(this.tooltip&&Ext.quickTipsActive&&"title"!==this.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.el),b.isVisible())c?b.hide():b.focus();else if(!a||this.showEmptyMenu||0<b.items.getCount())b.autoFocus=!c,b.showBy(this.el,this.menuAlign);return this},hideMenu:function(){this.hasVisibleMenu()&&
this.menu.hide();return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onTouchStart:function(a){this.doPreventDefault(a)},onEnterKey:function(a){this.onClick(a);a.stopEvent();return!1},onClick:function(a){this.doPreventDefault(a);"keydown"!==a.type&&a.button||this.disabled||(this.doToggle(),this.maybeShowMenu(a),this.fireHandler(a))},doPreventDefault:function(a){a&&(this.preventDefault||this.disabled&&this.getHref())&&
a.preventDefault()},fireHandler:function(a){!1===this.fireEvent("click",this,a)||this.destroyed||Ext.callback(this.handler,this.scope,[this,a],0,this)},doToggle:function(){!this.enableToggle||!1===this.allowDepress&&this.pressed||this.toggle()},onMouseOver:function(a){if(!this.disabled&&!a.within(this.el,!0,!0))this.onMouseEnter(a)},onMouseOut:function(a){if(!a.within(this.el,!0,!0)){if(this.overMenuTrigger)this.onMenuTriggerOut(a);this.onMouseLeave(a)}},onMouseMove:function(a){var b=this.overMenuTrigger;
if(this.split)if(this.isWithinTrigger(a)){if(!b)this.onMenuTriggerOver(a)}else if(b)this.onMenuTriggerOut(a)},isWithinTrigger:function(a){var b=this.el;a="right"===this.arrowAlign?a.getX()-this.getX():a.getY()-b.getY();b=this.getTriggerRegion();return a>b.begin&&a<b.end},getTriggerRegion:function(){var a=this._triggerRegion,b="right"===this.arrowAlign,c=b?"getRight":"getBottom",b=b?this.getWidth():this.getHeight();a.begin=b-(this.el[c]()-this.btnEl[c]());a.end=b;return a},onMouseEnter:function(a){this.fireEvent("mouseover",
this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(a){var b=this.arrowTooltip;this.overMenuTrigger=!0;this.split&&b&&this.btnWrap.dom.setAttribute(this.getTipAttr(),b);this.fireEvent("menutriggerover",this,this.menu,a)},onMenuTriggerOut:function(a){delete this.overMenuTrigger;this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),"");this.fireEvent("menutriggerout",this,this.menu,a)},onEnable:function(){var a=this.href,b=this.hrefTarget,
c=this.el.dom;this.callParent();this.removeCls(this._disabledCls);c.setAttribute("tabIndex",this.tabIndex);a&&(c.href=a);b&&(c.target=b)},onDisable:function(){var a=this.el.dom;this.callParent();this.addCls(this._disabledCls);this.removeCls(this.overCls);a.removeAttribute("tabIndex");this.href&&a.removeAttribute("href");this.hrefTarget&&a.removeAttribute("target")},setScale:function(a){var b=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,a))throw"#setScale: scale must be an allowed scale ("+
this.allowedScales.join(", ")+")";this.scale=a;this.setUI(b)},setUI:function(a){this.scale&&!a.match(this.scale)&&(a=a+"-"+this.scale);this.callParent([a])},onMouseDown:function(a){var b=this;(Ext.isIE||"touch"===a.pointerType)&&Ext.defer(function(){var c=b.getFocusEl();c&&!a.defaultPrevented&&c.focus()},1);b.disabled||0!==a.button||(Ext.button.Manager.onButtonMousedown(b,a),b.addCls(b._pressedCls))},onMouseUp:function(a){this.destroyed||0!==a.button||this.pressed||this.removeCls(this._pressedCls)},
onMenuShow:function(){this.addCls(this._menuActiveCls);this.fireEvent("menushow",this,this.menu)},onMenuHide:function(a){this.removeCls(this._menuActiveCls);this.fireEvent("menuhide",this,this.menu)},onDownKey:function(a){if(this.menu&&!this.disabled)return this.showMenu(a),a.stopEvent(),!1},updateArrowVisible:function(a){if(this.rendered)if(a){if(this.menu||this.isSplitButton)this.split=!0,this._addSplitCls()}else this._removeSplitCls(),this.split=!1;return a},privates:{addOverCls:function(){this.disabled||
this.addCls(this.overCls)},_addSplitCls:function(){this.btnWrap.addCls(this.getSplitCls())},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){this.btnWrap.removeCls(this.getSplitCls())},_syncHasIconCls:function(){var a=this.btnEl,b=this._hasIconCls;if(a)a[this._hasIcon()?"addCls":"removeCls"]([b,b+"-"+this.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},
wrapPrimaryEl:function(a){this.el=new Ext.dom.ButtonElement(a);this.callParent([a])}}});
Ext.define("Ext.panel.Bar",{extend:Ext.container.Container,vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var a=this.vertical;this.dock=this.dock||(a?"left":"top");this.layout=Ext.apply(a?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},this.layout);this.callParent()},onAdded:function(a,b,c){this.initOrientation();this.callParent([a,b,c])},onRemoved:function(a){this.removeClsWithUI(this.uiCls);this.callParent([a])},
beforeRender:function(){!this.forceOrientation&&this.ownerCt||this.initOrientation();this.callParent()},setDock:function(a){var b;a!==this.dock&&(Ext.suspendLayouts(),this.clearOrientation(),this.callParent([a]),this.initOrientation(),b=this.vertical,a=this.layout,a.setVertical(b),a.setAlignRoundingMethod(b?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},
initOrientation:function(){var a=this.dock,a=this.vertical=a?a in this._verticalSides:this.vertical;this.addClsWithUI([a?"vertical":"horizontal",this.getDockName()])}}});
Ext.define("Ext.panel.Title",{extend:Ext.Component,xtype:"title",isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',
iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></div>',
_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,
2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var a=this.getRotation(),b,c,d;a&&!Ext.isIE8&&(d=this.el,b=this.lastBox,c=b.x,d.setStyle(this._getVerticalAdjustDirection(),c+(1===a?b.width:-b.height)+"px"));this.callParent()},onRender:function(){var a=
this.getRotation(),b=this.el;this.callParent();a&&b.setVertical(this._rotationAngles[a]);Ext.supports.FixedTableWidthBug&&(b._needsTableWidthFix=!0)},applyText:function(a){a||(a="&#160;");return a},beforeRender:function(){this.callParent();this.addCls(this._rotationClasses[this.getRotation()]);this.addCls(this._textAlignClasses[this.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var a=this.getIcon(),b=this.getIconCls(),
c=this.getGlyph(),d=Ext._glyphFontFamily,e=this.getIconAlign();"string"===typeof c&&(d=c.split("@"),c=d[0],d=d[1]);return{id:this.id,ui:this.ui,itemCls:this._itemCls,iconUrl:a,iconCls:b,iconWrapCls:this._iconWrapCls,baseIconCls:this._baseIconCls,iconAlignCls:this._iconAlignClasses[e],glyph:c,glyphCls:c?this._glyphCls:"",glyphFontFamily:d}},initRenderData:function(){var a,b;b=Ext.apply({text:this.getText(),textElRole:this.textElRole,id:this.id,ui:this.ui,itemCls:this._itemCls,textCls:this._textCls,
iconMarkup:null,iconBeforeTitle:null},this.callParent());this._hasIcon()&&(a=this.getIconAlign(),b.iconMarkup=this.getIconMarkup(),b.iconBeforeTitle="top"===a||"left"===a);return b},onAdded:function(a,b,c){var d=this._titleSuffix,e=a.baseCls;this.addCls([e+d,e+d+"-"+a.ui]);this.callParent([a,b,c])},updateGlyph:function(a,b){a=a||0;var c=this._glyphCls,d,e;this.glyph=a;this.rendered&&(this._syncIconVisibility(),d=this.iconEl,"string"===typeof a&&(e=a.split("@"),a=e[0],e=e[1]||Ext._glyphFontFamily),
a?b!==a&&(d.dom.innerHTML="&#"+a+";",d.addCls(c)):(d.dom.innerHTML="",d.removeCls(c)),e&&d.setStyle("font-family",e),this._didIconStateChange(b,a)&&this.updateLayout())},updateIcon:function(a,b){a=a||"";var c;this.rendered&&a!==b&&(this._syncIconVisibility(),c=this.iconEl,c.setStyle("background-image",a?"url("+a+")":""),this._didIconStateChange(b,a)&&this.updateLayout())},updateIconAlign:function(a,b){var c=this.iconWrapEl,d,e;this.iconWrapEl&&(d=this.el,e=this._iconAlignClasses,b&&c.removeCls(e[b]),
c.addCls(e[a]),"top"===a||"left"===a?d.insertFirst(c):d.appendChild(c),this.updateLayout())},updateIconCls:function(a,b){a=a||"";var c;this.rendered&&b!==a&&(this._syncIconVisibility(),c=this.iconEl,b&&c.removeCls(b),c.addCls(a),this._didIconStateChange(b,a)&&this.updateLayout())},updateRotation:function(a,b){var c,d;this.rendered&&(c=this.el,d=this._rotationClasses,this.removeCls(d[b]),this.addCls(d[a]),c.setHorizontal(),a&&c.setVertical(this._rotationAngles[a]),c.setStyle({right:"",left:"",top:"",
height:"",width:""}),this.lastBox=null,this.updateLayout())},updateText:function(a){this.rendered&&(this.textEl.setHtml(a),this.updateLayout())},updateTextAlign:function(a,b){var c=this._textAlignClasses;this.rendered&&(b&&this.removeCls(c[b]),this.addCls(c[a]),this.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},
_syncIconVisibility:function(){var a=this.el,b=this._hasIcon(),c=this.iconWrapEl;b&&!c&&(c=this.iconAlign,c="left"===c||"top"===c,a.dom.insertAdjacentHTML(c?"afterbegin":"beforeend",this.getIconMarkup()),c=this.iconWrapEl=a[c?"first":"last"](),this.iconEl=c.first());c&&c.setDisplayed(b)}}});
Ext.define("Ext.panel.Tool",{extend:Ext.Component,xtype:"tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,ariaRole:"button",focusable:!0,tabIndex:0,keyHandlers:{SPACE:"onClick",
ENTER:"onClick"},cacheHeight:!0,cacheWidth:!0,initComponent:function(){this.type=this.type||this.id;Ext.applyIf(this.renderData,{baseCls:this.baseCls,type:this.type});this.tooltip=this.tooltip||this.qtip;this.callParent()},afterRender:function(){var a;this.callParent(arguments);this.el.on({click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});(a=this.tooltip)&&this.setTooltip(a)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(a,b){var c=this.tooltip,
d=this.tooltipType,e=this.id,f=this.el,g;c&&Ext.quickTipsActive&&Ext.isObject(c)&&Ext.tip.QuickTipManager.unregister(e);this.tooltip=a;b&&(this.tooltipType=b);a&&(Ext.quickTipsActive&&Ext.isObject(a)?Ext.tip.QuickTipManager.register(Ext.apply({target:e},a)):f&&(b&&d&&b!==d&&(g=this.tipAttrs[d]||"title",f.dom.removeAttribute(g)),g=this.tipAttrs[b||d]||"title",f.dom.setAttribute(g,a)),"title"!==g&&this.ariaRole&&"presentation"!==this.ariaRole&&(f?f.dom.setAttribute("aria-label",a):(this.ariaRenderAttributes=
this.ariaRenderAttributes||{},this.ariaRenderAttributes["aria-label"]=a)))},setType:function(a){var b=this.type;this.type=a;this.rendered?(b&&this.toolEl.removeCls(this.baseCls+"-"+b),this.toolEl.addCls(this.baseCls+"-"+a)):this.renderData.type=a;return this},onDestroy:function(){this.setTooltip(null);delete this.toolOwner;this.callParent()},privates:{onClick:function(a,b){if(this.disabled)return!1;"keydown"!==a.type&&this.el.removeCls(this.toolPressedCls+" "+this.toolOverCls);!1!==this.stopEvent&&
a.stopEvent();this.handler?Ext.callback(this.handler,this.scope,[a,b,this.ownerCt,this],0,this):this.callback&&Ext.callback(this.callback,this.scope,[this.toolOwner||this.ownerCt,this,a],0,this);this.fireEvent("click",this,a,this.toolOwner||this.ownerCt);return!0},onMouseDown:function(a){a.preventDefault();if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}});
Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){1!==arguments.length||"string"===typeof a||a.dom||a.tagName||a===document||a.isComponent?this.legacyConstructor.apply(this,arguments):(Ext.apply(this,a),this.bindings=[],this.target.isComponent||(this.target=Ext.get(this.target)),this.binding?this.addBinding(this.binding):a.key&&this.addBinding(a),this.enable())},legacyConstructor:function(a,b,c){Ext.apply(this,{target:Ext.get(a),eventName:c||
this.eventName,bindings:[]});b&&this.addBinding(b);this.enable()},addBinding:function(a){var b=a.key,c;this.processing&&(this.bindings=this.bindings.slice(0));if(Ext.isArray(a))for(b=0,c=a.length;b<c;b++)this.addBinding(a[b]);else this.bindings.push(Ext.apply({keyCode:this.processKeys(b)},a))},removeBinding:function(a){var b=this.bindings,c=b.length,d,e,f;this.processing&&(this.bindings=b.slice(0));f=this.processKeys(a.key);for(d=0;d<c;++d)if(e=b[d],(e.fn||e.handler)===(a.fn||a.handler)&&e.scope===
a.scope&&a.alt===e.alt&&a.crtl===e.crtl&&a.shift===e.shift&&Ext.Array.equals(e.keyCode,f)){Ext.Array.erase(this.bindings,d,1);break}},processKeys:function(a){var b=!1,c,d;if(a.test)return a;if(Ext.isString(a)){c=[];a=a.toUpperCase();d=0;for(b=a.length;d<b;++d)c.push(a.charCodeAt(d));a=c;b=!0}Ext.isArray(a)||(a=[a]);if(!b)for(d=0,b=a.length;d<b;++d)c=a[d],Ext.isString(c)&&(a[d]=c.toUpperCase().charCodeAt(0));return a},handleTargetEvent:function(a){var b,c,d,e;if(this.enabled&&(b=this.bindings,c=0,
d=b.length,a=this.processEvent.apply(this.processEventScope||this,arguments))&&(this.lastKeyEvent=a,!this.ignoreInputFields||!Ext.fly(a.target).isInputField())){if(!a.getKey)return a;for(this.processing=!0;c<d;++c)if(e=this.processBinding(b[c],a),!1===e)return this.processing=!1,e;this.processing=!1}},processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var c=b.getKey(),d=a.fn||a.handler,e=a.scope||this,f=a.keyCode,g=a.defaultEventAction,h,k;if(f.test){if(f.test(String.fromCharCode(b.getCharCode()))){c=
d.call(e,c,b);if(!0!==c&&g)b[g]();if(!1===c)return c}}else if(f.length)for(h=0,k=f.length;h<k;++h)if(c===f[h]){c=d.call(e,c,b);if(!0!==c&&g)b[g]();if(!1===c)return c;break}}},checkModifiers:function(a,b){for(var c=["shift","ctrl","alt"],d=0,e=c.length,f,g;d<e;++d)if(g=c[d],f=a[g],void 0!==f&&f!==b[g+"Key"])return!1;return!0},on:function(a,b,c){var d,e,f,g;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,f=a.ctrl,g=a.alt):d=a;this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},un:function(a,
b,c){var d,e,f,g;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,f=a.ctrl,g=a.alt):d=a;this.removeBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.target.on(this.eventName,this.handleTargetEvent,this,{capture:this.capture,priority:this.priority}),this.enabled=!0)},disable:function(){this.enabled&&(this.target.removeListener(this.eventName,this.handleTargetEvent,this),this.enabled=!1)},setDisabled:function(a){a?
this.disable():this.enable()},destroy:function(a){var b=this.target;this.bindings=[];this.disable();a&&b.destroy();delete this.target;this.callParent()}});
Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){2===arguments.length?this.legacyConstructor.apply(this,arguments):this.doConstruction(a)},legacyConstructor:function(a,b){this.doConstruction(Ext.apply({target:a},b))},doConstruction:function(a){var b={target:a.target,
ignoreInputFields:a.ignoreInputFields,eventName:this.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:this.forceKeyDown,a.eventName),capture:a.capture};this.map&&this.map.destroy();this.initConfig(a);a.processEvent&&(b.processEvent=a.processEvent,b.processEventScope=a.processEventScope||this);a.priority&&(b.priority=a.priority);a.keyMap?b=this.map=a.keyMap:(b=this.map=new Ext.util.KeyMap(b),this.destroyKeyMap=!0);this.addBindings(a);b.disable();a.disabled||b.enable()},addBindings:function(a){var b,c,
d=this.map,e=Ext.util.KeyNav.keyOptions,f,g=a.scope||this;for(b in a)c=a[b],f=e[b],null!=f&&(b=f),!c||1!==b.length&&isNaN(b=parseInt(b,10))||("function"===typeof c&&(c={handler:c,defaultEventAction:void 0!==a.defaultEventAction?a.defaultEventAction:this.defaultEventAction}),d.addBinding({key:b,ctrl:c.ctrl,shift:c.shift,alt:c.alt,handler:Ext.Function.bind(this.handleEvent,c.scope||g,[c.handler||c.fn,this],!0),defaultEventAction:void 0!==c.defaultEventAction?c.defaultEventAction:this.defaultEventAction}))},
handleEvent:function(a,b,c,d){d.lastKeyEvent=b;return c.call(this,b)},destroy:function(a){this.destroyKeyMap&&this.map.destroy(a);delete this.map;this.callParent()},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable();this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(a,b){return a||Ext.supports.SpecialKeyDownRepeat&&!b?"keydown":b||this.eventName}});
Ext.define("Ext.util.FocusableContainer",{extend:Ext.Mixin,mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",destroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainerEl"}},isFocusableContainer:!0,enableFocusableContainer:!0,activeChildTabIndex:0,inactiveChildTabIndex:-1,privates:{initFocusableContainer:function(a){var b,c;if(this.enableFocusableContainer)this.doInitFocusableContainer(null!=
a?a:!0);else for(a=this.getFocusables(),b=0,c=a.length;b<c;b++)a[b].focusableContainer=null},doInitFocusableContainer:function(a){var b;b=this.getFocusableContainerEl();a&&this.clearFocusables();this.findNextFocusableChild({step:1,beforeRender:!0})&&this.activateFocusableContainerEl(b);this.focusableContainerMouseListener=this.mon(b,"mousedown",this.onFocusableContainerMousedown,this);this.focusableKeyNav=this.createFocusableContainerKeyNav(b)},createFocusableContainerKeyNav:function(a){return new Ext.util.KeyNav(a,
{eventName:"keydown",ignoreInputFields:!0,scope:this,tab:this.onFocusableContainerTabKey,enter:this.onFocusableContainerEnterKey,space:this.onFocusableContainerSpaceKey,up:this.onFocusableContainerUpKey,down:this.onFocusableContainerDownKey,left:this.onFocusableContainerLeftKey,right:this.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.enableFocusableContainer&&this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){this.keyNav&&this.keyNav.destroy();this.focusableContainerMouseListener&&
this.focusableContainerMouseListener.destroy();this.focusableKeyNav=this.focusableContainerMouseListener=null},getFocusables:function(){return this.items.items},initDefaultFocusable:function(a){var b=this.activeChildTabIndex,c=!1,d,e,f,g,h;d=this.getFocusables();if(g=d.length){for(f=0;f<g;f++)if(e=d[f],e.focusable&&!e.disabled&&(c=!0,h=e.getTabIndex(),null!=h&&h>=b))return e;if(c)return(e=this.findNextFocusableChild({beforeRender:a,items:d,step:!0}))&&this.activateFocusable(e),e}},clearFocusables:function(){var a=
this.getFocusables(),b=a.length,c,d;for(d=0;d<b;d++)c=a[d],c.focusable&&!c.disabled&&this.deactivateFocusable(c)},activateFocusable:function(a,b){a.setTabIndex(null!=b?b:this.activeChildTabIndex)},deactivateFocusable:function(a,b){a.setTabIndex(null!=b?b:this.inactiveChildTabIndex)},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(a){a.preventDefault();return this.moveChildFocus(a,
!1)},onFocusableContainerDownKey:function(a){a.preventDefault();return this.moveChildFocus(a,!0)},onFocusableContainerLeftKey:function(a){a.preventDefault();return this.moveChildFocus(a,!1)},onFocusableContainerRightKey:function(a){a.preventDefault();return this.moveChildFocus(a,!0)},getFocusableFromEvent:function(a){return Ext.Component.fromElement(a.getTarget())},moveChildFocus:function(a,b){var c=this.getFocusableFromEvent(a);return this.focusChild(c,b,a)},focusChild:function(a,b){var c=this.findNextFocusableChild({child:a,
step:b});c&&c.focus();return c},findNextFocusableChild:function(a){var b=a.beforeRender,c,d,e,f,g;c=a.items||this.getFocusables();d=null!=a.step?a.step:1;e=Ext.Array.indexOf(c,a.child);d=!0===d?1:!1===d?-1:d;g=c.length;for(f=0<d?e<g?e+d:0:0<e?e+d:g-1;;f+=d){if(0>e&&(f>=g||0>f))return null;if(f>=g)f=-1;else if(0>f)f=g;else{if(f===e)return null;if((a=c[f])&&a.focusable&&!a.disabled&&(b||a.isFocusable&&a.isFocusable()))return a}}},getFocusableContainerEl:function(){return this.el},onFocusableChildAdd:function(a){if(this.enableFocusableContainer)return this.doFocusableChildAdd(a)},
activateFocusableContainerEl:function(a){(a=a||this.getFocusableContainerEl())&&a.set({tabIndex:this.activeChildTabIndex})},deactivateFocusableContainerEl:function(a){(a=a||this.getFocusableContainerEl())&&a.set({tabIndex:void 0})},isFocusableContainerActive:function(){var a=!1,b;(b=this.getFocusableContainerEl())&&b.isTabbable&&b.isTabbable()?a=!0:(b=(b=this.lastFocusedChild)&&b.getFocusEl&&b.getFocusEl())&&b.isTabbable&&b.isTabbable()&&(a=!0);return a},doFocusableChildAdd:function(a){a.focusable&&
(a.focusableContainer=this)},onFocusableChildRemove:function(a){if(this.enableFocusableContainer)return this.doFocusableChildRemove(a);a.focusableContainer=null},doFocusableChildRemove:function(a){a===this.lastFocusedChild&&(this.lastFocusedChild=null,this.activateFocusableContainerEl())},onFocusableContainerMousedown:function(a,b){var c=Ext.Component.fromElement(b);this.mousedownTimestamp=c===this?Ext.Date.now():0;c===this&&a.preventDefault()},onFocusEnter:function(a){a=a.toComponent;var b=this.mousedownTimestamp;
if(!this.enableFocusableContainer)return null;this.mousedownTimestamp=0;if(a===this){if(!b||50<Ext.Date.now()-b)if(b=this.initDefaultFocusable())this.deactivateFocusableContainerEl(),b.focus()}else this.deactivateFocusableContainerEl();return a},onFocusLeave:function(a){a=this.lastFocusedChild;!this.enableFocusableContainer||this.destroyed||this.destroying||(this.clearFocusables(),a&&!a.disabled?this.activateFocusable(a):this.activateFocusableContainerEl())},beforeFocusableChildBlur:Ext.privateFn,
afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(a){this.enableFocusableContainer&&(this.clearFocusables(),this.activateFocusable(a),a.needArrowKeys&&this.guardFocusableChild(a))},guardFocusableChild:function(a){var b=this.activeChildTabIndex,c;(c=this.findNextFocusableChild({child:a,step:-1}))&&c.setTabIndex(b);(c=this.findNextFocusableChild({child:a,step:1}))&&c.setTabIndex(b)},afterFocusableChildFocus:function(a){this.enableFocusableContainer&&(this.lastFocusedChild=a)},
beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(a){this.enableFocusableContainer&&a!==this.lastFocusedChild&&(this.deactivateFocusable(a),this.isFocusableContainerActive()||this.activateFocusableContainerEl())},beforeFocusableChildDisable:function(a){this.enableFocusableContainer&&!this.destroying&&!this.destroyed&&a.hasFocus&&(a=this.findNextFocusableChild({child:a})||a.findFocusTarget())&&a.focus()},onFocusableChildDisable:function(a){var b=this.lastFocusedChild;!this.enableFocusableContainer||
this.destroying||this.destroyed||(a===b&&this.activateFocusableContainerEl(),(a=this.findNextFocusableChild({step:1}))||this.deactivateFocusableContainerEl())},onFocusableChildShow:Ext.privateFn,onFocusableChildHide:Ext.privateFn,onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}});
Ext.define("Ext.panel.Header",{extend:Ext.panel.Bar,xtype:"header",mixins:[Ext.util.FocusableContainer],isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(a,b){"object"!==typeof a&&(a={text:a});return Ext.merge(b?Ext.Object.chain(b):{},a)}},titleAlign:null,
titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var a=this.items,b=this.itemPosition,c=[this.headerCls];this.tools=this.tools||[];this.items=a=a?a.slice():[];void 0!==b&&(this._userItems=a.slice(),this.items=a=[]);this.indicateDragCls=this.headerCls+"-draggable";this.indicateDrag&&c.push(this.indicateDragCls);this.addCls(c);this.syncNoBorderCls();if(this.enableFocusableContainer=!this.isAccordionHeader&&0<this.tools.length)this.ariaRole="toolbar";
Ext.Array.push(a,this.tools);this.tools.length=0;this.callParent();this.on({dblclick:this.onDblClick,click:this.onClick,element:"el",scope:this})},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"));!this.isAccordionHeader&&0<this.tools.length&&!this.enableFocusableContainer&&(this.enableFocusableContainer=!0,this.ariaRole="toolbar",this.rendered&&(this.ariaEl.dom.setAttribute("role","toolbar"),this.initFocusableContainer(!0)))},afterLayout:function(){var a,b,c;this.vertical&&(b=this.frameTR)&&
(a=this.frameBR,c=this.frameTL,c=this.getWidth()-b.getPadding("r")-(c?c.getPadding("l"):this.el.getBorderWidth("l"))+"px",a.setStyle("background-position-x",c),b.setStyle("background-position-x",c));this.callParent()},applyTitle:function(a,b){var c;a=a||"";(c="string"===typeof a)&&(a={text:a});b?(Ext.suspendLayouts(),b.setConfig(a),Ext.resumeLayouts(!0),a=b):(c&&(a.xtype="title"),a.ui=this.ui,c="rotation"in a,a.id=this.id+"-title",this.isAccordionHeader&&(a.ariaRole="tab",a.textElRole=null,a.focusable=
!0),a=Ext.create(a),!c&&this.vertical&&"default"===this.titleRotation&&(a.rotation=1));return a},applyTitlePosition:function(a){var b=this.items.getCount();this._titleInItems&&--b;return Math.max(Math.min(a,b),0)},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},beforeRender:function(){var a=this.itemPosition;this.protoEl.unselectable();this.callParent();void 0!==a&&this.insert(a,this._userItems)},getTools:function(){return this.tools.slice()},onAdd:function(a,b){var c=
this.tools;this.callParent([a,b]);a.isTool&&(c.push(a),c[a.type]=a)},onAdded:function(a,b,c){this.syncNoBorderCls();this.callParent([a,b,c])},onRemoved:function(a,b,c){this.syncNoBorderCls();this.callParent([a,b,c])},setDock:function(a){var b=this.getTitle(),c=this.getTitleRotation(),d=b.getRotation();Ext.suspendLayouts();this.callParent([a]);"default"===c&&(c=this.vertical?1:0,c!==d&&b.setRotation(c),this.rendered&&this.resetItemMargins());Ext.resumeLayouts(!0)},updateGlyph:function(a){this.getTitle().setGlyph(a)},
updateIcon:function(a){this.getTitle().setIcon(a)},updateIconAlign:function(a,b){this.getTitle().setIconAlign(a)},updateIconCls:function(a){this.getTitle().setIconCls(a)},updateTitle:function(a,b){b||(this.insert(this.getTitlePosition(),a),this._titleInItems=!0);this.titleCmp=a},updateTitleAlign:function(a,b){this.getTitle().setTextAlign(a)},updateTitlePosition:function(a){this.insert(a,this.getTitle())},updateTitleRotation:function(a){"default"===a&&(a=this.vertical?1:0);this.getTitle().setRotation(a)},
privates:{fireClickEvent:function(a,b){b.getTarget("."+Ext.panel.Tool.prototype.baseCls)||this.fireEvent(a,this,b)},getFramingInfoCls:function(){var a=this.callParent(),b=this.ownerCt;!this.expanding&&b&&(b.collapsed||this.isCollapsedExpander)&&(a+="-"+b.collapsedCls);return a+"-"+this.dock},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},onFocusableContainerMousedown:function(a,b){Ext.Component.fromElement(b)===this?a.preventDefault():
this.mixins.focusablecontainer.onFocusableContainerMousedown.apply(this,arguments)},syncBeforeAfterTitleClasses:function(a){var b=this.items,c=b.items,d=this.getTitlePosition(),e=c.length,f=b.generation,b=this.syncBeforeAfterGen,g,h;if(a||b!==f)for(this.syncBeforeAfterGen=f,g=0;g<e;++g)h=c[g],a=h.afterTitleCls||(h.afterTitleCls=h.baseCls+"-after-title"),f=h.beforeTitleCls||(h.beforeTitleCls=h.baseCls+"-before-title"),!this.title||g<d?(b&&h.removeCls(a),h.addCls(f)):g>d&&(b&&h.removeCls(f),h.addCls(a))},
syncNoBorderCls:function(){var a=this.ownerCt,b=this.headerCls+"-noborder";(a?!1!==a.border||a.frame:!1!==this.border)?this.removeCls(b):this.addCls(b)}}});
Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(a){this.initConfig(a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(a){var b=a.state.boxPlan;b&&b.tooNarrow?(b=this.handleOverflow(a))&&
b.reservedSpace&&this.layout.publishInnerCtSize(a,b.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(a){a=this.layout.owner;var b,c;a.hasListeners.overflowchange&&(b=a.query(">[hidden]"),c=b.length,c!==this.lastHiddenCount&&(a.fireEvent("overflowchange",this.lastHiddenCount,c,b),this.lastHiddenCount=c))},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){return a.isToolbar?"toolbar":a.isTabBar?"tab-bar":
a.isMenu?"menu":a.isBreadcrumb?"breadcrumb":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var a=this.layout,b=a.innerCt;b.removeCls(this.getOverflowCls(a.oppositeDirection));b.addCls(this.getOverflowCls(a.direction))}});
Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:Ext.mixin.Observable},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(a){this.mixins.observable.constructor.call(this,
a);this.scrollSize=this.scrollPosition=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(a){var b=this.layout,c=b.owner,d=this.getOwnerType(c),e=this.scrollerCls;a=e+" "+e+"-"+b.names[a]+" "+e+"-"+d+" "+e+"-"+
d+"-"+c.ui;c.plain&&(a+=" "+e+"-plain");return a},getOverflowCls:function(a){return this.scrollerCls+"-body-"+a},beginLayout:function(a){a.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},finishedLayout:function(a){var b=a.state.boxPlan,c=this.layout,d=c.names,e=Math.min(this.getMaxScrollPosition(),a.innerCtScrollPos);b&&b.tooNarrow&&(b=a.childItems[a.childItems.length-1].props,this.scrollSize=b[d.x]+b[d.width],this.updateScrollButtons(),c.innerCt[d.setScrollLeft](e));this.callParent([a])},
handleOverflow:function(a){var b=this.layout.names,c=b.getWidth,d=b.parallelMargins,e,f;this.showScrollers();e=this.getBeforeScroller();f=this.getAfterScroller();c=e[c]()+f[c]()+e.getMargin(d)+f.getMargin(d);a=a.targetContext.getPaddingInfo()[b.width];return{reservedSpace:Math.max(c-a,0)}},getBeforeScroller:function(){return this._beforeScroller||(this._beforeScroller=this.createScroller(this.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){return this._afterScroller||(this._afterScroller=
this.createScroller(this.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(a,b,c){var d=this.layout.owner,e=this.scrollerCls;a=d.el.getById(d.id+a);a.addClsOnOver(e+"-hover");a.addClsOnClick(e+"-pressed");a.setVisibilityMode(Ext.Element.DISPLAY);this[b]=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:c,scope:this});return a},createWheelListener:function(){this.wheelListener=this.layout.innerCt.on("mousewheel",this.onMouseWheel,this,{destroyable:!0})},onMouseWheel:function(a){a.stopEvent();
this.scrollBy(this.getWheelDelta(a)*this.wheelIncrement*-1,!1)},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.wheelListener||this.createWheelListener();this.getBeforeScroller().show();this.getAfterScroller().show();this.layout.owner.addClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this.getBeforeScroller(),b=this.getAfterScroller();a&&(a.hide(),b.hide(),
this.layout.owner.removeClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener");this.callParent()},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this.getBeforeScroller(),b=this.getAfterScroller(),
c;a&&b&&(c=this.scrollerCls+"-disabled",a[this.atExtremeBefore()?"addCls":"removeCls"](c),b[this.atExtremeAfter()?"addCls":"removeCls"](c),this.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var a=this.layout;return isNaN(this.scrollPosition)?a.innerCt[a.names.getScrollLeft]():this.scrollPosition},getMaxScrollPosition:function(){var a=this.layout,a=this.scrollSize-a.innerCt.lastBox[a.names.width];
return 0>a?0:a},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var a=this.getBeforeScroller(),b=this.getAfterScroller(),c=this.layout.names,d=this.scrollerCls;a.removeCls(d+"-"+c.beforeY);b.removeCls(d+"-"+c.afterY);a.addCls(d+"-"+c.beforeX);b.addCls(d+"-"+c.afterX);this.callParent()},scrollTo:function(a,b){var c=this.layout,d=c.names,e=this.getScrollPosition(),f=Ext.Number.constrain(a,
0,this.getMaxScrollPosition());f===e||this.scrolling||(this.scrollPosition=NaN,void 0===b&&(b=this.animateScroll),c.innerCt[d.scrollTo](d.beforeScrollX,f,b?this.getScrollAnim():!1),b?this.scrolling=!0:this.updateScrollButtons(),this.fireEvent("scroll",this,f,b?this.getScrollAnim():!1))},scrollToItem:function(a,b){var c=this.layout,d=c.owner,e=c.names,c=c.innerCt,f,g;a=this.getItem(a);void 0!==a&&(a===d.items.first()?g=0:a===d.items.last()?g=this.getMaxScrollPosition():(d=this.getItemVisibility(a),
d.fullyVisible||(f=a.getBox(!1,!0),g=f[e.x],d.hiddenEnd&&(g-=c[e.getWidth]()-f[e.width]))),void 0!==g&&this.scrollTo(g,b))},getItemVisibility:function(a){var b=this.getItem(a).getBox(!0,!0),c=this.layout,d=c.names;a=b[d.x];var b=a+b[d.width],e=this.getScrollPosition(),c=e+c.innerCt[d.getWidth]();return{hiddenStart:a<e,hiddenEnd:b>c,fullyVisible:a>=e&&b<=c}}});
Ext.define("Ext.dd.DragDropManager",{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(a,b){var c=this.ids,d,e,f,g;for(d in c)if(c.hasOwnProperty(d))for(e in g=c[d],g)g.hasOwnProperty(e)&&(f=g[e],this.isTypeOfDD(f)&&
f[a].apply(f,b))},addListeners:function(){this.init();Ext.getDoc().on({mouseup:this.handleMouseUp,mousemove:{fn:this.handleMouseMove,capture:!1},dragstart:this.preventDrag,drag:this.preventDrag,dragend:this.preventDrag,capture:!0,scope:this});Ext.getWin().on({unload:this._onUnload,resize:this._onResize,scope:this})},preventDrag:function(a){this.isMouseDown&&a.stopPropagation()},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=
!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init();this.ids[b]||(this.ids[b]={});this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a,b){var c=this.ids,d=a.groups,e;if(!this.clearingAll){this.dragCurrent===a&&(this.dragCurrent=null);for(e in d)d.hasOwnProperty(e)&&
(b?delete c[e]:c[e]&&delete c[e][a.id]);delete this.handleIds[a.id];delete this.locationCache[a.id]}},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={});this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,b){var c=[],d,e,f;for(d in a.groups)for(e in this.ids[d])f=this.ids[d][e],!this.isTypeOfDD(f)||b&&!f.isTarget||(c[c.length]=f);return c},isLegalTarget:function(a,b){var c=this.getRelated(a,!0),d,e;d=0;for(e=c.length;d<e;++d)if(c[d].id===
b.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a,b){var c,d;for(c in this.ids)if(d=this.ids[c][a],d instanceof Ext.dd.DDTarget||b)return d;return null},handleMouseDown:function(a,b){var c,d;this.isMouseDown=!0;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable();this.currentPoint=a.getPoint();this.dragCurrent&&this.handleMouseUp(a);this.mousedownEvent=a;this.currentTarget=a.getTarget();
this.dragCurrent=b;d=b.getEl();Ext.fly(d).setCapture();c=a.getXY();this.startX=c[0];this.startY=c[1];this.offsetX=this.offsetY=0;this.deltaX=this.startX-d.offsetLeft;this.deltaY=this.startY-d.offsetTop;this.dragThreshMet=!1},startDrag:function(a,b){var c=this.dragCurrent;clearTimeout(this.clickTimeout);c&&(c.b4StartDrag(a,b),c.startDrag(a,b),(c=c.getDragEl())&&Ext.fly(c).addCls(this.dragCls));this.dragThreshMet=!0},handleMouseUp:function(a){this.isMouseDown=!1;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable();
this.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(a,!0),this.stopDrag(a),this.stopEvent(a),this.mousedownEvent=this.currentTarget=null)},stopEvent:function(a){this.stopPropagation&&a.stopPropagation();this.preventDefault&&a.preventDefault()},stopDrag:function(a){var b=this.dragCurrent,c;b&&(this.dragThreshMet&&((c=b.getDragEl())&&Ext.fly(c).removeCls(this.dragCls),b.b4EndDrag(a),b.endDrag(a)),this.dragCurrent.onMouseUp(a));
this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){var b=this.dragCurrent,c=this.currentPoint=a.getPoint(),d=c.y;this.offsetX=c.x-this.startX;this.offsetY=d-this.startY;if(!b)return!0;this.dragThreshMet||(c=Math.abs(this.offsetX),d=Math.abs(this.offsetY),(c>this.clickPixelThresh||d>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY));this.dragThreshMet&&(b.b4Drag(a),b.onDrag(a),b.moveOnly||this.fireEvents(a,!1));this.stopEvent(a);return!0},fireEvents:function(a,b){var c=
Ext.supports.Touch,d=this.dragCurrent,e=this.currentPoint,f=e.x,g=e.y,h=[],k=[],l=[],m=[],n=[],p=[],q=c?document.documentElement.clientWidth/window.innerWidth:1,r,t,u,v,w;if(d&&!d.isLocked()){w=!(0>d.deltaX||0>d.deltaY);if(c||!this.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&w)c=d.getDragEl(),w&&(c.style.visibility="hidden"),a.target=document.elementFromPoint(f/q,g/q),w&&(c.style.visibility="visible");for(u in this.dragOvers)f=this.dragOvers[u],delete this.dragOvers[u],
this.isTypeOfDD(f)&&!f.destroyed&&(this.notifyOccluded?this.isOverTarget(e,f,this.mode)||l.push(f):a.within(f.getEl())||l.push(f),k[u]=!0);for(v in d.groups)if("string"===typeof v)for(u in this.ids[v])if(f=this.ids[v][u],this.isTypeOfDD(f)&&(r=f.getEl())&&f.isTarget&&!f.isLocked()&&Ext.fly(r).isVisible(!0)&&(f!==d||!1===d.ignoreSelf))if(this.notifyOccluded)-1!==(f.zIndex=this.getZIndex(r))&&(t=!0),h.push(f);else if(a.within(f.getEl())){h.push(f);break}t&&Ext.Array.sort(h,this.byZIndex);u=0;for(r=
h.length;u<r&&(f=h[u],!this.isOverTarget(e,f,this.mode)||(b?n.push(f):(k[f.id]?m.push(f):p.push(f),this.dragOvers[f.id]=f),this.notifyOccluded));u++);if(this.mode){l.length&&(d.b4DragOut(a,l),d.onDragOut(a,l));if(p.length)d.onDragEnter(a,p);m.length&&(d.b4DragOver(a,m),d.onDragOver(a,m));n.length&&(d.b4DragDrop(a,n),d.onDragDrop(a,n))}else{u=0;for(r=l.length;u<r;++u)d.b4DragOut(a,l[u].id),d.onDragOut(a,l[u].id);u=0;for(r=p.length;u<r;++u)d.onDragEnter(a,p[u].id);u=0;for(r=m.length;u<r;++u)d.b4DragOver(a,
m[u].id),d.onDragOver(a,m[u].id);u=0;for(r=n.length;u<r;++u)d.b4DragDrop(a,n[u].id),d.onDragDrop(a,n[u].id)}if(b&&!n.length)d.onInvalidDrop(a)}},getZIndex:function(a){var b=document.body,c,d=-1;for(a=Ext.getDom(a);a!==b;)isNaN(c=Number(Ext.fly(a).getStyle("zIndex")))||(d=c),a=a.parentNode;return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b=null,c=a.length,d,e;if(1===c)b=a[0];else for(d=0;d<c;++d)if(e=a[d],e.cursorIsOver){b=e;break}else if(!b||b.overlap.getArea()<
e.overlap.getArea())b=e;return b},refreshCache:function(a){var b,c,d;for(b in a)if("string"===typeof b)for(c in this.ids[b])a=this.ids[b][c],this.isTypeOfDD(a)&&((d=this.getLocation(a))?this.locationCache[a.id]=d:delete this.locationCache[a.id])},verifyEl:function(a){return Ext.getBody().contains(a)},getLocation:function(a){if(!this.isTypeOfDD(a))return null;if(a.getRegion)return a.getRegion();var b=a.getEl(),c,d,e;try{c=Ext.fly(b).getXY()}catch(f){}if(!c)return null;d=c[0];e=d+b.offsetWidth;c=c[1];
return new Ext.util.Region(c-a.padding[0],e+a.padding[1],c+b.offsetHeight+a.padding[2],d-a.padding[3])},isOverTarget:function(a,b,c){var d=this.locationCache[b.id],e;d&&this.useCache||(d=this.getLocation(b),this.locationCache[b.id]=d);if(!d)return!1;b.cursorIsOver=d.contains(a);e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY)return b.cursorIsOver;b.overlap=null;a=e.getTargetCoord(a.x,a.y);e=e.getDragEl();return(d=(new Ext.util.Region(a.y,a.x+e.offsetWidth,a.y+e.offsetHeight,
a.x)).intersect(d))?(b.overlap=d,c?!0:b.cursorIsOver):!1},_onUnload:function(a,b){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var a=this.elementCache,b;this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null);this.clearingAll=!0;this._execOnAll("unreg",[]);delete this.clearingAll;for(b in a)delete a[b];this.elementCache={};this.ids={};this.handleIds={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];b&&b.el||(b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a)));
return b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){return(a=Ext.getDom(a))?a.style:null},ElementWrapper:function(a){this.id=(this.el=a||null)&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.fly(a).getX()},getPosY:function(a){return Ext.fly(a).getY()},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d===a?c.insertBefore(a,b):b===a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},getScroll:function(){var a=
window.document,b=a.documentElement,a=a.body,c=0,d=0;b&&(b.scrollTop||b.scrollLeft)?(c=b.scrollTop,d=b.scrollLeft):a&&(c=a.scrollTop,d=a.scrollLeft);return{top:c,left:d}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.fly(b).getXY();Ext.fly(a).setXY(c)},numericSort:function(a,b){return a-b},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return!0;
for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return!0;c=c.parentNode}return!1}},function(a){Ext.onInternalReady(function(){a.addListeners()})});
Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:!0,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,
defaultSplitMax:1E3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,tracker:null,ariaRole:"separator",focusable:!0,tabIndex:0,getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var a=this.getCollapseTarget(),b=this.collapsible;this.callParent();a.collapsed&&this.addCls(this.collapsedClsInternal);this.canResize||this.addCls(this.baseCls+"-noresize");Ext.applyIf(this.renderData,{collapseDir:this.getCollapseDirection(),
collapsible:null!==b?b:a.collapsible});this.ariaRenderAttributes=this.ariaRenderAttributes||{};this.ariaRenderAttributes["aria-orientation"]=this.orientation;this.protoEl.unselectable()},onRender:function(){var a;this.callParent(arguments);!1!==this.performCollapse&&(this.renderData.collapsible&&this.mon(this.collapseEl,"click",this.toggleTargetCmp,this),this.collapseOnDblClick&&this.mon(this.el,"dblclick",this.toggleTargetCmp,this));this.getCollapseTarget().on({collapse:this.onTargetCollapse,expand:this.onTargetExpand,
beforeexpand:this.onBeforeTargetExpand,beforecollapse:this.onBeforeTargetCollapse,scope:this});this.canResize&&(this.tracker=Ext.create(this.getTrackerConfig()),this.relayEvents(this.tracker,["beforedragstart","dragstart","dragend"]));if(a=this.collapseEl)a.lastCollapseDirCls=this.collapseDirProps[this.collapseDirection].cls},getCollapseDirection:function(){var a=this.collapseDirection,b,c;a||(b=this.collapseTarget,b.isComponent&&(a=b.collapseDirection),a||(c=this.ownerCt.layout.type,b.isComponent?
(a=this.ownerCt.items,b=Number(a.indexOf(b)===a.indexOf(this)-1)<<1|Number("hbox"===c)):b=Number("prev"===this.collapseTarget)<<1|Number("hbox"===c),a=["bottom","right","top","left"][b]),this.collapseDirection=a);this.setOrientation("top"===a||"bottom"===a?"horizontal":"vertical");return a},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:"prev"===this.collapseTarget?this.previousSibling():this.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;b&&
b.setDisplayed(a)},onBeforeTargetExpand:function(a){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(a){a===this.getCollapseTarget()&&a["vertical"===this.orientation?"collapsedHorizontal":"collapsedVertical"]()&&this.el.addCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},onTargetExpand:function(a){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+
"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var a=this.collapseEl,b=this.collapseDirProps[this.collapseDirection],c;a&&((c=a.lastCollapseDirCls)&&a.removeCls(c),a.addCls(a.lastCollapseDirCls=
b.cls))},applyOrientation:function(){var a=this.orientation,b=this.orientationProps[a],c=this.size,d=b.fixedAxis,e=b.stretchedAxis,f=this.baseCls+"-";this[a]=!0;this[b.opposite]=!1;this.hasOwnProperty(d)&&"100%"!==this[d]||(this[d]=c);this.hasOwnProperty(e)&&this[e]!==c||(this[e]="100%");this.removeCls(f+b.opposite);this.addCls(f+a)},setOrientation:function(a){this.orientation!==a&&(this.orientation=a,this.applyOrientation())},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();
this.applyCollapseDirection()},toggleTargetCmp:function(a,b){var c=this.getCollapseTarget(),d=c.placeholder;Ext.isFunction(c.expand)&&Ext.isFunction(c.collapse)&&(d=d&&!d.hidden?!0:!c.hidden)&&(c.collapsed?c.expand():c.collapseDirection?c.collapse():c.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments);Ext.isIE&&this.el&&this.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});
Ext.define("Ext.layout.container.Box",{extend:Ext.layout.container.Container,alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(a,b){"string"===typeof a&&(a={type:a});return Ext.merge(b?Ext.Object.chain(b):{},a)}},padding:0,pack:"start",stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:"round"},itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",
targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',
{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b;this.callParent(arguments);this.setVertical(this.vertical);this.flexSortFn=this.flexSort.bind(this);b=typeof this.padding;if("string"===b||"number"===b)this.padding=Ext.util.Format.parseBox(this.padding),this.padding.height=this.padding.top+this.padding.bottom,this.padding.width=this.padding.left+this.padding.right},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,
_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this.sizePolicy,d=this.align,e=a.flex,f=d,g=this.names,h=g.height,g=g.width,k=a[h],l=this._percentageRe,m=l.test(a[g]),n="stretch"===d,d="stretchmax"===d,p=this.constrainAlign;!b&&(n||e||m||p&&!d)&&(b=this.owner.getSizeModel());n?!l.test(k)&&b[h].shrinkWrap&&(f="stretchmax"):d||(f=l.test(k)?"stretch":p&&!b[h].shrinkWrap?"stretchmax":"");!e&&!m||b[g].shrinkWrap||(c=c.flex);return c[f]},flexSort:function(a,b){var c=
this.names.maxWidth,d=this.names.minWidth,e=a.target,f=b.target,g=e.flex,h=f.flex,k=0,l,m;l=e[c]||Infinity;c=f[c]||Infinity;e=e[d]||0;d=f[d]||0;f=isFinite(e)||isFinite(d);m=isFinite(l)||isFinite(c);if(f||m)m&&(k=l-c),0===k&&f&&(k=d-e),0===k&&(k=m?h-g:g-h);return k},isItemBoxParent:function(a){return!0},isItemShrinkWrap:function(a){return!0},roundFlex:function(a){return Math.floor(a)},beginCollapse:function(a){"vertical"===this.direction&&a.collapsedVertical()?(a.collapseMemento.capture(["flex"]),
delete a.flex):"horizontal"===this.direction&&a.collapsedHorizontal()&&(a.collapseMemento.capture(["flex"]),delete a.flex)},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this.owner,c=b.stretchMaxPartner,d=this.innerCt.dom.style,e=this.names,f=this.overflowHandler,g=b.getScrollable();a.boxNames=e;f&&f.beginLayout(a);"string"===typeof c&&(c=Ext.getCmp(c)||b.query(c)[0]);a.stretchMaxPartner=c&&a.context.getCmp(c);this.callParent(arguments);a.innerCtContext=
a.getEl("innerCt",this);a.targetElContext=a.getEl("targetEl",this);g&&(a.ownerScrollable=g,b=g.getPosition(),b.x||b.y)&&(a.scrollRestore=b);d.width=d.height=""},beginLayoutCycle:function(a,b){var c=a.state,d=a.ownerScrollable,e=this.align,f=a.boxNames,g=this.pack,h=this._centerRe,k=this.overflowHandler,l=a.state.canScroll,m;k&&k.beginLayoutCycle(a,b);this.callParent(arguments);a.parallelSizeModel=k=a[f.widthModel];a.perpendicularSizeModel=m=a[f.heightModel];a.boxOptions={align:e={stretch:"stretch"===
e,stretchmax:"stretchmax"===e,center:h.test(e),bottom:this._endRe.test(e)},pack:g={center:h.test(g),end:"end"===g}};d&&(l||(c.canScroll={parallel:!k.shrinkWrap&&d[f.getX](),perpendicular:!m.shrinkWrap&&d[f.getY]()}),c.actualScroll||(c.actualScroll={parallel:!1,perpendicular:!1}));e.stretch&&m.shrinkWrap&&(e.stretchmax=!0,e.stretch=!1);e.nostretch=!(e.stretch||e.stretchmax);k.shrinkWrap&&(g.center=g.end=!1);this.cacheFlexes(a);this.targetEl.setWidth(2E4)},cacheFlexes:function(a){for(var b=a.boxNames,
c=b.widthModel,d=b.heightModel,e=a.boxOptions.align.nostretch,f=0,g=a.childItems,h=g.length,k=[],l=0,m=0,n=0,p=b.minWidth,q=b.minHeight,r=this._percentageRe,t=0,u=0,v,w,y,x;h--;)w=g[h],v=w.target,x=w[c],x.calculated&&((w.flex=y=v.flex)?(f+=y,k.push(w),l+=v[p]||0):(y=r.exec(v[b.width]),w.percentageParallel=parseFloat(y[1])/100,++t)),y=x.configured?v[b.width]:v[p]||0,n+=y,x=w[d],e&&x.calculated&&(y=r.exec(v[b.height]),w.percentagePerpendicular=parseFloat(y[1])/100,++u),v=x.configured?v[b.height]:v[q]||
0,v>m&&(m=v);a.flexedItems=k;a.flexedMinWidth=l;a.smallestWidth=n;a.smallestHeight=m;a.totalFlex=f;a.percentageWidths=t;a.percentageHeights=u;Ext.Array.sort(k,this.flexSortFn)},calculate:function(a){var b=a.boxNames,c=a.state,d=c.actualScroll,e=c.needsScroll,f=c.canScroll,g=c.boxPlan||(c.boxPlan={}),h=this.overflowHandler;g.targetSize=this.getContainerSize(a);f&&!e&&(c.needsScroll=e={parallel:f.parallel&&g.targetSize[b.width]<a.smallestWidth,perpendicular:f.perpendicular&&g.targetSize[b.height]<a.smallestHeight});
c.parallelDone||(c.parallelDone=this.calculateParallel(a,b,g));c.perpendicularDone||(c.perpendicularDone=this.calculatePerpendicular(a,b,g));c.parallelDone&&c.perpendicularDone?!f||c.scrollPass||e.parallel===d.parallel&&e.perpendicular===d.perpendicular?(this.publishInnerCtSize(a),this.done&&a.boxOptions.align.stretchmax&&!c.stretchMaxDone&&(this.calculateStretchMax(a,b,g),c.stretchMaxDone=!0),h&&h.calculate(a)):(a.invalidate({state:{scrollPass:!0,canScroll:f,needsScroll:d}}),this.done=!1):this.done=
!1},calculateParallel:function(a,b,c){var d=a.parallelSizeModel.shrinkWrap,e=b.width,f=a.childItems,g=b.beforeX,h=b.afterX,k=b.setWidth,l=f.length,m=a.flexedItems,n=m.length,p=a.boxOptions.pack,q=this.padding,r=c.targetSize,t=r[e],u=a.state,v=u.needsScroll,w=u.canScroll,y=0,x=q[g],z=x+q[h],A=Ext.getScrollbarSize(),q=A[b.width],C=A[b.height],B;if(!d&&!r[b.gotWidth])return!1;for(r=0;r<l;++r)if(A=f[r],B=A.marginInfo||A.getMarginInfo(),y+=B[e],!A[b.widthModel].calculated&&(B=A.getProp(e),z+=B,isNaN(z)))return!1;
z+=y;if(a.percentageWidths){y=t-y;if(isNaN(y))return!1;for(r=0;r<l;++r)A=f[r],A.percentageParallel&&(B=Math.ceil(y*A.percentageParallel),B=A.setWidth(B),z+=B)}d?(r=0,c.tooNarrow=!1):(r=t-z,v&&v.perpendicular&&(r-=C),c.tooNarrow=r<a.flexedMinWidth,c.tooNarrow&&w&&w.parallel&&(u.actualScroll.parallel=!0));c=z;u=r;w=a.totalFlex;for(r=0;r<n;r++)A=m[r],t=A.flex,z=this.roundFlex(t/w*u),z=A[k](z),c+=z,u=Math.max(0,u-z),w-=t;p.center?(x+=u/2,0>x&&(x=0)):p.end&&(x+=u);for(r=0;r<l;++r)A=f[r],B=A.marginInfo,
x+=B[g],A.setProp(b.x,x),x+=B[h]+A.props[e];c+=a.targetContext.getPaddingInfo()[e];a.state.contentWidth=c;v&&v.perpendicular&&(d&&(c+=q),a[b.hasOverflowY]=!0,a.target.componentLayout[b.setWidthInDom]=!0,a[b.invalidateScrollY]=Ext.isIE8);a[b.setContentWidth](c);return!0},calculatePerpendicular:function(a,b,c){var d=a.state,e=d.needsScroll,f=d.canScroll,g=a.perpendicularSizeModel.shrinkWrap,h=c.targetSize,k=a.childItems,l=k.length,m=Math.max,n=b.height,p=b.setHeight,q=b.beforeY,r=b.y,t=this.padding,
u=t[q],v=h[n]-u-t[b.afterY],w=a.boxOptions.align,t=w.stretch,y=w.stretchmax,x=w.center,w=w.bottom,z=this.constrainAlign,A=0,C=0,B=this.onBeforeConstrainInvalidateChild,H=this.onAfterConstrainInvalidateChild,D=Ext.getScrollbarSize().height,G,E,I,J,K;if(!g&&!h[b.gotHeight]||(t||(x||w)&&!g)&&isNaN(v))return!1;e&&e.parallel&&(g?K=!0:(v-=D,c.targetSize[n]-=D));if(t)I=v,A=m(I,a.smallestHeight);else for(e=0;e<l;e++){J=k[e];E=(J.marginInfo||J.getMarginInfo())[n];if(G=J.percentagePerpendicular)if(++C,g)continue;
else G=G*v-E,G=J[b.setHeight](G);else G=J.getProp(n);!g&&z&&J[b.heightModel].shrinkWrap&&G>v&&(J.invalidate({before:B,after:H,layout:this,childHeight:v,names:b}),a.state.parallelDone=!1);if(isNaN(A=m(A,G+E,J.target[b.minHeight]||0)))return!1}K&&(A+=D,a[b.hasOverflowX]=!0,a.target.componentLayout[b.setHeightInDom]=!0,a[b.invalidateScrollX]=Ext.isIE8);if(e=a.stretchMaxPartner)if(a.setProp("maxChildHeight",A),(J=e.childItems)&&J.length&&(A=m(A,e.getProp("maxChildHeight")),isNaN(A)))return!1;a[b.setContentHeight](A+
this.padding[n]+a.targetContext.getPaddingInfo()[n]);K&&(A-=D);A>h[n]&&f&&f.perpendicular&&(d.actualScroll.perpendicular=!0);c.maxSize=A;if(y)I=A;else if(x||w||C)I=z?g?A:v:g?A:m(v,A),I-=a.innerCtContext.getBorderInfo()[n];for(e=0;e<l;e++){J=k[e];E=J.marginInfo||J.getMarginInfo();a=u+E[q];if(t)J[p](I-E[n]);else G=J.percentagePerpendicular,g&&G&&(E=J.marginInfo||J.getMarginInfo(),G=G*I-E[n],J.setHeight(G)),x?(b=I-J.props[n],0<b&&(a=u+Math[this.alignRoundingMethod](b/2))):w&&(a=m(0,I-a-J.props[n]));
J.setProp(r,a)}return!0},onBeforeConstrainInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(a,b){var c=b.names;a.setProp(c.beforeY,0);if(a[c.heightModel].calculated)a[c.setHeight](b.childHeight)},calculateStretchMax:function(a,b,c){var d=b.height,e=b.width;a=a.childItems;var f=a.length;c=c.maxSize;var g=this.onBeforeStretchMaxInvalidateChild,h=this.onAfterStretchMaxInvalidateChild,k,l,m,n;for(m=
0;m<f;++m)k=a[m],l=k.props,n=c-k.getMarginInfo()[d],(n!==l[d]||k[b.heightModel].constrained)&&k.invalidate({before:g,after:h,layout:this,childWidth:l[e],childHeight:n,childX:l.x,childY:l.y,names:b})},onBeforeStretchMaxInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMax||(a[c]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX);a.setProp("y",b.childY);if(a[c.heightModel].calculated)a[c.setHeight](d);
if(a[c.widthModel].calculated)a[c.setWidth](e)},completeLayout:function(a){var b=a.invalidateScrollX,c=a.invalidateScrollY,d=this.overflowHandler,e=a.scrollRestore,f,g,h,k;d&&d.completeLayout(a);if(b||c)if(f=this.getTarget(),d=f.dom,k=d.style,b&&(g=f.getStyle("overflowX"),"auto"===g?(g=k.overflowX,k.overflowX="scroll"):b=!1),c&&(h=f.getStyle("overflowY"),"auto"===h?(h=k.overflowY,k.overflowY="scroll"):c=!1),b||c)d.scrollWidth,b&&(k.overflowX=g),c&&(k.overflowY=h);e&&a.ownerScrollable.scrollTo(e.x,
e.y)},finishedLayout:function(a){var b=this.overflowHandler;b&&b.finishedLayout(a);this.callParent(arguments)},getLayoutItems:function(){var a=this.callParent(),b=a.length,c,d,e,f,g,h,k;for(e=0;e<b;++e)(f=a[e]).isSplitter||(k=f.splitter,f.hidden?k&&!k.hidden&&(k.hidden=!0,k.el&&k.el.hide()):(h=k?"next"===k.collapseTarget:!1,d=null,c&&g?(g.hidden&&(g.hidden=!1,g.el&&g.el.show()),h&&(d=!0)):h&&(d=!c),null!==d&&k.hidden!==d&&(k.hidden=d,k.el&&k.el.setVisible(!d)),g=!h&&k,c=f));c&&g&&!g.hidden&&(g.hidden=
!0,g.el&&g.el.hide());return a},getScrollerEl:function(){return this.innerCt},insertSplitter:function(a,b,c,d){c={xtype:"splitter",id:a.id+"-splitter",hidden:c,splitterFor:a,synthetic:!0};b+="prev"===d.collapseTarget?1:0;c[this.names.height]="100%";d&&Ext.apply(c,d);a.splitter=this.owner.add(b,c)},publishInnerCtSize:function(a,b){b=b||0;var c=a.state,d=a.boxNames,e=d.height,f=d.width,g=a.boxOptions.align,h=this.padding,k=c.boxPlan,l=k.targetSize,m=k.maxSize,n=c.needsScroll,p=a.innerCtContext;a.parallelSizeModel.shrinkWrap||
k.tooNarrow&&c.canScroll?c=c.contentWidth-a.targetContext.getPaddingInfo()[f]:(c=l[f],n&&n.perpendicular&&(c-=Ext.getScrollbarSize()[f]));c-=b;this.owner.tooNarrow=k.tooNarrow;g.stretch?f=m:(f=k.maxSize+h[d.beforeY]+h[d.afterY]+p.getBorderInfo()[e],a.perpendicularSizeModel.shrinkWrap||!g.center&&!g.bottom||(f=Math.max(l[e],f)));p[d.setWidth](c);p[d.setHeight](f);a.targetElContext.setWidth(a.innerCtContext.props.width-(this.vertical?0:b||0));isNaN(c+f)&&(this.done=!1)},onAdd:function(a,b){var c=this.enableSplitters&&
a.split&&!a.isButton;this.callParent(arguments);c&&(c=!0===c?{collapseTarget:"next"}:Ext.isString(c)?{collapseTarget:"before"===c?"next":"prev"}:Ext.apply({collapseTarget:"before"===c.side?"next":"prev"},c),this.insertSplitter(a,b,!!a.hidden,c))},onRemove:function(a,b){var c=this.names,d=this.owner,e=a.splitter,f=this.overflowHandler;this.callParent(arguments);e&&d.contains(e)&&(d.doRemove(e,!0),a.splitter=null);if(f)f.onRemove(a);a.layoutMarginCap===this.id&&delete a.layoutMarginCap;!d.destroying&&
!b&&a.rendered&&(d=a.getEl())&&(d.setStyle(c.beforeY,""),d.setStyle(c.beforeX,""),d.setStyle("margin",""))},applyOverflowHandler:function(a,b){"string"===typeof a&&(a={type:a});if(b&&b.type===a.type)return delete a.type,b.setConfig(a),b;a.layout=this;return Ext.Factory.boxOverflow(a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.flexSortFn=this.innerCt=null;this.callParent()},
getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;return a},updateVertical:function(a){var b=this.overflowHandler,c=this.owner,d=this._props;Ext.apply(this,a?d.vbox:d.hbox);b&&c&&c.rendered&&b.setVertical(a)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",
widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",
perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},
stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",
widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",
perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,
readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}});Ext.define("Ext.layout.container.HBox",{extend:Ext.layout.container.Box,alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1});
Ext.define("Ext.layout.container.VBox",{extend:Ext.layout.container.Box,alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0});
Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",mixins:[Ext.util.FocusableContainer],isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:void 0,vertical:void 0,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator",
" ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this.layout,b=this.vertical;void 0===b&&(this.vertical=b="right"===this.dock||"left"===this.dock);this.layout=a=Ext.applyIf(Ext.isString(a)?{type:a}:a||{},{type:b?"vbox":"hbox",align:b?"stretchmax":"middle"});this.overflowHandler?a.overflowHandler=this.overflowHandler:this.enableOverflow&&(a.overflowHandler="menu");b&&this.addClsWithUI("vertical");"footer"===this.ui&&
(this.ignoreBorderManagement=!0);this.callParent()},getRefItems:function(a){var b=this.callParent(arguments),c=this.layout;a&&(this.enableOverflow||"menu"===this.overflowHandler)&&(c=c.overflowHandler)&&c.menu&&(b=b.concat(c.menu.getRefItems(a)));return b},lookupComponent:function(a){var b=arguments;"string"===typeof a&&(b=Ext.toolbar.Toolbar,b=b.shortcutsHV[this.vertical?1:0][a]||b.shortcuts[a],a="string"===typeof b?{xtype:b}:b?Ext.apply({},b):{xtype:"tbtext",text:a},this.applyDefaults(a),b=[a]);
return this.callParent(b)},onBeforeAdd:function(a){var b="footer"===this.ui,c=b?this.defaultFooterButtonUI:this.defaultButtonUI;a.isSegmentedButton?"default"!==a.getDefaultUI()||a.config.hasOwnProperty("defaultUI")||a.setDefaultUI(c):"default"!==a.ui||a.hasOwnProperty("ui")||(a.isButton?a.ui=c:a.isFormField&&(a.ui=b?this.defaultFooterFieldUI:this.defaultFieldUI));a instanceof Ext.toolbar.Separator&&a.setUI(this.vertical?"vertical":"horizontal");this.callParent(arguments)},onAdd:function(a){a.needArrowKeys&&
this.enableFocusableContainer&&(this.enableFocusableContainer=!1);this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,!0)},privates:{applyDefaults:function(a){Ext.isString(a)||(a=this.callParent(arguments));return a},trackMenu:function(a,b){if(this.trackMenus&&a.menu)a[b?"un":"on"]({mouseover:this.onButtonOver,menushow:this.onButtonMenuShow,menuhide:this.onButtonMenuHide,scope:this})},getChildItemsToDisable:function(){return this.items.getRange()},
onButtonOver:function(a,b){var c=this.activeMenuBtn;c&&c!==a&&(c.hideMenu(),a.focus(),a.showMenu(b),this.activeMenuBtn=a)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){this.activeMenuBtn=null}}});
Ext.define("Ext.dd.DragDrop",{constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,
hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,
right:0,top:0,bottom:0},constrainTo:function(a,b,c){var d,e,f;Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b});b=b||this.defaultPadding;c=Ext.get(this.getEl()).getBox();a=Ext.get(a);e=a.getScroll();f=a.dom;f===document.body?(a=e.left,d=e.top,e=Ext.Element.getViewportWidth(),f=Ext.Element.getViewportHeight()):(e=a.getXY(),a=e[0],d=e[1],e=f.clientWidth,f=f.clientHeight);d=c.y-d;a=c.x-a;this.resetConstraints();this.setXConstraint(a-(b.left||0),e-a-c.width-(b.right||0),this.xTickSize);this.setYConstraint(d-
(b.top||0),f-d-c.height-(b.bottom||0),this.yTickSize)},getEl:function(){this._domRef||(this._domRef=Ext.getDom(this.id));return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.el=this.el||Ext.get(a);this.initTarget(a,b,c);Ext.get(this.id).on(this.triggerEvent,this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};"string"!==typeof a&&(a=Ext.id(a));this.id=a;this.addToGroup(b?b:"default");
this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=!1!==this.config.isTarget;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){this.padding=
b||0===b?c||0===c?[a,b,c,d]:[a,b,a,b]:[a,a,a,a]},setInitPosition:function(a,b){var c=this.getEl(),d,e;this.DDMInstance.verifyEl(c)&&(d=a||0,e=b||0,c=Ext.fly(c).getXY(),this.initPageX=c[0]-d,this.initPageY=c[1]-e,this.lastPageX=c[0],this.lastPageY=c[1],this.setStartPosition(c))},setStartPosition:function(a){a=a||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=!0;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&
delete this.groups[a];this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!==typeof a&&(a=Ext.id(a));this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){"string"!==typeof a&&(a=Ext.id(a));Ext.get(a).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=!0},unreg:function(){var a;this._domRef&&(a=Ext.fly(this.id))&&a.un(this.triggerEvent,this.handleMouseDown,this);
this._domRef=null;this.DDMInstance._remove(this,this.autoGroup)},destroy:function(){this.unreg();this.callParent()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a,b){this.primaryButtonOnly&&a.button||this.isLocked()||(this.DDMInstance.refreshCache(this.groups),(this.hasOuterHandles||this.DDMInstance.isOverTarget(a.getPoint(),this))&&this.clickValidator(a)&&(this.setStartPosition(),this.b4MouseDown(a),this.onMouseDown(a),this.DDMInstance.handleMouseDown(a,
this),this.DDMInstance.stopEvent(a)))},clickValidator:function(a){a=a.getTarget();return this.isValidHandleChild(a)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(a){a=a.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){"string"!==typeof a&&(a=Ext.id(a));this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){a=a.toUpperCase();delete this.invalidHandleTypes[a]},
removeInvalidHandleId:function(a){"string"!==typeof a&&(a=Ext.id(a));delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){var b=this.invalidHandleClasses,c=b.length,d;for(d=0;d<c;++d)b[d]===a&&delete b[d]},isValidHandleChild:function(a){var b=!0,c,d;try{c=a.nodeName.toUpperCase()}catch(e){c=a.nodeName}b=(b=b&&!this.invalidHandleTypes[c])&&!this.invalidHandleIds[a.id];c=0;for(d=this.invalidHandleClasses.length;b&&c<d;++c)b=!Ext.fly(a).hasCls(this.invalidHandleClasses[c]);return b},
setXTicks:function(a,b){this.xTicks=[];this.xTickSize=b;var c={},d;for(d=this.initPageX;d>=this.minX;d-=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);for(d=this.initPageX;d<=this.maxX;d+=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var c={},d;for(d=this.initPageY;d>=this.minY;d-=b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);for(d=this.initPageY;d<=this.maxY;d+=b)c[d]||
(this.yTicks[this.yTicks.length]=d,c[d]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;c&&this.setXTicks(this.initPageX,c);this.constrainX=!0},clearConstraints:function(){this.constrainY=this.constrainX=!1;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=
a;this.bottomConstraint=b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;c&&this.setYTicks(this.initPageY,c);this.constrainY=!0},resetConstraints:function(){this.initPageX||0===this.initPageX?this.setInitPosition(this.maintainOffset?this.lastPageX-this.initPageX:0,this.maintainOffset?this.lastPageY-this.initPageY:0):this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,
this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];var c,d,e,f;c=0;for(d=b.length;c<d;++c)if(e=c+1,b[e]&&b[e]>=a)return d=a-b[c],f=b[e]-a,f>d?b[c]:b[e];return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}});
Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:!0,autoOffset:function(a,b){this.setDelta(a-this.startPageX,b-this.startPageY)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){b=this.getTargetCoord(b,c);c=a.dom?a:Ext.fly(a,"_dd");var d=c.getSize(),e=Ext.Element;this.deltaSetXY?(e=this.cachedViewportSize,this.setLocalXY(c,Math.max(0,
Math.min(b.x+this.deltaSetXY[0],e.width-d.width)),Math.max(0,Math.min(b.y+this.deltaSetXY[1],e.height-d.height)))):(e=this.cachedViewportSize={width:e.getDocumentWidth(),height:e.getDocumentHeight()},d=[Math.max(0,Math.min(b.x,e.width-d.width)),Math.max(0,Math.min(b.y,e.height-d.height))],c.setXY(d),d=this.getLocalX(c),c=c.getLocalY(),this.deltaSetXY=[d-b.x,c-b.y]);this.cachePosition(b.x,b.y);this.autoScroll(b.x,b.y,a.offsetHeight,a.offsetWidth);return b},cachePosition:function(a,b){if(a)this.lastPageX=
a,this.lastPageY=b;else{var c=Ext.fly(this.getEl()).getXY();this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewportHeight(),f=Ext.Element.getViewportWidth(),g=this.DDMInstance.getScrollTop(),h=this.DDMInstance.getScrollLeft();d+=a;var k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=document.all?80:30;c+b>e&&40>k&&window.scrollTo(h,g+m);b<g&&0<g&&40>b-g&&window.scrollTo(h,g-m);d>f&&40>l&&window.scrollTo(h+m,g);a<h&&0<h&&40>a-h&&window.scrollTo(h-
m,g)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX));this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY));c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=!1!==this.config.scroll},b4MouseDown:function(a){a=a.getXY();this.autoOffset(a[0],a[1])},b4Drag:function(a){a=a.getXY();this.setDragElPos(a[0],a[1])},toString:function(){return"DD "+
this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}});
Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){a&&(this.init(a,b,c),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body,c,d;b&&b.firstChild?(c=this.getDragEl(),c||(c=document.createElement("div"),c.id=this.dragElId,c.setAttribute("role","presentation"),d=c.style,d.position="absolute",d.visibility="hidden",d.cursor="move",d.border="2px solid #aaa",d.zIndex=999,b.insertBefore(c,b.firstChild))):Ext.defer(function(){a.createFrame()},
50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=!1!==this.config.resizeFrame;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=this.getDragEl(),d=c.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2));this.setDragElPos(a,b);Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=
this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getXY();a=b[0];b=b[1];this.autoOffset(a,b);this.setDragElPos(a,b)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(a){a=this.getEl();var b=this.getDragEl();b.style.visibility="";this.beforeMove();a.style.visibility="hidden";Ext.dd.DDM.moveToEl(a,b);b.style.visibility="hidden";a.style.visibility="";this.afterDrag()},beforeMove:function(){},
afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});
Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",skipLayout:!0,constructor:function(a){a=a||{};Ext.apply(this,{hideMode:"visibility",hidden:!0,floating:!0,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+
this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()});this.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;this.dropStatus!==a&&(this.el.replaceCls(this.dropStatus,a),this.dropStatus=a)},reset:function(a){var b=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(b+this.dropAllowed,b+this.dropNotAllowed);this.dropStatus=this.dropNotAllowed;
a&&this.ghost.setHtml("")},update:function(a){"string"===typeof a?this.ghost.setHtml(a):(this.ghost.setHtml(""),a.style.margin="0",this.ghost.dom.appendChild(a));(a=this.ghost.dom.firstChild)&&Ext.fly(a).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent();a&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.syncUnderlays()},repair:function(a,b,c){this.callback=b;this.scope=
c;a&&!1!==this.animRepair?(this.el.addCls(this.repairCls),this.el.setUnderlaysVisible(!1),this.anim=this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0);this.el.removeCls(this.repairCls);"function"===typeof this.callback&&this.callback.call(this.scope||this);delete this.callback;delete this.scope}});
Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a);this.dragData||(this.dragData={});Ext.apply(this,b);this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair}));this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,
scroll:!0===this.scroll}]);this.dragging=!1},getDragData:function(a){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=c;!1!==this.beforeDragEnter(c,a,b)&&(c.isNotifyTarget?(d=c.notifyEnter(this,a,this.dragData),this.proxy.setStatus(d)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(c,a,b))},beforeDragEnter:function(a,b,c){return!0},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),
d;!1!==this.beforeDragOver(c,a,b)&&(c.isNotifyTarget&&(d=c.notifyOver(this,a,this.dragData),this.proxy.setStatus(d)),this.afterDragOver&&this.afterDragOver(c,a,b))},beforeDragOver:function(a,b,c){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);!1!==this.beforeDragOut(c,a,b)&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(c,a,b));this.cachedTarget=null},beforeDragOut:function(a,b,c){return!0},
onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(!1!==this.beforeDragDrop(c,a,b)){if(c.isNotifyTarget)if(!1!==c.notifyDrop(this,a,this.dragData))this.onValidDrop(c,a,b);else this.onInvalidDrop(c,a,b);else this.onValidDrop(c,a,b);this.afterDragDrop&&this.afterDragDrop(c,a,b)}delete this.cachedTarget},beforeDragDrop:function(a,b,c){return!0},onValidDrop:function(a,b,c){this.hideProxy();this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(a,b){return this.el.getXY()},
onInvalidDrop:function(a,b,c){b||(b=a,a=null,c=b.getTarget().id);!1!==this.beforeInvalidDrop(a,b,c)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(b,c))},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor);this.dragging=!1},beforeInvalidDrop:function(a,b,c){return!0},handleMouseDown:function(a){if(!this.dragging){var b=
this.getDragData(a);b&&!1!==this.onBeforeDrag(b,a)&&(this.dragData=b,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(a,b){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(!0);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=!1;this.dragging=!0;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);c.id=Ext.id();this.proxy.update(c);
this.onStartDrag(a,b);return!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});
Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.destroy(),delete this.proxy),this.panel.unghost(null,
this.moveOnDrag),delete this.ghost)},show:function(){var a;this.ghost||(a=this.panel.getSize(),this.panel.el.setVisibilityMode(Ext.Element.DISPLAY),this.ghost=this.panel.ghost(),this.insertProxy&&(this.proxy=this.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),this.proxy.setSize(a)))},repair:function(a,b,c){this.hide();Ext.callback(b,c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}});
Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(a,b){this.panel=a;this.dragData={panel:a};this.panelProxy=new Ext.panel.Proxy(a,b);this.proxy=this.panelProxy.proxy;this.callParent([a.el,b]);this.setupEl(a)},setupEl:function(a){var b=a.header,c=a.body;b&&(this.setHandleElId(b.id),c=b.el);if(c)c.setStyle("cursor","move"),this.scroll=!1;else a.on("boxready",this.setupEl,this,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},
b4MouseDown:function(a){a=a.getXY();this.autoOffset(a[0],a[1])},onInitDrag:function(a,b){this.onStartDrag(a,b);return!0},createFrame:Ext.emptyFn,getDragEl:function(a){if(a=this.panelProxy.ghost)return a.el.dom},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(a,b,c){!1!==this.beforeInvalidDrop(a,b,c)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,
b,this.dragData),this.cacheTarget=null),this.afterInvalidDrop&&this.afterInvalidDrop(b,c))}});
Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",
horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a,b;this.callParent();a=this.getRenderTarget();b=this.getDockedItems();this.finishRenderItems(a,b)},isItemBoxParent:function(a){return!0},isItemShrinkWrap:function(a){return!0},noBorderClasses:[Ext.baseCSSPrefix+
"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+
"docked",handleItemBorders:function(){var a=this.owner,b,c,d=this.lastDockedItems,e=this.borders;c=a.dockedItems.generation;var f=this.noBorderClassesSides,g=this.borderWidthProps,h,k,l,m,n;b=this.collapsed;if(!(this.initializedBorders===c||a.border&&!a.manageBodyBorders||a.collapsed&&"mini"===a.collapseMode)){this.initializedBorders=c;this.collapsed=!1;this.lastDockedItems=c=this.getLayoutItems();this.collapsed=b;b={top:[],right:[],bottom:[],left:[]};h=0;for(k=c.length;h<k;h++)l=c[h],m=l.dock,l.ignoreBorderManagement||
(b[m].satisfied||(b[m].push(l),b[m].satisfied=!0),b.top.satisfied||"bottom"===m||b.top.push(l),b.right.satisfied||"left"===m||b.right.push(l),b.bottom.satisfied||"top"===m||b.bottom.push(l),b.left.satisfied||"right"===m||b.left.push(l));if(d)for(h=0,k=d.length;h<k;h++)l=d[h],l.destroyed||l.ignoreBorderManagement||a.manageBodyBorders||l.removeCls(this.noBorderClasses);if(e)for(n in e)a.manageBodyBorders&&e[n].satisfied&&a.setBodyStyle(g[n],"");for(n in b)if(k=b[n].length,a.manageBodyBorders)b[n].satisfied&&
a.setBodyStyle(g[n],"1px");else{for(h=0;h<k;h++)b[n][h].addCls(f[n]);!b[n].satisfied&&!a.bodyBorder||!1===a.bodyBorder?a.addBodyCls(f[n]):a.removeBodyCls(f[n])}this.borders=b}},beforeLayoutCycle:function(a){var b=this.owner,c=this.sizeModels.shrinkWrap,d=b.shrinkWrapDock,e,f;b.collapsed&&(b.collapsedVertical()?(f=!0,a.measureDimensions=1):(e=!0,a.measureDimensions=2));a.collapsedVert=f;a.collapsedHorz=e;f?a.heightModel=c:e&&(a.widthModel=c);d=!0===d?3:d||0;a.shrinkWrapDockHeight=d&1&&a.heightModel.shrinkWrap;
a.shrinkWrapDockWidth=d&2&&a.widthModel.shrinkWrap},beginLayout:function(a){var b=this.owner,c=this.getLayoutItems(),d=a.context,e=c.length,f=this.lastCollapsedState,g,h,k;this.callParent(arguments);h=b.getCollapsed();h!==f&&void 0!==f&&(this.owner.collapsed?(a.isCollapsingOrExpanding=1,b.addClsWithUI(b.collapsedCls)):(a.isCollapsingOrExpanding=2,b.removeClsWithUI(b.collapsedCls),a.lastCollapsedState=this.lastCollapsedState));this.lastCollapsedState=h;a.dockedItems=b=[];for(f=0;f<e;f++)g=c[f],g.rendered&&
(k=g.dock,h=d.getCmp(g),h.dockedAt={x:0,y:0},h.offsets=g=Ext.Element.parseBox(g.offsets||0),h.horizontal="top"===k||"bottom"===k,g.width=g.left+g.right,g.height=g.top+g.bottom,b.push(h));a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=a.dockedItems,c=b.length,d=this.owner,e=d.frameBody,f=this.lastHeightModel;this.callParent(arguments);this.owner.manageHeight?this.lastBodyDisplay&&(d.body.dom.style.display=this.lastBodyDisplay=""):("inline-block"!==this.lastBodyDisplay&&(d.body.dom.style.display=
this.lastBodyDisplay="inline-block"),f&&f.shrinkWrap&&!a.heightModel.shrinkWrap&&(d.body.dom.style.marginBottom=""));a.widthModel.auto&&(a.widthModel.shrinkWrap&&d.el.setWidth(null),d.body.setWidth(null),e&&e.setWidth(null));a.heightModel.auto&&(d.body.setHeight(null),e&&e.setHeight(null));a.collapsedVert?a.setContentHeight(0):a.collapsedHorz&&a.setContentWidth(0);for(d=0;d<c;d++)e=b[d].target,f=e.dock,"right"===f&&e.setLocalX(0)},calculate:function(a){var b=this.measureAutoDimensions(a,a.measureDimensions),
c=a.state,d=c.horzDone,e=c.vertDone,f=a.bodyContext,g,h;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.frameInfo||a.getFrameInfo();f.borderInfo||f.getBorderInfo();f.paddingInfo||f.getPaddingInfo();a.frameBorder||((f=a.framing)?(a.frameBorder=f.border,a.framePadding=f.padding):(a.frameBorder=a.borderInfo,a.framePadding=a.paddingInfo));f=!d&&this.createAxis(a,b.contentWidth,a.widthModel,this.horzAxisProps,a.collapsedHorz);b=!e&&this.createAxis(a,b.contentHeight,a.heightModel,this.vertAxisProps,
a.collapsedVert);g=0;for(h=a.dockedItems.length;h--;++g)f&&this.dockChild(a,f,h,g),b&&this.dockChild(a,b,h,g);f&&this.finishAxis(a,f)&&(c.horzDone=d=f);b&&this.finishAxis(a,b)&&(c.vertDone=e=b);d&&e&&this.finishConstraints(a,d,e)?this.finishPositions(a,d,e):this.done=!1},createAxis:function(a,b,c,d,e){var f=0,g=this.owner,h=g[d.maxSize],g=g[d.minSize]||0,k=d.dockBegin,l=d.dockEnd,m=d.pos,n=d.size,p=null!=h,q;c.shrinkWrap?e?b=0:(q=a.bodyContext,b+=q.borderInfo[n]):(b=a.frameBorder,q=a.framePadding,
f=b[k]+q[k],b=a.getProp(n)-(b[l]+q[l]));return{shrinkWrap:c.shrinkWrap,sizeModel:c,initialBegin:f,begin:f,end:b,collapsed:e,horizontal:d.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:b-f,maxChildSize:0,hasMinMaxConstraints:(g||p)&&c.shrinkWrap,minSize:g,maxSize:p?h:1E9,bodyPosProp:this.owner.manageHeight?m:d.marginBegin,dockBegin:k,dockEnd:l,posProp:m,sizeProp:n,setSize:d.setSize,shrinkWrapDock:a[d.shrinkWrapDock],sizeModelName:d.sizeModel,dockedPixelsEnd:0}},dockChild:function(a,
b,c,d){c=a.dockedItems[b.shrinkWrap?c:d];d=c.target;var e=d.dock,f=b.sizeProp;d.ignoreParentFrame&&a.isCollapsingOrExpanding&&c.clearMarginCache();c.marginInfo||c.getMarginInfo();e===b.dockBegin?a=b.shrinkWrap?this.dockOutwardBegin(a,c,d,b):this.dockInwardBegin(a,c,d,b):e===b.dockEnd?a=b.shrinkWrap?this.dockOutwardEnd(a,c,d,b):this.dockInwardEnd(a,c,d,b):b.shrinkWrapDock?(a=c.getProp(f)+c.marginInfo[f],b.maxChildSize=Math.max(b.maxChildSize,a),a=0):a=this.dockStretch(a,c,d,b);c.dockedAt[b.posProp]=
a},dockInwardBegin:function(a,b,c,d){var e=d.begin,f=d.sizeProp,g=c.ignoreParentFrame,h,k;g&&(d.ignoreFrameBegin=b,k=c.dock,h=a.frameBorder[k],e-=h+a.framePadding[k]);c.overlay||(a=b.getProp(f)+b.marginInfo[f],d.begin+=a,g&&(d.begin-=h));return e},dockInwardEnd:function(a,b,c,d){var e=d.sizeProp,e=b.getProp(e)+b.marginInfo[e],e=d.end-e;c.overlay||(d.end=e);c.ignoreParentFrame&&(d.ignoreFrameEnd=b,b=a.frameBorder[c.dock],e+=b+a.framePadding[c.dock],d.end+=b);return e},dockOutwardBegin:function(a,b,
c,d){a=d.begin;var e=d.sizeProp;d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameBegin=b);c.overlay||(b=b.getProp(e)+b.marginInfo[e],a-=b,d.begin=a);return a},dockOutwardEnd:function(a,b,c,d){a=d.end;var e=d.sizeProp,e=b.getProp(e)+b.marginInfo[e];d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameEnd=b);c.overlay||(d.end=a+e,d.dockedPixelsEnd+=e);return a},dockStretch:function(a,b,c,d){var e=c.dock,f=d.sizeProp,g="top"===e||"bottom"===
e,e=a.frameBorder,h=b.offsets,k=a.framePadding,l=g?"left":"top";a=d.begin+h[l];!1!==c.stretch&&(g=d.end-a-h[g?"right":"bottom"],c.ignoreParentFrame&&(a-=k[l]+e[l],g+=k[f]+e[f]),c=b.marginInfo,g-=c[f],b[d.setSize](g));return a},finishAxis:function(a,b){if(isNaN(b.maxChildSize))return!1;var c=b.begin,d=b.end-c,e=b.collapsed,f=b.setSize,g=b.dockBegin,h=b.dockEnd,k=a.framePadding,l=a.frameBorder,m=l[g],n=a.framing,p=n&&n[g],g=e?0:k[g],q=b.sizeProp,r=b.ignoreFrameBegin,t=b.ignoreFrameEnd,u=a.bodyContext,
v=Math.max(m+g-p,0),w,y;b.shrinkWrap?(w=b.initialSize,n?(n=-c+m+g,c=n-p-v):(c=-c,n=c+g),e||(d+=k[q]),r?(n-=m,c-=m,r.dockedAt[b.posProp]-=g):d+=m,e||(t?t.dockedAt[b.posProp]+=k[h]:d+=l[h]),b.size=d,b.horizontal||this.owner.manageHeight||(y=!1)):(n?(n=0,c=c-p-v):(n=-m,c=c-g-m),w=d);b.delta=n;u[f](w,y);u.setProp(b.bodyPosProp,c);return!isNaN(d)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(a,
b){var c=b.axis,d=b.layout;a[c.sizeModelName].calculated&&(d=d.dockStretch(b.ownerContext,a,a.target,c),a.setProp(c.posProp,c.delta+d))},finishConstraints:function(a,b,c){var d=this.sizeModels,e=b.shrinkWrap,f=c.shrinkWrap,g=this.owner,h,k,l,m,n,p,q,r,t,u;e&&(p=b.size,q=b.collapsed?0:b.minSize,r=b.maxSize,t=b.maxChildSize,u=Math.max(p,t),u>r?(n=d.constrainedMax,l=r):u<q?(n=d.constrainedMin,l=q):p<t?(n=d.constrainedDock,g.dockConstrainedWidth=l=t):l=p);f&&(p=c.size,q=c.collapsed?0:c.minSize,r=c.maxSize,
t=c.maxChildSize,u=Math.max(p,t+p-c.initialSize),u>r?(m=d.constrainedMax,k=r):u<q?(m=d.constrainedMin,k=q):p<t?(m=d.constrainedDock,g.dockConstrainedHeight=k=t):(a.collapsedVert||g.manageHeight||(h=!1,a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)),k=p));if(n||m){if(n&&m&&n.constrainedMax&&m.constrainedByMin)return a.invalidate({widthModel:n}),!1;if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap)return a.invalidate({widthModel:n,heightModel:m}),!1}else this.invalidateAxes(a,
b,c);e&&(a.setWidth(l),n&&(a.widthModel=n));f&&(a.setHeight(k,h),m&&(a.heightModel=m));return!0},invalidateAxes:function(a,b,c){var d=this.beforeInvalidateShrinkWrapDock,e=this.afterInvalidateShrinkWrapDock,f=b.end-b.begin,g=c.initialSize,h=b.shrinkWrapDock&&b.maxChildSize<=f,k=c.shrinkWrapDock&&c.maxChildSize<=g,l,m,n,p,q,r,t,u;if(h||k)for(k&&(c.begin=c.initialBegin,c.end=c.begin+c.initialSize),l=a.dockedItems,n=0,m=l.length;n<m;++n)p=l[n],r=p.horizontal,t=null,h&&r?(u=b.sizeProp,q=f,t=b):k&&!r&&
(u=c.sizeProp,q=g,t=c),t&&(q-=p.getMarginInfo()[u],q!==p.props[u]&&p.invalidate({before:d,after:e,axis:t,ownerContext:a,layout:this}))},finishPositions:function(a,b,c){a=a.dockedItems;var d=a.length;b=b.delta;c=c.delta;var e,f;for(e=0;e<d;++e)f=a[e],f.setProp("x",b+f.dockedAt.x),f.setProp("y",c+f.dockedAt.y)},finishedLayout:function(a){var b=a.target;this.callParent(arguments);a.animatePolicy||(1===a.isCollapsingOrExpanding?b.afterCollapse(!1):2===a.isCollapsingOrExpanding&&b.afterExpand(!1))},getAnimatePolicy:function(a){var b,
c;1===a.isCollapsingOrExpanding?b=this.lastCollapsedState:2===a.isCollapsingOrExpanding&&(b=a.lastCollapsedState);if("left"===b||"right"===b)c=this.horizontalCollapsePolicy;else if("top"===b||"bottom"===b)c=this.verticalCollapsePolicy;return c},getDockedItems:function(a,b){var c=this,d="visual"===a,e=d?Ext.ComponentQuery.query("[rendered]",c.owner.dockedItems.items):c.owner.dockedItems.items,f=e&&e.length&&!1!==a,g,h,k,l;if(null==b)d=f&&!d?e.slice():e;else{d=[];k=0;for(l=e.length;k<l;++k)h=e[k].dock,
h="top"===h||"left"===h,(b?h:!h)&&d.push(e[k]);f=f&&d.length}f&&(g="render"===(a=a||"render"),Ext.Array.sort(d,function(b,d){var e,f;if(g&&(e=c.owner.dockOrder[b.dock])!==(f=c.owner.dockOrder[d.dock])&&!(e+f))return e-f;e=c.getItemWeight(b,a);f=c.getItemWeight(d,a);return void 0!==e&&void 0!==f?e-f:0}));return d||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a,b,c,d,e;if(this.owner.collapsed)e=this.owner.getCollapsedDockedItems();
else for(a=this.getDockedItems("visual"),b=a.length,e=[],d=0;d<b;d++)c=a[d],c.hidden||e.push(c);return e},measureContentWidth:function(a){a=a.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(a){a=a.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(a){var b=this.owner;1===a.isCollapsingOrExpanding?(b.reExpander&&b.reExpander.el.show(),b.addClsWithUI(b.collapsedCls),a.redo(!0)):2===a.isCollapsingOrExpanding&&(b.removeClsWithUI(b.collapsedCls),
a.bodyContext.redo())},renderChildren:function(){var a=this.getDockedItems(),b=this.getRenderTarget();this.handleItemBorders();this.renderItems(a,b)},renderItems:function(a,b){var c=this.owner,d={},e=a.length,f=c.body,g=!!c.frameSize,h=c.bodyContainer,k,l,m,n,p,q,r;if(e){for(q=0;q<e;q++)l=a[q],d[l.id]=l;l=this.getRenderTarget().dom.childNodes;m=l.length;for(q=p=0;q<m;++q){n=l[q];g?(r=n===f.dom||n===h,!r&&Ext.fly(n).contains(f)&&(r=!0,c.bodyContainer=n)):r=n===f.dom;if(r){k=q;break}d[n.id]&&++p}k-=
p;for(q=0;q<e;++q)l=a[q],c=k+q,"right"!==l.dock&&"bottom"!==l.dock||++c,l.rendered?this.isValidParent(l,b,c)||this.moveItem(l,b,c):this.renderItem(l,b,c)}},undoLayout:function(a){var b=this.owner;1===a.isCollapsingOrExpanding?(b.reExpander&&b.reExpander.el.hide(),b.removeClsWithUI(b.collapsedCls),a.undo(!0)):2===a.isCollapsingOrExpanding&&(b.addClsWithUI(b.collapsedCls),a.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},
stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a,b){var c=this.sizePolicy,d=this.owner.shrinkWrapDock,e;if(!1===a.stretch)return c.nostretch;e=a.dock;e="left"===e||"right"===e;d=!0===d?3:d||0;e?(c=c.vert,d&=1):(c=c.horz,d&=2);return d&&(b||(b=this.owner.getSizeModel()),
b[e?"height":"width"].shrinkWrap)?c.shrinkWrap:c.stretch},configureItem:function(a,b){this.callParent(arguments);a.addCls(this._itemCls);a.ignoreBorderManagement||a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){var b;this.callParent(arguments);a.removeCls(this._itemCls);a.ignoreBorderManagement||a.removeClsWithUI(this.getDockCls(a.dock));b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b);this.childrenChanged=!0},borderCollapseMap:{},
getBorderCollapseTable:function(){var a=this.borderCollapseMap,b=this.owner,c=b.baseCls,b=b.ui,d,a=a[c]||(a[c]={});d=a[b];d||(c+="-"+b+"-outer-border-",a[b]=d=[0,c+"l",c+"b",c+"bl",c+"r",c+"rl",c+"rb",c+"rbl",c+"t",c+"tl",c+"tb",c+"tbl",c+"tr",c+"trl",c+"trb",c+"trbl"]);return d}});
Ext.define("Ext.util.Memento",function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,d){d=d?d+c:c;var k=a[d];if(k||a.hasOwnProperty(d))Ext.isDefined(k)?b[c]=k:delete b[c]}function d(a,b,c,d,k){if(b)if(Ext.isArray(d)){var l,m=d.length;for(l=0;l<m;l++)a(b,c,d[l],k)}else a(b,c,d,k)}return{data:null,target:null,constructor:function(a,b){this.data={};a&&(this.target=a,b&&this.capture(b))},capture:function(b,c,g){d(a,this.data||(this.data={}),c||this.target,b,g)},
remove:function(a){d(b,this.data,null,a)},restore:function(a,b,g,h){d(c,this.data,g||this.target,a,h);!1!==b&&this.remove(a)},restoreAll:function(a,b){var c=b||this.target,d=this.data,k;a=!1!==a;for(k in d)if(d.hasOwnProperty(k)){var l=c,m=k,n=d[k];Ext.isDefined(n)?l[m]=n:delete l[m];a&&delete d[k]}}}}());
Ext.define("Ext.container.DockingContainer",{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,tabGuard:!1,tabGuardTpl:'<div id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" tabIndex="0" class="'+Ext.baseCSSPrefix+"tab-guard "+Ext.baseCSSPrefix+'tab-guard-{tabGuard}" ></div>',addDocked:function(a,b){var c=this.rendered,d=0,e=this.dockedItems,f=
e.getCount(),g,h;a=this.prepareItems(a);h=a.length;c&&Ext.suspendLayouts();for(b=void 0===b?f:Math.min(b,f);d<h;d++){g=a[d];g.dock=g.dock||"top";"left"!==g.dock&&"right"!==g.dock||this.horizontalDocks++;c=b+d;e.insert(c,g);f=!!g.instancedCmp;delete g.instancedCmp;g.onAdded(this,c,f);delete g.$initParent;if(this.onDockedAdd!==Ext.emptyFn)this.onDockedAdd(g);this.hasListeners.dockedadd&&this.fireEvent("dockedadd",this,g,c)}this.rendered&&(this.updateLayout(),Ext.resumeLayouts(!0));return a},destroyDockedItems:function(){var a=
this.dockedItems,b;if(a)for(;b=a.first();)this.removeDocked(b,!0)},doRenderDockedItems:function(a,b,c){var d=b.$comp,e=d.componentLayout,f=d.tabGuard&&d.getTpl("tabGuardTpl"),g;e.getDockedItems&&!b.$skipDockedItems&&(f&&!c&&(b.tabGuard="before",d.addChildEl(b.tabGuardEl="tabGuardBeforeEl"),f.applyOut(b,a)),(e=(g=e.getDockedItems("render",!c))&&e.getItemsRenderTree(g))&&Ext.DomHelper.generateMarkup(e,a),f&&c&&(b.tabGuard="after",d.addChildEl(b.tabGuardEl="tabGuardAfterEl"),f.applyOut(b,a)))},getDockedComponent:function(a){Ext.isObject(a)&&
(a=a.getItemId());return this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);a&&c.length&&(c=Ext.ComponentQuery.query(a,c));return c},getDockingRefItems:function(a,b){var c=a&&"*,* *",d=this.getDockedItems(c,!0);d.push.apply(d,b);c=this.getDockedItems(c,!1);d.push.apply(d,c);return d},initDockingItems:function(){var a=this.dockedItems;a&&a.isMixedCollection||(this.dockedItems=new Ext.util.ItemCollection,a&&this.addDocked(a))},insertDocked:function(a,
b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c,d;b=!0===b||!1!==b&&this.autoDestroy;if(!this.dockedItems.contains(a))return a;"left"!==a.dock&&"right"!==a.dock||this.horizontalDocks--;if(d=(c=this.componentLayout)&&this.rendered)c.onRemove(a);this.dockedItems.remove(a);a.onRemoved(a.destroying||b);this.onDockedRemove(a);b?a.destroy():d&&c.afterRemove(a);this.hasListeners.dockedremove&&this.fireEvent("dockedremove",this,a);this.destroying||
this.updateLayout();return a},moveDocked:function(a,b){this.rendered&&Ext.suspendLayouts();this.removeDocked(a,!1);a.dock=b;this.addDocked(a);this.rendered&&(a.frame&&(Ext.getDetachedBody().appendChild(a.el),a.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});
Ext.define("Ext.panel.Panel",{extend:Ext.container.Container,alias:"widget.panel",alternateClassName:"Ext.Panel",mixins:{docking:Ext.container.DockingContainer},childEls:["body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',Ext.baseCSSPrefix,'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',
' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,
headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:"destroy",closeToolText:"Close panel",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:void 0,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,
manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).addCls(a);return this},addTool:function(a){Ext.isArray(a)||(a=[a]);var b=this.header,c=a.length,d=this.tools,e,f;b&&b.isHeader||(b=null,d||(this.tools=
d=[]));for(e=0;e<c;e++)f=a[e],f.toolOwner=this,b?b.addTool(f):d.push(f);this.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(a){var b=this.collapsible,c=this.collapseTool;(this.collapsible=a)&&!b?(this.updateCollapseTool(),(c=this.collapseTool)&&c.show()):!a&&b&&c&&c.hide()},addUIClsToElement:function(a){var b=this.callParent(arguments);this.addBodyCls([Ext.baseCSSPrefix+a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},afterCollapse:function(a){var b=this.ariaEl.dom,
c=this.ownerLayout;this.isCollapsingOrExpanding=0;this.updateCollapseTool();a&&this.removeCls(Ext.baseCSSPrefix+"animating-size");c&&c.afterCollapse(this,a);b&&b.setAttribute("aria-expanded",!1);this.isAccordionPanel&&this.body.dom.setAttribute("aria-hidden",!0);this.setHiddenDocked();this.fireEvent("collapse",this)},afterExpand:function(a){var b=this.ariaEl.dom,c=this.ownerLayout;this.isCollapsingOrExpanding=0;this.updateCollapseTool();a&&this.removeCls(Ext.baseCSSPrefix+"animating-size");c&&c.afterExpand(this,
a);b&&b.setAttribute("aria-expanded",!0);this.isAccordionPanel&&this.body.dom.setAttribute("aria-hidden",!1);this.fireEvent("expand",this);this.fireHierarchyEvent("expand")},beforeDestroy:function(){Ext.destroy(this.placeholder,this.ghostPanel,this.dd,this.accordionKeyNav,this.defaultButtonKeyNav);this.destroyDockedItems();this.callParent()},destroy:function(){this.callParent();this.dockedItems=this.bodyContainer=null},beforeRender:function(){var a;this.getProtoBody();this.callParent();this.initTools();
(!this.preventHeader&&!1!==this.header||this.isViewportBorderChild)&&this.updateHeader();this.afterHeaderInit=!0;this.collapsed&&(this.isPlaceHolderCollapse()?this.hidden||(this.setHiddenState(!0),this.preventCollapseFire=!0,this.placeholderCollapse(),delete this.preventCollapseFire,a=this.collapsed,this.collapsed=!1):(this.beginCollapse(),this.addClsWithUI(this.collapsedCls)));a&&(this.collapsed=a)},getMemento:function(a){if(a&&"string"===typeof a)return a+="Memento",this[a]||(this[a]=new Ext.util.Memento(this))},
beginCollapse:function(){var a=this.lastBox,b=this.rendered,c=this.getMemento("collapse"),d=this.getSizeModel(),e=this.header;c.capture(["height","minHeight","width","minWidth"]);a&&c.capture(this.restoreDimension(),a,"last.");this.collapsedVertical()?(d.width.shrinkWrap&&(this.width=b?this.getWidth():this.width||this.minWidth||100),delete this.height,this.minHeight=0):this.collapsedHorizontal()&&(d.height.shrinkWrap&&(this.height=b?this.getHeight():this.height||this.minHeight||100),delete this.width,
this.minWidth=0);this.ownerCt&&this.ownerCt.getLayout().beginCollapse(this);this.isPlaceHolderCollapse()||!1===e||(e===(a=this.getReExpander())?(e.collapseImmune=!0,e.getInherited().collapseImmune=!0,e.addClsWithUI(this.getHeaderCollapsedClasses(e)),e.rendered&&e.updateFrame()):a.el&&(a.el.show(),a.hidden=!1));this.resizer&&this.resizer.disable()},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var a=this.lastBox,b=this.getMemento("collapse"),
c=this.restoreDimension(),d=this.header;b&&(b.restore(["minHeight","minWidth",c]),a&&b.restore(c,!0,a,"last."));this.ownerCt&&this.ownerCt.getLayout().beginExpand(this);this.isPlaceHolderCollapse()||!1===d||(d===(a=this.getReExpander())?(delete d.collapseImmune,delete d.getInherited().collapseImmune,d.removeClsWithUI(this.getHeaderCollapsedClasses(d)),d.rendered&&(d.expanding=!0,d.updateFrame(),delete d.expanding)):(a.hidden=!0,a.el.hide()));this.resizer&&this.resizer.enable()},bridgeToolbars:function(){function a(a,
c,d){Ext.isArray(a)?a={xtype:"toolbar",items:a}:a.xtype||(a.xtype="toolbar");a.dock=c;d&&(a.layout=Ext.applyIf(a.layout||{},{pack:{left:"start",center:"center"}[b.buttonAlign]||"end"}));return a}var b=this,c=[],d=b.minButtonWidth,e,f;b.tbar&&(c.push(a(b.tbar,"top")),b.tbar=null);b.bbar&&(c.push(a(b.bbar,"bottom")),b.bbar=null);b.buttons&&(b.fbar=b.buttons,b.buttons=null);b.fbar&&(e=a(b.fbar,"bottom",!0),e.ui="footer",d&&(f=e.defaults,e.defaults=function(a){var b=f||{},c=!a.xtype||a.isButton;!c&&(a=
Ext.ClassManager.getByAlias("widget."+a.xtype))&&(c=a.prototype.isButton);!c||"minWidth"in b||(b=Ext.apply({minWidth:d},b));return b}),c.push(e),b.fbar=null);b.lbar&&(c.push(a(b.lbar,"left")),b.lbar=null);b.rbar&&(c.push(a(b.rbar,"right")),b.rbar=null);b.dockedItems?b.dockedItems.isMixedCollection?b.addDocked(c):(Ext.isArray(b.dockedItems)||(b.dockedItems=[b.dockedItems]),b.dockedItems=b.dockedItems.concat(c)):b.dockedItems=c},close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},
collapse:function(a,b){var c=a||this.collapseDirection,d=this.ownerCt,e=this.ownerLayout,f=this.rendered;if(this.isCollapsingOrExpanding)return this;2>arguments.length&&(b=this.animCollapse);if(this.collapsed||!1===this.fireEvent("beforecollapse",this,a,b)||e&&e.onBeforeComponentCollapse&&!1===e.onBeforeComponentCollapse(this))return this;if(f&&d&&this.isPlaceHolderCollapse())return this.placeholderCollapse(a,b);this.collapsed=c;f&&this.beginCollapse();this.getInherited().collapsed=!0;this.fireHierarchyEvent("collapse");
f&&this.doCollapseExpand(1,b);return this},collapsedHorizontal:function(){var a=this.getCollapsed();return"left"===a||"right"===a},collapsedVertical:function(){var a=this.getCollapsed();return"top"===a||"bottom"===a},convertCollapseDir:function(a){return a.substr(0,1)},createGhost:function(a){var b=this,c=b.header,d=b.frame&&!b.alwaysFramed;return{xtype:"panel",hidden:!1,header:c?{titleAlign:c.getTitleAlign()}:null,ui:d?b.ui.replace(/-framed$/,""):b.ui,id:b.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,
draggable:!1,closable:!1,focusable:!1,floating:!0,shadow:!1,frame:d,shim:b.shim,alwaysFramed:b.alwaysFramed,overlapHeader:b.overlapHeader,headerPosition:b.getHeaderPosition(),titleRotation:b.getTitleRotation(),baseCls:b.baseCls,getRefOwner:function(){return b.getRefOwner()},cls:b.baseCls+"-ghost "+(a||"")}},createReExpander:function(a,b){var c="left"===a,d="right"===a,e=c||d,f=this.ownerCt,f=Ext.apply({hideMode:"offsets",title:this.getTitle(),titleAlign:this.getTitleAlign(),vertical:e,textCls:this.headerTextCls,
icon:this.getIcon(),iconCls:this.getIconCls(),iconAlign:this.getIconAlign(),glyph:this.getGlyph(),baseCls:this.self.prototype.baseCls+"-header",ui:this.ui,frame:this.frame&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,indicateDrag:this.draggable,collapseImmune:!0,ariaRole:this.ariaRole,preventRefocus:!0,ownerCt:f&&"placeholder"===this.collapseMode?f:this,ownerLayout:this.componentLayout,forceOrientation:!0,margin:this.margin},
b);"mini"===this.collapseMode&&(e?f.width=1:f.height=1);if(!this.hideCollapseTool){if(c||d&&this.isPlaceHolderCollapse())f.titlePosition=1;f.tools=[{xtype:"tool",type:"expand-"+this.getOppositeDirection(a),isDefaultExpandTool:!0,uiCls:["top"],handler:this.toggleCollapse,scope:this,tooltip:this.expandToolText}]}f=new Ext.panel.Header(f);f.addClsWithUI(this.getHeaderCollapsedClasses(f));f.expandTool=f.down("tool[isDefaultExpandTool=true]");return f},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},
doCollapseExpand:function(a,b){var c=this.animCollapse,d=this.ownerLayout;this.animCollapse=b;this.isCollapsingOrExpanding=a;b&&this.addCls(Ext.baseCSSPrefix+"animating-size");if(d&&!b)d.onContentChange(this);else this.updateLayout({isRoot:!0});this.animCollapse=c;return this},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},expand:function(a){var b=this.ownerLayout,c=this.rendered;if(this.isCollapsingOrExpanding)return this;arguments.length||(a=this.animCollapse);if(!this.collapsed&&
!this.floatedFromCollapse||!1===this.fireEvent("beforeexpand",this,a)||b&&b.onBeforeComponentExpand&&!1===b.onBeforeComponentExpand(this))return this;delete this.getInherited().collapsed;if(c&&this.isPlaceHolderCollapse())return this.placeholderExpand(a);this.restoreHiddenDocked();c&&this.beginExpand();this.collapsed=!1;this.rendered&&this.doCollapseExpand(2,a);return this},findReExpander:function(a){var b=Ext.Component,c=this.dockedItems.items,d=c.length;if("mini"!==this.collapseMode)switch(a){case b.DIRECTION_TOP:case b.DIRECTION_BOTTOM:for(b=
0;b<d;b++)if(a=c[b],!a.hidden&&a.isHeader&&(!a.dock||"top"===a.dock||"bottom"===a.dock))return a;break;case b.DIRECTION_LEFT:case b.DIRECTION_RIGHT:for(b=0;b<d;b++)if(a=c[b],!a.hidden&&a.isHeader&&("left"===a.dock||"right"===a.dock))return a;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";}},floatCollapsedPanel:function(){var a=this,b=a.placeholder,c=b.getSize(),d=Ext.panel.Panel.floatCls,e=a.collapsed,f=a.ownerCt||a,g;if(!a.isSliding)if(a.el.hasCls(d))a.slideOutFloatedPanel();
else{a.isSliding=!0;b.el.hide();b.hidden=!0;a.el.show();a.setHiddenState(!1);a.collapsed=!1;f.updateLayout();b.el.show();b.hidden=!1;a.el.hide();a.setHiddenState(!0);a.collapsed=e;f.updateLayout();f=a.getBox(!1,!0);a.slideOutTask=a.slideOutTask||new Ext.util.DelayedTask(a.slideOutFloatedPanel,a);if(Ext.supports.Touch)Ext.on("mousedown",g=function(b){b.within(a.el)||(Ext.un("mousedown",g),a.slideOutFloatedPanel())});a.placeholderListener||(a.placeholderListener=b.on({resize:a.onPlaceholderResize,scope:a,
destroyable:!0}));b.el.on("mouseleave",a.onMouseLeaveFloated,a);a.el.on("mouseleave",a.onMouseLeaveFloated,a);b.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.addCls(d);a.floated=e;a.collapseTool&&a.collapseTool.el.hide();switch(a.collapsed){case "top":a.width=c.width;a.setLocalXY(f.x,f.y+c.height);break;case "right":a.height=c.height;a.setLocalXY(f.x-c.width,f.y);break;case "bottom":a.width=c.width;a.setLocalXY(f.x,f.y-c.height);break;case "left":a.height=
c.height,a.setLocalXY(f.x+c.width,f.y)}b=a.convertCollapseDir(a.collapsed);a.floatedFromCollapse=a.collapsed;a.collapsed=!1;a.setHiddenState(!1);a.el.slideIn(b,{preserveScroll:!0,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.isSliding=!1;a.fireEvent("float",a)}}})}},onPlaceholderResize:function(a,b,c){var d=this.getBox(!1,!0);a=a.getBox(!1,!0);switch(this.floated){case "top":this.width=b;this.setLocalY(a.y+a.height);break;case "right":this.height=
c;this.setLocalX(a.x-d.width);break;case "bottom":this.width=b;this.setLocalY(a.y-d.height);break;case "left":this.height=c,this.setLocalX(a.x+a.width)}this.updateLayout({isRoot:!0})},getAnimationProps:function(){var a=this.animCollapse,b;b=this.callParent();"number"===typeof a&&(b.duration=a);return b},getCollapsed:function(){return!0===this.collapsed?this.collapseDirection:this.collapsed},getCollapsedDockedItems:function(){return!1===this.header||"placeholder"===this.collapseMode?this.emptyArray:
[this.getReExpander()]},getComponent:function(a){var b=this.callParent(arguments);void 0!==b||Ext.isNumber(a)||(b=this.getDockedComponent(a));return b},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(a){var b=this.collapsedCls,c;c=[b,b+"-"+a.getDockName()];this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&c.push(b+"-border-"+a.getDockName());return c},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},
this.keys)))},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getPlaceholder:function(a){a=a||this.collapseDirection;var b=null,c=this.placeholder,d=this.floatable,e=this.titleCollapse;if(!c){if(d||this.collapsible&&e)b={click:{fn:!e&&d?this.floatCollapsedPanel:this.toggleCollapse,element:"el",scope:this}};
this.placeholder=c=Ext.widget(this.createReExpander(a,{id:this.id+"-placeholder",listeners:b}))}c.placeholderFor||(c.isComponent||(this.placeholder=c=this.lookupComponent(c)),Ext.applyIf(c,{margin:this.margin,placeholderFor:this,synthetic:!0}),c.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+a+"-placeholder",this.collapsedCls]));return c},getProtoBody:function(){var a=this.protoBody;a||(this.protoBody=a=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,
clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0}));return a},getReExpander:function(a){a=a||this.collapseDirection;var b=this.reExpander||this.findReExpander(a);this.expandDirection=this.getOppositeDirection(a);b||(this.reExpander=b=this.createReExpander(a,{dock:a,cls:Ext.baseCSSPrefix+"docked "+this.baseCls+"-"+this.ui+"-collapsed",isCollapsedExpander:!0}),this.dockedItems.insert(0,b));return b},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},
getState:function(){var a=this.callParent()||{},b=this.collapsed,c=this.floated;c&&(this.collapsed=c);a=this.addPropertyToState(a,"collapsed");c&&(this.collapsed=b);this.getCollapsed()&&(b=this.getMemento("collapse").data,a=this.addPropertyToState(a,"collapsed",b),this.collapsedVertical()?(delete a.height,b&&(a=this.addPropertyToState(a,"height",b.height))):(delete a.width,b&&(a=this.addPropertyToState(a,"width",b.width))));return a},applyState:function(a){var b,c;if(a){if(c=a.collapsed)b=this.getMemento("collapse"),
Ext.Object.merge(b.data,c),a.collapsed=!0;this.callParent(arguments)}},ghost:function(a){var b=this.ghostPanel,c=this.getBox(),d=this.header,e,f;b?b.el.show():(this.ghostPanel=b=Ext.widget(this.createGhost(a)),b.el.dom.removeAttribute("tabIndex"));b.setHiddenState(!1);b.floatParent=this.floatParent;b.toFront();if(d&&!this.preventHeader){a=b.header;a.suspendLayouts();e=a.query("tool");for(f=e.length;f--;)a.remove(e[f]);a.setTitlePosition(0);b.addTool(this.ghostTools());b.setTitle(this.getTitle());
a.setTitlePosition(d.titlePosition);(d=this.getIconCls())?b.setIconCls(d):(d=this.getIcon())?b.setIcon(d):(d=this.getGlyph())&&b.setGlyph(d);a.addCls(Ext.baseCSSPrefix+"header-ghost");a.resumeLayouts()}b.setPagePosition(c.x,c.y);b.setSize(c.width,c.height);this.el.hide();return b},ghostTools:function(){var a=[],b=this.header,b=b?b.query("tool[hidden=false]"):[],c,d,e;if(b.length)for(c=0,d=b.length;c<d;c++)e=b[c],a.push({type:e.type,tooltip:e.tooltip});else a=[{type:"placeholder"}];return a},initBodyBorder:function(){this.frame&&
this.bodyBorder&&(Ext.isNumber(this.bodyBorder)||(this.bodyBorder=1),this.getProtoBody().setStyle("border-width",this.unitizeBox(this.bodyBorder)))},initBodyStyles:function(){var a=this.getProtoBody();void 0!==this.bodyPadding&&(this.layout.managePadding?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(!0===this.bodyPadding?5:this.bodyPadding)));this.initBodyBorder()},initBorderProps:function(){this.frame&&this.border&&void 0===this.bodyBorder&&(this.bodyBorder=!1);this.frame&&this.border&&
(!1===this.bodyBorder||0===this.bodyBorder)&&(this.manageBodyBorders=!0)},initComponent:function(){this.collapsible&&this.addStateEvents(["expand","collapse"]);this.unstyled&&this.setUI("plain");this.frame&&this.setUI(this.ui+"-framed");this.bridgeToolbars();this.initBorderProps();this.callParent();this.collapseDirection=this.collapseDirection||this.getHeaderPosition()||Ext.Component.DIRECTION_TOP;this.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){this.callParent();this.initDockingItems()},
initRenderData:function(){var a=this.callParent();this.initBodyStyles();this.protoBody.writeTo(a);delete this.protoBody;this.headingText&&(a.headingText=this.headingText,this.addChildEl("headingEl"));this.bodyAriaRole&&(a.bodyAriaAttributes={role:this.bodyAriaRole},!this.ariaStaticRoles[this.bodyAriaRole]&&this.bodyAriaRenderAttributes&&Ext.apply(a.bodyAriaAttributes,this.bodyAriaRenderAttributes));return a},calculateConstrainedPosition:function(a,b,c,d){var e=this.header,f;this.constrainHeader&&
(f=e.lastBox,d?d=e.vertical?[f?f.width:d[0],d[1]]:[d[0],f?f.height:d[1]]:f&&(d=[f.width,f.height]),e=this.floatParent,a=a||this.constrainTo||(e?e.getTargetEl():null)||this.container||this.el.parent());return this.callParent([a,b,c,d])},initTools:function(){var a=this.tools,b,c;this.tools=[];for(b=a&&a.length;b;)--b,this.tools[b]=c=a[b],c.toolOwner=this;!this.collapsible||this.hideCollapseTool||!1===this.header||this.preventHeader||(this.updateCollapseTool(),this.collapseFirst&&this.tools.unshift(this.collapseTool));
this.addTools();this.pinnable&&this.initPinnable();this.closable&&(this.addClsWithUI("closable"),a={xtype:"tool",type:"close",scope:this,handler:this.close,tooltip:this.closeToolText},this.isAccordionPanel&&(a.focusable=!1,a.ariaRole="presentation"),this.addTool(a));this.collapseTool&&!this.collapseFirst&&this.addTool(this.collapseTool)},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},isPlaceHolderCollapse:function(){return"placeholder"===this.collapseMode},isVisible:function(a){return this.collapsed&&
this.placeholder?this.placeholder.isVisible(a):this.callParent(arguments)},onBoxReady:function(){var a;this.callParent(arguments);this.collapsed&&this.setHiddenDocked();this.isAccordionPanel&&(this.ariaEl=this.header.titleCmp.el,this.ariaEl.dom.setAttribute("aria-expanded",!this.collapsed),this.body.dom.setAttribute("aria-labelledby",this.header.titleCmp.id),this.body.dom.setAttribute("aria-hidden",!!this.collapsed),this.accordionKeyNav=new Ext.util.KeyNav({target:this.header.titleCmp.el,scope:this,
left:this.navigateAccordion,right:this.navigateAccordion,left:this.navigateAccordion,up:this.navigateAccordion,down:this.navigateAccordion,home:this.navigateAccordion,end:this.navigateAccordion,space:this.toggleCollapse,enter:this.toggleCollapse,del:{alt:!0,fn:this.maybeClose}}));this.defaultButton&&(a=this.defaultButtonTarget?this[this.defaultButtonTarget]:this.body,this.defaultButtonKeyNav=new Ext.util.KeyNav({target:a,scope:this,defaultEventAction:"stopEvent",enter:this.fireDefaultButton}))},onHide:function(a,
b,c){var d=this.dd;this.floatedFromCollapse&&this.slideOutFloatedPanel(!0);this.draggable&&d&&d.endDrag();this.collapsed&&this.placeholder?(this.splitter&&(Ext.suspendLayouts(),this.splitter.hide(),Ext.resumeLayouts()),this.placeholder.hide()):this.callParent([a,b,c])},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onRemoved:function(a){this.placeholder&&!a&&this.ownerCt.remove(this.placeholder,!1);this.callParent(arguments)},
onShow:function(){this.collapsed&&this.isPlaceHolderCollapse()?(this.splitter&&(Ext.suspendLayouts(),this.splitter.show(),Ext.resumeLayouts()),this.setHiddenState(!0),this.placeholderCollapse()):this.callParent(arguments)},placeholderCollapse:function(a,b){var c=this.ownerCt,d=a||this.collapseDirection,e=Ext.panel.Panel.floatCls,f=this.collapseTool,g=this.getPlaceholder(d),h;this.isCollapsingOrExpanding=1;this.setHiddenState(!0);this.collapsed=d;g.rendered?(g.el.dom.parentNode!==this.el.dom.parentNode&&
this.el.dom.parentNode.insertBefore(g.el.dom,this.el.dom),g.hidden=!1,g.setHiddenState(!1),g.el.show(),c.updateLayout()):c.insert(c.items.indexOf(this),g);this.rendered?(f&&Ext.ComponentManager.getActiveComponent()===f&&(this.focusPlaceholderExpandTool=!0),this.el.setVisibilityMode(this.placeholderCollapseHideMode),b?(this.el.addCls(e),g.el.hide(),h=this.convertCollapseDir(d),this.el.slideOut(h,{preserveScroll:!0,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{scope:this,afteranimate:function(){this.el.removeCls(e);
this.placeholder.el.show().setStyle("display","none").slideIn(h,{easing:"linear",duration:100,listeners:{afteranimate:this.doPlaceholderCollapse,scope:this}})}}})):(this.el.hide(),this.doPlaceholderCollapse())):(this.isCollapsingOrExpanding=0,this.preventCollapseFire||this.fireEvent("collapse",this));return this},doPlaceholderCollapse:function(){var a=this.placeholder,b=a.expandTool;this.focusPlaceholderExpandTool&&b?b.focus():a.focus();this.focusPlaceholderExpandTool=!1;a.setHiddenState(!1);a.ariaEl.dom.setAttribute("aria-hidden",
!1);a.ariaEl.dom.setAttribute("aria-expanded",!1);this.ariaEl.dom.setAttribute("aria-hidden",!0);this.ariaEl.dom.setAttribute("aria-expanded",!1);this.isCollapsingOrExpanding=0;this.fireEvent("collapse",this)},placeholderExpand:function(a){var b=this.collapsed,c=this.placeholder.expandTool,d=Ext.panel.Panel.floatCls,e=this.ownerLayout?this.ownerLayout.centerRegion:null,f;Ext.Component.layoutSuspendCount&&(a=!1);this.floatedFromCollapse&&(f=this.getPosition(!0),this.slideOutFloatedPanelBegin(),this.slideOutFloatedPanelEnd(),
this.floated=!1);c&&Ext.ComponentManager.getActiveComponent()===c&&(this.focusHeaderCollapseTool=!0,c._ariaRole=c.ariaEl.dom.getAttribute("role"),c._ariaLabel=c.ariaEl.dom.getAttribute("aria-label"),c.ariaEl.dom.setAttribute("role","presentation"),c.ariaEl.dom.removeAttribute("aria-label"));a?(Ext.suspendLayouts(),this.placeholder.hide(),this.el.show(),this.collapsed=!1,this.setHiddenState(!1),e&&!f&&(e.hidden=!0),Ext.resumeLayouts(!0),e.hidden=!1,this.el.addCls(d),this.isCollapsingOrExpanding=2,
f?(b=this.getXY(),this.setLocalXY(f[0],f[1]),this.setXY([b[0],b[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{scope:this,afteranimate:function(){this.el.removeCls(d);this.isCollapsingOrExpanding=0;this.fireEvent("expand",this)}}})):(this.el.hide(),this.placeholder.el.show(),this.placeholder.hidden=!1,this.setHiddenState(!1),this.el.slideIn(this.convertCollapseDir(b),{preserveScroll:!0,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:this.doPlaceholderExpand,
scope:this}}))):(this.floated=this.collapsed=!1,this.doPlaceholderExpand(!0));return this},doPlaceholderExpand:function(a){var b=this.placeholder,c=this.collapseTool,d=b.expandTool;a&&(Ext.suspendLayouts(),this.show());this.el.removeCls(Ext.panel.Panel.floatCls);b.hide();a?Ext.resumeLayouts(!0):this.updateLayout();this.focusHeaderCollapseTool&&c&&c.focus();this.focusHeaderCollapseTool=!1;b.ariaEl.dom.setAttribute("aria-expanded",!0);this.ariaEl.dom.setAttribute("aria-expanded",!0);d&&d._ariaRole&&
(d.ariaEl.dom.setAttribute("role",d._ariaRole),d.ariaEl.dom.setAttribute("aria-label",d._ariaLabel),d._ariaRole=d._ariaLabel=null);this.isCollapsingOrExpanding=0;this.fireEvent("expand",this)},remove:function(a,b){var c=this.dockedItems;c&&c.contains(a)?this.removeDocked(a,b):this.callParent([a,b]);return a},removeBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).removeCls(a);return this},removeUIClsFromElement:function(a){var b=this.callParent(arguments);this.removeBodyCls([Ext.baseCSSPrefix+
a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},restoreDimension:function(){var a=this.collapseDirection;return"top"===a||"bottom"===a?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,!0)},setBodyStyle:function(a,b){var c=this.rendered?this.body:this.getProtoBody();Ext.isFunction(a)&&(a=a());1===arguments.length?(Ext.isString(a)&&(a=Ext.Element.parseStyles(a)),c.setStyle(a)):c.setStyle(a,b);return this},setBorder:function(a,
b){if(!b){var c=this.header;a=a?!0===a?"1px":this.unitizeBox(a):0;c&&(c.isHeader?c.setBorder(a):c.border=a);this.rendered&&!1!==this.bodyBorder&&this.body.setStyle("border-width",a);this.updateLayout();this.border=a}},setCollapsed:function(a){this[a?"collapse":"expand"]()},setDockedItemsVisibility:function(a,b){var c=this.getDockedItems(),d=c.length,e=0,f,g;for(!1!==this.header&&(g=this.getReExpander());e<d;e++)(f=c[e])&&f!==g&&f.el&&a.add(f.el);a.setStyle("visibility",b?"":"hidden");a.clear()},setGlyph:function(a){var b=
this.glyph,c=this.header,d=this.placeholder;a!==b&&(this.glyph=a,c?c.isHeader?c.setGlyph(a):c.glyph=a:(this.rendered||this.afterHeaderInit)&&this.updateHeader(),d&&d.setGlyph&&d.setGlyph(a),this.fireEvent("glyphchange",this,a,b))},setIcon:function(a){var b=this.icon,c=this.header,d=this.placeholder;a!==b&&(this.icon=a,c?c.isHeader?c.setIcon(a):c.icon=a:(this.rendered||this.afterHeaderInit)&&this.updateHeader(),d&&d.setIcon&&d.setIcon(a),this.fireEvent("iconchange",this,a,b))},setIconCls:function(a){var b=
this.iconCls,c=this.header,d=this.placeholder;a!==b&&(this.iconCls=a,c?c.isHeader?c.setIconCls(a):c.iconCls=a:(this.rendered||this.afterHeaderInit)&&this.updateHeader(),d&&d.setIconCls&&d.setIconCls(a),this.fireEvent("iconclschange",this,a,b))},setTitle:function(a){var b=this.title,c=this.header,d=this.reExpander,e=this.placeholder;a!==b&&(this.title=a,c?c.isHeader&&c.setTitle(a):(this.rendered||this.afterHeaderInit)&&this.updateHeader(),this.headingEl&&this.headingEl.setHtml(a),d&&d.setTitle(a),
e&&e.setTitle&&e.setTitle(a),this.fireEvent("titlechange",this,a,b))},setHiddenDocked:function(){var a=new Ext.dom.CompositeElement;this.hiddenOnCollapse.add(this.body);a.add(this.body);this.setDockedItemsVisibility(a,!1)},setUI:function(a){this.callParent(arguments);this.header&&this.header.rendered&&this.header.setUI(a)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var a=this.collapseTool;!a&&this.collapsible&&
(this.collapseDirection=this.collapseDirection||this.getHeaderPosition()||"top",a={xtype:"tool",handler:this.toggleCollapse,scope:this},this.isAccordionPanel&&(a.focusable=!1,a.ariaRole="presentation"),this.collapseTool=this.expandTool=a=Ext.widget(a));a&&(this.collapsed&&!this.isPlaceHolderCollapse()?(a.setType("expand-"+this.getOppositeDirection(this.collapseDirection)),a.setTooltip(this.expandToolText)):(a.setType("collapse-"+this.collapseDirection),a.setTooltip(this.collapseToolText)))},navigateAccordion:function(a){var b=
this.accordionWrapOver,c;switch(a.getKey()){case a.UP:case a.LEFT:c=this.prev("[isAccordionPanel]");!c&&b&&(c=this.ownerCt.child("[isAccordionPanel]:last"));break;case a.DOWN:case a.RIGHT:c=this.next("[isAccordionPanel]");!c&&b&&(c=this.ownerCt.child("[isAccordionPanel]:first"));break;case a.HOME:c=this.ownerCt.child("[isAccordionPanel]:first");break;case a.END:c=this.ownerCt.child("[isAccordionPanel]:last");break;case a.DELETE:c=this.prev("[isAccordionPanel]")||this.next("[isAccordionPanel]"),c||
(a.doNotClose=!0)}c&&c!==this&&c.header.titleCmp.focus()},fireDefaultButton:function(a){var b;if((b=(this.lookupReferenceHolder(!1)||this).lookupReference(this.defaultButton))&&b.click)return b.click(a),a.stopEvent(),!1},maybeClose:function(a){this.closable&&(this.navigateAccordion(a),a.doNotClose||this.close())},onFocusEnter:function(a){var b=this.ariaEl.dom;this.callParent([a]);this.isAccordionPanel&&b&&b.setAttribute("aria-selected",!0)},onFocusLeave:function(a){var b=this.ariaEl.dom;this.callParent([a]);
this.isAccordionPanel&&b&&b.removeAttribute("aria-selected")},updateHeaderPosition:function(a){var b=this.header;b&&b.isHeader&&b.setDock(a)},updateIconAlign:function(a){var b=this.header;b&&b.isHeader&&b.setIconAlign(a)},updateTitleAlign:function(a){var b=this.header;b&&b.isHeader&&b.setTitleAlign(a)},updateTitleRotation:function(a){var b=this.header;b&&b.isHeader&&b.setTitleRotation(a)},unghost:function(a,b,c){var d=this.ghostPanel;d&&(!1!==a&&(this.el.show(),!1!==b&&(this.setPagePosition(d.getXY()),
"offsets"===this.hideMode&&delete this.el.hideModeStyles),c&&this.focus(!1,10)),d.el.hide(),d.setHiddenState(!0))},updateHeader:function(a){var b=this.header,c=this.getTitle(),d=this.tools,e=this.getIcon(),f=this.getGlyph(),g=this.getIconCls(),h=f||e||g,k=this.ariaEl.dom,l=this.getHeaderPosition(),l="left"===l||"right"===l;Ext.isObject(b)||!1!==b&&(a||c||h||d&&d.length||this.collapsible&&!this.titleCollapse)?(b&&b.isHeader?b.show():(b=this.header=Ext.widget(Ext.merge({xtype:"header",title:c,titleAlign:this.getTitleAlign(),
vertical:l,dock:this.getHeaderPosition()||"top",titleRotation:this.getTitleRotation(),textCls:this.headerTextCls,iconCls:g,iconAlign:this.getIconAlign(),icon:e,glyph:f,baseCls:this.baseCls+"-header",tools:d,ui:this.ui,id:this.id+"_header",overCls:this.headerOverCls,indicateDrag:this.draggable,frame:(this.frame||this.alwaysFramed)&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,isAccordionHeader:this.isAccordionPanel,
ownerCt:this,synthetic:!0,listeners:this.collapsible&&this.titleCollapse?{click:this.toggleCollapse,scope:this}:null},this.header)),this.addDocked(b,0)),this.isAccordionPanel?k?(k.setAttribute("aria-labelledby",b.id+"-title"),k.removeAttribute("aria-label")):(a=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),a["aria-labelledby"]=b.id+"-title",delete a["aria-label"]):c?"tabpanel"!==this.ariaRole&&(k?(k.setAttribute("aria-labelledby",b.id+"-title-textEl"),k.removeAttribute("aria-label")):
(a=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),a["aria-labelledby"]=b.id+"-title-textEl",delete a["aria-label"])):this.ariaRenderAttributes&&delete this.ariaRenderAttributes["aria-label"]):(b&&b.hide(),c=Ext.util.Format.stripTags(c),k?k.hasAttribute("aria-labelledby")||(c?k.setAttribute("aria-label",c):k.removeAttribute("aria-label")):(a=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),a["aria-labelledby"]||(c?a["aria-label"]=c:delete a["aria-label"])));this.isViewportBorderChild&&
!this.hasOwnProperty("ariaRole")&&(this.ariaRole="region");c&&"region"===this.ariaRole?(b=this.headingEl)?b.setHtml(c):this.rendered?(this.headingEl=Ext.dom.Helper.insertFirst(this.el,{tag:"div",id:this.id+"-headingEl",role:"heading","class":Ext.baseCSSPrefix+"hidden-clip",style:"height:0",html:c},!0),k.removeAttribute("aria-label"),k.setAttribute("aria-labelledby",this.id+"-headingEl")):(this.headingText=this.title,a=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),a["aria-labelledby"]=
this.id+"-headingEl",delete a["aria-label"]):this.headingEl&&(this.headingEl.destroy(),this.headingEl=null)},statics:{floatCls:Ext.baseCSSPrefix+"border-region-slide-in"},privates:{addUIToElement:function(){this.callParent(arguments);this.addBodyCls(this.baseCls+"-body-"+this.ui)},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},initDraggable:function(){this.simpleDrag?
this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initResizable:function(){this.callParent(arguments);this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var a;this.header||this.updateHeader(!0);if(this.header){a=Ext.applyIf({el:this.el,delegate:"#"+this.header.id},this.draggable);if(this.constrain||this.constrainHeader)a.constrain=this.constrain,a.constrainDelegate=this.constrainHeader,a.constrainTo=this.constrainTo||this.container;
a=this.dd=new Ext.util.ComponentDragger(this,a);this.relayEvents(a,["dragstart","drag","dragend"]);this.maximized&&a.disable()}},removeUIFromElement:function(){this.callParent(arguments);this.removeBodyCls(this.baseCls+"-body-"+this.ui)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)},slideOutFloatedPanel:function(a){var b=this,c=b.el,d,e=function(){b.slideOutFloatedPanelEnd();b.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")};if(!b.isSliding&&!b.destroyed){b.isSliding=
!0;b.floated=!1;b.slideOutFloatedPanelBegin();if(a)return c.hide(),e();"string"===typeof b.collapsed&&(d=b.convertCollapseDir(b.collapsed));c.slideOut(d,{preserveScroll:!0,duration:Ext.Number.from(b.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:e}})}},slideOutFloatedPanelBegin:function(){var a=this.placeholder.el,b=this.el;this.collapsed=this.floatedFromCollapse;this.setHiddenState(!0);this.floatedFromCollapse=null;a.un("mouseleave",this.onMouseLeaveFloated,this);b.un("mouseleave",
this.onMouseLeaveFloated,this);a.un("mouseenter",this.onMouseEnterFloated,this);b.un("mouseenter",this.onMouseEnterFloated,this)},slideOutFloatedPanelEnd:function(a){this.collapseTool&&this.collapseTool.el.show();this.slideOutTask.cancel();this.isSliding=!1;a||this.fireEvent("unfloat",this)}}},function(){var a=this.prototype;a.animCollapse=Ext.enableFx;a.placeholderCollapseHideMode=Ext.Element.VISIBILITY});
Ext.define("Ext.plugin.Responsive",{extend:Ext.mixin.Responsive,alias:"plugin.responsive",pluginId:"responsive",isPlugin:!0,constructor:function(a){var b=a.cmp;a=Ext.apply({responsiveConfig:b.responsiveConfig,responsiveFormulas:b.responsiveFormulas},a);delete a.cmp;this.cmp=b;this.initConfig(a);this.transformed&&(b.setConfig(this.transformed),this.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(a){var b=this.callParent([a]);b.ptype&&(b=Ext.apply({},b),delete b.ptype);
this.transformed=b;a=Ext.apply({},a);delete a.ptype;delete a.responsiveConfig;delete a.responsiveFormulas;return a},updateResponsiveState:function(){var a=this.getResponsiveState();this.cmp.setConfig(a)}}});
Ext.define("Ext.plugin.Viewport",{extend:Ext.plugin.Responsive,alias:"plugin.viewport",setCmp:function(a){(this.cmp=a)&&!a.isViewport&&(this.decorate(a),a.renderConfigs&&a.flushRenderConfigs(),a.setupViewport())},statics:{decorate:function(a){Ext.applyIf(a.prototype||a,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"});Ext.override(a,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var a=Ext.layout.SizeModel.configured;
return a.pairsByHeightOrdinal[a.ordinal]},handleViewportResize:function(){var a=Ext.dom.Element,c=a.getViewportWidth(),a=a.getViewportHeight();c===this.width&&a===this.height||this.setSize(c,a)},setupViewport:function(){var a=document.body,c=Ext.scroll.DomScroller;c.document&&(c.document=c.document.destroy());a.id||(a.id=this.id);a.setAttribute("data-componentid",this.id);this.ariaStaticRoles[this.ariaRole]||a.setAttribute("role",this.ariaRole);a=this.el=Ext.getBody();Ext.fly(document.documentElement).addCls(this.viewportCls);
a.setHeight=a.setWidth=Ext.emptyFn;a.dom.scroll="no";this.allowDomMove=!1;this.renderTo=a;Ext.supports.Touch&&this.addMeta("apple-mobile-web-app-capable","yes");Ext.getScrollbarSize();this.width=this.height=void 0;this.initialViewportHeight=Ext.Element.getViewportHeight();this.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(a){Ext.supports.Touch&&(document.body.scrollTop=0);this.callParent([a])},onRender:function(){this.callParent(arguments);this.width=this.initialViewportWidth;
this.height=this.initialViewportHeight;this.initialViewportWidth=this.initialViewportHeight=null;Ext.supports.TouchEvents&&this.mon(Ext.getDoc(),{touchmove:function(a){a.preventDefault()},translate:!1,delegated:!1})},initInheritedState:function(a,c){var d=Ext.rootInheritedState;a!==d?this.initInheritedState(this.inheritedState=d,this.inheritedStateInner=Ext.Object.chain(d)):this.callParent([a,c])},beforeDestroy:function(){var a=Ext.rootInheritedState,c;for(c in a)"rtl"!==c&&delete a[c];this.removeUIFromElement();
this.el.removeCls(this.baseCls);Ext.fly(document.body.parentNode).removeCls(this.viewportCls);this.callParent()},addMeta:function(a,c){var d=document.createElement("meta");d.setAttribute("name",a);d.setAttribute("content",c);Ext.getHead().appendChild(d)},privates:{applyTargetCls:function(a){this.el.addCls(a)},disableTabbing:function(){var a=this.el;a&&a.saveTabbableState({skipSelf:!0})},enableTabbing:function(){var a=this.el;a&&a.restoreTabbableState(!0)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();
this.callParent()}}},function(a){a.prototype.decorate=a.decorate});Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,mixins:[Ext.mixin.Responsive],alias:"widget.viewport",alternateClassName:"Ext.Viewport",ariaRole:"application",privates:{updateResponsiveState:function(){this.handleViewportResize();this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.decorate(this)});
Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(a){var b=0,c,d,e,f,g;this.callParent(arguments);e=a.childItems;g=e.length;for(f=0;f<g;++f)if(d=e[f],c=d.target.anchorSpec)if(d.widthModel.calculated&&c.right&&(b|=1),d.heightModel.calculated&&c.bottom&&(b|=2),3===b)break;a.anchorDimensions=
b},calculateItems:function(a,b){var c=a.childItems,d=c.length,e=b.gotHeight,f=b.gotWidth,g=b.height,h=b.width,k=(f?1:0)|(e?2:0),l=a.anchorDimensions,m,n,p,q,r;if(!l)return!0;for(q=0;q<d;q++)n=c[q],p=n.getMarginInfo(),m=n.target.anchorSpec,f&&n.widthModel.calculated&&(r=m.right(h)-p.width,r=this.adjustWidthAnchor(r,n),n.setWidth(r)),e&&n.heightModel.calculated&&(m=m.bottom(g)-p.height,m=this.adjustHeightAnchor(m,n),n.setHeight(m));return(k&l)===l},anchorFactory:{offset:function(a){return function(b){return b+
a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&"none"!==a){var d=this.anchorFactory;if(this.parseAnchorRE.test(a))return d.standard(c-b);if(-1!==a.indexOf("%"))return d.ratio(.01*parseFloat(a.replace("%","")));a=parseInt(a,10);if(!isNaN(a))return d.offset(a)}return null},adjustWidthAnchor:function(a,b){return a},adjustHeightAnchor:function(a,b){return a},configureItem:function(a){var b=this.owner,
c=a.anchor,d,e;this.callParent(arguments);a.anchor||!a.items||Ext.isNumber(a.width)||(a.anchor=c=this.defaultAnchor);b.anchorSize?"number"===typeof b.anchorSize?d=b.anchorSize:(d=b.anchorSize.width,e=b.anchorSize.height):(d=b.initialConfig.width,e=b.initialConfig.height);c&&(b=c.split(" "),a.anchorSpec={right:this.parseAnchor(b[0],a.initialConfig.width,d),bottom:this.parseAnchor(b[1],a.initialConfig.height,e)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,
setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){a=a.anchorSpec;var b="$",c=this.sizePolicy,d;a&&(d=this.owner.getSizeModel(),a.right&&!d.width.shrinkWrap&&(c=c.r),a.bottom&&!d.height.shrinkWrap&&(b="b"));return c[b]}});
Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){Ext.apply(this,a);this.dragRegion=new Ext.util.Region(0,0,0,0);this.el&&this.initEl(this.el);this.mixins.observable.constructor.call(this);this.disabled&&this.disable()},initEl:function(a){var b=this.delegate;this.el=a=Ext.get(a);b&&b.isElement&&(this.handle=b);this.delegate=this.handle?void 0:this.delegate;this.handle||(this.handle=a);this.handleListeners=
{scope:this,delegate:this.delegate,mousedown:this.onMouseDown,dragstart:this.onDragStart};Ext.supports.TouchEvents||!this.trackOver&&!this.overCls||Ext.apply(this.handleListeners,{mouseover:this.onMouseOver,mouseout:this.onMouseOut});this.mon(this.handle,this.handleListeners);this.keyNav=new Ext.util.KeyNav({target:a,up:this.onResizeKeyDown,left:this.onResizeKeyDown,right:this.onResizeKeyDown,down:this.onResizeKeyDown,scope:this})},disable:function(){this.disabled=!0},enable:function(){this.disabled=
!1},destroy:function(){this.endDrag({});this.el=this.handle=this.onBeforeStart=this.onStart=this.onDrag=this.onEnd=null;this.callParent()},onMouseOver:function(a,b){var c,d,e,f,g;if(!this.disabled&&(a.within(a.target,!0,!0)||this.delegate)){c=this.handleCls;this.mouseIsOut=!1;if(c)for(e=0,f=this.handleEls.length;e<f;e++)d=this.handleEls[e],g=d.delegateCls,g||(g=d.delegateCls=[c,"-",d.region,"-over"].join("")),d.addCls([g,this.overCls]);this.fireEvent("mouseover",this,a,this.delegate?a.getTarget(this.delegate,
b):this.handle)}},onMouseOut:function(a){var b,c,d;if(this.mouseIsDown)this.mouseIsOut=!0;else{if(this.handleCls)for(c=0,d=this.handleEls.length;c<d;c++)b=this.handleEls[c],b.removeCls([b.delegateCls,this.overCls]);this.fireEvent("mouseout",this,a)}},onMouseDown:function(a,b){this.disabled||a.dragTracked||(this.dragTarget=this.delegate?b:this.handle.dom,this.startXY=this.lastXY=a.getXY(),this.startRegion=Ext.fly(this.dragTarget).getRegion(),!1===this.fireEvent("mousedown",this,a)||!1===this.fireEvent("beforedragstart",
this,a)||!1===this.onBeforeStart(a))||((this.mouseIsDown=!0,a.dragTracked=!0,this.el.setCapture(),a.stopPropagation(),!1!==this.preventDefault&&a.preventDefault(),Ext.getDoc().on({scope:this,capture:!0,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect}),this.dragEnded=!1,this.tolerance)?this.autoStart&&(this.timer=Ext.defer(this.triggerStart,!0===this.autoStart?1E3:this.autoStart,this,[a])):this.triggerStart())},onMouseMove:function(a,b){var c=a.getXY(),d=this.startXY;
a.stopPropagation();!1!==this.preventDefault&&a.preventDefault();if(!this.dragEnded){this.lastXY=c;if(!this.active)if(Math.max(Math.abs(d[0]-c[0]),Math.abs(d[1]-c[1]))>this.tolerance)this.triggerStart(a);else return;if(!1===this.fireEvent("mousemove",this,a))this.onMouseUp(a);else this.onDrag(a),this.fireEvent("drag",this,a)}},onMouseUp:function(a){this.mouseIsDown=!1;this.mouseIsOut&&(this.mouseIsOut=!1,this.onMouseOut(a));!1!==this.preventDefault&&a.preventDefault();Ext.isIE&&document.releaseCapture&&
document.releaseCapture();this.fireEvent("mouseup",this,a);this.endDrag(a)},endDrag:function(a){var b=this.active;Ext.getDoc().un({mousemove:this.onMouseMove,mouseup:this.onMouseUp,selectstart:this.stopSelect,capture:!0,scope:this});this.clearStart();this.active=!1;b&&(this.dragEnded=!0,this.onEnd(a),this.fireEvent("dragend",this,a));this._constrainRegion=null},triggerStart:function(a){this.clearStart();this.active=!0;this.onStart(a);this.fireEvent("dragstart",this,a)},clearStart:function(){var a=
this.timer;a&&(clearTimeout(a),this.timer=null)},stopSelect:function(a){a.stopEvent();return!1},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;this._constrainRegion||(this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion())}else this._constrainRegion||
(this._constrainRegion=this.getDragCt().getViewRegion());return this._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){a=this.getXY(a);var b=this.startXY;return[a[0]-b[0],a[1]-b[1]]},onDragStart:function(a){a.stopPropagation()},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();if(!d)return b;c.x=c.left=c[0]=c.right=b[0];c.y=c.top=c[1]=c.bottom=b[1];c.constrainTo(d);return[c.left,c.top]},dragTarget:function(a,
b){var c=a.startXY,d=a.startRegion.copy(),e=a.getConstrainRegion();if(!e)return b;d.translateBy(b[0]-c[0],b[1]-c[1]);d.right>e.right&&(b[0]+=c=e.right-d.right,d.left+=c);d.left<e.left&&(b[0]+=e.left-d.left);d.bottom>e.bottom&&(b[1]+=c=e.bottom-d.bottom,d.top+=c);d.top<e.top&&(b[1]+=e.top-d.top);return b}}});
Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a,b=Ext.dom.Element;a=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(b.getDocumentWidth(),b.getDocumentHeight());a.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},
onBeforeStart:function(a){var b=this.getPrevCmp(),c=this.getNextCmp(),d=this.getSplitter().collapseEl;a=a.getTarget();if(!b||!c||d&&a===d.dom||c.collapsed||b.collapsed)return!1;this.prevBox=b.getEl().getBox();this.nextBox=c.getEl().getBox();return(this.constrainTo=b=this.calculateConstrainRegion())?b:!1},onStart:function(a){a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+"-active")},onResizeKeyDown:function(a){var b=this.getSplitter(),c=a.getKey(),d="vertical"===b.orientation?0:1,
c=c===a.UP||c===a.LEFT?-1:1;!this.active&&this.onBeforeStart(a)&&(Ext.fly(a.target).on("keyup",this.onResizeKeyUp,this),this.triggerStart(a),this.onMouseDown(a),this.startXY=b.getXY(),this.lastKeyDownXY=Ext.Array.slice(this.startXY),a=this.easing=new Ext.fx.easing.Linear,a.setStartTime(Ext.Date.now()),a.setStartValue(1),a.setEndValue(4),a.setDuration(2E3));this.active&&(this.lastKeyDownXY[d]=Math.round(this.lastKeyDownXY[d]+c*this.easing.getValue()),this.lastXY=this.lastKeyDownXY,b.setXY(this.getXY("dragTarget")))},
onResizeKeyUp:function(a){this.onMouseUp(a)},calculateConstrainRegion:function(){var a=this.getSplitter(),b=a.getWidth(),c=a.defaultSplitMin,d=a.orientation,a=this.prevBox,e=this.getPrevCmp(),f=this.nextBox,g=this.getNextCmp();"vertical"===d?(b={prevCmp:e,nextCmp:g,prevBox:a,nextBox:f,defaultMin:c,splitWidth:b},d=new Ext.util.Region(a.y,this.getVertPrevConstrainRight(b),a.bottom,this.getVertPrevConstrainLeft(b)),b=new Ext.util.Region(f.y,this.getVertNextConstrainRight(b),f.bottom,this.getVertNextConstrainLeft(b))):
(d=new Ext.util.Region(a.y+(e.minHeight||c),a.right,(e.maxHeight?a.y+e.maxHeight:f.bottom-(g.minHeight||c))+b,a.x),b=new Ext.util.Region((g.maxHeight?f.bottom-g.maxHeight:a.y+(e.minHeight||c))-b,f.right,f.bottom-(g.minHeight||c),f.x));return d.intersect(b)},performResize:function(a,b){for(var c=this.getSplitter(),d=c.orientation,e=this.getPrevCmp(),f=this.getNextCmp(),c=c.ownerCt,g=c.query(">[flex]"),h=g.length,d="vertical"===d,k=0,l=d?"width":"height",m,n;k<h;k++)m=g[k],n=d?m.getWidth():m.getHeight(),
m.flex=n;b=d?b[0]:b[1];e&&(n=this.prevBox[l]+b,e.flex?e.flex=n:e[l]=n);f&&(n=this.nextBox[l]-b,f.flex?f.flex=n:f[l]=n);c.updateLayout()},endDrag:function(){this.overlay&&(this.overlay.destroy(),delete this.overlay);this.callParent(arguments)},onEnd:function(a){var b=this.getSplitter();b.removeCls(b.baseCls+"-active");this.performResize(a,this.getResizeOffset())},onDrag:function(a){a=this.getOffset("dragTarget");var b=this.getSplitter(),c=b.getEl();"vertical"===b.orientation?c.setX(this.startRegion.left+
a[0]):c.setY(this.startRegion.top+a[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-
a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});
Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,
setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});
Ext.define("Ext.dd.ScrollManager",{singleton:!0,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(a){a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&
this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var a=this;if(a.ddmInstance.dragCurrent){var b=a.proc,c=b.el,d=b.component,e=b.el.ddScrollConfig,f=e&&e.increment?e.increment:a.increment,e=e&&"animate"in e?e.animate:a.animate,g=function(){a.triggerRefresh()};e&&(!0===e?e={callback:g}:e.callback=e.callback?Ext.Function.createSequence(e.callback,g):g);d?(f*=a.dirTrans[b.dir],"up"===b.dir||"down"===b.dir?d.scrollBy(0,f,e):d.scrollBy(f,0,e)):c.scroll(b.dir,f,e);
e||g()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id);a.id=0;a.el=null;a.dir=""},startProc:function(a,b){var c=this.proc,d,e;this.clearProc();c.el=a;c.dir=b;d=a.ddScrollConfig?a.ddScrollConfig.ddGroup:void 0;e=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(void 0===d||this.ddmInstance.dragCurrent.ddGroup===d)c.id=Ext.interval(this.doScroll,e)},onFire:function(a,b){var c,d,e,f,g,h,k;if(!b&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl===
this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());c=a.getPoint();d=this.proc;e=this.els;for(f in e)if(g=e[f],h=g._region,k=g.ddScrollConfig||this,h&&h.contains(c)&&g.isScrollable()){if(h.bottom-c.y<=k.vthresh){d.el!==g&&this.startProc(g,"down");return}if(h.right-c.x<=k.hthresh){d.el!==g&&this.startProc(g,"right");return}if(c.y-h.top<=k.vthresh){d.el!==g&&this.startProc(g,"up");return}if(c.x-h.left<=k.hthresh){d.el!==g&&this.startProc(g,"left");return}}this.clearProc()}},
register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.register(a[b]);else a=Ext.get(a),this.els[a.id]=a},unregister:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.unregister(a[b]);else a=Ext.get(a),delete this.els[a.id]},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var a=this.els,b;for(b in a)"object"===typeof a[b]&&(a[b]._region=
a[b].getRegion())}});
Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(a,b){this.el=Ext.get(a);Ext.apply(this,b);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},containerScroll:!1,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(a,b,c){this.overClass&&this.el.addCls(this.overClass);return this.dropAllowed},notifyOver:function(a,
b,c){return this.dropAllowed},notifyOut:function(a,b,c){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(a,b,c){this.overClass&&this.el.removeCls(this.overClass);return!1},destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}});
Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(a,b){var c=this.containerScroll;this.callParent([a,b]);c&&(a=this.scrollEl||a,a=Ext.get(a),Ext.isObject(c)&&(a.ddScrollConfig=c),Ext.dd.ScrollManager.register(a))},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(a,b);return!0},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();
this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}});
Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,b){if("string"===typeof a)return a;var c=a.id;c||!1===b||(c="extdd-"+ ++this.autoIdSeed,a.id=c);return c},register:function(a,b){b=b||{};"string"===typeof a&&(a=document.getElementById(a));b.ddel=a;this.elements[this.getId(a)]=b;!1!==b.isHandle&&(this.handles[b.ddel.id]=b);if(b.handles){var c=b.handles,d,e;d=0;for(e=c.length;d<e;d++)this.handles[this.getId(c[d])]=
b}},unregister:function(a){a=this.getId(a,!1);var b=this.elements[a],c;if(b&&(delete this.elements[a],b.handles))for(a=b.handles,b=0,c=a.length;b<c;b++)delete this.handles[this.getId(a[b],!1)]},getHandle:function(a){"string"!==typeof a&&(a=a.id);return this.handles[a]},getHandleFromEvent:function(a){return(a=a.getTarget())?this.handles[a.id]:null},getTarget:function(a){"string"!==typeof a&&(a=a.id);return this.elements[a]},getTargetFromEvent:function(a){return(a=a.getTarget())?this.elements[a.id]||
this.handles[a.id]:null}});
Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(a,b,c,d){},onNodeOver:function(a,b,c,d){return this.dropAllowed},onNodeOut:function(a,b,c,d){},onNodeDrop:function(a,b,c,d){return!1},onContainerOver:function(a,b,c){return this.dropNotAllowed},onContainerDrop:function(a,b,c){return!1},notifyEnter:function(a,b,c){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);
if(!d)return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c);if(this.lastOverNode!==d){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,a,b,c);this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){var d=this.getTargetFromEvent(b),d=d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,
b,c);this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null);return d},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});
Ext.define("Ext.event.publisher.MouseEnterLeave",{extend:Ext.event.publisher.Dom,type:"mouseEnterLeave"},function(a){var b={mouseover:"mouseenter",mouseout:"mouseleave"};Ext.supports.MouseEnterLeave||a.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],doDelegatedEvent:function(a){var d,e;a=this.callParent([a]);d=a.getTarget();e=a.getRelatedTarget();if(!e||!Ext.fly(d).contains(e))if(d=d.id)if(d=Ext.cache[d])if(e=b[a.type],a=a.chain({type:e}),d.hasListeners[e]&&
(e=d.events[e]))if(e=e.directs)a.setCurrentTarget(d.dom),e.fire(a,a.target)}});a.instance=new a});
Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(a){a=this.comp;this.startPosition=a.getXY();a.ghost&&!a.liveDrag&&(this.proxy=a.ghost(),this.dragTarget=this.proxy.header.el);if(this.constrain||this.constrainDelegate)this.constrainTo=this.calculateConstrainRegion();a.beginDrag&&a.beginDrag();a.el.shim&&a.el.maskIframes()},calculateConstrainRegion:function(){var a=
this.comp,b=this.initialConstrainTo,c=a.constraintInsets,d;d=this.proxy?this.proxy.el:a.el;var e=d.shadow,a=e&&!this.constrainDelegate&&a.constrainShadow&&!e.disabled?e.getShadowSize():0;b instanceof Ext.util.Region?b=b.copy():(b=Ext.fly(b),b=b.getConstrainRegion());c&&(c=Ext.isObject(c)?c:Ext.Element.parseBox(c),b.adjust(c.top,c.right,c.bottom,c.left));a&&b.adjust(a[0],-a[1],-a[2],a[3]);this.constrainDelegate||(c=Ext.fly(this.dragTarget).getRegion(),d=d.getRegion(),b.adjust(c.top-d.top,c.right-d.right,
c.bottom-d.bottom,c.left-d.left));return b},onDrag:function(a){a=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp;var b=this.getOffset(this.constrain||this.constrainDelegate?"dragTarget":null);a.setPagePosition(this.startPosition[0]+b[0],this.startPosition[1]+b[1])},onEnd:function(a){a=this.comp;a.destroyed||a.destroying||(this.proxy&&!a.liveDrag&&a.unghost(),a.endDrag&&a.endDrag(),a.el.shim&&a.el.unmaskIframes())}});
Ext.define("Ext.util.FocusTrap",{extend:Ext.Mixin,mixinConfig:{id:"focustrap",after:{afterRender:"initTabGuards",addTool:"initTabGuards",add:"initTabGuards",remove:"initTabGuards",addDocked:"initTabGuards",removeDocked:"initTabGuards",onShow:"initTabGuards",afterHide:"initTabGuards"}},config:{tabGuard:!0,tabGuardTpl:'<div id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" role="button" data-tabguardposition="{tabGuard}" aria-busy="true" style="height:0"class="'+Ext.baseCSSPrefix+'hidden-clip"></div>',
tabGuardIndex:0},tabGuardPositionAttribute:"data-tabguardposition",privates:{initTabGuards:function(){var a=this.tabGuardPositionAttribute,b=this.tabGuardBeforeEl,c=this.tabGuardAfterEl,d=this.tabGuardIndex,e;this.rendered&&this.tabGuard&&(e=this.el.findTabbableElements({skipSelf:!0}),e[0]&&e[0].hasAttribute(a)&&e.shift(),e.length&&e[e.length-1].hasAttribute(a)&&e.pop(),e.length?(b.dom.setAttribute("tabIndex",d),b.on("focusenter",this.onTabGuardFocusEnter,this),c.dom.setAttribute("tabIndex",d),c.on("focusenter",
this.onTabGuardFocusEnter,this)):(b.dom.removeAttribute("tabIndex"),b.un("focusenter",this.onTabGuardFocusEnter,this),c.dom.removeAttribute("tabIndex"),c.un("focusenter",this.onTabGuardFocusEnter,this)))},onTabGuardFocusEnter:function(a,b){var c=this.el,d=this.tabGuardPositionAttribute,e=b.getAttribute(d),f=a.relatedTarget,d=!f.hasAttribute(d)&&f!==c.dom&&c.contains(f)?"before"===e?!1:!0:"before"===e?!0:!1,c=c.findTabbableElements({skipSelf:!0});c.shift();c.pop();(c=d?c[0]:c[c.length-1])&&c.focus()}}});
Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",mixins:[Ext.util.FocusTrap],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},
isWindow:!0,ariaRole:"dialog",initComponent:function(){this.frame=!1;this.callParent();this.plain&&this.addClsWithUI("plain");this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a;a=this.callParent();a.tabIndex=-1;return a},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var a=this.callParent()||{},b=!!this.maximized,c=this.ghostBox,c=(a.maximized=b)?this.restorePos:c?[c.x,c.y]:this.getPosition();Ext.apply(a,{size:b?this.restoreSize:
this.getSize(),pos:c});return a},applyState:function(a){a&&((this.maximized=a.maximized)?(this.hasSavedRestore=!0,this.restoreSize=a.size,this.restorePos=a.pos):Ext.apply(this,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]}))},onRender:function(a,b){this.callParent(arguments);if(this.header)this.header.on({scope:this,click:this.onHeaderClick});if(this.maximizable)this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var a=this.header;this.maximized&&(this.maximized=
!1,this.maximize(),a&&a.removeCls(a.indicateDragCls));this.callParent();this.closable?(a=this.getKeyMap(),a.on(27,this.onEsc,this)):a=this.keyMap;a&&this.hidden&&a.disable()},onEsc:function(a,b){b.stopEvent();this.close()},beforeDestroy:function(){this.rendered&&(Ext.un("resize",this.onWindowResize,this),delete this.animateTarget,this.hide(),Ext.destroy(this.keyMap));this.callParent()},addTools:function(){var a=[];this.callParent();this.minimizable&&a.push({type:"minimize",handler:"minimize",scope:this});
this.maximizable&&a.push({type:this.maximized?"restore":"maximize",handler:"toggleMaximize",scope:this});a.length&&this.addTool(a)},onShow:function(){this.callParent(arguments);this.expandOnShow&&this.expand(!1);this.syncMonitorWindowResize();this.keyMap&&this.keyMap.enable()},doClose:function(){this.hidden?(this.fireEvent("close",this),"destroy"===this.closeAction&&this.destroy()):this.hide(this.animateTarget,this.doClose,this)},afterHide:function(){this.syncMonitorWindowResize();this.keyMap&&this.keyMap.disable();
this.callParent(arguments)},onWindowResize:function(){var a;this.destroyed||(this.maximized?this.fitContainer():(a=this.getSizeModel(),(a.width.natural||a.height.natural)&&this.updateLayout(),this.doConstrain()))},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this.header,b=this.tools;a&&this.maximizable&&(a.suspendLayouts(),b.maximize.hide(),this.resumeHeaderLayout(!0));
this.resizer&&this.resizer.disable();this.callParent(arguments)},afterExpand:function(){var a=this.header,b=this.tools,c;a&&(a.suspendLayouts(),this.maximizable&&(b.maximize.show(),c=!0),this.resumeHeaderLayout(c));this.resizer&&this.resizer.enable();this.callParent(arguments)},maximize:function(a){var b=this,c=b.header,d=b.tools,e=b.width,f=b.height,g;b.maximized||(b.expand(!1),b.hasSavedRestore||(b.restoreSize={width:e?e:null,height:f?f:null},b.restorePos=b.getPosition()),c&&(c.suspendLayouts(),
d.maximize&&d.maximize.setType("restore"),b.collapseTool&&(b.collapseTool.hide(),g=!0),b.resumeHeaderLayout(g)),b.el.disableShadow(),b.dd&&(b.dd.disable(),c&&c.removeCls(c.indicateDragCls)),b.resizer&&b.resizer.disable(),b.el.addCls(Ext.baseCSSPrefix+"window-maximized"),b.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),b.syncMonitorWindowResize(),b.fitContainer(a=a||b.animateTarget?{callback:function(){b.maximized=!0;b.fireEvent("maximize",b)}}:null),a||(b.maximized=!0,b.fireEvent("maximize",
b)));return b},restore:function(a){var b=this,c=b.tools,d=b.header,e=b.restoreSize,f;b.maximized&&(b.hasSavedRestore=null,b.removeCls(Ext.baseCSSPrefix+"window-maximized"),d&&(d.suspendLayouts(),c.maximize&&c.maximize.setType("maximize"),b.collapseTool&&(b.collapseTool.show(),f=!0),b.resumeHeaderLayout(f)),e.x=b.restorePos[0],e.y=b.restorePos[1],b.setBox(e,a=a||b.animateTarget?{callback:function(){b.el.enableShadow(null,!0);b.maximized=!1;b.fireEvent("restore",b)}}:null),b.restorePos=b.restoreSize=
null,b.dd&&(b.dd.enable(),d&&d.addCls(d.indicateDragCls)),b.resizer&&b.resizer.enable(),b.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),b.syncMonitorWindowResize(),a||(b.el.enableShadow(null,!0),b.maximized=!1,b.fireEvent("restore",b)));return b},syncMonitorWindowResize:function(){var a=this._monitoringResize,b=this.hidden||this.destroying||this.destroyed;(this.monitorResize||this.constrain||this.constrainHeader||this.maximized)&&!b?a||(Ext.on("resize",this.onWindowResize,this,{buffer:1}),
this._monitoringResize=!0):a&&(Ext.un("resize",this.onWindowResize,this),this._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var a=this.callParent(arguments);a.xtype="window";a.focusOnToFront=!1;return a},getDefaultFocus:function(){var a,b=this.defaultFocus;void 0!==b&&(Ext.isNumber(b)?a=this.query("button")[b]:Ext.isString(b)?(Ext.validIdRe.test(b)&&(a=this.down(Ext.makeIdSelector(b))),a||(a=this.down(b))):b.focus&&(a=b));
return a},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(a,b){var c;a.el.contains(b.getTarget())&&(c=this.getDefaultFocus())&&c.focus()},initResizable:function(){this.callParent(arguments);this.maximized&&this.resizer.disable()}}});
Ext.define("Ext.form.Labelable",{extend:Ext.Mixin,isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',
"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}",
"{afterSubTpl}","{afterBodyEl}",'<div id="{id}-ariaErrorEl" data-ref="ariaErrorEl" role="alert" aria-live="polite"',' class="'+Ext.baseCSSPrefix+'hidden-clip">',"</div>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',
"</div>","</div>","</tpl>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",
rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+
"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",noLabelCls:Ext.baseCSSPrefix+"form-item-no-label",fieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,labelableInsertions:"beforeBodyEl afterBodyEl beforeLabelTpl afterLabelTpl beforeSubTpl afterSubTpl beforeLabelTextTpl afterLabelTextTpl labelAttrTpl".split(" "),
statics:{initTip:function(){var a=this.tip,b;a||(a={id:"ext-form-error-tip",ui:"form-invalid"},Ext.supports.Touch&&(a.dismissDelay=0,a.anchor="top",a.showDelay=0,a.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}),a=this.tip=Ext.create("Ext.tip.QuickTip",a),b=Ext.apply({},a.tagConfig),b.attribute="errorqtip",a.setTagConfig(b))},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var a=this.padding;a&&(this.padding=void 0,this.extraMargins=
Ext.Element.parseBox(a));Ext.isIE8&&(this.restoreDisplay=Ext.Function.createDelayed(this.doRestoreDisplay,0,this));this.activeErrorsTpl||(this.activeErrorsTpl="title"===this.msgTarget?this.plaintextActiveErrorsTpl:this.htmlActiveErrorsTpl);this.addCls([this.formItemCls,this.formItemCls+"-"+this.ui]);this.lastActiveError="";this.enableBubble("errorchange")},trimLabelSeparator:function(){var a=this.labelSeparator,b=this.fieldLabel||"";return b.substr(b.length-1)===a?b.slice(0,-1):b},getFieldLabel:function(){return this.trimLabelSeparator()},
setFieldLabel:function(a){a=a||"";var b=this.labelSeparator,c=this.labelEl,d=this.errorWrapEl,e="top"!==this.labelAlign,f=this.noLabelCls,g=this.errorWrapUnderSideLabelCls;this.fieldLabel=a;this.rendered&&(Ext.isEmpty(a)&&this.hideEmptyLabel?(this.addCls(f),e&&d&&d.removeCls(g)):(b&&(a=this.trimLabelSeparator()+b),c.dom.firstChild.innerHTML=a,this.removeCls(f),e&&d&&d.addCls(g)),this.updateLayout())},setHideLabel:function(a){a!==this.hideLabel&&(this.hideLabel=a,this.rendered&&(this[a?"addCls":"removeCls"](this.noLabelCls),
this.updateLayout()))},setHideEmptyLabel:function(a){a!==this.hideEmptyLabel&&(this.hideEmptyLabel=a,this.rendered&&!this.hideLabel&&(a=a&&!this.getFieldLabel(),this[a?"addCls":"removeCls"](this.noLabelCls),this.updateLayout()))},getInsertionRenderData:function(a,b){for(var c=b.length,d,e;c--;)d=b[c],(e=this[d])&&"string"!==typeof e&&(e.isTemplate||(e=Ext.XTemplate.getTpl(this,d)),e=e.apply(a)),a[d]=e||"";return a},getLabelableRenderData:function(){var a=this.labelAlign,b="top"===a,a="right"===a,
c="side"===this.msgTarget,d="under"===this.msgTarget,e=this.errorMsgCls,f=this.labelPad,g=this.labelWidth,h=this.labelClsExtra||"",k=c?this.errorWrapSideCls:this.errorWrapUnderCls,l="",m="",n=this.hasVisibleLabel(),p=this.autoFitErrors,q=this.defaultBodyWidth,r;b?(h+=" "+this.topLabelCls,f&&(m="padding-bottom:"+f+"px;"),c&&!p&&(h+=" "+this.topLabelSideErrorCls)):(a&&(h+=" "+this.rightLabelCls),f&&(l+=this.getHorizontalPaddingStyle()+f+"px;"),l+="width:"+(g+(f?f:0))+"px;",m="width:"+g+"px");n&&!b&&
d&&(k+=" "+this.errorWrapUnderSideLabelCls);q&&(r="min-width:"+q+"px;max-width:"+q+"px;");b={id:this.id,inputId:this.getInputId(),labelCls:this.labelCls,labelClsExtra:h,labelStyle:l+(this.labelStyle||""),labelInnerStyle:m,labelInnerCls:this.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:r,baseBodyCls:this.baseBodyCls,fieldBodyCls:this.fieldBodyCls,extraFieldBodyCls:this.extraFieldBodyCls,errorWrapCls:this.errorWrapCls,errorWrapExtraCls:k,renderError:c||d,invalidMsgCls:c?this.invalidIconCls:
d?this.invalidUnderCls:"",errorMsgCls:e,growCls:this.grow?this.growCls:"",tipAnchorTarget:this.id+"-inputEl",errorWrapStyle:c&&!p?"visibility:hidden":"display:none",fieldLabel:this.getFieldLabel(),labelSeparator:this.labelSeparator};this.getInsertionRenderData(b,this.labelableInsertions);return b},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){this.setFieldDefaults(this.getInherited().fieldDefaults);this.ownerLayout&&this.addCls(Ext.baseCSSPrefix+this.ownerLayout.type+
"-form-item");this.hasVisibleLabel()||this.addCls(this.noLabelCls)},onLabelRender:function(){var a={},b=Ext.Element,c=this.errorWrapEl,d;c&&c.setVisibilityMode("side"!==this.msgTarget||this.autoFitErrors?b.DISPLAY:b.VISIBILITY);if(this.extraMargins){b=this.el.getMargin();for(d in b)b.hasOwnProperty(d)&&(a["margin-"+d]=b[d]+this.extraMargins[d]+"px");this.el.setStyle(a)}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},
getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){var b=this.errorWrapEl,c=this.msgTarget,d="side"===c,e="qtip"===c,f,g;a=Ext.Array.from(a);g=this.getTpl("activeErrorsTpl");this.activeErrors=a;g=this.activeError=g.apply({fieldLabel:this.fieldLabel,errors:a,listCls:Ext.baseCSSPrefix+
"list-plain"});this.renderActiveError();this.rendered&&(f=this.getActionEl(),d?this.errorEl.dom.setAttribute("data-errorqtip",g):e?f.dom.setAttribute("data-errorqtip",g):"title"===c&&f.dom.setAttribute("title",g),"title"!==c&&(this.ariaErrorEl.dom.innerHTML=a.join(". "),f.dom.setAttribute("aria-describedby",this.ariaErrorEl.id)),(d||e)&&Ext.form.Labelable.initTip(),!this.msgTargets[c]&&(c=Ext.get(c)))&&(c.dom.innerHTML=g);b&&(b.setVisible(0<a.length),d&&this.autoFitErrors&&this.labelEl.addCls(this.topLabelSideErrorCls),
this.updateLayout())},unsetActiveError:function(){var a=this.errorWrapEl,b=this.msgTarget,c=this.restoreDisplay,d;this.hasActiveError()&&(delete this.activeError,delete this.activeErrors,this.renderActiveError(),this.rendered)&&(d=this.getActionEl(),"qtip"===b?d.dom.removeAttribute("data-errorqtip"):"title"===b&&d.dom.removeAttribute("title"),"title"!==b&&(this.ariaErrorEl.dom.innerHTML="",d.dom.removeAttribute("aria-describedby")),!this.msgTargets[b]&&(d=Ext.get(b))&&(d.dom.innerHTML=""),a&&(a.hide(),
"side"===b&&this.autoFitErrors&&this.labelEl.removeCls(this.topLabelSideErrorCls),this.updateLayout(),c&&(this.el.dom.style.display="block",this.restoreDisplay())))},doRestoreDisplay:function(){var a=this.el;a&&a.dom&&(a.dom.style.display="")},renderActiveError:function(){var a=this.getActiveError(),b=!!a;a!==this.lastActiveError&&(this.lastActiveError=a,this.fireEvent("errorchange",this,a));!this.rendered||this.destroyed||this.preventMark||(this.toggleInvalidCls(b),this.errorEl&&(this.errorEl.dom.innerHTML=
a))},toggleInvalidCls:function(a){this.el[a?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(a){for(var b in a)this.hasOwnProperty(b)||(this[b]=a[b])}},function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")});
Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:"change",suspendCheckChange:0,dirty:!1,initField:function(){var a=this.valuePublishEvent,b,c;this.initValue();if(Ext.isString(a))this.on(a,this.publishValue,this);else for(c=0,b=a.length;c<b;++c)this.on(a[c],this.publishValue,this)},initValue:function(){"value"in this&&(this.suspendCheckChange++,this.setValue(this.value),this.suspendCheckChange--);
this.initialValue=this.originalValue=this.lastValue=this.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){this.value=a;this.checkChange();return this},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.valueFrom(a,""))===String(Ext.valueFrom(b,""))},getSubmitData:function(){var a=null;!this.disabled&&this.submitValue&&
(a={},a[this.getName()]=""+this.getValue());return a},getModelData:function(a,b){var c=null;this.disabled||!this.submitValue&&b||(c={},c[this.getFieldIdentifier()]=this.getValue());return c},reset:function(){this.beforeReset();this.setValue(this.originalValue);this.clearInvalid();delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var a,b;this.suspendCheckChange||(a=this.getValue(),b=this.lastValue,
!this.destroyed&&this.didValueChange(a,b)&&(this.lastValue=a,this.fireEvent("change",this,a,b),this.onChange(a,b)))},didValueChange:function(a,b){return!this.isEqual(a,b)},onChange:function(a){this.validateOnChange&&this.validate();this.checkDirty()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState("value",this.getValue())},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var a=this.isDirty();a!==this.wasDirty&&
(this.dirty=a,this.fireEvent("dirtychange",this,a),this.onDirtyChange(a),this.wasDirty=a)},onDirtyChange:Ext.emptyFn,getErrors:function(a){var b=[],c=this.getValidationField(),d=this.getValidation();c&&(a=c.validate(a),!0!==a&&b.push(a));d&&!0!==d&&b.push(d);return b},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(a){a!==this.wasValid&&(this.wasValid=a,this.fireEvent("validitychange",
this,a));return a},batchChanges:function(a){try{this.suspendCheckChange++,a()}catch(b){throw b;}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(a,b){b&&this.validate()},privates:{resetToInitialValue:function(){var a=this.originalValue;this.originalValue=this.initialValue;this.reset();this.originalValue=a}}});
Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:[Ext.form.Labelable,Ext.form.field.Field],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:!0,shrinkWrap:!0,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}',
'<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:!0,
invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||9>=document.documentMode)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+
"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:!1,stretchInputElFixed:!0,ariaEl:"inputEl",initComponent:function(){this.callParent();this.subTplData=this.subTplData||{};this.initLabelable();this.initField();this.initDefaultName();this.readOnly&&this.addCls(this.readOnlyCls);this.addCls(Ext.baseCSSPrefix+"form-type-"+this.inputType)},initDefaultName:function(){this.name||(this.name=this.getInputId())},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},
getSubTplData:function(a){var b=this.inputType,c=this.getInputId();a=Ext.apply({ui:this.ui,id:c,cmpId:this.id,name:this.name||c,disabled:this.disabled,readOnly:this.readOnly,value:this.getRawValue(),type:b,fieldCls:this.fieldCls,fieldStyle:this.getFieldStyle(),childElCls:a.childElCls,tabIdx:this.tabIndex,inputCls:this.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(this.isTextInput?"text":b)},this.subTplData);this.ariaRole&&(b={role:this.ariaRole,"aria-hidden":!!this.hidden,"aria-disabled":!!this.disabled,
"aria-readonly":!!this.readOnly,"aria-invalid":!1},this.ariaLabel&&(b["aria-label"]=this.ariaLabel),this.format&&this.formatText&&!a.title&&(b.title=Ext.String.formatEncode(this.formatText,this.format)),a.inputElAriaAttributes=Ext.apply(b,this.getAriaAttributes()));this.getInsertionRenderData(a,this.subTplInsertions);return a},getSubTplMarkup:function(a){a=this.getSubTplData(a);var b=this.getTpl("preSubTpl"),c=this.getTpl("postSubTpl"),d="";b&&(d+=b.apply(a));d+=this.getTpl("fieldSubTpl").apply(a);
c&&(d+=c.apply(a));return d},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this.inputEl;b&&b.applyStyles(a);this.fieldStyle=a},getFieldStyle:function(){var a=this.fieldStyle;return Ext.isObject(a)?Ext.DomHelper.generateStyles(a,null,!0):a||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},onFocusLeave:function(a){this.callParent([a]);this.completeEdit()},
completeEdit:Ext.emptyFn,isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var a=null,b;!this.disabled&&this.submitValue&&(b=this.getSubmitValue(),null!==b&&(a={},a[this.getName()]=b));return a},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this.inputEl?this.inputEl.getValue():Ext.valueFrom(this.rawValue,"");return this.rawValue=a},setRawValue:function(a){var b=this.rawValue;this.transformRawValue.$nullFn||(a=
this.transformRawValue(a));a=Ext.valueFrom(a,"");if(void 0===b||b!==a||this.valueContainsPlaceholder)this.rawValue=a,this.inputEl&&(this.bindChangeEvents(!1),this.inputEl.dom.value=a,this.bindChangeEvents(!0)),this.rendered&&this.reference&&this.publishState("rawValue",a);return a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.valueFrom(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this.rawToValue(this.processRawValue(this.getRawValue()));
return this.value=a},setValue:function(a){this.setRawValue(this.valueToRaw(a));return this.mixins.field.setValue.call(this,a)},onBoxReady:function(){this.callParent(arguments);this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var a=this.inputEl;this.callParent();a&&(a.dom.disabled=!0,this.hasActiveError()&&(this.clearInvalid(),this.hadErrorOnDisable=!0));!1===this.wasValid&&this.checkValidityChange(!0)},onEnable:function(){var a=this.inputEl,b=this.preventMark;this.callParent();
a&&(a.dom.disabled=!1);void 0!==this.wasValid&&(this.forceValidation=!0,this.preventMark=!this.hadErrorOnDisable,a=this.isValid(),this.forceValidation=!1,this.preventMark=b,this.checkValidityChange(a));delete this.hadErrorOnDisable},setReadOnly:function(a){var b=this.inputEl,c=this.readOnly;a=!!a;this[a?"addCls":"removeCls"](this.readOnlyCls);this.readOnly=a;b?(b.dom.readOnly=a,this.ariaEl.dom.setAttribute("aria-readonly",a)):this.rendering&&(this.setReadOnlyOnBoxReady=!0);a!==c&&this.fireEvent("writeablechange",
this,a)},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,a)},initEvents:function(){var a=this.inputEl,b=this.onFieldMutation,c=this.checkChangeEvents,d=c.length,e,f;if(a)for(this.mon(a,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",this.fireKey,this),e=0;e<d;++e)f=c[e],"propertychange"===f&&(this.usesPropertychange=!0),"textInput"===f&&(this.usesTextInput=!0),this.mon(a,f,b,this);this.callParent()},onFieldMutation:function(a){this.readOnly||"propertychange"===a.type&&
this.ignoreChangeRe.test(a.browserEvent.propertyName)||this.startCheckChangeTask()},startCheckChangeTask:function(){var a=this.checkChangeTask;a||(this.checkChangeTask=a=new Ext.util.DelayedTask(this.doCheckChangeTask,this));this.bindNotifyListener||(this.bindNotifyListener=Ext.on("beforebindnotify",this.onBeforeNotify,this,{destroyable:!0}));a.delay(this.checkChangeBuffer)},doCheckChangeTask:function(){var a=this.bindNotifyListener;a&&(a.destroy(),this.bindNotifyListener=null);this.checkChange()},
publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState("value",this.getValue())},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls);this.rendered&&this.reference&&this.publishState("dirty",a)},isValid:function(){var a=this.disabled;return this.forceValidation||!a?this.validateValue(this.processRawValue(this.getRawValue())):a},validateValue:function(a){a=this.getErrors(a);var b=Ext.isEmpty(a);this.preventMark||(b?this.clearInvalid():this.markInvalid(a));
return b},markInvalid:function(a){var b=this.ariaEl.dom,c=this.getActiveError();this.setActiveErrors(Ext.Array.from(a));a=this.getActiveError();c!==a&&(this.setError(a),!this.ariaStaticRoles[this.ariaRole]&&b&&b.setAttribute("aria-invalid",!0))},clearInvalid:function(){var a=this.ariaEl.dom,b=this.hasActiveError();delete this.hadErrorOnDisable;this.unsetActiveError();b&&(this.setError(""),!this.ariaStaticRoles[this.ariaRole]&&a&&a.setAttribute("aria-invalid",!1))},setError:function(a){var b=this.msgTarget;
this.rendered&&("title"===b||"qtip"===b?(b="qtip"===b?"data-errorqtip":"title",this.getActionEl().dom.setAttribute(b,a||"")):this.updateLayout())},renderActiveError:function(){var a=this.hasActiveError(),b=this.invalidCls+"-field";if(this.inputEl)this.inputEl[a?"addCls":"removeCls"]([b,b+"-"+this.ui]);this.mixins.labelable.renderActiveError.call(this)},beforeDestroy:function(){var a=this.checkChangeTask;a&&a.cancel();this.checkChangeTask=this.bindNotifyListener=Ext.destroy(this.bindNotifyListener);
this.callParent()},privates:{applyBind:function(a,b){var c=b&&b.value,d,e;if(d=this.callParent([a,b]))e=d.value,this.hasBindingValue=!!e,e!==c&&this.getInherited().modelValidation&&this.updateValueBinding(d);return d},applyRenderSelectors:function(){this.callParent();this.inputEl||(this.inputEl=this.el.getById(this.getInputId()))},bindChangeEvents:function(a){a=a?"resumeEvent":"suspendEvent";var b=this.inputEl;if(this.usesPropertychange)b[a]("propertychange");if(this.usesTextInput)b[a]("textInput")},
getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl"));return this.callParent()},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(a){var b=a.value,c=a.$fieldBinding;c&&(c.destroy(),a.$fieldBinding=null);b&&b.bindValidationField&&(this.fieldBinding=b.bindValidationField("setValidationField",this))}},
deprecated:{5:{methods:{doComponentLayout:function(){this.bindChangeEvents(!1);this.callParent(arguments);this.bindChangeEvents(!0)}}}}});
Ext.define("Ext.form.field.VTypes",function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',
emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}());
Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"trigger"},repeatClick:!1,hidden:!1,hideOnReadOnly:void 0,weight:0,preventMouseDown:!0,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ',
'{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>',"{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(a,b){return a.weight-b.weight}},constructor:function(a){Ext.apply(this,a);this.compat4Mode&&(a=this.cls,this.focusCls=[this.focusCls,a+"-focus"],this.overCls=[this.overCls,a+"-over"],this.clickCls=[this.clickCls,a+"-click"])},afterFieldRender:function(){this.initEvents()},destroy:function(){this.clickRepeater=this.el=Ext.destroy(this.clickRepeater,
this.el);this.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var a=this.el;this.hidden=!0;a&&a.hide()},initEvents:function(){var a=this.isFieldEnabled,b=this.getStateEl(),c=this.el;b.addClsOnOver(this.overCls,a,this);b.addClsOnClick(this.clickCls,a,this);this.repeatClick?this.clickRepeater=new Ext.util.ClickRepeater(c,{preventDefault:!0,handler:this.onClick,listeners:{mousedown:this.onClickRepeaterMouseDown,
scope:this},scope:this}):this.field.mon(c,{click:this.onClick,mousedown:this.onMouseDown,scope:this})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var a=this.field,b=!1;if(this.hidden||!a||!this.rendered||this.destroyed)b=!0;return!b},onClick:function(){var a=arguments,a=this.clickRepeater?a[1]:a[0],b=this.field;this.handler&&!b.readOnly&&this.isFieldEnabled()&&Ext.callback(this.handler,this.scope,[b,this,a],0,b)},resolveListenerScope:function(a){return this.field.resolveSatelliteListenerScope(this,
a)},onMouseDown:function(a){"touch"===a.pointerType||this.field.owns(Ext.Element.getActiveElement())||this.field.inputEl.focus();this.preventMouseDown&&a.preventDefault()},onClickRepeaterMouseDown:function(a,b){b.parentEvent&&"mousedown"!==b.parentEvent.type||this.field.inputEl.focus();b.preventDefault()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){(this.el=this.field.triggerWrap.selectNode("#"+
this.domId,!1)).setVisibilityMode(Ext.Element.DISPLAY);this.rendered=!0},renderBody:function(a){var b=this.bodyTpl;Ext.apply(a,this.getBodyRenderData());return b?Ext.XTemplate.getTpl(this,"bodyTpl").apply(a):""},renderTrigger:function(a){var b=this.width,c=this.hidden?"display:none;":"";b&&(c+="width:"+b);return Ext.XTemplate.getTpl(this,"renderTpl").apply({$trigger:this,fieldData:a,ui:a.ui,childElCls:a.childElCls,triggerId:this.domId=this.field.id+"-trigger-"+this.id,cls:this.cls,triggerStyle:c,
extraCls:this.extraCls,baseCls:this.baseCls})},setHidden:function(a){if(a!==this.hidden)this[a?"hide":"show"]()},setVisible:function(a){this.setHidden(!a)},show:function(){var a=this.el;this.hidden=!1;a&&a.show()}});
Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:void 0},renderConfig:{editable:!0},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",
emptyText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",valueContainsPlaceholder:!1,ariaRole:"textbox",repeatTriggerClick:!1,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+
"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",needArrowKeys:!0,squashMouseUp:{mouseup:function(){},translate:!1,single:!0,preventDefault:!0},childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',' role="presentation" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],
postSubTpl:["</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var a=this.emptyCls;!1===this.allowOnlyWhitespace&&(this.allowBlank=!1);this.size&&(this.defaultBodyWidth=6.5*this.size+20);this.onTrigger1Click||(this.onTrigger1Click=this.onTriggerClick);this.callParent();this.readOnly&&this.setReadOnly(this.readOnly);this.fieldFocusCls=this.baseCls+"-focus";this.emptyUICls=a+" "+a+"-"+this.ui;this.addStateEvents("change")},initEvents:function(){var a=
this.inputEl;this.callParent();(this.selectOnFocus||this.emptyText)&&this.mon(a,"mousedown",this.onMouseDown,this);(this.maskRe||this.vtype&&!0!==this.disableKeyFilter&&(this.maskRe=Ext.form.field.VTypes[this.vtype+"Mask"]))&&this.mon(a,"keypress",this.filterKeys,this);this.enableKeyEvents&&this.mon(a,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){this.callParent(arguments);this.autoSize()},
getSubTplData:function(a){var b=this.getRawValue(),c=this.emptyText&&1>b.length,d=this.maxLength,e;this.enforceMaxLength?d===Number.MAX_VALUE&&(d=void 0):d=void 0;c&&(Ext.supports.Placeholder?e=this.emptyText:(b=this.emptyText,this.valueContainsPlaceholder=!0));a=Ext.apply(this.callParent([a]),{triggerWrapCls:this.triggerWrapCls,inputWrapCls:this.inputWrapCls,triggers:this.orderedTriggers,maxLength:d,readOnly:!this.editable||this.readOnly,placeholder:e,value:b,fieldCls:this.fieldCls+(c&&(e||b)?" "+
this.emptyUICls:"")+(this.allowBlank?"":" "+this.requiredCls)});(b=a.inputElAriaAttributes)&&(b["aria-required"]=!this.allowBlank);return a},onRender:function(){var a=this.getTriggers(),b=[],c;Ext.supports.FixedTableWidthBug&&(this.el._needsTableWidthFix=!0);this.callParent();if(a){this.invokeTriggers("onFieldRender");for(c in a)b.push(a[c].el);this.triggerEl=this.triggerCell=new Ext.CompositeElement(b,!0)}this.inputCell=this.inputWrap},afterRender:function(){this.autoSize();this.callParent();this.invokeTriggers("afterFieldRender")},
onMouseDown:function(){if(!this.hasFocus)Ext.getDoc().on(this.squashMouseUp)},applyTriggers:function(a){var b=this.getHideTrigger(),c=this.readOnly,d=this.orderedTriggers=[],e=this.repeatTriggerClick,f,g,h;if(!a)for(a={},this.triggerCls&&!this.trigger1Cls&&(this.trigger1Cls=this.triggerCls),h=1;g=this["trigger"+h+"Cls"];h++)a["trigger"+h]={cls:g,extraCls:Ext.baseCSSPrefix+"trigger-index-"+h,handler:"onTrigger"+h+"Click",compat4Mode:!0,scope:this};for(f in a)if(a.hasOwnProperty(f)){g=a[f];g.field=
this;g.id=f;if(c&&!1!==g.hideOnReadOnly||b&&!1!==g.hidden)g.hidden=!0;e&&!1!==g.repeatClick&&(g.repeatClick=!0);g=a[f]=Ext.form.trigger.Trigger.create(g);d.push(g)}Ext.Array.sort(d,Ext.form.trigger.Trigger.weightComparator);return a},invokeTriggers:function(a,b){var c=this.getTriggers(),d,e;if(c)for(d in c)c.hasOwnProperty(d)&&(e=c[d],e[a].apply(e,b||[]))},getTrigger:function(a){return this.getTriggers()[a]},updateHideTrigger:function(a){this.invokeTriggers(a?"hide":"show")},updateEditable:function(a,
b){this.setReadOnlyAttr(!a||this.readOnly)},setReadOnly:function(a){var b=this.getTriggers(),c=this.getHideTrigger(),d,e;a=!!a;this.callParent([a]);this.rendered&&this.setReadOnlyAttr(a||!this.editable);if(b)for(e in b)d=b[e],(!0===d.hideOnReadOnly||!1!==d.hideOnReadOnly&&!c)&&d.setVisible(!a)},setReadOnlyAttr:function(a){var b=this.inputEl.dom;a?b.setAttribute("readonly","readonly"):b.removeAttribute("readonly");this.ariaRole&&this.ariaEl.dom.setAttribute("aria-readonly",!!a)},processRawValue:function(a){var b=
this.stripCharsRe,c;b&&(b.global||(c="g"+(b.ignoreCase?"i":""),c+=b.multiline?"m":"",b=new RegExp(b.source,c)),b=a.replace(b,""),b!==a&&(this.setRawValue(b),a=b));return a},onDisable:function(){this.callParent();Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent();Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",
this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var a=this.emptyText,b;this.rendered&&a&&(b=1>this.getRawValue().length&&!this.hasFocus,Ext.supports.Placeholder?this.inputEl.dom.placeholder=a:b&&(this.setRawValue(a),this.valueContainsPlaceholder=!0),b?this.inputEl.addCls(this.emptyUICls):this.inputEl.removeCls(this.emptyUICls),this.autoSize())},getEmptyText:function(){return this.emptyText},setEmptyText:function(a){var b=this.inputEl,c=b&&b.dom,d=a||"";
a?(this.emptyText=d,this.applyEmptyText()):c&&(Ext.supports.Placeholder?c.removeAttribute("placeholder"):c.value!==this.getRawValue()&&(c.value="",b.removeCls(this.emptyUICls)),this.valueContainsPlaceholder=!1);this.emptyText=d;return this},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;a&&(a.dom.unselectable="on")}},toggleInvalidCls:function(a){a=a?"addCls":"removeCls";this.callParent();this.triggerWrap[a](this.triggerWrapInvalidCls);this.inputWrap[a](this.inputWrapInvalidCls)},
beforeFocus:function(){var a=this.inputEl,b=this.emptyText;this.callParent(arguments);b&&!Ext.supports.Placeholder&&a.dom.value===this.emptyText&&this.valueContainsPlaceholder?(this.setRawValue(""),a.removeCls(this.emptyUICls),this.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&a.removeCls(this.emptyUICls)},onFocus:function(a){this.callParent(arguments);this.selectOnFocus&&this.inputEl.dom.select();this.emptyText&&this.autoSize();this.addCls(this.fieldFocusCls);this.triggerWrap.addCls(this.triggerWrapFocusCls);
this.inputWrap.addCls(this.inputWrapFocusCls);this.invokeTriggers("onFieldFocus",[a])},onBlur:function(a){this.callParent(arguments);this.removeCls(this.fieldFocusCls);this.triggerWrap.removeCls(this.triggerWrapFocusCls);this.inputWrap.removeCls(this.inputWrapFocusCls);this.invokeTriggers("onFieldBlur",[a])},completeEdit:function(a){this.callParent([a]);this.applyEmptyText()},filterKeys:function(a){if(!(a.ctrlKey&&!a.altKey||a.isSpecialKey())){var b=String.fromCharCode(a.getCharCode());this.maskRe.test(b)||
a.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);a.hasOwnProperty("value")&&this.setValue(a.value)},getRawValue:function(){var a=this.callParent();a===this.emptyText&&this.valueContainsPlaceholder&&(a="");return a},setValue:function(a){var b=this.inputEl;b&&this.emptyText&&!Ext.isEmpty(a)&&(b.removeCls(this.emptyUICls),this.valueContainsPlaceholder=!1);this.callParent(arguments);this.applyEmptyText();return this},
getErrors:function(a){a=arguments.length?null==a?"":a:this.processRawValue(this.getRawValue());var b=this.callParent([a]),c=this.validator,d=this.vtype,e=Ext.form.field.VTypes,f=this.regex,g=Ext.String.format,h;Ext.isFunction(c)&&(c=c.call(this,a),!0!==c&&b.push(c));if(1>(this.allowOnlyWhitespace?a:Ext.String.trim(a)).length||a===this.emptyText&&this.valueContainsPlaceholder){this.allowBlank||b.push(this.blankText);if(!this.validateBlank)return b;h=!0}!h&&a.length<this.minLength&&b.push(g(this.minLengthText,
this.minLength));a.length>this.maxLength&&b.push(g(this.maxLengthText,this.maxLength));d&&(e[d](a,this)||b.push(this.vtypeText||e[d+"Text"]));f&&!f.test(a)&&b.push(this.regexText||this.invalidText);return b},selectText:function(a,b){var c=this.getRawValue().length,d=this.inputEl.dom;0<c&&(a=void 0===a?0:Math.min(a,c),b=void 0===b?c:Math.min(b,c),d.setSelectionRange?d.setSelectionRange(a,b):d.createTextRange&&(d=d.createTextRange(),d.moveStart("character",a),d.moveEnd("character",b-c),d.select()))},
getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var a,b,c,d,e;if(this.grow&&this.rendered&&this.getSizeModel().width.auto){d=this.inputEl;a=this.getTriggers();c=0;e=Ext.util.Format.htmlEncode(this.getGrowWidth()||(this.hasFocus?"":this.emptyText)||"");e+=this.growAppend;for(b in a)c+=a[b].el.getWidth();a=d.getTextWidth(e)+c+this.inputWrap.getBorderWidth("lr")+this.triggerWrap.getBorderWidth("lr");a=Math.min(Math.max(a,this.growMin),this.growMax);this.bodyEl.setWidth(a);
this.updateLayout();this.fireEvent("autosize",this,a)}},onDestroy:function(){this.invokeTriggers("destroy");Ext.destroy(this.triggerRepeater);this.callParent()},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var a=this.getTriggers(),b=0,c;if(a&&this.rendered)for(c in a)a.hasOwnProperty(c)&&(b+=a[c].el.getWidth());return b}}}}});
Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',
' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1E3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",ariaAttributes:{"aria-multiline":!0},
getSubTplData:function(a){var b=this.getFieldStyle(),c=this.callParent(arguments);this.grow&&this.preventScrollbars&&(c.fieldStyle=(b||"")+";overflow:hidden;height:"+this.growMin+"px");return c},afterRender:function(){this.callParent(arguments);if(this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength)this.inputEl.on("paste",this.onPaste,this)},transformRawValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},
valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){a&&"string"===typeof a&&(a=a.replace(this.returnRe,""));return a},onPaste:function(){this.pasteTask||(this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this));this.pasteTask.delay(1)},pasteCheck:function(){var a=this.getValue(),b=this.maxLength;a.length>b&&(a=a.substr(0,b),this.setValue(a))},fireKey:function(a){var b=a.getKey();a.isSpecialKey()&&(this.enterIsSpecial||b!==a.ENTER||a.hasModifier())&&
this.fireEvent("specialkey",this,a);!this.needsMaxCheck||b===a.BACKSPACE||b===a.DELETE||a.isNavKeyPress()||this.isCutCopyPasteSelectAll(a,b)||(b=this.getValue(),b.length>=this.maxLength&&a.stopEvent())},isCutCopyPasteSelectAll:function(a,b){return a.ctrlKey?b===a.A||b===a.C||b===a.V||b===a.X:!1},autoSize:function(){var a,b,c;this.grow&&this.rendered&&this.getSizeModel().height.auto&&(a=this.inputEl,b=a.getWidth(!0),c=Ext.util.Format.htmlEncode(a.dom.value)||"&#160;",c+=this.growAppend,c=c.replace(/\n/g,
"<br/>"),a=Ext.util.TextMetrics.measure(a,c,b).height+a.getPadding("tb")+this.inputWrap.getBorderWidth("tb")+this.triggerWrap.getBorderWidth("tb"),a=Math.min(Math.max(a,this.growMin),this.growMax),this.bodyEl.setHeight(a),this.updateLayout(),this.fireEvent("autosize",this,a))},beforeDestroy:function(){var a=this.pasteTask;a&&(a.cancel(),this.pasteTask=null);this.callParent()}});
Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,scrollable:!0,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,
maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(a){a=
this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:a,scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(a,b){var c=this,d,e;if(b&&"keydown"===b.type&&!b.isSpecialKey())b.getTarget(null,null,!0).on({keyup:function(b){c.btnCallback(a,b)},single:!0});else{if(c.cfg.prompt||c.cfg.multiline)e=c.cfg.multiline?c.textArea:c.textField,d=e.getValue(),e.reset();c.hide();c.userCallback(a.itemId,d,c.cfg)}},hide:function(){var a=this.cfg?this.cfg.cls:"";this.progressBar.reset();
a&&this.removeCls(a);this.callParent(arguments)},constructor:function(a){this.callParent(arguments);this.minWidth=this.defaultMinWidth=this.minWidth||this.defaultMinWidth;this.maxWidth=this.defaultMaxWidth=this.maxWidth||this.defaultMaxWidth;this.minHeight=this.defaultMinHeight=this.minHeight||this.defaultMinHeight;this.maxHeight=this.defaultMaxHeight=this.maxHeight||this.defaultMaxHeight},initComponent:function(a){a=this.id;var b,c;this.title=this.title||"&#160;";this.iconCls=this.iconCls||"";this.topContainer=
new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[this.iconComponent=new Ext.Component({cls:this.baseIconCls}),this.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[this.msg=new Ext.Component({id:a+"-msg",cls:this.baseCls+"-text"}),this.textField=new Ext.form.field.Text({id:a+"-textfield",enableKeyEvents:!0,listeners:{keydown:this.onPromptKey,scope:this}}),this.textArea=new Ext.form.field.TextArea({id:a+"-textarea",
height:75})]})]});this.progressBar=new Ext.ProgressBar({id:a+"-progressbar",margin:"0 10 10 10"});this.items=[this.topContainer,this.progressBar];this.msgButtons=[];for(b=0;4>b;b++)c=this.makeButton(b),this.msgButtons[c.itemId]=c,this.msgButtons.push(c);this.bottomTb=new Ext.toolbar.Toolbar({id:a+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[this.msgButtons[0],this.msgButtons[1],this.msgButtons[2],this.msgButtons[3]]});this.dockedItems=[this.bottomTb];this.on("close",this.onClose,
this);this.callParent()},onClose:function(){var a=this.header.child("[type=close]");a&&(a.itemId="cancel",this.btnCallback(a),delete a.itemId)},onPromptKey:function(a,b){if(b.keyCode===b.RETURN||10===b.keyCode)this.msgButtons.ok.isVisible()?this.msgButtons.ok.handler.call(this,this.msgButtons.ok):this.msgButtons.yes.isVisible()&&this.msgButtons.yes.handler.call(this,this.msgButtons.yes)},reconfigure:function(a){var b,c=!0,d=this.buttonText;b=this.resizer;var e=this.header,f=e&&!e.isHeader,g=a&&(a.message||
a.msg),h,k,l,m;this.updateButtonText();this.cfg=a=a||{};m=a.wait;a.width&&(k=a.width);a.height&&(l=a.height);this.minWidth=a.minWidth||this.defaultMinWidth;this.maxWidth=a.maxWidth||this.defaultMaxWidth;this.minHeight=a.minHeight||this.defaultMinHeight;this.maxHeight=a.maxHeight||this.defaultMaxHeight;b&&(h=b.resizeTracker,b.minWidth=h.minWidth=this.minWidth,b.maxWidth=h.maxWidth=this.maxWidth,b.minHeight=h.minHeight=this.minHeight,b.maxHeight=h.maxHeight=this.maxHeight);delete this.defaultFocus;
a.defaultFocus&&(this.defaultFocus=a.defaultFocus);this.animateTarget=a.animateTarget||void 0;this.modal=!1!==a.modal;this.setTitle(a.title||f&&e.title||this.title);this.setIconCls(a.iconCls||f&&e.iconCls||this.iconCls);Ext.isObject(a.buttons)?(this.buttonText=a.buttons,b=0):(this.buttonText=a.buttonText||this.buttonText,b=Ext.isNumber(a.buttons)?a.buttons:0);b|=this.updateButtonText();this.buttonText=d;Ext.suspendLayouts();this.width=this.height=null;if(k||l)k&&this.setWidth(k),l&&this.setHeight(l);
this.hidden=!1;this.rendered||this.render(Ext.getBody());this.closable=!1!==a.closable&&!m;if(e=this.header)(d=e.child("[type=close]"))&&d.setVisible(this.closable),a.title||this.closable||a.iconCls?e.show():e.hide();this.liveDrag=!a.proxyDrag;this.userCallback=Ext.Function.bindCallback(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global);this.setIcon(a.icon);e=this.msg;g?(e.setHtml(g),e.show()):e.hide();g=this.textArea;e=this.textField;a.prompt||a.multiline?(this.multiline=a.multiline)?(g.setValue(a.value),
g.setHeight(a.defaultTextHeight||this.defaultTextHeight),g.show(),e.hide(),this.defaultFocus=g):(e.setValue(a.value),g.hide(),e.show(),this.defaultFocus=e):(g.hide(),e.hide());g=this.progressBar;a.progress||m?(g.show(),this.updateProgress(0,a.progressText),m&&g.wait(!0===m?a.waitConfig:m)):g.hide();m=this.msgButtons;for(a=0;4>a;a++)b&Math.pow(2,a)?(this.defaultFocus||(this.defaultFocus=m[a]),m[a].show(),c=!1):m[a].hide();c?this.bottomTb.hide():this.bottomTb.show();Ext.resumeLayouts(!0)},updateButtonText:function(){var a=
this.buttonText,b=0,c,d;for(c in a)a.hasOwnProperty(c)&&(d=this.msgButtons[c])&&(this.cfg&&this.cfg.buttonText&&(b|=Math.pow(2,Ext.Array.indexOf(this.buttonIds,c))),d.text!==a[c]&&d.setText(a[c]));return b},show:function(a){var b=this,c;a=a||{};if(Ext.Component.layoutSuspendCount)return Ext.on({resumelayouts:function(){b.show(a)},single:!0}),b;b.reconfigure(a);a.cls&&b.addCls(a.cls);c=b.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");b.preventFocusOnActivate=!c.length;
b.hidden=!0;b.callParent();return b},onShow:function(){this.callParent(arguments);this.center()},updateText:function(a){this.msg.setHtml(a)},setIcon:function(a,b,c){var d=this.iconComponent,e=this.messageIconCls;e&&d.removeCls(e);a?(d.show(),(b||c)&&d.setSize(b||d.getWidth(),c||d.getHeight()),d.addCls(Ext.baseCSSPrefix+"dlg-icon"),d.addCls(this.messageIconCls=a)):(d.removeCls(Ext.baseCSSPrefix+"dlg-icon"),d.hide());return this},updateProgress:function(a,b,c){this.progressBar.updateProgress(a,b);c&&
this.updateText(c);return this},onEsc:function(){!1!==this.closable&&this.callParent(arguments)},confirm:function(a,b,c,d){Ext.isString(a)&&(a={title:a,icon:this.QUESTION,message:b,buttons:this.YESNO,callback:c,scope:d});return this.show(a)},prompt:function(a,b,c,d,e,f){Ext.isString(a)&&(a={prompt:!0,title:a,minWidth:this.minPromptWidth,message:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:f});return this.show(a)},wait:function(a,b,c){Ext.isString(a)&&(a={title:b,message:a,closable:!1,
wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:c});return this.show(a)},alert:function(a,b,c,d){Ext.isString(a)&&(a={title:a,message:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth});return this.show(a)},progress:function(a,b,c){Ext.isString(a)&&(a={title:a,message:b,progress:!0,progressText:c});return this.show(a)}},function(a){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new a})});
Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:!1,getElConfig:function(){this.html=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"";return Ext.apply(this.callParent(),{htmlFor:this.forId||""})},setText:function(a,b){(b=!1!==b)?(this.text=a,delete this.html):(this.html=a,delete this.text);this.rendered&&(this.el.dom.innerHTML=!1!==b?Ext.util.Format.htmlEncode(a):a,this.updateLayout());return this}});
Ext.define("Ext.selection.Model",{extend:Ext.mixin.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:[Ext.util.StoreHolder,Ext.mixin.Factoryable],alias:"selection.abstract",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:!1,$configStrict:!1,config:{store:null,selected:{}},isSelectionModel:!0,allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(a){this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0};this.callParent([a]);
this.setSelectionMode(this.mode);"SINGLE"!==this.selectionMode&&(this.allowDeselect=!0)},updateStore:function(a,b){this.bindStore(a,!b)},applySelected:function(a){a.isCollection||(a=new Ext.util.Collection(Ext.apply({rootProperty:"data"},a)));return a},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate,idchanged:this.onIdChanged,load:this.onStoreLoad,refresh:this.onStoreRefresh,pageadd:this.onPageAdd,pageremove:this.onPageRemove}},
suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(a){var b=this.store.getRange(),c=this.getSelection().length;this.suspendChanges();this.doSelect(b,!0,a);this.resumeChanges();a||this.destroyed||this.maybeFireSelectionChange(this.getSelection().length!==c)},deselectAll:function(a){var b=this.getSelection(),c={},d=this.store,e=b.length,f,g,h;f=0;for(g=b.length;f<g;f++)h=b[f],c[h.id]=d.indexOf(h);b=Ext.Array.sort(b,function(a,
b){return c[a.id]<c[b.id]?-1:1});this.suspendChanges();this.doDeselect(b,a);this.resumeChanges();a||this.destroyed||this.maybeFireSelectionChange(this.getSelection().length!==e)},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(a){this.selectionStart=a},selectWithEvent:function(a,b){var c=this.isSelected(a),d=b.shiftKey;switch(this.selectionMode){case "MULTI":this.selectWithEventMulti(a,b,c);break;case "SIMPLE":this.selectWithEventSimple(a,b,c);break;case "SINGLE":this.selectWithEventSingle(a,
b,c)}d||(this.isSelected(a)?this.selectionStart=a:this.selectionStart=null)},vetoSelection:function(a){if(a.stopSelection)return!0;if("keydown"!==a.type&&0!==a.button){if(this.ignoreRightMouseSelection||this.isSelected(a.record))return!0}else return"mousedown"===a.type},onNavigate:function(a){if(a.record&&!this.vetoSelection(a.keyEvent)){this.onBeforeNavigate(a);var b=a.keyEvent,c=b.ctrlKey||a.ctrlKey,d=a.recordIndex,e=a.record,f=a.previousRecord,g=this.isSelected(e),h=this.selectionStart&&this.isSelected(a.previousRecord)?
this.selectionStart:this.selectionStart=a.previousRecord,k=a.previousRecordIndex,l=b.getCharCode(),m=l===b.SPACE,n=l===b.UP||l===b.PAGE_UP||l===b.HOME?"up":l===b.DOWN||l===b.PAGE_DOWN||l===b.END?"down":null;switch(this.selectionMode){case "MULTI":this.setSelectionStart(a.selectionStart);l===b.A&&c?(this.selected.beginUpdate(),this.selectRange(0,this.store.getCount()-1),this.selected.endUpdate()):m?b.shiftKey?this.selectRange(h,e,c):g?this.allowDeselect&&this.doDeselect(e):this.doSelect(e,c):b.shiftKey&&
h?("up"===n&&k<=d?this.deselectRange(f,d+1):"down"===n&&k>=d?this.deselectRange(f,d-1):h!==e&&this.selectRange(h,e,c),this.lastSelected=e):l?c||this.doSelect(e,!1):this.selectWithEvent(e,b);break;case "SIMPLE":l===b.A&&c?(this.selected.beginUpdate(),this.selectRange(0,this.store.getCount()-1),this.selected.endUpdate()):g?this.doDeselect(e):this.doSelect(e,!0);break;case "SINGLE":c||(n?this.doSelect(e,!1):!m&&l||this.selectWithEvent(e,b))}b.shiftKey||this.destroyed||!this.isSelected(e)||(this.selectionStart=
e,this.selectionStartIdx=d)}},selectRange:function(a,b,c){var d=this.store,e=this.selected.items,f,g,h,k,l;if(!this.isLocked()){b=this.normalizeRowRange(a,b);a=b[0];b=b[1];g=[];for(f=a;f<=b;f++)this.isSelected(d.getAt(f))||g.push(d.getAt(f));if(!c){h=[];this.suspendChanges();f=0;for(c=e.length;f<c;++f)l=e[f],k=d.indexOf(l),(k<a||k>b)&&h.push(l);f=0;for(c=h.length;f<c;++f)this.doDeselect(h[f]);this.resumeChanges()}this.destroyed||(g.length?this.doMultiSelect(g,!0):h&&this.maybeFireSelectionChange(0<
h.length))}},deselectRange:function(a,b){var c=this.store,d,e,f;if(!this.isLocked()){d=this.normalizeRowRange(a,b);a=d[0];b=d[1];e=[];for(d=a;d<=b;d++)f=c.getAt(d),this.isSelected(f)&&e.push(f);e.length&&this.doDeselect(e)}},normalizeRowRange:function(a,b){var c=this.store;Ext.isNumber(a)||(a=c.indexOf(a));a=Math.max(0,a);Ext.isNumber(b)||(b=c.indexOf(b));b=Math.min(b,c.getCount()-1);a>b&&(c=b,b=a,a=c);return[a,b]},select:function(a,b,c){!Ext.isDefined(a)||Ext.isArray(a)&&!a.length||this.doSelect(a,
b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){if(!this.locked&&null!=a){if("number"===typeof a){a=this.store.getAt(a);if(!a)return;a=[a]}"SINGLE"===this.selectionMode?(a.isModel&&(a=[a]),a.length&&this.doSingleSelect(a[0],c)):this.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){var d=this,e=d.selected,f=!1,g,h,k;if(!d.locked){a=Ext.isArray(a)?a:[a];g=a.length;if(!b&&0<e.getCount()){b=d.deselectDuringSelect(a,c);if(d.destroyed)return;if(b[0]){d.maybeFireSelectionChange(0<
b[1]&&!c);return}f=0<b[1]}k=function(){e.getCount()||(d.selectionStart=h);e.add(h);f=!0};for(b=0;b<g;b++)if(h=a[b],!d.isSelected(h)&&(d.onSelectChange(h,!0,c,k),d.destroyed))return;d.lastSelected=h;d.maybeFireSelectionChange(f&&!c)}},deselectDuringSelect:function(a,b){var c=this.selected.getRange(),d=c.length,e=0,f=!1,g,h;this.suspendChanges();this.deselectingDuringSelect=!0;for(h=0;h<d;++h)if(g=c[h],Ext.Array.contains(a,g)||(this.doDeselect(g,b)?++e:f=!0),this.destroyed){f=!0;e=0;break}this.deselectingDuringSelect=
!1;this.resumeChanges();return[f,e]},doDeselect:function(a,b){var c=this,d=c.selected,e=0,f,g,h=0,k=0,l;if(c.locked||!c.store)return!1;if("number"===typeof a){g=c.store.getAt(a);if(!g)return!1;a=[g]}else Ext.isArray(a)||(a=[a]);l=function(){++k;d.remove(g);g===c.selectionStart&&(c.selectionStart=null)};f=a.length;for(c.suspendChanges();e<f;e++)if(g=a[e],c.isSelected(g)&&(c.lastSelected===g&&(c.lastSelected=d.last()),++h,c.onSelectChange(g,!1,b,l),c.destroyed))return!1;c.resumeChanges();c.maybeFireSelectionChange(0<
k&&!b);return k===h},doSingleSelect:function(a,b){var c=this,d=!1,e=c.selected;c.locked||c.isSelected(a)||(c.onSelectChange(a,!0,b,function(){if(e.getCount()){c.suspendChanges();var f=c.deselectDuringSelect([a],b);if(c.destroyed)return;c.resumeChanges();if(f[0])return!1}c.lastSelected=a;e.getCount()||(c.selectionStart=a);e.add(a);d=!0}),d&&!c.destroyed&&c.maybeFireSelectionChange(!b))},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.fireEvent("selectionchange",this,this.getSelection())},
getLastSelected:function(){return this.lastSelected},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(a,b){var c=this.store,d;d=this.normalizeRowRange(a,b);a=d[0];b=d[1];for(d=a;d<=b;d++)if(!this.isSelected(c.getAt(d)))return!1;return!0},
isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){var a=this.getSelected();return!(!a||!a.getCount())},refresh:function(){var a=this.store,b=[],c=[],d=this.getSelection(),e=d.length,f=this.getSelected(),g,h,k,l;if(a&&(f.isCollection||f.isRows)&&f.getCount()){a=a.getData();a.getSource&&(h=a.getSource())&&(a=h);this.refreshing=!0;f.beginUpdate();this.suspendChanges();for(l=0;l<e&&(h=d[l],(k=a.get(h.getId()))?b.push(k):this.pruneRemoved||
c.push(h),"SINGLE"!==this.mode||!c.length);l++);f.getCount()!==b.length+c.length&&(g=!0);this.clearSelections();b.length&&this.doSelect(b,!1,!0);c.length&&(f.add(c),this.lastSelected||(this.lastSelected=c[c.length-1]));this.resumeChanges();g?f.endUpdate():f.updating--;this.refreshing=!1;this.maybeFireSelectionChange(g)}},clearSelections:function(){var a=this.getSelected();a&&a.clear();this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){!this.store.isLoading()&&this.hasSelection()&&
(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(a,b,c,d){c=b;var e,f;this.selectionStart&&Ext.Array.contains(b,this.selectionStart)&&(this.selectionStart=null);if(!d&&!this.locked&&this.pruneRemoved){if(f=a.isMoving(null,!0))for(c=null,a=0,d=b.length;a<d;++a)e=b[a],f[e.id]||(c||(c=[])).push(e);c&&this.deselect(c)}},onPageRemove:function(a,b,c){this.onStoreRemove(this.store,c)},onPageAdd:function(a,b,c){a=c.length;var d;for(b=0;b<a;b++)d=c[b],this.selected.get(d.id)&&
this.selected.replace(d)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearSelections();this.bindStore(null);this.selected=Ext.destroy(this.selected);this.callParent()},onStoreUpdate:Ext.emptyFn,onIdChanged:function(a,b,c,d){this.selected.updateKey(b,c)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(a){var b=this.getStore(),c=this.lastSelected,d=0,e=this.pruneRemovedOnRefresh(),f,g,h,k,
l;if(!b.isBufferedStore){f=a.getRange();g=f.length;c&&(this.lastSelected=b.getById(c.id),l=this.lastSelected!==c);this.refreshing=!0;for(c=0;c<g;++c)h=f[c],(k=b.getById(h.id))?k!==h&&a.replace(k):e&&(a.remove(h),++d);this.refreshing=!1;this.maybeFireSelectionChange(0<d);l&&this.fireEvent("lastselectedchanged",this,this.getSelection(),this.lastSelected)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(a,b,c,d){b=b?"select":"deselect";!1!==
(c||this.fireEvent("before"+b,this,a))&&!1!==d()&&(c||this.fireEvent(b,this,a))},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){Ext.Array.include(this.views||(this.views=[]),a)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(a){var b=this.view,c;b&&(c=b.resolveSatelliteListenerScope(this,a));return c||this.callParent([a])},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,selectWithEventMulti:function(a,b,c){var d=b.shiftKey,e=b.ctrlKey,f=d?this.getSelectionStart():
null;b=this.getSelection();var g=b.length;if(d&&f)this.selectRange(f,a,e);else if(e&&c)this.allowDeselect&&this.doDeselect(a,!1);else if(e)this.doSelect(a,!0,!1);else if(c&&!d&&!e&&1<g){if(this.allowDeselect){c=[];for(d=0;d<g;++d)e=b[d],e!==a&&c.push(e);this.doDeselect(c)}}else c||this.doSelect(a,!1)},selectWithEventSimple:function(a,b,c){c?this.doDeselect(a):this.doSelect(a,!0)},selectWithEventSingle:function(a,b,c){var d=this.allowDeselect;d&&!b.ctrlKey&&(d=this.toggleOnClick);d&&c?this.doDeselect(a):
this.doSelect(a,!1)}}});
Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,alias:"selection.dataviewmodel",deselectOnContainerClick:!0,bindComponent:function(a){var b;this.view!==a&&(this.view&&(this.navigationModel=null,Ext.destroy(this.viewListeners,this.navigationListeners)),this.view=a)&&(b=this.getViewListeners(),b.scope=this,b.destroyable=!0,this.navigationModel=a.getNavigationModel(),this.viewListeners=a.on(b),this.navigationListeners=this.navigationModel.on({navigate:this.onNavigate,scope:this,
destroyable:!0}))},getViewListeners:function(){var a={};a[this.view.triggerCtEvent]=this.onContainerClick;return a},onUpdate:function(a){var b=this.view;if(b&&this.isSelected(a))b.onItemSelect(a)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(a,b,c,d){var e=this.view,f=b?"select":"deselect",g=this.store.indexOf(a);if(!1!==(c||this.fireEvent("before"+f,this,a,g))&&!1!==d()){if(e)if(b)e.onItemSelect(a);else e.onItemDeselect(a);c||this.fireEvent(f,
this,a,g)}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);this.callParent()}});
Ext.define("Ext.view.NavigationModel",{mixins:[Ext.util.Observable,Ext.mixin.Factoryable,Ext.util.StoreHolder],alias:"view.navigation.default",config:{store:null},focusCls:Ext.baseCSSPrefix+"view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(a){this.view!==a&&(this.view=a,this.bindView(a))},bindView:function(a){var b=a.dataSource;this.initKeyNav(a);b.isEmptyStore||this.setStore(b);b=this.getViewListeners();b.destroyable=!0;this.viewListeners=
this.viewListeners||[];this.viewListeners.push(a.on(b))},updateStore:function(a){this.mixins.storeholder.bindStore.apply(this,[a])},getViewListeners:function(){return{containermousedown:this.onContainerMouseDown,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemMouseDown,scope:this}},initKeyNav:function(a){this.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:this.processViewEvent,up:this.onKeyUp,
down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,A:{ctrl:!0,handler:this.onSelectAllKeyPress},scope:this})},processViewEvent:function(a,b,c,d,e){return e},addKeyBindings:function(a){this.keyNav.addBindings(a)},enable:function(){this.keyNav.enable();this.disabled=!1},disable:function(){this.keyNav.disable();this.disabled=!0},onContainerMouseDown:function(a,
b){"mouse"===b.pointerType&&Ext.getScrollbarSize().width&&(a.el.getClientRegion().contains(b.getPoint())||b.preventDefault())},onItemMouseDown:function(a,b,c,d,e){"touch"!==e.pointerType&&this.setPosition(d)},onItemClick:function(a,b,c,d,e){this.record===b?this.fireNavigateEvent(e):this.setPosition(d,e)},setPosition:function(a,b,c,d){var e=this.view,f=e.getSelectionModel(),g=e.dataSource,h,k;null!=a&&e.all.getCount()?"number"===typeof a?(k=Math.max(Math.min(a,g.getCount()-1),0),h=g.getAt(a)):a.isEntity?
(h=g.getById(a.id),k=g.indexOf(h),-1===k&&(h=g.getAt(0),k=0)):a.tagName?(h=e.getRecord(a),k=g.indexOf(h)):h=k=null:this.record=this.recordIndex=null;if(h===this.record)return this.recordIndex=k,this.focusPosition(k);this.item&&this.item.removeCls(this.focusCls);this.previousRecordIndex=this.recordIndex;this.previousRecord=this.record;this.previousItem=this.item;this.recordIndex=k;this.record=h;d=d||this.record===this.lastFocused;h?this.focusPosition(this.recordIndex):this.item=null;c||f.fireEvent("focuschange",
f,this.previousRecord,this.record);!d&&b&&this.fireNavigateEvent(b)},focusPosition:function(a){null!=a&&-1!==a?(a.isEntity&&(a=this.view.dataSource.indexOf(a)),(this.item=this.view.all.item(a))?(this.lastFocused=this.record,this.lastFocusedIndex=this.recordIndex,this.focusItem(this.item)):this.record=null):this.item=null},focusItem:function(a){a.addCls(this.focusCls);a.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},
getRecord:function(){return this.record},getLastFocused:function(){return-1===this.view.dataSource.indexOf(this.lastFocused)?null:this.lastFocused},onKeyUp:function(a){var b=this.recordIndex-1;0>b&&(b=this.view.all.getCount()-1);this.setPosition(b,a)},onKeyDown:function(a){var b=this.recordIndex+1;b>this.view.all.getCount()-1&&(b=0);this.setPosition(b,a)},onKeyRight:function(a){var b=this.recordIndex+1;b>this.view.all.getCount()-1&&(b=0);this.setPosition(b,a)},onKeyLeft:function(a){var b=this.recordIndex-
1;0>b&&(b=this.view.all.getCount()-1);this.setPosition(b,a)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(a){this.setPosition(0,a)},onKeyEnd:function(a){this.setPosition(this.view.all.getCount()-1,a)},onKeySpace:function(a){this.fireNavigateEvent(a)},onKeyEnter:function(a){a.stopEvent();a.view.fireEvent("itemclick",a.view,a.record,a.item,a.recordIndex,a)},onSelectAllKeyPress:function(a){this.fireNavigateEvent(a)},fireNavigateEvent:function(a){this.fireEvent("navigate",{navigationModel:this,
keyEvent:a,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,recordIndex:this.recordIndex,record:this.record,item:this.item})},destroy:function(){this.setStore(null);Ext.destroy(this.viewListeners,this.keyNav);this.keyNav=this.viewListeners=this.dataSource=this.lastFocused=null;this.callParent()}});
Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:[Ext.util.StoreHolder],inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(a,b,c,d,e){b=this.changeQueue||(this.changeQueue={});var f=c.internalId,g,h,k,l;g=b[f]||(b[f]={operation:d,record:c,data:{},views:[]});
d=g.data;Ext.Array.include(g.views,a);if(e&&(h=e.length)){for(a=0;a<h;a++)g=e[a],k=c.data[g],d.hasOwnProperty(g)?c.isEqual(d[g],k)&&(delete d[g],l=!0):d[g]=k;l&&!Ext.Object.getKeys(d).length&&delete b[f]}else Ext.apply(d,c.data);this.flushQueueTask||(this.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(this.onFlushTick,this):Ext.Function.bind(this.onFlushTick,this),interval:Ext.view.AbstractView.updateDelay,repeat:1}));this.flushQueueTask.start()},
onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var a,b,c,d,e,f,g;if(Ext.isScrolling)this.flushQueueTask.start();else{c=this.changeQueue;this.changeQueue={};for(e in c)for(d=c[e],a=d.views,b=a.length,f=0;f<b;f++)g=a[f],g.destroyed||g.handleUpdate(g.dataSource,d.record,d.operation,Ext.Object.getKeys(d.data));Ext.AnimationQueue.stop(this.flushChangeQueue,this)}}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},
selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:!1,deferInitialRefresh:!1,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,preserveScrollOnReload:!1,ariaRole:"listbox",itemAriaRole:"option",last:!1,focusable:!0,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",
refreshNeeded:!0,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(a){a&&a.selModel&&(a.selectionModel=a.selModel);this.callParent([a])},initComponent:function(){var a=this.itemTpl,b={};a&&(Ext.isArray(a)?("string"!==typeof a[a.length-1]&&(a=a.slice(0),b=a.pop()),a=a.join("")):Ext.isObject(a)&&(b=Ext.apply(b,a.initialConfig),a=a.html),this.itemSelector||(this.itemSelector="."+this.itemCls),a=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',this.itemCls,
a,this.itemAriaRole),this.tpl=new Ext.XTemplate(a,b));this.callParent();this.tpl=this.getTpl("tpl");this.overItemCls&&(this.trackOver=!0);this.addCmpEvents();a=this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");this.dataSource||(this.dataSource=a);this.bindStore(a,!0);this.getNavigationModel().bindComponent(this);this.all||(this.all=new Ext.CompositeElementLite);this.scrollState={top:0,left:0};this.savedTabIndexAttribute="data-savedtabindex-"+this.id},getElConfig:function(){var a=
this.mixins.renderable.getElConfig.call(this);this.focusable&&(a.tabIndex=0);return a},onRender:function(){var a=this.loadMask;this.callParent(arguments);a&&this.createMask(a)},beforeLayout:function(){this.callParent(arguments);this.refreshNeeded&&!this.pendingRefresh&&(this.refreshCounter?this.refresh():this.doFirstRefresh(this.dataSource))},onMaskBeforeShow:function(){var a=this.loadingHeight;a&&a>this.getHeight()&&(this.hasLoadingHeight=!0,this.oldMinHeight=this.minHeight,this.minHeight=a,this.updateLayout())},
onMaskHide:function(){!this.destroying&&this.hasLoadingHeight&&(this.minHeight=this.oldMinHeight,this.updateLayout(),delete this.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var a=this.loadMask,b=[];a&&a.isComponent&&b.push(a);return b},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(a){var b;
this.ignoreNextSelection||(this.ignoreNextSelection=!0,b=this.getSelectionModel(),a?b.select(a):b.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(a,b){var c=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b.length&&(c=a.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(c),this.ignoreNextSelection=!1)},applySelectionModel:function(a,b){var c=this.grid,d;b?(b.un({scope:this,selectionchange:this.updateBindSelection,lastselectedchanged:this.updateBindSelection,
select:this.ariaSelect,deselect:this.ariaDeselect}),Ext.destroy(this.selModelRelayer),a=Ext.Factory.selection(a)):a&&a.isSelectionModel?a.locked=this.disableSelection:(d=this.simpleSelect?"SIMPLE":this.multiSelect?"MULTI":"SINGLE","string"===typeof a&&(a={type:a}),a=Ext.Factory.selection(Ext.apply({allowDeselect:this.allowDeselect||this.multiSelect,mode:d,locked:this.disableSelection},a)));"SINGLE"!==a.mode&&((d=(c||this).ariaEl.dom)?d.setAttribute("aria-multiselectable",!0):c||(c=this.ariaRenderAttributes||
(this.ariaRenderAttributes={}),c["aria-multiselectable"]=!0));this.selModelRelayer=this.relayEvents(a,"selectionchange beforeselect beforedeselect select deselect focuschange".split(" "));a.on({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection,select:this.ariaSelect,deselect:this.ariaDeselect});return a},updateSelectionModel:function(a){this.selModel=a},applyNavigationModel:function(a){return Ext.Factory.viewNavigation(a)},onFocusEnter:function(a){var b=
this.getNavigationModel(),c;this.toggleChildrenTabbability(!1);!this.itemFocused&&this.all.getCount()&&(c=b.getLastFocused(),b.setPosition(c||0,a.event,null,!c),this.itemFocused=null!=b.getPosition());this.itemFocused&&this.el.dom.setAttribute("tabIndex","-1");this.callParent([a])},onFocusLeave:function(a){this.itemFocused&&!this.refreshing&&(this.getNavigationModel().setPosition(null,a.event,null,!0),this.itemFocused=!1,this.el.dom.setAttribute("tabIndex",0));this.callParent([a])},ariaSelect:function(a,
b){var c=this.getNode(b);c&&c.setAttribute("aria-selected",!0)},ariaDeselect:function(a,b){var c=this.getNode(b);c&&c.removeAttribute("aria-selected")},onRemoved:function(a){this.callParent([a]);if(!a)this.onFocusLeave({})},refresh:function(){var a=this.all,b=a.getCount(),c=this.refreshCounter,d,e,f=this.getSelectionModel(),g,h=c&&a.getCount()&&this.preserveScrollOnRefresh&&this.getScrollable(),k;!this.rendered||this.destroyed||this.hasListeners.beforerefresh&&!1===this.fireEvent("beforerefresh",
this)||(this.refreshing=!0,g=this.saveFocusState(),d=this.getTargetEl(),e=this.getViewRange(),h&&(k=h.getPosition(),k.x||k.y||(k=null)),c?(this.clearViewEl(),this.refreshCounter++):this.refreshCounter=1,this.tpl.append(d,this.collectData(e,a.startIndex||0)),1>e.length?(this.addEmptyText(),a.clear()):(this.collectNodes(d.dom),this.updateIndexes(0)),g(),!1!==this.refreshSelmodelOnRefresh&&f.refresh(),this.refreshNeeded=!1,this.refreshSize(a.getCount()!==b),this.fireEvent("refresh",this,e),h&&h.scrollTo(k),
this.viewReady||(this.viewReady=!0,this.fireEvent("viewready",this)),this.refreshing=!1,this.refreshScroll(),this.cleanupData())},addEmptyText:function(){var a=this.getStore();this.emptyText&&!a.isLoading()&&(!this.deferEmptyText||1<this.refreshCounter||a.isLoaded())&&(this.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",this.getTargetEl().dom,this.emptyText))},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(a){var b=this.getSizeModel(),c=this.getScrollable();if(b.height.shrinkWrap||
b.width.shrinkWrap||a)this.updateLayout();else if(this.touchScroll&&!this.bufferedRenderer)if(c)c.refresh();else this.on({boxready:this.refreshScroll,scope:this,single:!0})},afterFirstLayout:function(a,b){var c=this.getScrollable();if(c)c.on({scroll:this.onViewScroll,scrollend:this.onViewScrollEnd,scope:this,onFrame:!!Ext.global.requestAnimationFrame});this.callParent([a,b])},clearViewEl:function(){var a=this.getTargetEl(),b=this.getNodeContainer()===a;this.clearEmptyEl();this.all.clear(!b);b&&(a.dom.innerHTML=
"")},clearEmptyEl:function(){var a=this.emptyEl;a&&Ext.removeNode(a);this.emptyEl=null},onViewScroll:function(a,b,c){this.fireEvent("scroll",this,b,c)},onViewScrollEnd:function(a,b,c){this.fireEvent("scrollend",this,b,c)},saveScrollState:function(){var a=this.scrollState;this.rendered&&(a.left=this.getScrollX(),a.top=this.getScrollY())},restoreScrollState:function(){var a=this.scrollState;this.rendered&&(this.setScrollX(a.left),this.setScrollY(a.top))},prepareData:function(a,b,c){var d,e;if(c)for(d in b=
c.getAssociatedData(),b)b.hasOwnProperty(d)&&(e||(a=Ext.Object.chain(a),e=!0),a[d]=b[d]);return a},collectData:function(a,b){for(var c=[],d=0,e=a.length,f;d<e;d++)f=a[d],c[d]=this.prepareData(f.data,b+d,f);return c},cleanupData:Ext.emptyFn,bufferRender:function(a,b){var c=this.renderBuffer,d=document.createDocumentFragment(),e,f;this.tpl.overwrite(c,this.collectData(a,b));c=Ext.fly(c).query(this.getItemSelector());f=0;for(e=c.length;f<e;f++)d.appendChild(c[f]);return{fragment:d,children:c}},nodeContainerSelector:null,
getNodeContainer:function(){var a=this.getTargetEl(),b=this.nodeContainerSelector;return b?a.down(b,!0):a},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(a,b,c,d,e){e&&e.filtered||!this.getNode(b)||(this.throttledUpdate?this.statics().queueRecordChange(this,a,b,c,d):this.handleUpdate.apply(this,arguments))},handleUpdate:function(a,b){var c,d,e=this.getSelectionModel();if(this.viewReady&&(c=this.dataSource.indexOf(b),-1<c&&this.getNode(b))){d=this.bufferRender([b],
c).children[0];this.all.replaceElement(c,d,!0);this.updateIndexes(c,c);e.onUpdate(b);this.refreshSizePending=!0;if(e.isSelected(b))this.onItemSelect(b);this.hasListeners.itemupdate&&this.fireEvent("itemupdate",b,c,d);return d}},onReplace:function(a,b,c,d){var e=this.all;a=this.getSelectionModel();var f=b,g,h,k,l;this.rendered&&(g=this.bufferRender(d,b,!0),k=g.fragment,g=g.children,(h=e.item(b))?e.item(b).insertSibling(k,"before",!0):this.appendNodes(k),e.insert(b,g),c.length&&(l=this.saveFocusState()),
b+=d.length,k=b+c.length-1,e=e.removeRange(b,k,!0),!1!==this.refreshSelmodelOnRefresh&&a.refresh(),this.updateIndexes(b),this.hasListeners.itemremove&&this.fireEvent("itemremove",c,f,e,this),this.hasListeners.itemadd&&this.fireEvent("itemadd",d,f,g),l(),this.refreshSize())},onAdd:function(a,b,c){var d=this.getSelectionModel();this.rendered&&(0===this.all.getCount()?(this.refresh(),a=this.all.slice()):(a=this.doAdd(b,c),!1!==this.refreshSelmodelOnRefresh&&d.refresh(),this.updateIndexes(c),this.refreshSizePending=
!0),this.hasListeners.itemadd&&this.fireEvent("itemadd",b,c,a))},appendNodes:function(a){var b=this.all,c=b.getCount();this.nodeContainerSelector?this.getNodeContainer().appendChild(a):b.item(c-1).insertSibling(a,"after")},doAdd:function(a,b){var c=this.bufferRender(a,b,!0),d=c.fragment,c=c.children,e=this.all,f=e.getCount(),g=e.startIndex||0,h=e.endIndex||f-1;0===f||b>h?this.appendNodes(d):b<=g?e.item(g).insertSibling(d,"before",!0):e.item(b).insertSibling(c,"before",!0);e.insert(b,c);return c},
onRemove:function(a,b,c){a=this.all;var d=this.hasListeners.itemremove,e,f,g,h,k,l;if(a.getCount()){if(0===this.dataSource.getCount())d&&this.fireEvent("itemremove",b,c,this.getNodes(c,c+b.length-1)),this.refresh();else{l=this.saveFocusState();d&&(h=[]);for(f=b.length-1;0<=f;--f)g=b[f],e=c+f,h&&(k=a.item(e),h[f]=k?k.dom:void 0),a.item(e)&&this.doRemove(g,e);d&&this.fireEvent("itemremove",b,c,h,this);l();this.updateIndexes(c)}this.refreshSizePending=!0}},doRemove:function(a,b){this.all.removeElement(b,
!0)},saveFocusState:function(){var a=this,b=a.dataSource||a.store,c=a.getNavigationModel(),d=c.recordIndex,e=c.record;return a.el.contains(Ext.Element.getActiveElement())?(a.el.dom.focus(),function(){b.getCount()&&(d=Math.min(d,a.all.getCount()-1),c.setPosition(b.contains(e)?e:d,null,null,!0))}):Ext.emptyFn},refreshNode:function(a){Ext.isNumber(a)&&(a=this.store.getAt(a));this.onUpdate(this.dataSource,a)},updateIndexes:function(a,b){var c=this.all.elements,d,e=this.getViewRange(),f,g=this.id;b=b||
(0===b?0:c.length-1);for(f=a||0;f<=b;f++)d=c[f],d.setAttribute("data-recordIndex",f),d.setAttribute("data-recordId",e[f].internalId),d.setAttribute("data-boundView",g)},bindStore:function(a,b){var c=this.getSelectionModel(),d=this.getNavigationModel();c.bindStore(a);c.bindComponent(a?this:null);this.mixins.storeholder.bindStore.apply(this,arguments);d.setStore(a);a&&this.componentLayoutCounter&&this.doFirstRefresh(a,!b)},doFirstRefresh:function(a,b){this.deferInitialRefresh&&!b?Ext.defer(this.doFirstRefresh,
1,this,[a,!0]):a&&!a.isLoading()&&this.refresh()},onUnbindStore:function(a){this.setMaskBind(null);this.dataSource===a&&(this.dataSource=null)},onBindStore:function(a,b){this.store.isBufferedStore&&(this.store.preserveScrollOnReload=this.preserveScrollOnReload);b&&b.isBufferedStore&&delete b.preserveScrollOnReload;this.setMaskBind(a);this.dataSource||(this.dataSource=a)},setMaskBind:function(a){var b=this.loadMask;this.rendered&&b&&a&&!b.bindStore&&(b=this.createMask());b&&b.bindStore&&b.bindStore(a)},
getStoreListeners:function(){return{refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onDataRefresh,beginupdate:this.onBeginUpdate,endupdate:this.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){this.updateSuspendCounter&&--this.updateSuspendCounter;Ext.resumeLayouts(!0);this.refreshSizePending&&(this.refreshSize(!0),this.refreshSizePending=!1)},onDataRefresh:function(a){var b=
this.preserveScrollOnRefresh;a.loadCount>this.lastRefreshLoadCount&&(this.preserveScrollOnRefresh=this.preserveScrollOnReLoad);this.refreshView();this.preserveScrollOnRefresh=b;this.lastRefreshLoadCount=a.loadCount},refreshView:function(){this.blockRefresh||!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]")?this.refreshNeeded=!0:this.bufferedRenderer?this.bufferedRenderer.refreshView():this.refresh()},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),
this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var a=[],b=this.getSelectionModel().getSelection(),c=b.length,d=0;d<c;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){for(var b=[],c=0,d=a.length,e=this.dataSource.data;c<d;c++)b[b.length]=e.getByKey(a[c].getAttribute("data-recordId"));return b},getRecord:function(a){return this.dataSource.getByInternalId(Ext.getDom(a).getAttribute("data-recordId"))},
isSelected:function(a){a=this.getRecord(a);return this.getSelectionModel().isSelected(a)},select:function(a,b,c){this.getSelectionModel().select(a,b,c)},deselect:function(a,b){this.getSelectionModel().deselect(a,b)},getNode:function(a){var b;this.rendered&&(a||0===a)&&(Ext.isString(a)?b=document.getElementById(a):a.isModel?b=this.getNodeByRecord(a):Ext.isNumber(a)?b=this.all.elements[a]:(a.target&&a.target.nodeType&&(a=a.target),b=Ext.fly(a).findParent(this.itemSelector,this.getTargetEl())));return b||
null},getNodeByRecord:function(a){a=this.store.indexOf(a);return this.all.elements[a]||null},getNodes:function(a,b){var c=this.all;void 0!==b&&b++;return c.slice(a,b)},indexOf:function(a){return(a=this.getNode(a))||0===a?a.getAttribute("data-recordIndex")?Number(a.getAttribute("data-recordIndex")):this.all.indexOf(a):-1},onDestroy:function(){var a=this.updateSuspendCounter;this.all.clear();this.emptyEl=null;this.callParent();this.bindStore(null);this.store=this.dataSource=this.storeListeners=null;
this.selModelRelayer&&(this.selModelRelayer.destroy(),this.selModelRelayer=null);Ext.destroy(this.navigationModel,this.selectionModel);for(this.loadMask=this.navigationModel=this.selectionModel=this.selModel=null;a--;)Ext.resumeLayouts(!0)},onItemSelect:function(a){(a=this.getNode(a))&&Ext.fly(a).addCls(this.selectedItemCls)},onItemDeselect:function(a){(a=this.getNode(a))&&Ext.fly(a).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector},addItemCls:function(a,b){var c=
this.getNode(a);c&&Ext.fly(c).addCls(b)},removeItemCls:function(a,b){var c=this.getNode(a);c&&Ext.fly(c).removeCls(b)},setStore:function(a){this.store!==a&&(this.isConfiguring?this.store=a:this.bindStore(a,!1))},privates:{toggleChildrenTabbability:function(a){var b=this.getTargetEl();a?b.restoreTabbableState(!0):b.saveTabbableState({skipSelf:!0,includeSaved:!1})},collectNodes:function(a){var b=this.all,c={role:this.itemAriaRole};b.fill(Ext.fly(a).query(this.getItemSelector()),b.startIndex||0);this.focusable&&
(c.tabindex="-1");b.set(c)},createMask:function(a){var b=this.getStore();!b||b.isEmptyStore||b.loadsSynchronously()||(b={target:this,msg:this.loadingText,useMsg:this.loadingUseMsg,store:b},this.loadingCls&&(b.msgCls=this.loadingCls),Ext.isObject(a)&&(b=Ext.apply(b,a)),this.loadMask=new Ext.LoadMask(b),this.loadMask.on({scope:this,beforeshow:this.onMaskBeforeShow,hide:this.onMaskHide}));return this.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?
this.getScrollerEl():this.callParent()}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection().length},getSelectedRecords:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel");
return this.selModel.getSelection()},select:function(a,b,c){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");
return this.getSelectionModel().deselectAll()}})})});
Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",
touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){this.callParent();this.mon(this.el,{scope:this,click:this.handleEvent,longpress:this.handleEvent,mousedown:this.handleEvent,mouseup:this.handleEvent,dblclick:this.handleEvent,contextmenu:this.handleEvent,keydown:this.handleEvent,keyup:this.handleEvent,keypress:this.handleEvent,mouseover:this.handleMouseOver,mouseout:this.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(a){var b=
this.getTargetSelector(),b=a.getTarget(b);this.destroyed||(b?this.mouseOverItem!==b&&this.el.contains(b)&&(this.mouseOverItem=a.item=b,a.newType="mouseenter",this.handleEvent(a)):this.handleEvent(a))},handleMouseOut:function(a){var b=this.getTargetSelector(),c=a.getTarget(b),b=a.getRelatedTarget(b),d;c===b&&(null!==c||null!==b)||this.destroyed||(c&&(d=this.self.getBoundView(c))?(a.item=c,a.newType="mouseleave",d.handleEvent(a),d.mouseOverItem=null):this.handleEvent(a))},handleEvent:function(a){var b=
this.keyEventRe.test(a.type);a.view=this;a.item=a.getTarget(this.itemSelector);a.item&&(a.record=this.getRecord(a.item));!1!==this.processUIEvent(a)&&this.processSpecialEvent(a);b&&!Ext.fly(a.target).isInputField()&&(a.getKey()===a.SPACE||a.isNavKeyPress(!0))&&a.preventDefault();a.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(Ext.getBody().isAncestor(a.target)){var b=a.item,c=this.self,d=c.EventMap,e=c.TouchEventMap,
c=a.record,f=a.type,g=f;a.newType&&(g=a.newType);if(b){g=e[g]||g;e=a.recordIndex=this.indexInStore?this.indexInStore(c):this.indexOf(b);if(!c||!1===this.processItemEvent(c,b,e,a)||!1===this["onBeforeItem"+d[g]](c,b,e,a)||!1===this.fireEvent("beforeitem"+g,this,c,b,e,a)||!1===this["onItem"+d[g]](c,b,e,a))return!1;this.fireEvent("item"+g,this,c,b,e,a)}else{f=e[f]||f;if(!1===this.processContainerEvent(a)||!1===this["onBeforeContainer"+d[f]](a)||!1===this.fireEvent("beforecontainer"+f,this,a)||!1===this["onContainer"+
d[f]](a))return!1;this.fireEvent("container"+f,this,a)}return!0}},onItemMouseEnter:function(a,b,c,d){this.trackOver&&this.highlightItem(b)},onItemMouseLeave:function(a,b,c,d){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,
onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,
onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,
onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(a){var b=this.highlightedItem,c=this.overItemCls;b!==a&&(b&&(Ext.fly(b).removeCls(c),Ext.isIE8&&(this.repaintBorder(b),this.repaintBorder(b.nextSibling)),this.hasListeners.unhighlightitem&&this.fireEvent("unhighlightitem",this,b)),this.highlightedItem=a)&&(Ext.fly(a).addCls(this.overItemCls),Ext.isIE8&&this.repaintBorder(a.nextSibling),this.hasListeners.highlightitem&&this.fireEvent("highlightitem",
this,a))},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(a,b){var c,d,e;this.viewReady&&(c=this.getNode(b),d=this.callParent(arguments),(e=this.highlightedItem)&&e===c&&(delete this.highlightedItem,d&&this.highlightItem(d)))},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(a){a=Ext.fly(this.getNode(a));var b=this.el,c=0,d=0,e=b.getRegion();e.bottom=e.top+b.dom.clientHeight;
e.right=e.left+b.dom.clientWidth;a&&(b=a.getRegion(),b.top<e.top?c=b.top-e.top:b.bottom>e.bottom&&(c=b.bottom-e.bottom),b.left<e.left?d=b.left-e.left:b.right>e.right&&(d=b.right-e.right),(d||c)&&this.scrollBy(d,c,!1),a.set({tabIndex:-1}),a.focus())},privates:{repaintBorder:function(a){if(a=this.getNode(a))a.className=a.className}}});Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});
Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var a=this.text;this.callParent();a&&(this.html=a)},setText:function(a){this.update(a)}});
Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alias:"widget.tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",focusOnToFront:!1,maskOnDisable:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow,constrain:this.constrainPosition},this.self.prototype.floating);this.callParent(arguments);this.constrain=this.constrain||
this.constrainPosition},showAt:function(a){this.callParent(arguments);this.isVisible()&&(this.setPagePosition(a[0],a[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),this.toFront(!0))},privates:{initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(this)}},ghost:void 0,unghost:void 0});
Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5E3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1E3,ariaRole:"tooltip",initComponent:function(){this.callParent(arguments);this.lastActive=new Date;this.setTarget(this.target);this.origAnchor=this.anchor},onRender:function(a,b){this.callParent(arguments);this.anchorCls=
Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+this.anchorCls})},setTarget:function(a){a=Ext.get(a);var b;this.target&&(b=Ext.get(this.target),Ext.supports.Touch?this.mun(b,"tap",this.onTargetOver,this):this.mun(b,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this}));(this.target=a)&&(Ext.supports.Touch?this.mon(a,{tap:this.onTargetOver,scope:this}):this.mon(a,
{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this}));this.anchor&&(this.anchorTarget=this.target)},onMouseMove:function(a){var b;if(!this.target||this.target.contains(a.target))(b=this.delegate?a.getTarget(this.delegate):this.triggerElement=!0)?(this.targetXY=a.getXY(),b===this.triggerElement?!this.hidden&&this.trackMouse&&(a=this.getTargetXY(),this.constrainPosition&&(a=this.el.adjustForConstraints(a,this.el.parent())),this.setPagePosition(a)):(this.hide(),
this.lastActive=new Date(0),this.onTargetOver(a))):!this.closable&&this.isVisible()&&!1!==this.autoHide&&this.delayHide()},getTargetXY:function(){var a,b,c,d,e,f,g;this.delegate&&(this.anchorTarget=this.triggerElement);if(this.anchor){this.targetCounter++;b=this.getOffsets();c=this.anchorToTarget&&!this.trackMouse?this.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY;a=Ext.Element.getViewportWidth()-5;d=Ext.Element.getViewportHeight()-5;e=document.documentElement;f=document.body;
g=(e.scrollLeft||f.scrollLeft||0)+5;e=(e.scrollTop||f.scrollTop||0)+5;b=[c[0]+b[0],c[1]+b[1]];c=this.getSize();f=this.constrainPosition;this.anchorEl.removeCls(this.anchorCls);if(2>this.targetCounter&&f){if(b[0]<g)return this.anchorToTarget&&(this.defaultAlign="l-r",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="left",this.getTargetXY();if(b[0]+c.width>a)return this.anchorToTarget&&(this.defaultAlign="r-l",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="right",this.getTargetXY();
if(b[1]<e)return this.anchorToTarget&&(this.defaultAlign="t-b",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="top",this.getTargetXY();if(b[1]+c.height>d)return this.anchorToTarget&&(this.defaultAlign="b-t",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="bottom",this.getTargetXY()}this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.anchorEl.addCls(this.anchorCls);this.targetCounter=0;return b}a=this.getMouseOffset();return this.targetXY?[this.targetXY[0]+
a[0],this.targetXY[1]+a[1]]:a},calculateConstrainedPosition:function(a){var b,c;!a&&this.isContainedFloater()?((b=this.isVisible())||this.el.show(),c=this.getTargetXY(),b||this.el.hide(),b=this.floatParent.getTargetEl().getViewRegion(),c[0]-=b.left,c[1]-=b.top):c=this.callOverridden(arguments);return c},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];this.mouseOffset&&(a[0]+=this.mouseOffset[0],a[1]+=this.mouseOffset[1]);return a},fadeOut:function(){var a=this;a.el.fadeOut({duration:a.fadeOutDuration,
callback:function(){a.hide();a.el.setOpacity("")}})},getAnchorPosition:function(){var a;this.anchor?this.tipAnchor=this.anchor.charAt(0):(a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),this.tipAnchor=a[1].charAt(0));switch(this.tipAnchor){case "t":return"top";case "b":return"bottom";case "r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case "top":return"tl-bl";case "left":return"tl-tr";case "right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,
b;a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(a){case "t":b=[0,9];break;case "b":b=[0,-13];break;case "r":b=[-13,0];break;default:b=[9,0]}else switch(a){case "t":b=[-15-this.anchorOffset,30];break;case "b":b=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case "r":b=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:b=[25,-13-this.anchorOffset]}a=this.getMouseOffset();b[0]+=a[0];b[1]+=a[1];return b},onTargetOver:function(a){var b=
this.delegate;this.disabled||a.within(this.target.dom,!0)||!(b=b?a.getTarget(b):!0)||(this.triggerElement=b,this.triggerEvent=a,this.clearTimer("hide"),this.targetXY=a.getXY(),this.delayShow())},delayShow:function(a){a=this.el&&(!1===a||!this.trackMouse)&&this.getTargetXY();this.hidden&&!this.showTimer?Ext.Date.getElapsed(this.lastActive)<this.quickShowInterval?this.show():this.showTimer=Ext.defer(this.showFromDelay,this.showDelay,this,[a]):this.hidden||!1===this.autoHide||this.show(a)},showFromDelay:function(a){this.disabled||
(this.fromDelayShow=!0,this.show(a),delete this.fromDelayShow)},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(a){var b=this.triggerElement,c=!0===b?this.target:b;this.disabled||!b||a.within(c,!0)||(this.showTimer&&(this.clearTimer("show"),this.triggerElement=null),!1!==this.autoHide&&this.delayHide())},delayHide:function(){this.hidden||this.hideTimer||(this.hideTimer=Ext.defer(this[this.hideAction],this.hideDelay,this))},hide:function(){this.clearTimer("dismiss");
this.lastActive=new Date;this.anchorEl&&this.anchorEl.hide();this.callParent(arguments);delete this.triggerElement},show:function(a){this.callParent();!1===this.hidden&&(this.anchor&&(this.anchor=this.origAnchor),this.calledFromShowAt||this.showAt(a||this.getTargetXY()))},showAt:function(a){this.lastActive=new Date;this.clearTimers();this.calledFromShowAt=!0;this.isVisible()||this.callParent(arguments);this.isVisible()&&(this.setPagePosition(a[0],a[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),
this.toFront(!0),this.el.syncUnderlays(),this.dismissDelay&&!1!==this.autoHide&&(this.dismissTimer=Ext.defer(this.hide,this.dismissDelay,this)));delete this.calledFromShowAt},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case "t":a="b";b="tl";c=[20+this.anchorOffset,1];break;case "r":a="l";b="tr";c=[-1,12+this.anchorOffset];break;case "b":a="t";b="bl";c=[20+this.anchorOffset,-1];break;default:a="r",b="tl",c=[1,12+this.anchorOffset]}this.anchorEl.alignTo(this.el,a+"-"+b,c);this.anchorEl.setStyle("z-index",
parseInt(this.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},afterSetPosition:function(a,b){this.callParent(arguments);this.anchor?(this.syncAnchor(),this.anchorEl.isVisible()||this.anchorEl.show()):this.anchorEl.hide()},_timerNames:{},clearTimer:function(a){var b=this._timerNames;a=b[a]||(b[a]=a+"Timer");if(b=this[a])clearTimeout(b),this[a]=null},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){this.callParent();
this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent();this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){this.closable||a.within(this.el.dom)||(this.disable(),Ext.defer(this.doEnable,100,this))},doEnable:function(){this.destroyed||this.enable()},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;
delete this.anchorTarget;delete this.triggerElement;this.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});
Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:!0,shrinkWrapDock:!0,initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};this.callParent()},
setTagConfig:function(a){this.tagConfig=Ext.apply({},a);delete this.tagConfig.attr},text:null,register:function(a){for(var b=Ext.isArray(a)?a:arguments,c=0,d=b.length,e,f,g;c<d;c++)if(a=b[c],e=a.target)if(Ext.isArray(e))for(f=0,g=e.length;f<g;f++)this.targets[Ext.id(e[f])]=a;else this.targets[Ext.id(e)]=a},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this.activeTarget;a=Ext.get(a).dom;this.isVisible()?b&&b.el===a&&this.hide():b&&b.el===a&&this.clearTimer("show")},
getTipCfg:function(a,b){var c=a.title,d=this.tagConfig,e=d.attr||(d.attr=d.namespace+d.attribute),f;if(this.interceptTitles&&c&&Ext.isString(c))return a.setAttribute(e,c),a.removeAttribute("title"),{text:c};if(a=Ext.fly(a).findParent(function(a){return f=a.getAttribute(e)}))return{target:a,text:f}},onTargetOver:function(a){this.doTargetOver(a.getTarget(this.delegate),null,a)},doTargetOver:function(a,b,c){var d,e,f,g,h;if(!this.disabled&&("string"===typeof a&&(a=Ext.getDom(a)),this.targetXY=b||(c?
c.getXY():Ext.fly(a).getXY()),a&&1===a.nodeType&&a!==document.documentElement&&a!==document.body))if(this.activeTarget&&(a===this.activeTarget.el||Ext.fly(this.activeTarget.el).contains(a)))this.targetTextEmpty()?(this.onShowVeto(),delete this.activeTarget):(this.clearTimer("hide"),this.show());else{if(a){b=this.targets;for(g in b)if(b.hasOwnProperty(g)&&(h=b[g],(h=Ext.fly(h.target))&&(h.dom===a||h.contains(a)))){f=h.dom;break}if(f){this.activeTarget=this.targets[f.id];this.activeTarget.el=a;if(this.anchor=
this.activeTarget.anchor)this.anchorTarget=a;if(a=parseInt(this.activeTarget.showDelay,10))e=this.showDelay,this.showDelay=a;this.delayShow();a&&(this.showDelay=e);(d=this.activeTarget.hideAction)?this.hideAction=d:delete this.hideAction;return}}f=Ext.fly(a,"_quicktip-target");d=this.tagConfig;g=d.namespace;if(c=this.getTipCfg(a,c)){c.target&&(a=c.target,f=Ext.fly(a,"_quicktip-target"));b=f.getAttribute(g+d.hide);this.activeTarget={el:a,text:c.text,width:+f.getAttribute(g+d.width)||null,autoHide:"user"!==
b&&"false"!==b,title:f.getAttribute(g+d.title),cls:f.getAttribute(g+d.cls),align:f.getAttribute(g+d.align),showDelay:parseInt(f.getAttribute(g+d.showDelay)||0,10),hideAction:f.getAttribute(g+d.hideAction),anchorTarget:f.getAttribute(g+d.anchorTarget)};this.initialConfig.hasOwnProperty("anchor")||(this.anchor=f.getAttribute(g+d.anchor));this.anchor&&!this.initialConfig.hasOwnProperty("anchorTarget")&&(this.anchorTarget=this.activeTarget.anchorTarget||a);if(a=parseInt(this.activeTarget.showDelay,10))e=
this.showDelay,this.showDelay=a;this.delayShow();a&&(this.showDelay=e)}}},onTargetOut:function(a){var b=this.activeTarget,c;if(!b||!a.within(this.activeTarget.el)||this.getTipCfg(a.getTarget(),a))if(this.clearTimer("show"),delete this.activeTarget,!1!==this.autoHide){if(a=b&&parseInt(b.hideDelay,10))c=this.hideDelay,this.hideDelay=a;this.delayHide();a&&(this.hideDelay=c)}},targetTextEmpty:function(){var a=this.activeTarget,b=this.tagConfig,c;return a&&(c=a.el)&&(b=c.getAttribute(b.namespace+b.attribute),
!b&&!this.targets[Ext.id(a.target)])?!0:!1},show:function(){this.fromDelayShow&&this.targetTextEmpty()?(this.onShowVeto(),delete this.activeTarget):this.callParent(arguments)},showAt:function(a){var b=this.activeTarget,c=this.header;if(b){this.rendered||(this.render(Ext.getBody()),this.activeTarget=b);this.suspendLayouts();b.title?(this.setTitle(b.title),c.show()):c&&c.hide();this.update(b.text);this.autoHide=b.autoHide;c=b.dismissDelay;this.dismissDelay=Ext.isNumber(c)?c:this.dismissDelay;b.mouseOffset&&
(a[0]+=b.mouseOffset[0],a[1]+=b.mouseOffset[1]);if(c=this.lastCls)this.removeCls(c),delete this.lastCls;if(c=b.cls)this.addCls(c),this.lastCls=c;this.setWidth(b.width);this.anchor?this.constrainPosition=!1:b.align?(a=this.getAlignToXY(b.el,b.align),this.constrainPosition=!1):this.constrainPosition=!0;this.resumeLayouts(!0)}this.callParent([a])},showByTarget:function(a){var b;if(b=this.targets[a.id])this.activeTarget=b,this.activeTarget.el=Ext.get(a).dom,this.anchor=this.activeTarget.anchor,b=a.getSize(),
a=a.getXY(),this.showAt([a[0],a[1]+b.height])},hide:function(){delete this.activeTarget;this.callParent()}});
Ext.define("Ext.tip.QuickTipManager",{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(a,b){if(!this.tip){if(!Ext.isReady)return Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(a,b)}),!1;var c=Ext.apply({disabled:this.disabled,id:"ext-quicktips-tip"},b),d=c.className,e=c.xtype;d?delete c.className:e&&(d="widget."+e,delete c.xtype);!1!==a&&(c.renderTo=document.body);this.tip=Ext.create(d||"Ext.tip.QuickTip",c);Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip);
this.tip=void 0},ddDisable:function(){var a=this.tip;a&&!this.disabled&&a.disable()},ddEnable:function(){var a=this.tip;a&&!this.disabled&&a.enable()},enable:function(){var a=this.tip;a&&a.enable();this.disabled=!1},disable:function(){var a=this.tip;a&&a.disable();this.disabled=!0},isEnabled:function(){var a=this.tip;return void 0!==a&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,
arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}});Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",ariaRole:"separator"});
Ext.define("Ext.grid.CellContext",{isCellContext:!0,constructor:function(a){this.view=a},setPosition:function(a,b){if(1===arguments.length)if(a.length)b=a[0],a=a[1];else{if(a.isCellContext)return this.setAll(a.view,a.rowIdx,a.colIdx,a.record,a.columnHeader);a.view&&(this.view=a.view);b=a.column;a=a.row}this.setRow(a);this.setColumn(b);return this},setAll:function(a,b,c,d,e){this.view=a;this.rowIdx=b;this.colIdx=c;this.record=d;this.column=e;return this},setRow:function(a){var b=this.view.dataSource;
if(void 0!==a)if("number"===typeof a)this.rowIdx=Math.max(Math.min(a,b.getCount()-1),0),this.record=b.getAt(a);else if(a.isModel)this.record=a,this.rowIdx=b.indexOf(a);else if(a.tagName||a.isElement)this.record=this.view.getRecord(a),this.rowIdx=b.indexOf(this.record);return this},setColumn:function(a){var b=this.view.getVisibleColumnManager();void 0!==a&&("number"===typeof a?(this.colIdx=a,this.column=b.getHeaderAtIndex(a)):a.isHeader&&(this.column=a,this.colIdx=b.indexOf(a)));return this},getCell:function(a){return this.view.getCellByPosition(this,
a)},getRow:function(a){var b=this.view.getRow(this.record);return a?b:Ext.get(b)},getNode:function(a){var b=this.view.getNode(this.record);return a?b:Ext.get(b)},isEqual:function(a){return a&&a.isCellContext&&a.record===this.record&&a.column===this.column},clone:function(){var a=new this.self(this.view);a.rowIdx=this.rowIdx;a.colIdx=this.colIdx;a.record=this.record;a.column=this.column;return a},privates:{isFirstColumn:function(){var a=this.getCell(!0);if(a)return!a.previousSibling},isLastColumn:function(){var a=
this.getCell(!0);if(a)return!a.nextSibling},getLastColumnIndex:function(){var a=this.getRow(!0);return a?a.lastChild.cellIndex:-1},navigate:function(a){var b=this.view.getVisibleColumnManager().getColumns();switch(a){case -1:do this.colIdx?this.colIdx--:this.colIdx=b.length-1,this.setColumn(this.colIdx);while(!this.getCell(!0));break;case 1:do this.colIdx>=b.length?this.colIdx=0:this.colIdx++,this.setColumn(this.colIdx);while(!this.getCell(!0))}}},statics:{compare:function(a,b){return a.rowIdx-b.rowIdx||
a.colIdx-b.colIdx}}});
Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:Ext.baseCSSPrefix+"column-header-text-container-auto",beginLayout:function(a){this.callParent(arguments);a.titleContext=a.getEl("titleEl")},beginLayoutCycle:function(a){var b=this.owner,c=a.widthModel.shrinkWrap;this.callParent(arguments);c&&b.el.setWidth("");b.textContainerEl[c&&!b.isGroupHeader?
"addCls":"removeCls"](this.columnAutoCls);b.titleEl.setStyle(this._paddingReset)},publishInnerHeight:function(a,b){var c=this.owner,d;c.getRootHeaderCt().hiddenHeaders?a.setProp("innerHeight",0):a.hasRawContent||(c.headerWrap&&!a.hasDomProp("width")?this.done=!1:(d=b-a.getBorderInfo().height,a.setProp("innerHeight",d-c.titleEl.getHeight(),!1)))},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishInnerWidth:function(a,b){a.hasRawContent||a.setProp("innerWidth",b-a.getBorderInfo().width,
!1)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments),d=this.owner;return a.hasRawContent?c:!d.headerWrap||a.hasDomProp("width")?b+d.titleEl.getHeight()+a.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.owner,d=a.getPaddingInfo().width,e=this.getTriggerOffset(c,a);return(c.isGroupHeader?b:Math.max(b,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width))+d+e},getTriggerOffset:function(a,b){var c=0;b.widthModel.shrinkWrap&&
!a.menuDisabled&&0===a.query(">:not([hidden])").length&&(c=a.getTriggerElWidth());return c}});
Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",type:"fit",manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel();
return this.sizePolicies[(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2)]},beginLayoutCycle:function(a,b){var c=this.lastHeightModel&&this.lastHeightModel.calculated,d=this.lastWidthModel&&this.lastWidthModel.calculated,e=d||c,f=0,g=0,h,k,l,m,n,p,q;this.callParent(arguments);e&&"TD"!==a.targetContext.el.dom.tagName.toUpperCase()&&(e=d=c=!1);k=a.childItems;n=k.length;for(l=0;l<n;++l)m=k[l],b&&(h=m.target,p=h.minHeight,(q=h.minWidth)||p)&&(h=m.marginInfo||m.getMarginInfo(),p+=h.height,q+=h.height,
f<p&&(f=p),g<q&&(g=q)),e&&(m=m.el.dom.style,c&&(m.height=""),d&&(m.width=""));b&&(a.maxChildMinHeight=f,a.maxChildMinWidth=g);h=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&h.scrollFlags.x||void 0;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&h.scrollFlags.y||void 0},calculate:function(a){var b=a.childItems,c=b.length,d=this.getContainerSize(a),e={length:c,ownerContext:a,targetSize:d},f=a.widthModel.shrinkWrap,g=a.heightModel.shrinkWrap,h=a.overflowX,k=a.overflowY,
l,m,n;a.state.info=e;if(h||k)if(l=this.getScrollbarsNeeded(h&&d.width,k&&d.height,a.maxChildMinWidth,a.maxChildMinHeight))m=Ext.getScrollbarSize(),l&1&&(d.height-=m.height),l&2&&(d.width-=m.width);if(0<c)for(n=0;n<c;++n)e.index=n,this.fitItem(b[n],e);else e.contentWidth=e.contentHeight=0;if(g||f)b=a.targetContext.getPaddingInfo(),f&&(k&&!d.gotHeight?this.done=!1:(f=e.contentWidth+b.width,l&2&&(f+=m.width),a.setContentWidth(f)||(this.done=!1))),g&&(h&&!d.gotWidth?this.done=!1:(d=e.contentHeight+b.height,
l&1&&(d+=m.height),a.setContentHeight(d)||(this.done=!1)))},fitItem:function(a,b){a.invalid?this.done=!1:(b.margins=a.getMarginInfo(),b.needed=b.got=0,this.fitItemWidth(a,b),this.fitItemHeight(a,b),b.got!==b.needed&&(this.done=!1))},fitItemWidth:function(a,b){var c,d;if(b.ownerContext.widthModel.shrinkWrap)d=a.getProp("width")+b.margins.width,c=b.contentWidth,b.contentWidth=void 0===c?d:Math.max(c,d);else if(a.widthModel.calculated)if(++b.needed,b.targetSize.gotWidth)++b.got,this.setItemWidth(a,b);
else return;this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;if(b.ownerContext.heightModel.shrinkWrap)d=a.getProp("height")+b.margins.height,c=b.contentHeight,b.contentHeight=void 0===c?d:Math.max(c,d);else if(a.heightModel.calculated)if(++b.needed,b.targetSize.gotHeight)++b.got,this.setItemHeight(a,b);else return;this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;(b.index||c.left)&&a.setProp("x",c.left);c.width&&b.ownerContext.widthModel.shrinkWrap&&a.setProp("margin-right",
c.width)},positionItemY:function(a,b){var c=b.margins;(b.index||c.top)&&a.setProp("y",c.top);c.height&&b.ownerContext.heightModel.shrinkWrap&&a.setProp("margin-bottom",c.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}});
Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",actionableModeCls:Ext.baseCSSPrefix+"grid-actionable",noHeaderBordersCls:Ext.baseCSSPrefix+"no-header-borders",defaultBindProperty:"store",layout:"fit",ariaRole:"grid",config:{selection:null,headerBorders:!0},publishes:["selection"],twoWayBindable:["selection"],autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,
hasView:!1,viewType:null,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+
"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",focusable:!0,constructor:function(a){var b=a&&a.ownerGrid;this.ownerGrid=b||this;this.actionables=b?b.actionables:[];this.callParent([a]);a=this.store;a.trackStateChanges=!0;this.autoLoad&&(a.isEmptyStore||a.load())},registerActionable:function(a){Ext.Array.include(this.actionables,a)},initComponent:function(){var a=this.columns||this.colModel||[],b,c,d,e;b=this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");this.enableLocking=
this.enableLocking||this.hasLockedColumns(a);this.plugins&&(this.plugins=this.constructPlugins());this.columnLines&&this.addBodyCls(this.colLinesCls);this.addBodyCls(this.rowLines?this.rowLinesCls:this.noRowLinesCls);this.addBodyCls(this.extraBodyCls);this.enableLocking?(this.self.mixin("lockable",Ext.grid.locking.Lockable),this.injectLockable(),e=this.headerCt):a.isRootHeader?(this.hideHeaders?(a.setHeight(0),a.hiddenHeaders=!0):a.setScrollable({x:!1,y:!1}),this.headerCt=e=a,e.grid=this,e.forceFit=
!!this.forceFit,e.$initParent=this,this.columnManager=a.columnManager,this.visibleColumnManager=a.visibleColumnManager):(Ext.isArray(a)&&(a={items:a}),Ext.apply(a,{grid:this,$initParent:this,forceFit:this.forceFit,sortable:this.sortableColumns,enableColumnMove:this.enableColumnMove,enableColumnResize:this.enableColumnResize,columnLines:this.columnLines,sealed:this.sealedColumns,scrollable:this.hideHeaders?void 0:{x:!1,y:!1}}),this.hideHeaders&&(a.height=0,a.hiddenHeaders=!0),Ext.isDefined(this.enableColumnHide)&&
(a.enableColumnHide=this.enableColumnHide),this.headerCt=e=new Ext.grid.header.Container(a));this.columns=a=e.getGridColumns();this.scrollTask=new Ext.util.DelayedTask(this.syncHorizontalScroll,this);this.cls=(this.cls||"")+(" "+this.extraBaseCls);delete this.autoScroll;if(c=this.plugins&&Ext.Array.findBy(this.plugins,function(a){return a.isBufferedRenderer}))this.bufferedRenderer=c;if(!this.hasView){if(b.isBufferedStore&&!b.getRemoteSort())for(c=0,d=a.length;c<d;c++)a[c].sortable=!1;this.hideHeaders&&
(this.headerCt.addCls(this.hiddenHeaderCtCls),this.addCls(this.hiddenHeaderCls));this.relayHeaderCtEvents(e);this.features=this.features||[];Ext.isArray(this.features)||(this.features=[this.features]);this.dockedItems=[].concat(this.dockedItems||[]);this.dockedItems.unshift(e);this.viewConfig=this.viewConfig||{};a=this.getView();this.items=[a];this.hasView=!0;this.hideHeaders||(c=a.getScrollable())&&e.getScrollable().addPartner(c,"x");this.bindStore(b,!0);this.mon(a,{viewready:this.onViewReady,refresh:this.onRestoreHorzScroll,
scope:this})}this.selModel=this.view.getSelectionModel();if(this.selModel.isRowModel)this.selModel.on({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection});this.relayEvents(this.view,"beforeitemmousedown beforeitemmouseup beforeitemmouseenter beforeitemmouseleave beforeitemclick beforeitemdblclick beforeitemcontextmenu itemmousedown itemmouseup itemmouseenter itemmouseleave itemclick itemdblclick itemcontextmenu beforecellclick cellclick beforecelldblclick celldblclick beforecellcontextmenu cellcontextmenu beforecellmousedown cellmousedown beforecellmouseup cellmouseup beforecellkeydown cellkeydown rowclick rowdblclick rowcontextmenu rowmousedown rowmouseup rowkeydown beforeitemkeydown itemkeydown beforeitemkeyup itemkeyup beforeitemkeypress itemkeypress beforecontainermousedown beforecontainermouseup beforecontainermouseover beforecontainermouseout beforecontainerclick beforecontainerdblclick beforecontainercontextmenu beforecontainerkeydown beforecontainerkeyup beforecontainerkeypress containermouseup containermousedown containermouseover containermouseout containerclick containerdblclick containercontextmenu containerkeydown containerkeyup containerkeypress selectionchange beforeselect select beforedeselect deselect".split(" "));
this.callParent();this.enableLocking?this.afterInjectLockable():delete e.$initParent;this.addStateEvents("columnresize columnmove columnhide columnshow sortchange filterchange groupchange".split(" "))},beforeRender:function(){var a=this.bufferedRenderer;this.lockable?this.getProtoBody().addCls(this.lockingBodyCls):(a&&this.getSizeModel().height.auto&&(this.bufferedRenderer=a=!1),a&&!a.isBufferedRenderer&&(a={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copy(a,this,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer"),
this.bufferedRenderer=this.addPlugin(a)),a=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),a["aria-readonly"]=!this.isEditable,a["aria-multiselectable"]="SINGLE"!==this.selModel.selectionMode);this.callParent(arguments)},onRender:function(){var a,b;this.isLocked&&this.getSizeModel().width.shrinkWrap&&(this.shrinkWrapColumns=!0,b=this.headerCt.getTableWidth(),a=this.gridPanelBorderWidth||(this.gridPanelBorderWidth=this.el.getBorderWidth("lr")),this.width=b+a);this.callParent()},getHeaderContainer:function(){return this.getView().getHeaderCt()},
getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(a){var b,c,d;a.isRootHeader?a=a.items.items:Ext.isObject(a)&&(a=a.items);b=0;for(c=a.length;b<c;b++)if(d=a[b],!d.processed&&d.locked)return!0},relayHeaderCtEvents:function(a){this.relayEvents(a,
"columnresize columnmove columnhide columnshow columnschanged sortchange headerclick headercontextmenu headertriggerclick".split(" "))},getState:function(){var a=this.callParent(),b=this.store.getState(),a=this.addPropertyToState(a,"columns",this.headerCt.getColumnsState());b&&(a.storeState=b);return a},applyState:function(a){var b=a.sort,c=a.storeState,d=this.store,e=a.columns;delete a.columns;this.callParent(arguments);e&&this.headerCt.applyColumnsState(e,c);b?d.getRemoteSort()?d.sort({property:b.property,
direction:b.direction,root:b.root},null,!1):d.sort(b.property,b.direction):c&&d.applyState(c)},getStore:function(){return this.store},getView:function(){var a,b,c;this.view||(c=this.viewConfig,a=c.scroll||this.scroll,b=this.scrollable,null==b&&null==c.scrollable&&null!==a&&(!0===a||"both"===a?b=!0:!1===a||"none"===a?b=!1:"vertical"===a?b={x:!1,y:!0}:"horizontal"===a&&(b={x:!0,y:!1})),c=Ext.apply({grid:this,ownerGrid:this.ownerGrid,deferInitialRefresh:this.deferRowRender,variableRowHeight:this.variableRowHeight,
preserveScrollOnRefresh:!0,trackOver:!1!==this.trackMouseOver,throttledUpdate:!0===this.throttledUpdate,xtype:this.viewType,store:this.store,headerCt:this.headerCt,columnLines:this.columnLines,rowLines:this.rowLines,navigationModel:"grid",features:this.features,panel:this,emptyText:this.emptyText||""},this.viewConfig),null!=b&&(c.scrollable=b,this.scrollable=null),Ext.create(c),this.view.emptyText&&(this.view.emptyText='<div class="'+this.emptyCls+'">'+this.view.emptyText+"</div>"),this.view.getComponentLayout().headerCt=
this.headerCt,this.mon(this.view,{uievent:this.processEvent,scope:this}),this.headerCt.view=this.view,this.hasListeners.viewcreated&&this.fireEvent("viewcreated",this,this.view));return this.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,
applyScrollable:function(a){this.view&&this.view.setScrollable(a);return a},getScrollable:function(){return null},processEvent:function(a,b,c,d,e,f,g,h){var k=f.position.column;if(k)return k.processEvent.apply(k,arguments)},ensureVisible:function(a,b){this.doEnsureVisible(a,b)},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){this.saveScrollPos();this.callParent(arguments)},afterExpand:function(){this.callParent(arguments);
this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){var a=this.view.getScrollable(),b;a&&a.isTouchScroller&&(b=a.getSize())&&a.setSize({x:this.headerCt.getTableWidth(),y:b.y})},onHeaderMove:function(a,b,c,d,e){!1===this.optimizedColumnMove?this.view.refreshView():this.view.moveColumn(d,e,c);this.delayScroll()},onHeaderHide:function(a,b){var c=this.view;!a.childHideCount&&c.refreshCounter&&c.refreshView()},onHeaderShow:function(a,b){var c=this.view;
c.refreshCounter&&c.refreshView()},onHeadersChanged:function(a,b){this.rendered&&!this.reconfiguring&&(this.view.refreshView(),this.delayScroll())},delayScroll:function(){var a=this.view;a&&this.scrollTask.delay(10,null,null,[a])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){this.scrollXPos&&this.syncHorizontalScroll(this,!0)},getScrollerOwner:function(){var a=this;this.scrollerOwner||(a=this.up("[scrollerOwner]"));return a},getLhsMarker:function(){return this.lhsMarker||
(this.lhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(a){var b;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b=this.getSelectionModel(),a?b.select(a):b.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(a,
b){var c=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b.length&&(c=a.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(c),this.ignoreNextSelection=!1)},updateHeaderBorders:function(a){this[a?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var a=this.getScrollerOwner().query("tableview");
return a[a.length-1]},syncHorizontalScroll:function(a,b){var c=this.view.getScrollX(),d;b=!0===b;this.rendered&&(b||c!==this.scrollXPos)&&(b&&(d=this.getScrollTarget(),d.setScrollX(c)),this.headerCt.setScrollX(c),this.scrollXPos=c)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a,b){var c=this.getView();a?(this.store=a,c.store!==a&&c.bindStore(a,!1),this.mon(a,{load:this.onStoreLoad,scope:this}),this.storeRelayers=this.relayEvents(a,["filterchange","groupchange"])):
this.unbindStore()},unbindStore:function(){var a=this.store;a&&(a.trackStateChanges=!1,this.store=null,this.mun(a,{load:this.onStoreLoad,scope:this}),Ext.destroy(this.storeRelayers),a=this.view,a.store&&a.bindStore(null))},setColumns:function(a){(a.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,a)},setStore:function(a){this.reconfigure(a);!this.autoLoad||a.isEmptyStore||a.loading||a.isLoaded()||a.load()},reconfigure:function(a,b){var c=this.store,d=this.headerCt,e=this.lockable,
f=d?d.items.getRange():this.columns,g=this.getView(),h;1===arguments.length&&Ext.isArray(a)&&(b=a,a=null);b&&(b=Ext.Array.slice(b));this.reconfiguring=!0;a&&(a=Ext.StoreManager.lookup(a));this.fireEvent("beforereconfigure",this,a,b,c,f);Ext.suspendLayouts();e?this.reconfigureLockable(a,b):(h=g.blockRefresh,g.blockRefresh=!0,a&&a!==c&&(this.unbindStore(),this.bindStore(a)),b&&(delete this.scrollXPos,d.removeAll(),d.add(b)),g.blockRefresh=h,h=g.refreshCounter);Ext.resumeLayouts(!0);e?this.afterReconfigureLockable():
g.refreshCounter===h&&g.refreshView();this.fireEvent("reconfigure",this,a,b,c,f);delete this.reconfiguring},beforeDestroy:function(){var a=this.scrollTask;a&&(a.cancel(),this.scrollTask=null);Ext.destroy(this.focusEnterLeaveListeners);this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable();this.unbindStore();this.callParent();this.columns=this.storeRelayers=this.columnManager=this.visibleColumnManager=null},destroy:function(){this.callParent();this.destroyed&&(this.view=this.selModel=
this.headerCt=null)},privates:{initFocusableElement:function(){},doEnsureVisible:function(a,b){if(this.lockable)return this.ensureLockedVisible(a,b);"number"===typeof a||a.isEntity||(a=this.store.getById(a));var c=this,d=c.getView(),e=d.getNode(a),f,g,h,k,l,m,n,p,q;b&&(f=b.callback,g=b.scope,h=b.animate,k=b.highlight,l=b.select,m=b.focus,p=b.column);c.deferredEnsureVisible&&c.deferredEnsureVisible.destroy();d.componentLayoutCounter?("number"===typeof p&&(p=c.ownerGrid.getVisibleColumnManager().getColumns()[p]),
e?(n=d.getScrollable(),p&&(q=Ext.fly(e).selectNode(p.getCellSelector())),n&&n.scrollIntoView(q||e,!!p,h,k),a.isEntity||(a=d.getRecord(e)),l&&d.getSelectionModel().select(a),m&&d.getNavigationModel().setPosition(a,0),Ext.callback(f,g||c,[!0,a,e])):d.bufferedRenderer?d.bufferedRenderer.scrollTo(a,{animate:h,highlight:k,select:l,focus:m,column:p,callback:function(a,b,d){Ext.callback(f,g||c,[!0,b,d])}}):Ext.callback(f,g||c,[!1,null])):c.deferredEnsureVisible=d.on({resize:c.doEnsureVisible,args:Ext.Array.slice(arguments),
scope:c,single:!0,destroyable:!0})},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(a,b){var c=this.ownerGrid;if(!c.destroying&&!1!==c.view.setActionableMode(a,b))return c.fireEvent("actionablemodechange",a),c[a?"addCls":"removeCls"](c.actionableModeCls),!0}}});
Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.callParent();void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width)},beginLayout:function(a){var b=this.owner,c=this.firstHeaderCls,d=this.lastHeaderCls,e=[c,d],f=this.getVisibleItems(),g=f.length,h,k;this.callParent([a]);
for(h=0;h<g;h++)k=f[h],1===g?k.addCls(e):0===h?(k.addCls(c),k.removeCls(d)):h===g-1?(k.removeCls(c),k.addCls(d)):k.removeCls(e);this.scrollbarWidth=0;b.isRootHeader&&this.determineScrollbarWidth(a);this.scrollbarWidth||(a.manageScrollbar=!1)},moveItemBefore:function(a,b){var c=a.ownerCt;a!==b&&c&&c.remove(a,!1);return this.callParent([a,b])},determineScrollbarWidth:function(a){var b=this.owner,c=b.grid,d=!1===b.reserveScrollbar,b=c.reserveScrollbar&&!d,d=!b&&!d&&c.view.scrollFlags.y;a.manageScrollbar=
d;c.ownerGrid.collapsed||!b&&!d||delete this.scrollbarWidth},calculate:function(a){var b=this.owner.grid,c=a.viewContext,d=a.state,e=a.context,f,g,h,k,l;this.callParent([a]);if(b&&d.parallelDone)if(f=c.lockingPartnerContext,b=b.ownerGrid,b.forceFit&&!d.reflexed&&this.convertWidthsToFlexes(a))this.cacheFlexes(a),this.done=!1,a.invalidate({state:{reflexed:!0,scrollbarAdjustment:this.getScrollbarAdjustment(a)}});else{if(void 0===d.columnsChanged){g=a.target.getVisibleGridColumns();b=!1;k=0;for(h=g.length;k<
h;k++)l=e.getCmp(g[k]),l.lastBox&&l.props.width===l.lastBox.width||((b||(b=[]))[k]=l);d.columnsChanged=b;a.setProp("columnsChanged",b)}a.manageScrollbar&&(d=this.getScrollbarAdjustment(a))&&(d=c.getProp("viewOverflowY"),void 0===d?this.done=!1:d||(f&&(f.invalidate(),f.headerContext.invalidate()),c.invalidate(),a.invalidate({state:{scrollbarAdjustment:0}})))}},finishedLayout:function(a){this.callParent([a]);"rowgroup"===this.owner.ariaRole&&this.innerCt.dom.setAttribute("role","row");a.props.columnsChanged=
null},convertWidthsToFlexes:function(a){var b=0,c=this.sizeModels.calculated,d,e,f,g,h;d=a.childItems;e=d.length;for(f=0;f<e;f++)g=d[f],h=g.target,b+=g.props.width,h.fixed||!1===h.resizable||(h.flex=a.childItems[f].flex=g.props.width,h.width=null,g.widthModel=c);return b!==a.props.width},getScrollbarAdjustment:function(a){var b=a.state,c=this.owner.grid,d=b.scrollbarAdjustment;if(void 0===d){d=0;if(c.reserveScrollbar||a.manageScrollbar&&!c.ownerGrid.layout.ownerContext.heightModel.shrinkWrap)d=this.scrollbarWidth;
b.scrollbarAdjustment=d}return d},getContainerSize:function(a){var b,c,d,e,f,g,h;if(this.owner.isRootHeader)b=this.callParent([a]),b.gotWidth&&(b.width-=this.getScrollbarAdjustment(a));else return d=a.paddingContext.getPaddingInfo(),b=c=0,!a.widthModel.shrinkWrap&&(++c,g=a.getProp("innerWidth"),e="number"===typeof g)&&(++b,g-=d.width,0>g&&(g=0)),!a.heightModel.shrinkWrap&&(++c,h=a.getProp("innerHeight"),f="number"===typeof h)&&(++b,h-=d.height,0>h&&(h=0)),{width:g,height:h,needed:c,got:b,gotAll:b===
c,gotWidth:e,gotHeight:f};return b},publishInnerCtSize:function(a){var b=this.owner,c=0;null!=a.peek("contentWidth")&&b.isRootHeader&&(c=-a.state.scrollbarAdjustment);return this.callParent([a,c])}});
Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b,c){this.headerCt=b;c&&(this.secondHeaderCt=c);this.visibleOnly=!!a},getColumns:function(){this.columns||this.cacheColumns();return this.columns},hasVariableRowHeight:function(){var a=this.getColumns(),b=a.length,c;if(null==this.variableRowHeight)for(this.variableRowHeight=!1,c=0;!this.variableRowHeight&&c<b;c++)this.variableRowHeight=!!a[c].variableRowHeight;return this.variableRowHeight},
getHeaderIndex:function(a){a.isGroupHeader&&(a=this.getHeaderColumns(a)[0]);return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){return this.getColumns()[a]||null},getPreviousSibling:function(a){a=this.getHeaderIndex(a);var b=null;0<a&&(b=this.getColumns()[a-1]);return b},getNextSibling:function(a){a=this.getHeaderIndex(a);var b;-1!==a&&(b=this.getColumns()[a+1]);return b||null},getFirst:function(){var a=this.getColumns();return 0<a.length?a[0]:null},getLast:function(){var a=
this.getColumns(),b=a.length;return 0<b?a[b-1]:null},getHeaderByDataIndex:function(a){var b=this.getColumns(),c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.dataIndex===a)return e;return null},getHeaderById:function(a){var b=this.getColumns(),c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.getItemId()===a)return e;return null},getVisibleHeaderClosestToIndex:function(a){(a=this.getHeaderAtIndex(a))&&a.hidden&&(a=a.next(":not([hidden])")||a.prev(":not([hidden])"));return a},cacheColumns:function(){var a=this.getHeaderColumns(this.headerCt),
b=this.secondHeaderCt;b&&(a=a.concat(this.getHeaderColumns(b)));this.columns=a},getHeaderColumns:function(a){a=this.visibleOnly?a.getVisibleGridColumns():a.getGridColumns();return Ext.Array.clone(a)},invalidate:function(){var a=this.rootColumns;this.columns=this.variableRowHeight=null;a&&a.invalidate()},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},function(){this.createAlias("indexOf","getHeaderIndex")});
Ext.define("Ext.grid.NavigationModel",{extend:Ext.view.NavigationModel,alias:"view.navigation.grid",focusCls:Ext.baseCSSPrefix+"grid-item-focused",getViewListeners:function(){return{focusmove:{element:"el",fn:this.onFocusMove},containermousedown:this.onContainerMouseDown,cellmousedown:this.onCellMouseDown,cellclick:this.onCellClick,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemClick,scope:this}},initKeyNav:function(a){this.keyNav||(this.keyNav=[],this.position=
new Ext.grid.CellContext(a));this.keyNav.push(new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:this.processViewEvent,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,esc:this.onKeyEsc,113:this.onKeyF2,tab:this.onKeyTab,A:{ctrl:!0,handler:this.onSelectAllKeyPress},scope:this}))},
addKeyBindings:function(a){var b=this.keyNav.length,c;for(c=0;c<b;c++)this.keyNav[c].addBindings(a)},enable:function(){var a=this.keyNav.length,b;for(b=0;b<a;b++)this.keyNav[b].enable();this.disabled=!1},disable:function(){var a=this.keyNav.length,b;for(b=0;b<a;b++)this.keyNav[b].disable();this.disabled=!0},processViewEvent:function(a,b,c,d,e){b=e.getKey();if(a.actionableMode){if(this.map.ignoreInputFields=!1,b===e.TAB||b===e.ESC||b===e.F2)return e}else return this.map.ignoreInputFields=!0,b===e.TAB?
null:e},onCellMouseDown:function(a,b,c,d,e,f,g){b=Ext.Component.fromElement(g.target,b);var h;a.actionableMode&&(g.getTarget(null,null,!0).isTabbable()||(h=Ext.ComponentManager.getActiveComponent())&&h.owns(g))||("touch"!==g.pointerType&&this.setPosition(g.position,null,g),b&&b.isFocusable&&b.isFocusable()&&(a.setActionableMode(!0,g.position),b.focus()))},onCellClick:function(a,b,c,d,e,f,g){b=(b=Ext.Component.fromElement(g.target,b))&&b.isFocusable&&b.isFocusable();a.actionableMode?(g.position.isEqual(a.actionPosition)||
b||this.setPosition(g.position,null,g),this.fireEvent("navigate",{view:a,navigationModel:this,keyEvent:g,previousPosition:this.previousPosition,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,previousCell:this.previousCell,previousColumnIndex:this.previousColumnIndex,previousColumn:this.previousColumn,position:g.position,recordIndex:g.position.rowIdx,record:g.position.record,item:g.item,cell:g.position.cellElement,columnIndex:g.position.colIdx,
column:g.position.column})):this.position.isEqual(g.position)||b?this.fireNavigateEvent(g):this.setPosition(g.position,null,g)},onFocusMove:function(a){var b,c=Ext.Component.fromElement(a.delegatedTarget,null,"tableview");b=a.target;c&&Ext.fly(b).is(c.cellSelector)&&!c.actionableModeTabbing&&(c.ownerGrid.setActionableMode(!1),a=c.getRecord(b),b=c.getHeaderByCell(b),a&&b&&(c=(new Ext.grid.CellContext(c)).setPosition(a,b),c.isEqual(this.position)||this.setPosition(c)))},onItemMouseDown:function(a,b,
c,d,e){e.position.cellElement||"touch"===e.pointerType||(this.getClosestCell(e),this.setPosition(e.position,null,e))},onItemClick:function(a,b,c,d,e){e.position.cellElement||(this.getClosestCell(e),"touch"===e.pointerType&&this.setPosition(e.position,null,e),this.fireNavigateEvent(e))},getClosestCell:function(a){var b=a.position,c,d,e,f;if(!b.cellElement)for(a=a.getX(),c=b.view.getVisibleColumnManager().getColumns(),d=c.length,e=0;e<d;e++)if(f=c[e].getBox(),a>=f.left&&a<f.right){b.setColumn(c[e]);
b.rowElement=b.getRow(!0);b.cellElement=b.getCell(!0);break}},deferSetPosition:function(a,b,c,d,e,f){var g=this.view.getFocusTask();g.delay(a,this.setPosition,this,[b,c,d,e,f]);return g},setPosition:function(a,b,c,d,e){var f,g,h,k,l,m,n,p,q=null==a&&null==b;l=null==this.record&&null==this.recordIndex&&null==this.item;f=a&&a.isCellContext?a.view:c&&c.view?c.view:this.lastFocused?this.lastFocused.view:this.view;f.getFocusTask().cancel();if(!(f.destroyed||!f.refreshCounter||!f.ownerCt||q&&l)&&f.all.getCount()){g=
f.getSelectionModel();h=f.dataSource;k=f.getVisibleColumnManager();if(a&&a.isCellContext)n=a.record,l=a.rowIdx,m=a.colIdx,p=a.column,-1===h.indexOf(n)&&(b=f.getScrollable(),this.recordIndex=-1,b.getPosition().y>=b.getMaxPosition().y-f.all.last(!0).offsetHeight&&a.rowIdx--,l=Math.min(a.rowIdx,h.getCount()-1),m=Math.min(m,k.getColumns().length),n=h.getAt(l),p=k.getColumns()[m]);else{if(q)n=l=null;else if(null==b&&(b=this.lastFocused?this.lastFocused.column:0),"number"===typeof a)l=Math.max(Math.min(a,
h.getCount()-1),0),n=h.getAt(a);else if(a.isEntity)n=a,l=h.indexOf(n);else if(a.tagName)n=f.getRecord(a),l=h.indexOf(n),-1===l&&(n=null);else{if(l)return;q=!0;n=l=null}n?(-1===l&&(this.recordIndex=-1,n=h.getAt(0),l=0,b=null),null==b?(p=this.column)||(m=0,p=k.getColumns()[0]):"number"===typeof b?(p=k.getColumns()[b],m=b):(p=b,m=k.indexOf(b))):(q=!0,p=m=null)}if(l===this.recordIndex&&m===this.columnIndex&&f===this.position.view)return this.focusPosition(this.position);this.cell&&this.cell.removeCls(this.focusCls);
this.previousRecordIndex=this.recordIndex;this.previousRecord=this.record;this.previousItem=this.item;this.previousCell=this.cell;this.previousColumn=this.column;this.previousColumnIndex=this.columnIndex;this.previousPosition=this.position.clone();this.selectionStart=g.selectionStart;this.position.setAll(f,this.recordIndex=l,this.columnIndex=m,this.record=n,this.column=p);q?this.item=this.cell=null:this.focusPosition(this.position,e);d||(g.fireEvent("focuschange",g,this.previousRecord,this.record),
f.fireEvent("rowfocus",this.record,this.item,this.recordIndex),f.fireEvent("cellfocus",this.record,this.cell,this.position));c&&!e&&this.cell!==this.previousCell&&this.fireNavigateEvent(c)}},focusPosition:function(a){var b,c;this.item=this.cell=null;a&&a.record&&a.column&&(b=a.view,(c=a.rowElement?this.item=a.rowElement:b.getRowByRecord(a.record))?(this.cell=a.cellElement||Ext.fly(c).down(a.column.getCellSelector(),!0))?(this.cell=new Ext.dom.Fly(this.cell),b.lastFocused=this.lastFocused=this.position.clone(),
this.focusItem(this.cell),b.focusEl=this.cell):(this.position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null):(c=b.dataSource.indexOf(a.record),this.position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null,-1!==c&&b.bufferedRenderer&&(this.lastKeyEvent=null,b.bufferedRenderer.scrollTo(c,!1,this.afterBufferedScrollTo,this))))},focusItem:function(a){a.addCls(this.focusCls);a.focus()},getCell:function(){return this.cell},getPosition:function(a){var b=
this.position,c,d;if(b.record&&b.column){if(a)return b;c=b.view;d=c.dataSource;a=d.indexOf(b.record);-1===a&&(a=b.rowIdx,(b.record=d.getAt(a))||(a=-1));if(-1===a||-1===c.getVisibleColumnManager().indexOf(b.column))b.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null;else return b}return null},getLastFocused:function(){var a,b=this.lastFocused;if(b&&b.record&&b.column&&(a=b.view,-1!==a.dataSource.indexOf(b.record)&&-1!==a.getVisibleColumnManager().indexOf(b.column)))return b},
onKeyTab:function(a){var b=!a.shiftKey,c=a.position.clone(),d=c.view,e=a.position.cellElement,f=Ext.fly(e).findTabbableElements(),g,h=d.ownerGrid.actionables,k=h.length,l;a.preventDefault();for(g=f[Ext.Array.indexOf(f,a.target)+(b?1:-1)];!g&&(e=e[b?"nextSibling":"previousSibling"]);){c.setColumn(d.getHeaderByCell(e));for(l=0;l<k;l++)h[l].activateCell(c);(f=Ext.fly(e).findTabbableElements()).length&&(g=f[b?0:f.length-1])}g?(this.actionPosition=c.view.actionPosition=c,Ext.fly(g).focus()):(Ext.isIE&&
d.el.focus(),d.onRowExit(a.item,a.item[b?"nextSibling":"previousSibling"],b))},onKeyUp:function(a){var b=a.view.walkRecs(a.record,-1),c=this.getPosition();b&&(c.setRow(b),c.getCell(!0)||c.navigate(-1),this.setPosition(c,null,a))},onKeyDown:function(a){var b=a.record.isExpandingOrCollapsing?null:a.view.walkRecs(a.record,1),c=this.getPosition();b&&(c.setRow(b),c.getCell(!0)||c.navigate(-1),this.setPosition(c,null,a))},onKeyRight:function(a){var b=this.move("right",a);b&&this.setPosition(b,null,a)},
onKeyLeft:function(a){var b=this.move("left",a);b&&this.setPosition(b,null,a)},onKeyEnter:function(a){var b=["cellclick",a.view,a.position.cellElement,a.position.colIdx,a.record,a.position.rowElement,a.recordIndex,a],c=a.position.getCell();c&&(c.query('[tabIndex="-1"]').length||(a.stopEvent(),a.view.fireEvent.apply(a.view,b),b[0]="celldblclick",a.view.fireEvent.apply(a.view,b)),this.view.actionableMode||this.view.ownerGrid.setActionableMode(!0,this.getPosition()))},onKeyF2:function(a){a=this.view.ownerGrid;
var b=a.actionableMode;a.setActionableMode(!b,b?null:this.getPosition())},onKeyEsc:function(a){this.view.ownerGrid.setActionableMode(!1)},move:function(a,b){var c=this.getPosition();if(c&&c.record)return c.view.walkCells(c,a,!b.shiftKey||"right"!==a&&"left"!==a?null:this.vetoRowChange,this)},vetoRowChange:function(a){return this.getPosition().record===a.record},onKeyPageDown:function(a){var b=a.view,c=this.getRowsVisible();c&&(b.bufferedRenderer?(c=Math.min(a.recordIndex+c,b.dataSource.getCount()-
1),this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(c,!1,this.afterBufferedScrollTo,this)):(b=b.walkRecs(a.record,c),this.setPosition(b,null,a)))},onKeyPageUp:function(a){var b=a.view,c=this.getRowsVisible();c&&(b.bufferedRenderer?(c=Math.max(a.recordIndex-c,0),this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(c,!1,this.afterBufferedScrollTo,this)):(b=b.walkRecs(a.record,-c),this.setPosition(b,null,a)))},onKeyHome:function(a){var b=a.view;a.altKey?b.bufferedRenderer?(this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(0,
!1,this.afterBufferedScrollTo,this)):this.setPosition(b.walkRecs(a.record,-b.dataSource.indexOf(a.record)),null,a):this.setPosition(a.record,0,a)},afterBufferedScrollTo:function(a,b){this.setPosition(b,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(a){var b=a.view;a.altKey?b.bufferedRenderer?(this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(b.store.getCount()-1,!1,this.afterBufferedScrollTo,this)):this.setPosition(b.walkRecs(a.record,b.dataSource.getCount()-1-b.dataSource.indexOf(a.record)),
null,a):this.setPosition(a.record,a.view.getVisibleColumnManager().getColumns().length-1,a)},getRowsVisible:function(){var a=!1,b=this.view,c=b.all.first();c&&(a=c.getHeight(),b=b.el.getHeight(),a=Math.floor(b/a));return a},fireNavigateEvent:function(a){this.fireEvent("navigate",{view:this.position.view,navigationModel:this,keyEvent:a||new Ext.event.Event({}),previousPosition:this.previousPosition,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,
previousCell:this.previousCell,previousColumnIndex:this.previousColumnIndex,previousColumn:this.previousColumn,position:this.position,recordIndex:this.recordIndex,record:this.record,selectionStart:this.selectionStart,item:this.item,cell:this.cell,columnIndex:this.columnIndex,column:this.column})}});
Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:"layout.tableview",type:"tableview",beginLayout:function(a){var b=this.owner,c=b.ownerGrid,b=b.lockingPartner,d=a.context;a.doSyncRowHeights=b&&b.grid.isVisible()&&c.syncRowHeight;this.columnFlusherId||(this.columnFlusherId=this.id+"-columns",this.rowHeightFlusherId=this.id+"-rows");this.owner.bufferedRenderer&&this.owner.bufferedRenderer.beforeTableLayout(a);this.callParent([a]);a.doSyncRowHeights&&(a.lockingPartnerContext||
((a.lockingPartnerContext=d.getCmp(b)).lockingPartnerContext=a),a.rowHeightSynchronizer=this.owner.syncRowHeightBegin());(a.headerContext=d.getCmp(this.headerCt)).viewContext=a},beginLayoutCycle:function(a,b){this.callParent([a,b]);a.syncRowHeights&&(a.target.syncRowHeightClear(a.rowHeightSynchronizer),a.syncRowHeights=!1)},calculate:function(a){var b=a.context,c=a.lockingPartnerContext,d=a.ownerCtContext,e=this.owner,f=a.headerContext.getProp("columnsChanged"),g=a.state,h=e.body.dom;if(e.all.getCount()||
h&&e.body.child("table"))if(void 0===f)this.done=!1;else{if(f&&((e=g.columnFlusher)||b.queueFlush(g.columnFlusher=e={ownerContext:a,columnsChanged:f,layout:this,id:this.columnFlusherId,flush:this.flushColumnWidths}),!e.flushed)){this.done=!1;return}if(a.doSyncRowHeights){if(!(f=g.rowHeightFlusher)){(f=g.rowHeights)||(g.rowHeights=f=a.rowHeightSynchronizer,this.owner.syncRowHeightMeasure(f),a.setProp("rowHeights",f));if(!(c=c.getProp("rowHeights"))){this.done=!1;return}b.queueFlush(g.rowHeightFlusher=
f={ownerContext:a,synchronizer:f,otherSynchronizer:c,layout:this,id:this.rowHeightFlusherId,flush:this.flushRowHeights})}if(!f.flushed){this.done=!1;return}}this.callParent([a]);if(!a.heightModel.shrinkWrap){b=!1;if(!d.heightModel.shrinkWrap){d=d.target.layout.getContainerSize(d);if(!d.gotHeight){this.done=!1;return}h=h.offsetHeight;b=h>d.height}a.setProp("viewOverflowY",b)}}else a.setProp("viewOverflowY",!1),this.callParent([a])},measureContentHeight:function(a){var b=this.owner,c=b.body.dom,b=b.emptyEl,
d=0;b&&(d+=b.offsetHeight);c&&(d+=c.offsetHeight);a.headerContext.state.boxPlan.tooNarrow&&(d+=Ext.getScrollbarSize().height);return d},flushColumnWidths:function(){var a=this.layout,b=this.ownerContext,c=this.columnsChanged,d=b.target,e=c.length,f,g,h;if(b.state.columnFlusher===this){for(g=0;g<e;g++)if(f=c[g])if(h=f.props.width,d.body.select(d.getColumnSizerSelector(f.target)).setWidth(h),f=f.lastBox)f.width=h;this.flushed=!0;a.pending||b.context.queueLayout(a)}},flushRowHeights:function(){var a=
this.layout,b=this.ownerContext;b.state.rowHeightFlusher===this&&(b.target.syncRowHeightFinish(this.synchronizer,this.otherSynchronizer),this.flushed=!0,b.syncRowHeights=!0,a.pending||b.context.queueLayout(a))},finishedLayout:function(a){var b=Ext.fly(this.owner.getNodeContainer());this.callParent([a]);b&&b.setWidth(a.headerContext.props.contentWidth);this.owner.bufferedRenderer&&this.owner.bufferedRenderer.afterTableLayout(a)}});
Ext.define("Ext.grid.locking.RowSynchronizer",{constructor:function(a,b){var c;this.view=a;this.rowEl=b;this.els={};this.add("data",a.rowSelector);for(c=a.rowTpl;c;c=c.nextTpl)c.beginRowSync&&c.beginRowSync(this)},add:function(a,b){var c=Ext.fly(this.rowEl).down(b,!0);c&&(this.els[a]={el:c})},finish:function(a){var b=this.els,c=a.els,d,e=0,f=0,g,h;for(g in b)h=(d=c[g])?d.height:0,d=h-b[g].height,0<d?(e+=d,Ext.fly(b[g].el).setHeight(h)):f-=d;h=a.rowHeight+f;Ext.isIE9&&this.view.ownerGrid.rowLines&&
h--;this.rowHeight+e<h&&Ext.fly(this.rowEl).setHeight(h)},measure:function(){var a=this.els,b;this.rowHeight=this.rowEl.offsetHeight;for(b in a)a[b].height=a[b].el.offsetHeight},reset:function(){var a=this.els,b;this.rowEl.style.height="";for(b in a)a[b].el.style.height=""}});
Ext.define("Ext.view.NodeCache",{statics:{range:document.createRange&&document.createRange()},constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.Fly},destroy:function(){this.destroyed||(this.el.destroy(),this.el=this.view=null,this.destroyed=!0);this.callParent()},clear:function(a){var b=this.elements,c=this.statics().range,d;if(this.count&&a)if(c)c.setStartBefore(b[this.startIndex]),c.setEndAfter(b[this.endIndex]),c.deleteContents();else for(d in b)Ext.removeNode(b[d]);this.elements=
{};this.count=this.startIndex=0;this.endIndex=-1},fill:function(a,b,c){c=c||0;var d=this.elements={},e,f=a.length-c;b||(b=0);for(e=0;e<f;e++)d[b+e]=a[e+c];this.startIndex=b;this.endIndex=b+f-1;this.count=f;return this},insert:function(a,b){var c=this.elements,d,e=b.length;if(this.count){if(a<this.count)for(d=this.endIndex+e;d>=a+e;d--)c[d]=c[d-e],c[d].setAttribute("data-recordIndex",d);this.endIndex+=e}else this.startIndex=a,this.endIndex=a+e-1;for(d=0;d<e;d++,a++)c[a]=b[d],c[a].setAttribute("data-recordIndex",
a);this.count+=e},invoke:function(a,b){var c,d;a=Ext.dom.Element.prototype[a];for(d=this.startIndex;d<=this.endIndex;d++)(c=this.item(d))&&a.apply(c,b);return this},item:function(a,b){var c=null;this.elements[a]&&(c=b?this.elements[a]:this.el.attach(this.elements[a]));return c},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},moveBlock:function(a){var b=this.elements,c,d,e,f;if(a){0>a?(f=this.startIndex-1,d=this.endIndex,e=1):(f=this.endIndex+
1,d=this.startIndex,e=-1);this.startIndex+=a;this.endIndex+=a;do f+=e,c=b[f+a]=b[f],c.setAttribute("data-recordIndex",f+a),(f<this.startIndex||f>this.endIndex)&&delete b[f];while(f!==d);delete b[f]}},getCount:function(){return this.count},slice:function(a,b){var c=this.elements,d=[],e;b=b?Math.min(this.endIndex,b-1):this.endIndex;for(e=a||this.startIndex;e<=b;e++)d.push(c[e]);return d},replaceElement:function(a,b,c){var d=this.elements,e="number"===typeof a?a:this.indexOf(a);-1<e&&(b=Ext.getDom(b),
c&&(a=d[e],a.parentNode.insertBefore(b,a),Ext.removeNode(a),b.setAttribute("data-recordIndex",e)),this.elements[e]=b);return this},indexOf:function(a){var b=this.elements,c;a=Ext.getDom(a);for(c=this.startIndex;c<=this.endIndex;c++)if(b[c]===a)return c;return-1},removeRange:function(a,b,c){var d=this.elements,e=[],f,g,h;b=null==b?this.endIndex+1:Math.min(this.endIndex+1,b+1);null==a&&(a=this.startIndex);g=b-a;f=a;for(h=b;f<=this.endIndex;f++,h++)a=d[f],f<b&&(e.push(a),c&&Ext.removeNode(a)),h<=this.endIndex?
(a=d[f]=d[h],a.setAttribute("data-recordIndex",f)):delete d[f];this.count-=g;this.endIndex-=g;return e},removeElement:function(a,b){var c,d,e=this.elements,f,g,h;if(Ext.isArray(a)){c=a;a=[];f=c.length;for(g=0;g<f;g++)d=c[g],"number"!==typeof d&&(d=this.indexOf(d)),d>=this.startIndex&&d<=this.endIndex&&(a[a.length]=d);Ext.Array.sort(a);f=a.length}else{if(a<this.startIndex||a>this.endIndex)return;f=1;a=[a]}d=h=a[0];for(g=0;d<=this.endIndex;d++,h++)g<f&&d===a[g]&&(h++,g++,b&&Ext.removeNode(e[d])),h<=
this.endIndex&&h>=this.startIndex?(c=e[d]=e[h],c.setAttribute("data-recordIndex",d)):delete e[d];this.endIndex-=f;this.count-=f},scroll:function(a,b,c){var d=this.view,e=d.store,f=this.elements,g=a.length,h=d.getNodeContainer(),k=d.hasListeners.itemremove,l=d.hasListeners.itemadd,m=this.statics().range,n,p,q,r;if(a.length){if(-1===b){if(c){k&&(q=[],r=[]);p=this.endIndex-c+1;if(m)for(m.setStartBefore(f[p]),m.setEndAfter(f[this.endIndex]),m.deleteContents(),m=p;m<=this.endIndex;m++)b=f[m],delete f[m],
k&&(q.push(e.getByInternalId(b.getAttribute("data-recordId"))),r.push(b));else for(m=p;m<=this.endIndex;m++)b=f[m],delete f[m],Ext.removeNode(b),k&&(q.push(e.getByInternalId(b.getAttribute("data-recordId"))),r.push(b));d.fireEvent("itemremove",q,p,r,d);this.endIndex-=c}if(a.length){e=d.bufferRender(a,this.startIndex-=g);n=e.children;for(m=0;m<g;m++)f[this.startIndex+m]=n[m];h.insertBefore(e.fragment,h.firstChild);l&&d.fireEvent("itemadd",a,this.startIndex,n)}}else{if(c){k&&(q=[],r=[]);n=this.startIndex+
c;if(m)for(m.setStartBefore(f[this.startIndex]),m.setEndAfter(f[n-1]),m.deleteContents(),m=this.startIndex;m<n;m++)b=f[m],delete f[m],k&&(q.push(e.getByInternalId(b.getAttribute("data-recordId"))),r.push(b));else for(m=this.startIndex;m<n;m++)b=f[m],delete f[m],Ext.removeNode(b),k&&(q.push(e.getByInternalId(b.getAttribute("data-recordId"))),r.push(b));d.fireEvent("itemremove",q,this.startIndex,r,d);this.startIndex=n}e=d.bufferRender(a,this.endIndex+1);n=e.children;for(m=0;m<g;m++)f[this.endIndex+=
1]=n[m];h.appendChild(e.fragment);l&&d.fireEvent("itemadd",a,this.endIndex+1,n)}this.count=this.endIndex-this.startIndex+1;return n}},sumHeights:function(){var a=0,b=this.elements,c;for(c=this.startIndex;c<=this.endIndex;c++)a+=b[c].offsetHeight;return a}},function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)});
Ext.define("Ext.view.Table",{extend:Ext.view.View,xtype:["tableview","gridview"],alternateClassName:"Ext.grid.View",isTableView:!0,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:"blur focus move resize destroy beforedestroy boxready afterrender render beforerender removed hide beforehide show beforeshow enable disable added deactivate beforedeactivate activate beforeactivate cellkeydown beforecellkeydown cellmouseup beforecellmouseup cellmousedown beforecellmousedown cellcontextmenu beforecellcontextmenu celldblclick beforecelldblclick cellclick beforecellclick refresh itemremove itemadd beforeitemupdate itemupdate viewready beforerefresh unhighlightitem highlightitem focuschange containerkeydown containercontextmenu containerdblclick containerclick containermouseout containermouseover containermouseup containermousedown beforecontainerkeydown beforecontainercontextmenu beforecontainerdblclick beforecontainerclick beforecontainermouseout beforecontainermouseover beforecontainermouseup beforecontainermousedown itemkeydown itemcontextmenu itemdblclick itemclick itemmouseleave itemmouseenter itemmouseup itemmousedown rowclick rowcontextmenu rowdblclick rowkeydown rowmouseup rowmousedown rowkeydown beforeitemkeydown beforeitemcontextmenu beforeitemdblclick beforeitemclick beforeitemmouseleave beforeitemmouseenter beforeitemmouseup beforeitemmousedown statesave beforestatesave staterestore beforestaterestore uievent groupcollapse groupexpand scroll".split(" ")},
scrollable:!0,componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",itemCls:Ext.baseCSSPrefix+"grid-item",selectedItemCls:Ext.baseCSSPrefix+"grid-item-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-item-focused",overItemCls:Ext.baseCSSPrefix+"grid-item-over",altRowCls:Ext.baseCSSPrefix+"grid-item-alt",
dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,actionableMode:!1,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();",
"}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="'+Ext.baseCSSPrefix+'grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}",
"</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+
Ext.baseCSSPrefix+'grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" role="{cellRole}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"',' tabindex="-1" data-columnid="{[values.column.getItemId()]}">',
'<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},constructor:function(a){a.grid.isTree&&(a.baseCls=Ext.baseCSSPrefix+"tree-view");this.callParent([a])},hasVariableRowHeight:function(a){return this.variableRowHeight||
this.store.isGrouped()||this.getVisibleColumnManager().hasVariableRowHeight()||!a&&this.lockingPartner&&this.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){this.columnLines&&this.addCls(this.grid.colLinesCls);this.rowLines&&this.addCls(this.grid.rowLinesCls);this.body=new Ext.dom.Fly;this.body.id=this.id+"gridBody";this.trackOver||(this.overItemCls=null);this.headerCt.view=this;this.grid.view=this;this.initFeatures(this.grid);this.itemSelector=this.getItemSelector();this.all=new Ext.view.NodeCache(this);
this.callParent()},applySelectionModel:function(a,b){var c=this.ownerGrid,d=a.type,e=this.disableSelection||c.disableSelection;b||a&&a.isSelectionModel||(a=c.selModel||a);a&&(a.isSelectionModel?(a.allowDeselect=c.allowDeselect||"SINGLE"!==a.selectionMode,a.locked=e):("string"===typeof a?a={type:a}:a.type=c.selType||a.selType||a.type||d,a.mode||(c.simpleSelect?a.mode="SIMPLE":c.multiSelect&&(a.mode="MULTI")),a=Ext.Factory.selection(Ext.apply({allowDeselect:c.allowDeselect,locked:e},a))));return a},
updateSelectionModel:function(a,b){b&&(b.un({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection}),Ext.destroy(this.selModelRelayer));this.selModelRelayer=this.relayEvents(a,"selectionchange beforeselect beforedeselect select deselect focuschange".split(" "));a.on({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection});this.selModel=a},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},
getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(a,b,c){var d=1<c,e=d&&document.createRange?document.createRange():null,f=d&&!e?document.createDocumentFragment():null,g=this.getGridColumns().length,h=g-1,k=(this.firstCls||this.lastCls)&&(0===b||b===g||0===a||a===h),l,m,n,p,q,r;if(this.rendered&&b!==a){n=this.el.query(this.rowSelector);l=0;for(p=n.length;l<p;l++){q=n[l];
r=q.childNodes;if(k){if(1===r.length){Ext.fly(r[0]).addCls(this.firstCls);Ext.fly(r[0]).addCls(this.lastCls);continue}0===a?(Ext.fly(r[0]).removeCls(this.firstCls),Ext.fly(r[1]).addCls(this.firstCls)):a===h&&(Ext.fly(r[h]).removeCls(this.lastCls),Ext.fly(r[h-1]).addCls(this.lastCls));0===b?(Ext.fly(r[0]).removeCls(this.firstCls),Ext.fly(r[a]).addCls(this.firstCls)):b===g&&(Ext.fly(r[h]).removeCls(this.lastCls),Ext.fly(r[a]).addCls(this.lastCls))}if(d){if(e)e.setStartBefore(r[a]),e.setEndAfter(r[a+
c-1]),f=e.extractContents();else for(m=0;m<c;m++)f.appendChild(r[a]);q.insertBefore(f,r[b]||null)}else q.insertBefore(r[a],r[b]||null)}g=this.el.query("colgroup");l=0;for(p=g.length;l<p;l++)if(q=g[l],d){if(e)e.setStartBefore(q.childNodes[a]),e.setEndAfter(q.childNodes[a+c-1]),f=e.extractContents();else for(m=0;m<c;m++)f.appendChild(q.childNodes[a]);q.insertBefore(f,q.childNodes[b]||null)}else q.insertBefore(q.childNodes[a],q.childNodes[b]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(a,
b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getRow(a);"number"===typeof b&&(b=this.getHeaderAtIndex(b));return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;if(b)return b.get(a)},findFeature:function(a){if(this.features)return Ext.Array.findBy(this.features,
function(b){if(b.ftype===a)return!0})},initFeatures:function(a){var b,c,d,e;this.tpl=Ext.XTemplate.getTpl(this,"tpl");this.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");this.addRowTpl(Ext.XTemplate.getTpl(this,"outerRowTpl"));this.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");this.featuresMC=new Ext.util.MixedCollection;e=(c=this.features=this.constructFeatures())?c.length:0;for(b=0;b<e;b++)d=c[b],d.view=this,d.grid=a,this.featuresMC.add(d),d.init(a)},renderTHead:function(a,b,c){var d=a.view.headerFns,
e,f;if(d)for(f=0,e=d.length;f<e;++f)d[f].call(this,a,b,c)},addHeaderFn:function(a){var b=this.headerFns;b||(b=this.headerFns=[]);b.push(a)},renderTFoot:function(a,b,c){var d=a.view.footerFns,e,f;if(d)for(f=0,e=d.length;f<e;++f)d[f].call(this,a,b,c)},addFooterFn:function(a){var b=this.footerFns;b||(b=this.footerFns=[]);b.push(a)},addTpl:function(a){return this.insertTpl("tpl",a)},addRowTpl:function(a){return this.insertTpl("rowTpl",a)},addCellTpl:function(a){return this.insertTpl("cellTpl",a)},insertTpl:function(a,
b){var c,d;b=b.isTemplate?Ext.Object.chain(b):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",b);for(c=this[a];b.priority<c.priority;c=c.nextTpl)d=c;d?d.nextTpl=b:this[a]=b;b.nextTpl=c;return b},tplApplyOut:function(a,b,c){this.before&&!1===this.before(a,b,c)||(this.nextTpl.applyOut(a,b,c),this.after&&this.after(a,b,c))},constructFeatures:function(){var a=this.features,b,c,d=0,e;if(a)for(c=[],e=a.length;d<e;d++)b=a[d],b.isFeature||(b=Ext.create("feature."+b.ftype,b)),c[d]=b;return c},
beforeRender:function(){this.callParent();this.enableTextSelection||this.protoEl.unselectable()},getElConfig:function(){var a=this.callParent();delete a["aria-hidden"];delete a["aria-disabled"];return a},onBindStore:function(a){var b=this.bufferedRenderer;b&&b.store!==a&&b.bindStore(a);this.all&&this.all.getCount()&&(b&&b.setBodyTop(0),this.clearViewEl());this.callParent(arguments)},getStoreListeners:function(){var a=this.callParent();this.bufferedRenderer&&delete a.clear;a.beforepageremove=this.beforePageRemove;
return a},beforePageRemove:function(a,b){var c=this.all,d=a.getPageSize();if(c.startIndex>=(b-1)*d&&c.endIndex<=b*d-1)return a.get(b),!1},onViewScroll:function(a,b,c){this.ignoreScroll||this.callParent([a,b,c])},createRowElement:function(a,b,c){var d=this.renderBuffer;a=this.collectData([a],b);a.columns=c;this.tpl.overwrite(d,a);this.cleanupData();return Ext.fly(d).down(this.getNodeContainerSelector(),!0).firstChild},bufferRender:function(a,b){var c=this.renderBuffer,d;d=document.createRange?document.createRange():
null;this.tpl.overwrite(c,this.collectData(a,b));this.cleanupData();Ext.fly(c).saveTabbableState({skipSelf:!0,includeHidden:!0});c=Ext.fly(c).down(this.getNodeContainerSelector(),!0);if(d)d.selectNodeContents(c),d=d.extractContents();else for(d=document.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return{fragment:d,children:Ext.Array.toArray(d.childNodes)}},collectData:function(a,b){this.rowValues.view=this;this.tableValues.view=this;this.tableValues.rows=a;this.tableValues.columns=
null;this.tableValues.viewStartIndex=b;this.tableValues.touchScroll=this.touchScroll;this.tableValues.tableStyle="width:"+this.headerCt.getTableWidth()+"px";return this.tableValues},cleanupData:function(){var a=this.tableValues;a.view=a.columns=a.rows=this.rowValues.view=null},refreshSize:function(a){var b=this.getBodySelector();b&&this.body.attach(this.el.down(b,!0));this.hasLoadingHeight||(Ext.suspendLayouts(),this.callParent(arguments),(a||this.hasVariableRowHeight()&&this.dataSource.getCount())&&
this.grid.updateLayout(),Ext.resumeLayouts(!0))},clearViewEl:function(a){var b=this.all,c=this.getStore(),d,e=b.slice(),f=[];if(this.hasListeners.itemremove)for(d=b.startIndex;d<=b.endIndex;d++)f.push(c.getByInternalId(b.item(d,!0).getAttribute("data-recordId")));this.fireEvent("itemremove",f,b.startIndex,e,this);this.callParent();(b=Ext.fly(this.getNodeContainer()))&&!a&&(a=this.getTargetEl(),a.dom!==b.dom&&b.destroy())},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},
getRecord:function(a){if(!this.store.destroyed){if(a.isModel)return a;if(a=this.getNode(a))return this.dataSource.getByInternalId(a.getAttribute("data-recordId"))}},indexOf:function(a){return(a=this.getNode(a))||0===a?this.all.indexOf(a):-1},indexInStore:function(a){return a?this.dataSource.indexOf(this.getRecord(a)):-1},indexOfRow:function(a){var b=this.dataSource;return a.isCollapsedPlaceholder?b.indexOfPlaceholder(a):b.indexOf(a)},renderRows:function(a,b,c,d){var e=this.rowValues,f=a.length;e.view=
this;e.columns=b;e.rowRole=this.rowAriaRole;this.cellValues.cellRole=this.cellAriaRole;for(b=0;b<f;b++,c++)e.itemClasses.length=e.rowClasses.length=0,this.renderRow(a[b],c,d);e.view=e.columns=e.record=null},renderColumnSizer:function(a,b){var c=a.columns||this.getGridColumns(),d=c.length,e,f;b.push('<colgroup role="presentation">');for(e=0;e<d;e++)f=c[e],f=f.cellWidth?f.cellWidth:Ext.grid.header.Container.prototype.defaultWidth,b.push('<col role="presentation" class="',Ext.baseCSSPrefix,"grid-cell-",
c[e].getItemId(),'" style="width:'+f+'px">');b.push("</colgroup>")},renderRow:function(a,b,c){var d=-1===b,e=this.selectionModel,f=this.rowValues,g=f.itemClasses,h=f.rowClasses,k=this.itemCls,l=this.rowTpl;f.rowAttr={};f.record=a;f.recordId=a.internalId;f.recordIndex=this.store.indexOf(a);f.rowIndex=b;f.rowId=this.getRowId(a);f.itemCls=f.rowCls="";f.columns||(f.columns=this.ownerCt.getVisibleColumnManager().getColumns());g.length=h.length=0;d||(g[0]=k,!this.ownerCt.disableSelection&&e.isRowSelected&&
e.isRowSelected(a)&&g.push(this.selectedItemCls),this.stripeRows&&0!==b%2&&g.push(this.altRowCls),this.getRowClass&&(a=this.getRowClass(a,b,null,this.dataSource))&&h.push(a));if(c)l.applyOut(f,c,this.tableValues);else return l.apply(f,this.tableValues)},renderCell:function(a,b,c,d,e,f){var g=this.selectionModel,h=this.cellValues,k=h.classes,l=b.data[a.dataIndex],m=this.cellTpl,n=this.navigationModel.getPosition();h.record=b;h.column=a;h.recordIndex=c;h.rowIndex=d;h.columnIndex=h.cellIndex=e;h.align=
a.align;h.innerCls=a.innerCls;h.tdCls=h.tdStyle=h.tdAttr=h.style="";h.unselectableAttr=this.enableTextSelection?"":'unselectable="on"';k[1]=a.getCellId();d=2;a.renderer&&a.renderer.call&&(e=this.ownerCt.columnManager.getHeaderIndex(a),l=a.renderer.call(a.usingDefaultRenderer?a:a.scope||this.ownerCt,l,h,b,c,e,this.dataSource,this),h.css&&(b.cssWarning=!0,h.tdCls+=" "+h.css,h.css=null),h.tdCls&&(k[d++]=h.tdCls));h.value=null==l||""===l?a.emptyCellText:l;a.tdCls&&(k[d++]=a.tdCls);this.markDirty&&b.dirty&&
b.isModified(a.dataIndex)&&(k[d++]=this.dirtyCls);a.isFirstVisible&&(k[d++]=this.firstCls);a.isLastVisible&&(k[d++]=this.lastCls);this.enableTextSelection||(k[d++]=this.unselectableCls);g&&(g.isCellModel||g.isSpreadsheetModel)&&g.isCellSelected(this,c,a)&&(k[d++]=this.selectedCellCls);n&&n.record.id===b.id&&n.column===a&&(k[d++]=this.focusedItemCls);k.length=d;h.tdCls=k.join(" ");m.applyOut(h,f);h.column=h.record=null},getRow:function(a){if(!a&&0!==a||!this.rendered)return null;a.target&&(a=a.target);
if(Ext.isString(a))return Ext.fly(a).down(this.rowSelector,!0);if(Ext.isNumber(a))return(a=this.all.item(a))&&a.down(this.rowSelector,!0);if(a.isModel)return this.getRowByRecord(a);a=Ext.fly(a);return a.is(this.itemSelector)?this.getRowFromItem(a):a.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a){a=this.constructRowId(a);return this.retrieveNode(a,!1)},getRowById:function(a){a=
this.constructRowId(a);return this.retrieveNode(a,!0)},getNodeByRecord:function(a){return this.retrieveNode(this.getRowId(a),!1)},getRowByRecord:function(a){return this.retrieveNode(this.getRowId(a),!0)},getRowFromItem:function(a){a=Ext.getDom(a).tBodies[0].childNodes;var b=a.length,c;for(c=0;c<b;c++)if(Ext.fly(a[c]).is(this.rowSelector))return a[c]},retrieveNode:function(a,b){var c=this.el.getById(a,!0);return b&&c?Ext.fly(c).down(this.rowSelector,!0):c},updateIndexes:Ext.emptyFn,bodySelector:"div."+
Ext.baseCSSPrefix+"grid-item-container",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container",itemSelector:"table."+Ext.baseCSSPrefix+"grid-item",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(a){a=this.sizerSelector+"-"+a.getItemId();return"td"+a+
",col"+a},getItemSelector:function(){return this.itemSelector},getCellSelector:function(a){return a?a.getCellSelector():this.cellSelector},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(a,b){var c=this.getRow(a);c&&Ext.fly(c).addCls(b)},removeRowCls:function(a,b){var c=this.getRow(a);c&&Ext.fly(c).removeCls(b)},onRowSelect:function(a){var b;this.addItemCls(a,this.selectedItemCls);(b=this.getRow(a))&&b.setAttribute("aria-selected",!0);Ext.isIE8&&
this.repaintBorder(a+1)},onRowDeselect:function(a){var b;this.removeItemCls(a,this.selectedItemCls);(b=this.getRow(a))&&b.removeAttribute("aria-selected");Ext.isIE8&&this.repaintBorder(a+1)},onCellSelect:function(a){if(a=this.getCellByPosition(a))a.addCls(this.selectedCellCls),a.dom.setAttribute("aria-selected",!0)},onCellDeselect:function(a){if(a=this.getCellByPosition(a,!0))Ext.fly(a).removeCls(this.selectedCellCls),a.removeAttribute("aria-selected")},getCellInclusive:function(a,b){if(a){var c=
this.getRow(a.row),d=this.ownerCt.getColumnManager().getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(this.getCellSelector(d),b)}return!1},getCellByPosition:function(a,b){if(a){var c=a.view||this,d=c.getRow(a.record||a.row),e=a.column.isColumn?a.column:c.getVisibleColumnManager().getHeaderAtIndex(a.column);if(e&&d)return Ext.fly(d).down(c.getCellSelector(e),b)}return!1},onFocusEnter:function(a){var b=a.fromComponent,c=this.getNavigationModel(),d,e=this.bufferedRenderer,f,g;if(!this.actionableMode){a=
a.event;if(!this.cellFocused&&this.all.getCount()&&this.dataSource.getCount())if(g=a.getTarget(),Ext.fly(g).is(this.getCellSelector()))d=(new Ext.grid.CellContext(this)).setPosition(this.getRecord(g),this.getHeaderByCell(g));else if(g&&Ext.fly(g).isFocusable()&&this.el.contains(g)&&g!==this.el.dom)this.ownerGrid.setActionableMode(!0,(new Ext.grid.CellContext(this)).setPosition(this.getRecord(g),this.getHeaderByCell(Ext.fly(g).up(this.getCellSelector())))),Ext.fly(g).focus();else{if(d=this.lastFocused){if(g=
this.getScrollable(),!g||g.isInView(d.getRow()).y)f=d.record}else d=(new Ext.grid.CellContext(this.isNormalView&&this.lockingPartner.grid.isVisible()?this.lockingPartner:this)).setColumn(0);b&&b.isColumn&&b.getView()===this&&(d.view=this,d.setColumn(b));if(!f){b=e?e.getFirstVisibleRowIndex():0;for(f=this.dataSource.getAt(b);f&&f.isNonData;)b++,f=this.dataSource.getAt(b);f?d.setRow(f):d=null}if(!d){a.stopEvent();this.el.focus();return}}d&&(c.setPosition(d,null,a,null,!0),this.cellFocused=!!c.getPosition())&&
(this.el.dom.setAttribute("tabIndex","-1"),this.toggleChildrenTabbability(!1));Ext.Component.prototype.onFocusEnter.call(this,a)}},onFocusLeave:function(a){var b=!this.lockingPartner||!a.toComponent||a.toComponent!==this.lockingPartner&&!this.lockingPartner.isAncestor(a.toComponent);this.refreshing||(this.cellFocused&&(b&&this.getNavigationModel().setPosition(null,null,a.event,null,!0),this.cellFocused=!1,this.focusEl=this.el,this.focusEl.dom.setAttribute("tabIndex",0)),b&&this.ownerGrid.actionableMode&&
this.ownerGrid.setActionableMode(!1),Ext.Component.prototype.onFocusLeave.call(this,a))},onRowFocus:function(a,b,c){b?(this.addItemCls(a,this.focusedItemCls),c||this.focusRow(a)):this.removeItemCls(a,this.focusedItemCls);Ext.isIE8&&this.repaintBorder(a+1)},focusRow:function(a,b){var c=this.getFocusTask();b?c.delay(Ext.isNumber(b)?b:10,this.focusRow,this,[a,!1]):(c.cancel(),this.isVisible(!0)&&this.getNavigationModel().setPosition(this.getRecord(a)))},focusNode:function(a,b){this.focusRow(a,b)},scrollRowIntoView:function(a,
b){(a=this.getRow(a))&&this.scrollElIntoView(a,!1,b)},focusCell:function(a,b){var c=this.getFocusTask();b?c.delay(Ext.isNumber(b)?b:10,this.focusCell,this,[a,!1]):(c.cancel(),this.isVisible(!0)&&this.getCellByPosition(a)&&this.getNavigationModel().setPosition(a))},getLastFocused:function(){var a=this.lastFocused;if(a&&a.record&&a.column&&-1!==this.dataSource.indexOf(a.record)&&-1!==this.getVisibleColumnManager().indexOf(a.column)&&this.getNode(a.record))return a},scrollCellIntoView:function(a,b){a.isCellContext&&
(a=this.getCellByPosition(a));a&&this.scrollElIntoView(a,null,b)},scrollElIntoView:function(a,b,c){var d=this.getScrollable();d&&d.scrollIntoView(a,b,c)},syncRowHeightBegin:function(){var a=this.all,b=a.count,c=[],d=Ext.grid.locking.RowSynchronizer,e,f,g;e=0;for(f=a.startIndex;e<b;e++,f++)c[e]=g=new d(this,a.elements[f]),g.reset();return c},syncRowHeightClear:function(a){var b=this.all.count,c;for(c=0;c<b;c++)a[c].reset()},syncRowHeightMeasure:function(a){var b=a.length,c;for(c=0;c<b;c++)a[c].measure()},
syncRowHeightFinish:function(a,b){var c=a.length,d=this.bufferedRenderer,e;for(e=0;e<c;e++)a[e].finish(b[e]);d&&d.syncRowHeightsFinish()},handleUpdate:function(a,b,c,d){c=c||Ext.data.Model.EDIT;a=this.store.indexOf(b);var e=this.rowTpl,f=this.markDirty,g=this.dirtyCls;c=c!==Ext.data.Model.EDIT;var h=[],k=this.variableRowHeight,l=0,m=this.ownerCt,n=this.cellFly||(this.self.prototype.cellFly=new Ext.dom.Fly),p,q,r,t,u,v,w,y;if(this.viewReady&&(p=this.getNodeByRecord(b)))if(b.isCollapsedPlaceholder)Ext.fly(p).syncContent(this.createRowElement(b,
this.indexOfRow(b)));else{w=this.overItemCls;y=this.ownerCt.getVisibleColumnManager().getColumns();u=0;for(t=y.length;u<t;u++)if(r=y[u],r.preventUpdate)(v=Ext.fly(p).down(r.getCellSelector(),!0))&&!c&&f&&(n.attach(v),b.isModified(r.dataIndex)?n.addCls(g):n.removeCls(g));else if(v=this.shouldUpdateCell(b,r,d))l|=v,h[h.length]=r,k=k||r.variableRowHeight;this.fireEvent("beforeitemupdate",b,a,p,h);if(this.getRowClass||!this.getRowFromItem(p)||l&1||1<p.tBodies[0].childNodes.length){n=p._extData;m=this.createRowElement(b,
this.indexOfRow(b),h);Ext.fly(p,"_internal").hasCls(w)&&Ext.fly(m).addCls(w);if(Ext.isIE9m&&p.mergeAttributes)p.mergeAttributes(m,!0);else for(r=m.attributes,t=r.length,v=0;v<t;v++)u=r[v].name,"id"!==u&&p.setAttribute(u,r[v].value);n&&(n.isSynchronized=!1);for(y.length&&(q=this.getRow(p))&&this.updateColumns(q,Ext.fly(m).down(this.rowSelector,!0),h);e&&(!e.syncContent||!1!==e.syncContent(p,m,d?h:null));)e=e.nextTpl}else for(u=0,t=h.length;u<t;u++)r=h[u],d=r.dataIndex,d=b.get(d),v=Ext.fly(p).down(r.getCellSelector(),
!0),n.attach(v),!c&&f&&(b.isModified(r.dataIndex)?n.addCls(g):n.removeCls(g)),q=(q=r.usingDefaultRenderer)?r:r.scope,r.updater?Ext.callback(r.updater,q,[v,d,b,this,this.dataSource],0,r,m):(r.renderer&&(d=Ext.callback(r.renderer,q,[d,null,b,0,0,this.dataSource,this],0,r,m)),d=(q=null==d||""===d)?r.emptyCellText:d,r.producesHTML||q?n.down(this.innerSelector,!0).innerHTML=d:n.down(this.innerSelector,!0).childNodes[0].data=d),this.highlightClass&&(Ext.fly(v).addCls(this.highlightClass),this.changedCells||
(this.self.prototype.changedCells=[],this.prototype.clearChangedTask=new Ext.util.DelayedTask(this.clearChangedCells,this.prototype),this.clearChangedTask.delay(this.unhighlightDelay)),this.changedCells.push({cell:v,cls:this.highlightClass,expires:Ext.Date.now()+1E3}));c&&f&&!b.dirty&&Ext.fly(p,"_internal").select("."+g).removeCls(g);k&&Ext.suspendLayouts();this.fireEvent("itemupdate",b,a,p);k&&(this.ownerGrid.updateLayout(),Ext.resumeLayouts(!0))}},afterComponentLayout:function(){var a;this.callParent(arguments);
this.touchScroll&&!this.bufferedRenderer&&(a=this.getScrollable())&&a.refresh()},clearChangedCells:function(){for(var a=Ext.Date.now(),b,c=this.changedCells.length;0<c;)if(b=this.changedCells[0],b.expires<=a)Ext.fly(b.cell).removeCls(b.highlightClass),Ext.Array.erase(this.changedCells,0,1),c--;else break;c&&this.clearChangedTask.delay(this.unhighlightDelay)},updateColumns:function(a,b,c){var d,e,f,g,h=c.length;this.getCellSelector();if(a.mergeAttributes)a.mergeAttributes(b,!0);else for(d=b.attributes,
e=d.length,g=0;g<e;g++)f=d[g].name,"id"!==f&&a.setAttribute(f,d[g].value);for(d=0;d<h;d++)e=c[d],f=this.getCellSelector(e),e=Ext.fly(a).selectNode(f),f=Ext.fly(b).selectNode(f),Ext.fly(e).syncContent(f)},shouldUpdateCell:function(a,b,c){return b.shouldUpdateCell(a,c)},refresh:function(){var a;a=this.saveFocusState();this.destroying||(this.callParent(arguments),a(),this.headerCt.setSortState(),this.touchScroll&&this.el&&!this.all.getCount()&&this.headerCt&&this.headerCt.tooNarrow&&(a=this.getScrollable())&&
a.isTouchScroller&&a.setSize({x:this.headerCt.getTableWidth(),y:a.getSize().y}))},processContainerEvent:function(a){if((a=Ext.Component.fromElement(a.target.parentNode))&&a.up(this.ownerCt))return!1},processItemEvent:function(a,b,c,d){var e=this.self,f=e.EventMap,g=d.type,h=this.features,k=h.length,l,m,n;m=d.position=this.eventPosition||(this.eventPosition=new Ext.grid.CellContext);var p,q;if(Ext.isIE&&"mouseup"===g&&!d.within(this.el))return!1;if(-1!==this.indexInStore(b)){p=m.rowElement=Ext.fly(b).down(this.rowSelector,
!0);q=d.getTarget(this.getCellSelector(),p);g=e.TouchEventMap[g]||g;if(q){if(!q.parentNode)return!1;l=this.getHeaderByCell(q);e=this.ownerCt.getColumnManager().getHeaderIndex(l)}else e=-1;m.setAll(this,c,l?this.getVisibleColumnManager().getHeaderIndex(l):-1,a,l);m.cellElement=q;m=this.fireEvent("uievent",g,this,q,c,e,d,a,p);if(!1===m||!1===this.callParent(arguments))return!1;for(l=0;l<k;++l)if(n=h[l],n.wrapsItem&&!1===n.vetoEvent(a,p,c,d))return this.processSpecialEvent(d),!1;q&&"mouseover"!==g&&
"mouseout"!==g&&(m=!(!1===this["onBeforeCell"+f[g]](q,e,a,p,c,d)||!1===this.fireEvent("beforecell"+g,this,q,e,a,p,c,d)||!1===this["onCell"+f[g]](q,e,a,p,c,d)||!1===this.fireEvent("cell"+g,this,q,e,a,p,c,d)));!1!==m&&(m=this.fireEvent("row"+g,this,a,p,c,d));return m}this.processSpecialEvent(d);d.preventDefault();return!1},processSpecialEvent:function(a){var b=this.features,c=b.length,d=a.type,e,f,g,h,k,l=this.ownerCt;this.callParent(arguments);if("mouseover"!==d&&"mouseout"!==d){d=this.self.TouchEventMap[d]||
d;for(e=0;e<c;e++)if(f=b[e],f.hasFeatureEvent&&(h=a.getTarget(f.eventSelector,this.getTargetEl())))if(g=f.eventPrefix,k=f.getFireEventArgs("before"+g+d,this,h,a),f=f.getFireEventArgs(g+d,this,h,a),!1===this.fireEvent.apply(this,k)||!1===l.fireEvent.apply(l,k)||!1===this.fireEvent.apply(this,f)||!1===l.fireEvent.apply(l,f))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,
onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){Ext.isNumber(a)&&(a=this.getGridColumns()[a]);a&&(a.isGroupHeader?
a.autoSize():(delete a.flex,a.setWidth(this.getMaxContentWidth(a))))},getMaxContentWidth:function(a){var b=this.el.query(a.getCellInnerSelector()),c=a.getWidth(),d=0,e=b.length,f=this.body.select(this.getColumnSizerSelector(a)),g=Math.max,h=0,k;0<e&&(Ext.supports.ScrollWidthInlinePaddingBug&&(h+=this.getCellPaddingAfter(b[0])),this.columnLines&&(h+=Ext.fly(b[0].parentNode).getBorderWidth("lr")));f.setWidth(1);a.textEl.setStyle({"text-overflow":"clip",display:"table-cell"});k=a.textEl.dom.offsetWidth+
a.titleEl.getPadding("lr");for(a.textEl.setStyle({"text-overflow":"",display:""});d<e;d++)k=g(k,b[d].scrollWidth);k=g(k+h+1,40);f.setWidth(c);return k},getPositionByEvent:function(a){var b=a.getTarget(this.cellSelector);a=a.getTarget(this.itemSelector);a=this.getRecord(a);b=this.getHeaderByCell(b);return this.getPosition(a,b)},getHeaderByCell:function(a){return a?this.ownerCt.getVisibleColumnManager().getHeaderById(Ext.getDom(a).getAttribute("data-columnId")):!1},walkCells:function(a,b,c,d){var e=
a.clone(),f=this.lockingPartner&&this.lockingPartner.grid.isVisible()?this.lockingPartner:null,g=a.rowIdx,h=this.dataSource.getCount()-1,k=this.ownerCt.getVisibleColumnManager().getColumns();switch(b.toLowerCase()){case "right":if(a.isLastColumn()){g=f&&this.isLockedView?g:g+1;if(g>h)return!1;f&&(e.view=f);e.setPosition(g,0)}else e.navigate(1);break;case "left":if(a.isFirstColumn()){g=f&&this.isNormalView?g:g-1;if(0>g)return!1;f&&(e.view=f,k=f.getVisibleColumnManager().getColumns());e.setPosition(g,
k[k.length-1])}else e.navigate(-1);break;case "up":if(0===g)return!1;e.setRow(g-1);break;case "down":if(g===h)return!1;e.setRow(g+1)}return c&&!0!==c.call(d||this,e)?!1:e},walkRows:function(a,b){var c=this.dataSource,d=0,e=a,f,g=(c=0>b?0:c.getCount()-1)?1:-1,h=a;do{if(c?h>=c:h<=c)return e||c;h+=g;(f=Ext.fly(this.getRow(h)))&&f.isVisible(!0)&&(d+=g,e=h)}while(d!==b);return h},walkRecs:function(a,b){var c=this.dataSource,d=0,e=a,f,g=0>b?0:(c.isBufferedStore?c.getTotalCount():c.getCount())-1,h=g?1:-1,
k=c.indexOf(a),l;do{if(g?k>=g:k<=g)break;k+=h;l=c.getAt(k);!l.isCollapsedPlaceholder&&(f=Ext.fly(this.getNodeByRecord(l)))&&f.isVisible(!0)&&(d+=h,e=l)}while(d!==b);return e},getFirstVisibleRowIndex:function(){var a=this.dataSource.isBufferedStore?this.dataSource.getTotalCount():this.dataSource.getCount(),b=this.indexOf(this.all.first())-1;do if(b+=1,b===a)return;while(!Ext.fly(this.getRow(b)).isVisible(!0));return b},getLastVisibleRowIndex:function(){var a=this.indexOf(this.all.last());do if(--a,
-1===a)return;while(!Ext.fly(this.getRow(a)).isVisible(!0));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return(new Ext.grid.CellContext(this)).setPosition(a,b)},onDestroy:function(){var a=this.featuresMC,b,c;if(a)for(c=0,b=a.getCount();c<b;++c)a.getAt(c).destroy();this.cellFly=this.featuresMC=null;this.callParent(arguments);this.all.destroy();this.body.destroy();this.actionRow=this.cellTpl=this.rowTpl=this.bufferedRenderer=this.selection=this.actionPosition=this.eventPosition=
this.lastFocused=this.grid=this.ownerGrid=this.headerCt=this.panel=this.all=this.body=this.body.el=null},onReplace:function(a,b,c,d){var e=this.bufferedRenderer,f;this.rendered&&e?(f=this.saveFocusState(),e.onReplace(a,b,c,d),f()):this.callParent(arguments);this.setPendingStripe(b)},onResize:function(a,b,c,d){var e=this.bufferedRenderer;if(e)e.onViewResize(this,a,b,c,d);this.callParent([a,b])},onAdd:function(a,b,c){var d=this.bufferedRenderer;if(this.rendered&&d&&(d.bodyTop||this.dataSource.getCount()+
b.length>=d.viewSize))d.onReplace(a,c,[],b);else this.callParent(arguments);this.setPendingStripe(c)},onRemove:function(a,b,c){var d=this.bufferedRenderer,e;this.rendered&&d&&this.dataSource.getCount()+b.length>=d.viewSize?(e=this.saveFocusState(),d.onReplace(a,c,b,[]),e()):this.callParent(arguments);this.setPendingStripe(c)},saveFocusState:function(){var a=this,b=a.dataSource,c=a.actionableMode,d=a.getNavigationModel(),e=c?a.actionPosition:d.getPosition(!0),f,g;return e?(e=e.clone(),c&&a.ownerGrid.setActionableMode(!1),
a.el.dom.focus(),d.setPosition(),function(){b.getCount()?(f=Math.min(e.rowIdx,a.all.getCount()-1),g=Math.min(e.colIdx,a.getVisibleColumnManager().getColumns().length-1),e=(new Ext.grid.CellContext(a)).setPosition(b.contains(e.record)?e.record:f,g),c?a.ownerGrid.setActionableMode(!0,e):(a.cellFocused=!0,d.setPosition(e,null,null,null,!0))):e.column.focus()}):Ext.emptyFn},onDataRefresh:function(a){var b=this.ownerCt;if(b&&2===b.isCollapsingOrExpanding)b.on("expand",this.onDataRefresh,this,{single:!0});
else this.callParent([a])},getViewRange:function(){return this.bufferedRenderer?this.bufferedRenderer.getViewRange():this.callParent()},setPendingStripe:function(a){var b=this.stripeOnUpdate;this.stripeOnUpdate=b=null===b?a:Math.min(b,a)},onEndUpdate:function(){var a=this.stripeOnUpdate,b=this.all.startIndex;this.rendered&&(a||0===a)&&(a<b&&(a=b),this.doStripeRows(a),this.stripeOnUpdate=null);this.callParent(arguments)},doStripeRows:function(a,b){var c,d,e,f;if(this.rendered&&this.stripeRows)for(c=
this.getNodes(a,b),e=0,d=c.length;e<d;e++)f=c[e],f.className=f.className.replace(this.rowClsRe," "),a++,0===a%2&&(f.className+=" "+this.altRowCls)},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")},privates:{refreshScroll:function(){var a=this.bufferedRenderer;a?a.refreshSize():this.callParent()},collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},
setActionableMode:function(a,b){var c=this.getNavigationModel(),d,e,f,g=this.grid.actionables,h=g.length,k,l,m;if(this.actionableMode===a&&(!a||b.isEqual(this.actionPosition)))return!1;if(a){if(b&&(b.view===this||b.view===(m=this.lockingPartner)&&m.actionableMode)){b=b.clone();d=b.record;this.grid.ensureVisible(d,{column:b.column});d=this.all.item(b.rowIdx);if(!m)for(e=Ext.fly(d).down(b.column.getCellSelector()),k=0;k<h;k++)l=l||g[k].activateCell(b);if(m||e.restoreTabbableState(!0).length||l){for(k=
0;k<h;k++)g[k].activateRow&&g[k].activateRow(d);if(m||(f=e.findTabbableElements()).length){d.restoreTabbableState(!0);if(m)return this.actionableMode=!0,this.actionPosition=null,!0;if(f)return this.actionRow=d,this.actionableMode=this.ownerGrid.actionableMode=!0,c.setPosition(),c.actionPosition=this.actionPosition=b,Ext.fly(f[0]).focus(),!0}}}return!1}e=Ext.fly(Ext.Element.getActiveElement());(f=this.el.contains(e))&&(d=this.actionPosition&&this.actionPosition.record);for(k=0;k<h;k++)g[k].deactivate&&
g[k].deactivate();this.actionRow&&this.actionRow.saveTabbableState({skipSelf:!0,includeSaved:!1});this.actionableMode=this.ownerGrid.actionableMode=!1;this.actionPosition=c.actionPosition=this.actionRow=null;f&&c.setPosition((new Ext.grid.CellContext(this)).setPosition(d||0,this.getHeaderByCell(e.findParent(this.getCellSelector()))||0))},onRowExit:function(a,b,c){var d=this,e=c?"nextSibling":"previousSibling",f=d.lockingPartner,g=d.grid.actionables,h=g.length,k;d.refreshing=d.actionableModeTabbing=
!0;for(k=0;k<h;k++)g[k].deactivate&&g[k].deactivate();f&&f.grid.isVisible()&&(b=d.all.indexOf(a),c?d.isNormalView&&b++:(f.getVisibleColumnManager().getColumns(),d.isLockedView&&b--),d.actionPosition=null,d=f,b=d.all.item(b,!0));d.findFirstActionableElement(b,e,c);d.refreshing=d.actionableModeTabbing=!1;Ext.fly(a).saveTabbableState({skipSelf:!0,includeSaved:!1})},findFirstActionableElement:function(a,b,c){var d=this,e=d.getVisibleColumnManager().getColumns(),f=e.length,g,h,k=d.grid.actionables,l=k.length,
m,n,p=new Ext.grid.CellContext(d),q;if(a){p.setRow(a);for(m=0;m<l;m++)k[m].activateRow&&k[m].activateRow(a);for(m=c?0:f-1;(c?m<f:-1<m)&&!h;m+=c?1:-1){g=e[m];p.setColumn(g);g=Ext.fly(a).down(p.column.getCellSelector());for(n=0;n<l;n++)q=q||k[n].activateCell(p);if(g.restoreTabbableState(!0).length||q)h=g.findTabbableElements(),d.actionRow=Ext.get(a),d.actionRow.restoreTabbableState(!0),h=h[c?0:h.length-1]}if(h)d.actionPosition=d.getNavigationModel().actionPosition=p,Ext.fly(h).focus();else d.onRowExit(a,
d.all.item(p.rowIdx+(c?1:-1)),c)}else d.grid.ensureVisible(c?0:d.dataSource.getCount()-1,{callback:function(a,e,f){a?d.findFirstActionableElement(f,b,c):d.ownerGrid.setActionableMode(!1)}})}}});
Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.plugin.Abstract,alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1E3,eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:this});this.minColWidth||(this.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var a=this.tracker;a&&(a.destroy(),this.tracker=null);this.headerCt.un("render",
this.afterHeaderRender,this);this.headerCt=null;this.callParent()},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.markerOwner=this.ownerGrid=this.headerCt.up("tablepanel").ownerGrid;this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:this.onBeforeStart.bind(this),onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a){this.headerCt.dragging||
this.disabled?this.activeHd&&(this.activeHd.el.dom.style.cursor="",delete this.activeHd):"touch"!==a.pointerType&&this.findActiveHeader(a)},findActiveHeader:function(a){var b=this.headerCt,c=a.getTarget("."+this.colHeaderCls,b.el,!0),d=this.ownerGrid,e=d.ownerLockable,f;this.activeHd=null;if(c){c=Ext.getCmp(c.id);if(c.isAtEndEdge(a)){if(1===b.visibleColumnManager.getColumns().length&&b.forceFit)return;f=c}else c.isAtStartEdge(a)&&(a=b.visibleColumnManager.getColumns(),b=c.isGroupHeader?c.getGridColumns()[0]:
c,f=a[Ext.Array.indexOf(a,b)-1],f||!e||d.isLocked||(a=e.lockedGrid.headerCt.visibleColumnManager.getColumns(),f=a[a.length-1]));f?(f.isGroupHeader&&(a=f.getGridColumns(),f=a[a.length-1]),f&&!f.fixed&&!1!==f.resizable&&(this.activeHd=f,c.el.dom.style.cursor=this.eResizeCursor,c.triggerEl&&(c.triggerEl.dom.style.cursor=this.eResizeCursor))):(c.el.dom.style.cursor="",c.triggerEl&&(c.triggerEl.dom.style.cursor=""))}return this.activeHd},onBeforeStart:function(a){return(this.dragHd=this.activeHd||"touch"===
a.pointerType&&this.findActiveHeader(a))&&!this.headerCt.dragging?(this.xDelta=this.dragHd.getX()+this.dragHd.getWidth()-this.tracker.getXY()[0],this.tracker.constrainTo=this.getConstrainRegion(),!0):this.headerCt.dragging=!1},getConstrainRegion:function(){var a=this.dragHd.el,b;b=this.ownerGrid;var c=b.getSizeModel().width,d=c.shrinkWrap?this.headerCt.getWidth()-this.headerCt.visibleColumnManager.getColumns().length*this.minColWidth:this.maxColWidth;this.headerCt.forceFit?(b=this.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&
this.headerInSameGrid(b)&&(d=a.getWidth()+(b.getWidth()-this.minColWidth)):b.isLocked&&c.shrinkWrap&&(d=this.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(!0)-b.getWidth()-(b.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*this.minColWidth+Ext.getScrollbarSize().width));b=this.adjustConstrainRegion(a.getRegion(),0,0,0,this.minColWidth);b.right=a.getX()+d;return b},onStart:function(a){var b=this.dragHd;a=b.el.getWidth();var c=b.getRootHeaderCt(),d,e,f,g;this.headerCt.dragging=
!0;this.origWidth=a;this.dynamic||(d=this.markerOwner,d.frame&&d.resizable&&(this.gridOverflowSetting=d.el.dom.style.overflow,d.el.dom.style.overflow="hidden"),b=this.getLeftMarkerX(d),e=d.getLhsMarker(),f=d.getRhsMarker(),g=this.ownerGrid.body.getHeight()+c.getHeight(),c=c.getOffsetsTo(d)[1]-d.el.getBorderWidth("t"),e.dom.style.cursor=this.eResizeCursor,f.dom.style.cursor=this.eResizeCursor,e.setLocalY(c),f.setLocalY(c),e.setHeight(g),f.setHeight(g),this.setMarkerX(e,b),this.setMarkerX(f,b+a))},
onDrag:function(a){this.dynamic?this.doResize():this.setMarkerX(this.getMovingMarker(this.markerOwner),this.calculateDragX(this.markerOwner))},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(a){var b=this.markerOwner;this.headerCt.dragging=!1;this.dragHd&&(this.dynamic||("gridOverflowSetting"in this&&(b.el.dom.style.overflow=this.gridOverflowSetting),this.setMarkerX(b.getLhsMarker(),-9999),this.setMarkerX(b.getRhsMarker(),-9999)),this.doResize(),"touch"!==a.pointerType?(this.dragHd=
null,this.activeHd.el.dom.style.cursor=this.eResizeCursor):this.dragHd=this.activeHd=null);this.headerCt.blockNextEvent()},doResize:function(){var a=this.dragHd,b=this.tracker.getOffset("point");a&&b[0]&&(a.flex&&delete a.flex,Ext.suspendLayouts(),this.adjustColumnWidth(b[0]-this.xDelta),this.headerCt.forceFit&&((a=a.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&!this.headerInSameGrid(a)&&(a=null),a&&(delete a.flex,a.setWidth(a.getWidth()-b[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(a){var b=
this.dragHd.up("tablepanel");return!!a.up(b)},disable:function(){var a=this.tracker;this.disabled=!0;a&&a.disable()},enable:function(){var a=this.tracker;this.disabled=!1;a&&a.enable()},calculateDragX:function(a){return this.tracker.getXY("point")[0]+this.xDelta-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,b,c,d,e){return a.adjust(b,c,d,e)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+
a)}});
Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.autoGroup=!0;this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){if(a.getTarget(this.colInnerSelector)){var b=a.getTarget(this.colHeaderSelector);
if(b&&(b=Ext.getCmp(b.id),!this.headerCt.dragging&&b.draggable&&!b.isAtStartEdge(a)&&!b.isAtEndEdge(a)))return a=document.createElement("div"),a.role="presentation",a.innerHTML=b.text,{ddel:a,header:b}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0;this.headerCt.hideMenu();this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1;this.callParent(arguments)},afterRepair:function(){this.callParent();
this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}});
Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.autoGroup=!0;this.callParent([a.el])},destroy:function(){this.callParent();Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){this.topIndicator||
(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-top",html:"&#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2));return this.topIndicator},getBottomIndicator:function(){this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-bottom",html:"&#160;"}));return this.bottomIndicator},getLocation:function(a,b){var c=a.getXY()[0],d=Ext.fly(b).getRegion();return{pos:d.right-
c<=(d.right-d.left)/2?"after":"before",header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d=a.header,e=this.getLocation(c,b);b=e.header;c=e.pos;var f,g;if(b!==this.lastTargetHeader||c!==this.lastDropPos){f=d.nextSibling("gridcolumn:not([hidden])");g=d.previousSibling("gridcolumn:not([hidden])");this.lastTargetHeader=b;this.lastDropPos=c;if(!b.draggable&&"before"===c&&0===b.getIndex())return!1;a.dropLocation=e;if(d!==b&&("before"===c&&f!==b||"after"===c&&g!==b)&&!b.isDescendantOf(d)){a=
Ext.dd.DragDropManager.getRelated(this);d=a.length;for(e=0;e<d;e++)f=a[e],f!==this&&f.invalidateDrop&&f.invalidateDrop();this.valid=!0;a=this.getTopIndicator();d=this.getBottomIndicator();"before"===c?(c="bc-tl",e="tc-bl"):(c="bc-tr",e="tc-br");c=a.getAlignToXY(b.el,c);b=d.getAlignToXY(b.el,e);f=this.headerCt.el;e=f.getX()-this.indicatorXOffset;f=f.getX()+f.getWidth();c[0]=Ext.Number.constrain(c[0],e,f);b[0]=Ext.Number.constrain(b[0],e,f);a.setXY(c);d.setXY(b);a.show();d.show()}else this.invalidateDrop()}},
invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(a,b,c,d){b=d.header;var e,f,g;if(d.header.el.dom===a)e=!1;else if(d.isLock=d.isUnlock=d.crossPanel=!1,f=this.getLocation(c,a).header,e=b.ownerCt===f.ownerCt,!e&&!b.ownerCt.sealed&&!f.ownerCt.sealed&&(e=!0,g=b.up("tablepanel"),f=f.up("tablepanel"),g!==f&&(d.crossPanel=!0,d.isLock=f.isLocked&&!g.isLocked,d.isUnlock=!f.isLocked&&g.isLocked,d.isUnlock&&!1===b.lockable||d.isLock&&!b.isLockable())))e=!1;e?this.positionIndicator(d,
a,c):this.valid=!1;return this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide();this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(a,b){var c=a.items;a.isGroupHeader&&c.length&&(a=this.getNestedHeader(c[b?"last":"first"](),b));return a},onNodeDrop:function(a,b,c,d){this.headerCt.blockNextEvent();if(this.valid){a=d.header;b=d.dropLocation;c=b.pos;var e=
b.header,f=a.ownerCt,g=f.getRootHeaderCt();b=e.ownerCt;var h=this.headerCt.visibleColumnManager,k=h.getHeaderIndex(a),l;d.isLock||d.isUnlock?(f=f.up("[scrollerOwner]"),h=b.items.indexOf(e),"after"===c&&h++,d.isLock?f.lock(a,h,b):f.unlock(a,h,b)):(h="after"===c?h.getHeaderIndex(this.getNestedHeader(e,1))+1:h.getHeaderIndex(this.getNestedHeader(e,0)),this.invalidateDrop(),l=a.getWidth(),Ext.suspendLayouts(),f.isDDMoveInGrid=b.isDDMoveInGrid=!d.crossPanel,a.isGroupHeader&&e.isGroupHeader&&a.setNestedParent(e),
"before"===c?e.insertNestedHeader(a):(d="move"+c.charAt(0).toUpperCase()+c.substr(1),b[d](a,e)),0<=h&&(!e.isGroupHeader||e.items&&e.items.length)&&k!==h&&(d=a.isGroupHeader?a.query(":not([hidden]):not([isGroupHeader])").length:1,k<=h&&1<d&&(h-=d),b.getRootHeaderCt().grid.view.moveColumn(k,h,d)),g.fireEvent("columnmove",f,a,k,h),f.isDDMoveInGrid=b.isDDMoveInGrid=!1,b.isGroupHeader&&!f.isGroupHeader?f!==b&&(a.savedFlex=a.flex,delete a.flex,a.width=l):!f.isGroupHeader&&a.savedFlex&&(a.flex=a.savedFlex,
delete a.width),Ext.resumeLayouts(!0))}}});
Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.plugin.Abstract,alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({boxready:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){this.headerCt.un("boxready",this.onHeaderCtRender,this);Ext.destroy(this.dragZone,this.dropZone);this.headerCt=this.dragZone=this.dropZone=null;this.callParent()},onHeaderCtRender:function(){this.dragZone=new Ext.grid.header.DragZone(this.headerCt);this.dropZone=new Ext.grid.header.DropZone(this.headerCt);
this.disabled&&this.dragZone.disable()},enable:function(){this.disabled=!1;this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0;this.dragZone&&this.dragZone.disable()}});
Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,mixins:[Ext.util.FocusableContainer],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+
"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",blockEvents:!1,dragging:!1,sortOnClick:!0,enableFocusableContainer:!1,childHideCount:0,sortable:!0,enableColumnHide:!0,initComponent:function(){this.plugins=this.plugins||[];this.defaults=this.defaults||{};this.isColumn||(this.enableColumnResize&&(this.resizer=new Ext.grid.plugin.HeaderResizer,this.plugins.push(this.resizer)),this.enableColumnMove&&(this.reorderer=new Ext.grid.plugin.HeaderReorderer,this.plugins.push(this.reorderer)));this.isColumn&&
!this.isGroupHeader?this.items&&0!==this.items.length||(this.isContainer=this.isFocusableContainer=!1,this.focusable=!0,this.layout={type:"container",calculate:Ext.emptyFn}):(this.layout=Ext.apply({type:"gridcolumn",align:"stretch"},this.initialConfig.layout),this.defaults.columnLines=this.columnLines,this.isGroupHeader?(this.visibleColumnManager=new Ext.grid.ColumnManager(!0,this),this.columnManager=new Ext.grid.ColumnManager(!1,this)):(this.isRootHeader=!0,this.hiddenHeaders||(this.enableFocusableContainer=
!0,this.ariaRole="rowgroup"),this.columnManager=new Ext.grid.ColumnManager(!1,this),this.visibleColumnManager=new Ext.grid.ColumnManager(!0,this),this.grid&&(this.grid.columnManager=this.columnManager,this.grid.visibleColumnManager=this.visibleColumnManager)));this.menuTask=new Ext.util.DelayedTask(this.updateMenuDisabledState,this);this.callParent()},insertNestedHeader:function(a){var b=a.ownerCt,c=this.ownerCt,d=c.layout.owner,e;b&&(this.isGroupHeader&&!c.isNestedParent&&(e=d.items.indexOf(this)),
b.remove(a,!1));void 0===e&&(e=d.items.indexOf(this));d.insert(e,a)},isNested:function(){return!!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var a=this.getRefOwner().query(">:not([hidden])");return 1===a.length&&a[0]===this},maybeShowNestedGroupHeader:function(){var a=this.items,b;a&&1===a.length&&(b=a.getAt(0))&&b.hidden&&b.show()},setNestedParent:function(a){a.isNestedParent=!1;a.ownerCt.isNestedParent=!(1!==this.ownerCt.items.length||1!==a.ownerCt.items.length)},
initEvents:function(){var a;this.callParent();this.isColumn||this.isGroupHeader||(a=this.onHeaderCtEvent,a={click:a,dblclick:a,contextmenu:a,mouseover:this.onHeaderCtMouseOver,mouseout:this.onHeaderCtMouseOut,scope:this},Ext.supports.Touch&&(a.longpress=this.onHeaderCtLongPress),this.mon(this.el,a))},onHeaderCtEvent:function(a,b){var c=this.getHeaderElByEvent(a),d;if(this.longPressFired)this.longPressFired=!1;else if(c&&!this.blockEvents&&(c=Ext.getCmp(c.id))&&(d=c[c.clickTargetName],!c.isGroupHeader&&
!c.isContainer||a.within(d)))if("click"===a.type||"tap"===a.type)if(d=c.onTitleElClick(a,d,this.sortOnClick))this.onHeaderTriggerClick(d,a,"touch"===a.pointerType?d.el:d.triggerEl);else this.onHeaderClick(c,a,b);else if("contextmenu"===a.type)this.onHeaderContextMenu(c,a,b);else if("dblclick"===a.type&&c.resizable)c.onTitleElDblClick(a,d.dom)},blockNextEvent:function(){this.blockEvents=!0;Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=!1},onHeaderCtMouseOver:function(a,
b){var c,d;if(!a.within(this.el,!0)&&(c=(c=a.getTarget("."+Ext.grid.column.Column.prototype.baseCls))&&Ext.getCmp(c.id))&&(d=c[c.clickTargetName],a.within(d)))c.onTitleMouseOver(a,d.dom)},onHeaderCtMouseOut:function(a,b){var c="."+Ext.grid.column.Column.prototype.baseCls,d=a.getTarget(c),c=a.getRelatedTarget(c),e;d!==c&&(d&&(d=Ext.getCmp(d.id))&&(e=d[d.clickTargetName],d.onTitleMouseOut(a,e.dom)),c&&(d=Ext.getCmp(c.id))&&(e=d[d.clickTargetName],d.onTitleMouseOver(a,e.dom)))},onHeaderCtLongPress:function(a){var b=
this.getHeaderElByEvent(a),c=Ext.getCmp(b.id);c.menuDisabled||(this.longPressFired=!0,this.showMenuBy(a,b,c))},getHeaderElByEvent:function(a){return a.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return this.hiddenHeaders?!1:this.callParent()},getRootHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},onDestroy:function(){this.menu&&this.menu.un("hide",this.onMenuHide,this);this.menuTask.cancel();this.callParent();Ext.destroy(this.visibleColumnManager,
this.columnManager,this.menu);this.columnManager=this.visibleColumnManager=null},applyColumnsState:function(a,b){if(a&&a.length){var c=this.items.items,d=c.length,e,f=a.length,g,h,k=!1,l=[],m={},n=[];for(e=0;e<f;e++)g=a[e],g.index=e,m[g.id]=g;for(e=0;e<d;e++)f=c[e],(g=m[f.getStateId()])?(h=g.index,l[h]=f,e!==h&&(k=!0),f.applyColumnState&&f.applyColumnState(g,b)):n.push({index:e,column:f});l=Ext.Array.clean(l);if(f=n.length)for(e=0;e<f;e++)g=n[e],h=g.index,h<l.length?(k=!0,Ext.Array.splice(l,h,0,g.column)):
l.push(g.column);k&&(this.applyingState=!0,this.removeAll(!1),delete this.applyingState,this.add(l),this.purgeCache())}},getColumnsState:function(){var a=[],b;this.items.each(function(c){(b=c.getColumnState&&c.getColumnState())&&a.push(b)});return a},onAdd:function(a){this.callParent(arguments);this.onHeadersChanged(a,this.isDDMoveInGrid)},move:function(a,b){var c=this.items,d;a.isComponent?(d=a,a=c.indexOf(d)):d=c.getAt(a);d.visibleFromIdx=this.getRootHeaderCt().visibleColumnManager.indexOf(d);this.callParent(arguments)},
onMove:function(a,b,c){var d=this.getRootHeaderCt(),e=d.visibleColumnManager,f=1;this.onHeadersChanged(a,!0);e=e.indexOf(a);e>=a.visibleFromIdx&&e++;this.callParent(arguments);a.isGroupHeader&&(f=a.visibleColumnManager.getColumns().length);d.onHeaderMoved(a,f,a.visibleFromIdx,e)},maybeContinueRemove:function(){return this.isGroupHeader&&!this.applyingState&&!this.isNestedParent&&this.ownerCt&&!this.items.getCount()},onRemove:function(a,b){var c=this.ownerCt;this.callParent([a,b]);if(!this.destroying){if(!this.isDDMoveInGrid)this.onHeadersChanged(a,
!1);this.maybeContinueRemove()&&(a.rendered&&this.detachComponent(a),Ext.suspendLayouts(),c.remove(this),Ext.resumeLayouts(!0))}},onHeadersChanged:function(a,b){var c,d=this.getRootHeaderCt();this.purgeHeaderCtCache(this);if(d&&(d.onColumnsChanged(),!a.isGroupHeader&&(c=d.ownerCt)&&!b))c.onHeadersChanged(d,a)},onHeaderMoved:function(a,b,c,d){var e=this.ownerCt;if(this.rendered){if(e&&e.onHeaderMove)e.onHeaderMove(this,a,b,c,d);this.fireEvent("columnmove",this,a,c,d)}},onColumnsChanged:function(){var a=
this.menu,b;this.rendered&&(this.fireEvent("columnschanged",this),a&&(b=a.child("#columnItemSeparator"))&&(a=a.child("#columnItem"),b.destroy(),a.destroy()))},lookupComponent:function(a){var b=this.callParent(arguments);b.isGroupHeader||void 0!==b.width||b.flex||(b.width=this.defaultWidth);return b},setSortState:function(){var a=this.up("[store]").store,b=this.visibleColumnManager.getColumns(),c=b.length,d,e,f;for(d=0;d<c;d++)e=b[d],(f=e.getSorter())?a.getSorters().contains(f)||(f=null):f=a.getSorters().get(e.getSortParam()),
e.setSortState(f)},getHeaderMenu:function(){var a=this.getMenu();return a&&(a=a.child("#columnItem"))?a.menu:null},onHeaderVisibilityChange:function(a,b){var c=this.getHeaderMenu(),d;this.purgeHeaderCtCache(a.ownerCt);c&&((d=this.getMenuItemForHeader(c,a))&&d.setChecked(b,!0),c.isVisible()&&this.menuTask.delay(50))},updateMenuDisabledState:function(a){var b=this.query("gridcolumn:not([hidden])"),c,d=b.length,e,f;a||(a=this.getMenu());for(c=0;c<d;++c)if(e=b[c],f=this.getMenuItemForHeader(a,e))e=e.isHideable()?
"enable":"disable",f.menu&&(e+="CheckChange"),f[e]()},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=this.ownerCt,c=a.lastHiddenHeader;b&&(this.forceFit&&delete this.flex,c&&!a.query("[hidden=false]").length&&(c.show(),a.lastHiddenHeader=null),this.onHeaderVisibilityChange(a,!0),b.onHeaderShow(this,a),this.fireEvent("columnshow",this,a),this.fireEvent("columnschanged",this))},onHeaderHide:function(a){var b=this.ownerCt;b&&
(this.onHeaderVisibilityChange(a,!1),b.onHeaderHide(this,a),this.fireEvent("columnhide",this,a),this.fireEvent("columnschanged",this))},onHeaderResize:function(a,b){var c=this.ownerCt;if(c)c.onHeaderResize(this,a,b);this.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){var d=a.getView().getSelectionModel();a.fireEvent("headerclick",this,a,b,c);if(!1!==this.fireEvent("headerclick",this,a,b,c)&&d.onHeaderClick)d.onHeaderClick(this,a,b)},onHeaderContextMenu:function(a,b,c){a.fireEvent("headercontextmenu",
this,a,b,c);this.fireEvent("headercontextmenu",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){!1!==a.fireEvent("headertriggerclick",this,a,b,c)&&!1!==this.fireEvent("headertriggerclick",this,a,b,c)&&(a.activeMenu?b.pointerType?a.activeMenu.hide():a.activeMenu.focus():this.showMenuBy(b,c,a))},showMenuBy:function(a,b,c){var d=this.getMenu(),e=d.down("#ascItem"),f=d.down("#descItem");d.activeHeader=d.ownerCmp=c;c.setMenuActive(d);c=c.sortable?"enable":"disable";if(e)e[c]();if(f)f[c]();d.autoFocus=
!a||a.keyCode;d.showBy(b,"tl-bl?");if(!d.isVisible())this.onMenuHide(d)},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},purgeHeaderCtCache:function(a){for(;a;){a.purgeCache();if(a.isRootHeader)break;a=a.ownerCt}},purgeCache:function(){var a=this.visibleColumnManager,b=this.columnManager;this.gridVisibleColumns=this.gridDataColumns=this.hideableColumns=null;a&&(a.invalidate(),b.invalidate())},getMenu:function(){var a=this.view&&this.view.ownerGrid;
this.menu||(this.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:this.getMenuItems(),listeners:{beforeshow:this.beforeMenuShow,hide:this.onMenuHide,scope:this}}),this.fireEvent("menucreate",this,this.menu),a&&a.fireEvent("headermenucreate",a,this.menu,this));return this.menu},beforeMenuShow:function(a){var b,c;a.child("#columnItem")||(b=this.enableColumnHide?this.getColumnMenu(this):null,c=this.sortable?2:0,b&&b.length&&a.insert(c,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",
text:this.columnsText,iconCls:this.menuColsIcon,menu:{items:b},hideOnClick:!1}]));this.updateMenuDisabledState(this.menu)},getMenuItems:function(){var a=[],b=this.enableColumnHide?this.getColumnMenu(this):null;this.sortable&&(a=[{itemId:"ascItem",text:this.sortAscText,iconCls:this.menuSortAscCls,handler:this.onSortAscClick,scope:this},{itemId:"descItem",text:this.sortDescText,iconCls:this.menuSortDescCls,handler:this.onSortDescClick,scope:this}]);b&&b.length&&(this.sortable&&a.push({itemId:"columnItemSeparator",
xtype:"menuseparator"}),a.push({itemId:"columnItem",text:this.columnsText,iconCls:this.menuColsIcon,menu:b,hideOnClick:!1}));return a},onSortAscClick:function(){this.getMenu().activeHeader.sort("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.sort("DESC")},getColumnMenu:function(a){var b=[],c=0,d;a=a.query(">gridcolumn[hideable]");for(var e=a.length;c<e;c++)d=a[c],d=new Ext.menu.CheckItem({text:d.menuText||d.text,checked:!d.hidden,hideOnClick:!1,headerId:d.id,menu:d.isGroupHeader?this.getColumnMenu(d):
void 0,checkHandler:this.onColumnCheckChange,scope:this}),b.push(d);return b.length?b:null},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);if(c.rendered)c[b?"show":"hide"]();else c.hidden=!b},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var a=0,b=this.getVisibleGridColumns(),c=b.length,d;for(d=0;d<c;d++)a+=b[d].getCellWidth()||0;return a},getVisibleGridColumns:function(){var a,b,c,d,e,f;if(this.gridVisibleColumns)return this.gridVisibleColumns;
a=this.getGridColumns();b=this.getRootHeaderCt();c=[];d=a.length;for(e=0;e<d;e++)f=a[e],f.hidden||f.isColumnHidden(b)||(c[c.length]=f);return this.gridVisibleColumns=c},isColumnHidden:function(a){for(var b=this.getRefOwner();b&&b!==a;){if(b.hidden)return!0;b=b.getRefOwner()}return!1},getGridColumns:function(a,b){if(!a&&this.gridDataColumns)return this.gridDataColumns;var c=a||[],d,e,f,g,h;b=b||this.hidden;if(this.items&&(d=this.items.items))for(e=0,f=d.length;e<f;e++)g=d[e],g.isGroupHeader?(g.visibleIndex=
c.length,g.getGridColumns(c,b)):(g.hiddenAncestor=b,c.push(g));a||(this.gridDataColumns=c);if(!a&&f){e=0;for(f=c.length;e<f;e++)g=c[e],g.fullColumnIndex=e,g.isFirstVisible=g.isLastVisible=!1,g.hidden||g.hiddenAncestor||(h||(g.isFirstVisible=!0),h=g);h&&(h.isLastVisible=!0)}return c},getHideableColumns:function(){var a=this.hideableColumns;a||(a=this.hideableColumns=this.query("[hideable]"));return a},getHeaderIndex:function(a){this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager);
return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager);return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){this.visibleColumnManager||(this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager);return this.visibleColumnManager.getVisibleHeaderClosestToIndex(a)},applyForceFit:function(a){var b=this.view,c=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,
d=!1,e=Ext.grid.header.Container.prototype.defaultWidth,f=this.el.dom.clientWidth-(b.el.dom.scrollHeight>b.el.dom.clientHeight?Ext.getScrollbarSize().width:0),g=0,h=this.getVisibleGridColumns(),k=a.hidden,l,m;Ext.suspendLayouts();l=f-(h.length+1)*c;a.flex=null;k?(m=a.width||a.savedWidth,a.savedWidth=null):m=b.getMaxContentWidth(a);if(m>l)a.width=l,d=!0;else for(a.width=m,f-=m+e,b=0,l=h.length;b<l;b++)k=h[b],k!==a&&(k.flex=k.flex||k.width||k.getWidth(),g+=k.flex,k.width=null);b=0;for(l=h.length;b<
l;b++)k=h[b],m=k===a,d&&!m?(k.flex=c,k.width=null):m||(m=k.flex||e,k.flex=Math.max(Math.ceil(m/g*f),c),k.width=null),k.setWidth(k.width||k.flex);Ext.resumeLayouts(!0)},autoSizeColumn:function(a){var b=this.view;b&&(b.autoSizeColumn(a),this.forceFit&&this.applyForceFit(a))},getRefItems:function(a){a=this.callParent([a]);this.menu&&a.push(this.menu);return a},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?
this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(a){return new Ext.util.KeyNav(a,{scope:this,down:this.showHeaderMenu,left:this.onFocusableContainerLeftKey,right:this.onFocusableContainerRightKey,home:this.onHomeKey,end:this.onEndKey,space:this.onHeaderActivate,enter:this.onHeaderActivate})},onHomeKey:function(a){return this.focusChild(null,!0,a)},onEndKey:function(a){return this.focusChild(null,!1,a)},showHeaderMenu:function(a){var b=this.getFocusableFromEvent(a);
if(b&&b.isColumn&&b.triggerEl)this.onHeaderTriggerClick(b,a,b.triggerEl)},onHeaderActivate:function(a){var b=this.getFocusableFromEvent(a),c,d;b&&b.isColumn&&(c=b.getView(),b.sortable&&this.sortOnClick&&(d=c.getNavigationModel().getLastFocused(),b.toggleSortState(),d&&c.ownerCt.ensureVisible(d.record)),this.onHeaderClick(b,a,b.el))},onFocusableContainerMousedown:function(a,b){var c=Ext.Component.fromElement(b);c===this?a.preventDefault():c.focus()}}});
Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,xtype:"gridcolumn",alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1,sorter:null},baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",ariaRole:"columnheader",enableFocusableContainer:!1,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl"],headerWrap:!1,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"',
'{tipMarkup}class="',Ext.baseCSSPrefix,'column-header-inner<tpl if="!$comp.isContainer"> ',Ext.baseCSSPrefix,"leaf-column-header</tpl>",'<tpl if="empty"> ',Ext.baseCSSPrefix,'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-container">','<div role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',
Ext.baseCSSPrefix,"column-header-text",'{childElCls}">','<span role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-inner">{text}</span>',"</div>","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" class="',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,
resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",producesHTML:!0,ignoreExport:!1,isHeader:!0,isColumn:!0,tabIndex:-1,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,
rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){this.rendererScope||(this.rendererScope=this.scope);null!=this.header&&(this.text=this.header,this.header=null);this.cellWrap&&(this.tdCls=(this.tdCls||"")+" "+Ext.baseCSSPrefix+"wrap-cell");null!=this.columns?(this.isGroupHeader=!0,this.ariaRole="presentation",this.items=this.columns,this.columns=this.flex=this.width=
null,this.cls=(this.cls||"")+" "+this.groupHeaderCls,this.sortable=this.resizable=!1,this.align="center"):this.flex&&(this.minWidth=this.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth);this.addCls(Ext.baseCSSPrefix+"column-header-align-"+this.align);this.setupRenderer();this.setupRenderer("edit");this.setupRenderer("summary");this.callParent(arguments)},onAdded:function(a,b,c){this.callParent([a,b,c]);this.headerId||(a=(a=this.up("tablepanel"))?a.ownerGrid:this.getRootHeaderCt(),a.headerCounter=
(a.headerCounter||0)+1,this.headerId="h"+a.headerCounter);this.stateId||(this.stateId=this.initialConfig.id||this.headerId);(a=this.getSorter())&&!a.initialConfig.id&&a.setId((this.dataIndex||this.stateId)+"-sorter")},applySorter:function(a){return this.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(a)},bindFormatter:function(a){var b=this;return function(c){return a.format(c,a.scope||b.rendererScope||b.resolveListenerScope())}},bindRenderer:function(a){var b=this;b.hasCustomRenderer=
!0;return function(){return Ext.callback(a,b.rendererScope,arguments,0,b)}},setupRenderer:function(a){a=a||"column";var b=this[this.formatterNames[a]],c=this[this.rendererNames[a]],d="column"===a,e;b?((c=0===b.indexOf("this."))&&(b=b.substring(5)),b=Ext.app.bind.Template.prototype.parseFormat(b),this[this.formatterNames[a]]=null,c&&(b.scope=null),this[this.rendererNames[a]]=this.bindFormatter(b)):c?("string"===typeof c&&(c=this[this.rendererNames[a]]=this.bindRenderer(c),e=!0),d&&(this.hasCustomRenderer=
e||1<c.length)):d&&this.defaultRenderer&&(this.renderer=this.defaultRenderer,this.usingDefaultRenderer=!0)},getView:function(){var a=this.getRootHeaderCt();if(a)return a.view},onFocusLeave:function(a){this.callParent([a]);this.activeMenu&&this.activeMenu.hide()},initItems:function(){this.callParent(arguments);this.isGroupHeader&&(!this.config.hidden&&this.hasVisibleChildColumns()||this.hide())},hasVisibleChildColumns:function(){var a=this.items.items,b=a.length,c,d;for(c=0;c<b;++c)if(d=a[c],d.isColumn&&
!d.hidden)return!0;return!1},onAdd:function(a){a.isColumn&&(a.isSubHeader=!0,a.addCls(this.groupSubHeaderCls));this.isGroupHeader&&this.hidden&&this.hasVisibleChildColumns()&&this.show();this.callParent([a])},onRemove:function(a,b){a.isSubHeader&&(a.isSubHeader=!1,a.removeCls(this.groupSubHeaderCls));this.callParent([a,b]);this.destroyed||this.destroying||this.hasVisibleChildColumns()||this.ownerCt.isNested()||this.hide()},initRenderData:function(){var a="",b=this.tooltip,c=this.text,d="qtip"===this.tooltipType?
"data-qtip":"title";Ext.isEmpty(b)||(a=d+'="'+b+'" ');return Ext.applyIf(this.callParent(arguments),{text:c,empty:"&#160;"===c||" "===c||""===c,menuDisabled:this.menuDisabled,tipMarkup:a,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(a,b){var c=this.getSorter(),d=b&&b.sorters,e,f,g;if(c&&d&&(e=d.length))for(g=c.getId(),f=0;f<e;f++)if(d[f].id===g){c.setDirection(d[f].direction);d[f]=c;break}this.applyColumnsState(a.columns);null!=a.hidden&&(this.hidden=a.hidden);
null!=a.locked&&(this.locked=a.locked);null!=a.sortable&&(this.sortable=a.sortable);null!=a.width?(this.flex=null,this.width=a.width):null!=a.flex&&(this.width=null,this.flex=a.flex)},getColumnState:function(){var a=this.items.items,b=a?a.length:0,c,d=[],e={id:this.getStateId()};this.savePropsToState(["hidden","sortable","locked","flex","width"],e);if(this.isGroupHeader){for(c=0;c<b;c++)d.push(a[c].getColumnState());d.length&&(e.columns=d)}"width"in e&&delete e.flex;return e},setText:function(a){this.text=
a;this.rendered&&this.textEl.setHtml(a)},getIndex:function(){return this.isGroupColumn?!1:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:this.isGroupColumn?!1:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){for(var a=this,b=[];a=a.up("headercontainer");)a.text&&b.unshift(Ext.util.Format.stripTags(a.text));return b},beforeRender:function(){var a=this.getRootHeaderCt(),b=this.isSortable();
this.callParent();b||this.groupable||this.lockable||!1!==a.grid.enableColumnHide&&a.getHideableColumns().length||(this.menuDisabled=!0);this.cellWrap&&(this.variableRowHeight=!0);a=this.ariaRenderAttributes||(this.ariaRenderAttributes={});a["aria-readonly"]=!0;b&&(a["aria-sort"]=this.ariaSortStates[this.sortState]);this.isSubHeader&&(b=this.getLabelChain(),this.text&&b.push(Ext.util.Format.stripTags(this.text)),b.length&&(a["aria-label"]=b.join(" ")));this.protoEl.unselectable()},getTriggerElWidth:function(){var a=
this.triggerEl,b=this.self.triggerElWidth;a&&void 0===b&&(a.setStyle("display","block"),b=this.self.triggerElWidth=a.getWidth(),a.setStyle("display",""));return b},afterComponentLayout:function(a,b,c,d){var e=this.getRootHeaderCt();this.callParent(arguments);if(e&&(null!=c||this.flex)&&a!==c)e.onHeaderResize(this,a)},onDestroy:function(){Ext.destroy(this.field);this.field=null;this.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},
onDownKey:function(a){if(this.triggerEl)this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a){this.isAtStartEdge(a)?(a=this.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&a.getRootHeaderCt()===this.getRootHeaderCt()&&a.autoSize():this.isAtEndEdge(a)&&(this.isGroupHeader&&a.getPoint().isContainedBy(this.layout.innerCt)?(a=this.query("gridcolumn:not([hidden]):not([isGroupHeader])"),this.getRootHeaderCt().autoSizeColumn(a[a.length-
1])):(a=this.getRootHeaderCt(),1===a.visibleColumnManager.getColumns().length&&a.forceFit||this.autoSize()))},autoSize:function(){var a,b,c,d;if(this.isGroupHeader){a=this.query("gridcolumn:not([hidden]):not([isGroupHeader])");b=a.length;d=this.getRootHeaderCt();Ext.suspendLayouts();for(c=0;c<b;c++)d.autoSizeColumn(a[c]);Ext.resumeLayouts(!0)}else this.getRootHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,b,c){var d;"touch"===a.pointerType?(b=this.previousSibling(":not([hidden])"),!this.menuDisabled&&
this.isAtEndEdge(a,parseInt(this.triggerEl.getStyle("width"),10))?this.menuDisabled||(d=this):b&&!b.menuDisabled&&this.isAtStartEdge(a)&&(d=b)):d=this.triggerEl&&(a.target===this.triggerEl.dom||b===this.triggerEl||a.within(this.triggerEl))?this:null;!1===c||(d||this.isAtStartEdge(a)||this.isAtEndEdge(a))&&!a.getKey()||this.toggleSortState();return d},processEvent:function(a,b,c,d,e,f){return this.fireEvent.apply(this,arguments)},isSortable:function(){var a=this.getRootHeaderCt(),a=a?a.grid:null,b=
this.sortable;a&&!1===a.sortableColumns&&(b=!1);return b},toggleSortState:function(){this.isSortable()&&this.sort()},sort:function(a){var b=this.up("tablepanel"),c=b.store,d=this.getSorter();Ext.suspendLayouts();this.sorting=!0;d?(a&&d.setDirection(a),c.sort(d,b.multiColumnSort?"multi":"replace")):c.sort(this.getSortParam(),a,b.multiColumnSort?"multi":"replace");delete this.sorting;Ext.resumeLayouts(!0)},getSortParam:function(){return this.dataIndex},setSortState:function(a){a=a&&a.getDirection();
var b=this.ascSortCls,c=this.descSortCls,d=this.getRootHeaderCt(),e=this.ariaEl.dom,f;switch(a){case "DESC":this.hasCls(c)||(this.addCls(c),this.sortState="DESC",f=!0);this.removeCls(b);break;case "ASC":this.hasCls(b)||(this.addCls(b),this.sortState="ASC",f=!0);this.removeCls(c);break;default:this.removeCls([b,c]),this.sortState=null}e&&(this.sortState?e.setAttribute("aria-sort",this.ariaSortStates[this.sortState]):e.removeAttribute("aria-sort"));f&&d.fireEvent("sortchange",d,this,a)},isHideable:function(){var a=
{hideCandidate:this,result:this.hideable};a.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a]);return a.result},hasOtherMenuEnabledChildren:function(a){var b,c;if(!this.isXType("headercontainer"))return a.result=!1;b=this.query(">gridcolumn:not([hidden]):not([menuDisabled])");c=b.length;Ext.Array.contains(b,a.hideCandidate)&&c--;if(c)return!1;a.hideCandidate=this},isLockable:function(){var a={result:!1!==this.lockable};a.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,
null,[a]);return a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){if(!this.isXType("headercontainer"))return a.result=!1;if(1<this.query(">gridcolumn:not([hidden])").length)return!1},hide:function(){var a=this.getRootHeaderCt(),b=this.getRefOwner();if(b.constructing)return this.callParent(),this;if(this.rendered&&!this.isVisible())return this;a.forceFit&&(this.visibleSiblingCount=a.getVisibleGridColumns().length-
1,this.flex&&(this.savedWidth=this.getWidth(),this.flex=null));a.beginChildHide();Ext.suspendLayouts();b.isGroupHeader&&(this.isNestedGroupHeader()&&b.hide(),this.isSubHeader&&!this.isGroupHeader&&1===b.query(">gridcolumn:not([hidden])").length&&(b.lastHiddenHeader=this));this.callParent();a.endChildHide();a.onHeaderHide(this);Ext.resumeLayouts(!0);return this},show:function(){var a=this.getRootHeaderCt(),b=this.getRefOwner();if(this.isVisible())return this;b.isGroupHeader&&(b.lastHiddenHeader=null);
this.rendered&&a.forceFit&&a.applyForceFit(this);Ext.suspendLayouts();this.isSubHeader&&b.hidden&&b.show(!1,!0);this.callParent(arguments);this.isGroupHeader&&this.maybeShowNestedGroupHeader();if(b=this.getRootHeaderCt())b.onHeaderShow(this);Ext.resumeLayouts(!0);return this},shouldUpdateCell:function(a,b){if(!this.preventUpdate){if(this.hasCustomRenderer)return 1;if(b){var c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e===this.dataIndex||e===a.idProperty)return 2}else return 2}},getCellWidth:function(){var a;
this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?a=this.componentLayout.lastComponentSize.width:this.width?a=this.width:this.isColumn||(a=this.getTableWidth());return a},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellSelector:function(){var a=this.getView();return(a?a.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isAtStartEdge:function(a){var b=
a.getXY()[0]-this.getX();return 0>b&&0===this.getIndex()?!1:b<this.getHandleWidth(a)},isAtEndEdge:function(a,b){return this.getX()+this.getWidth()-a.getXY()[0]<=(b||this.getHandleWidth(a))},getHandleWidth:function(a){return"touch"===a.pointerType?10:4},setMenuActive:function(a){this.activeMenu=a;this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)},deprecated:{5:{methods:{bindRenderer:function(a){return function(b){return Ext.util.Format[a](b)}}}}}});
Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,mixins:[Ext.mixin.Queryable],activated:!1,activeCls:Ext.baseCSSPrefix+"menu-item-active",clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:!0,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+
"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],
renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',
maskOnDisable:!1,iconAlign:"left",initComponent:function(){var a=this.cls?[this.cls]:[];this.hasOwnProperty("canActivate")&&(this.focusable=this.canActivate);this.plain&&a.push(Ext.baseCSSPrefix+"menu-item-plain");a.length&&(this.cls=a.join(" "));this.menu&&(a=this.menu,this.menu=null,this.setMenu(a));this.callParent(arguments)},canFocus:function(){return this.focusable&&this.rendered&&!1!==this.canActivate&&!this.destroying&&!this.destroyed&&this.isVisible(!0)},onFocus:function(a){this.callParent([a]);
this.disabled||(this.plain||this.addCls(this.activeCls),this.activated=!0,this.hasListeners.activate&&this.fireEvent("activate",this))},onFocusLeave:function(a){this.callParent([a]);this.activated&&(this.plain||this.removeCls(this.activeCls),this.doHideMenu(),this.activated=!1,this.hasListeners.deactivate&&this.fireEvent("deactivate",this))},doHideMenu:function(){var a=this.menu;this.cancelDeferExpand();a&&a.isVisible()&&a.hide()},deferHideParentMenus:function(){for(var a=this.getRefOwner();a&&(a.isMenu&&
a.floating||a.isMenuItem);a=a.getRefOwner())a.isMenu&&a.hide()},expandMenu:function(a,b){this.activated&&this.menu&&(this.hideOnClick=!1,this.cancelDeferHide(),b=null==b?this.menuExpandDelay:b,0===b?this.doExpandMenu(a):(this.cancelDeferExpand(),this.expandMenuTimer=Ext.defer(this.doExpandMenu,b,this,[a])))},doExpandMenu:function(a){var b=this.menu;b.isVisible()||(this.parentMenu.activeChild=b,b.ownerCmp=this,b.parentMenu=this.parentMenu,b.constrainTo=document.body,b.autoFocus=!a||!a.pointerType,
b.showBy(this,this.menuAlign))},getRefItems:function(a){var b=this.menu,c;b&&(c=b.getRefItems(a),c.unshift(b));return c||[]},getValue:function(){return this.value},hideMenu:function(a){this.menu&&(this.cancelDeferExpand(),this.hideMenuTimer=Ext.defer(this.doHideMenu,Ext.isNumber(a)?a:this.menuHideDelay,this))},onClick:function(a){var b=this.clickHideDelay,c=a.browserEvent;if(!this.href||this.disabled)if(a.stopEvent(),this.disabled)return!1;if(!this.disabled&&!this.handlingClick&&(this.hideOnClick&&
(b?this.deferHideParentMenusTimer=Ext.defer(this.deferHideParentMenus,b,this):this.deferHideParentMenus()),b=this.fireEvent("click",this,a),!this.destroyed))return!1!==b&&this.handler&&Ext.callback(this.handler,this.scope,[this,a],0,this),c=Ext.isIE9m?!1===c.returnValue?!0:!1:!!c.defaultPrevented,this.href&&"click"!==a.type&&!c&&(this.handlingClick=!0,this.itemEl.dom.click(),this.handlingClick=!1),this.hideOnClick||this.focus(),b},onRemoved:function(){this.activated&&this.parentMenu.activeItem===
this&&this.parentMenu.deactivateActiveItem();this.callParent(arguments);this.parentMenu=this.ownerCmp=null},beforeDestroy:function(){this.rendered&&this.clearTip();this.callParent()},onDestroy:function(){this.cancelDeferExpand();this.cancelDeferHide();clearTimeout(this.deferHideParentMenusTimer);this.setMenu(null);this.callParent(arguments)},beforeRender:function(){var a=this.glyph,b=Ext._glyphFontFamily,c=!!(this.icon||this.iconCls||a),d=!!this.menu,e="right"===this.iconAlign&&!d,f=this.isMenuCheckItem,
g=[],h=this.ownerCt,k=h.plain;this.plain&&(this.ariaEl="el");this.callParent();c&&d&&this.showCheckbox&&(c=!1);"string"===typeof a&&(b=a.split("@"),a=b[0],b=b[1]);if(!k||c&&!e||f)h.showSeparator&&!k?g.push(this.indentCls):g.push(this.indentNoSeparatorCls);d?g.push(this.indentRightArrowCls):c&&(e||f)&&g.push(this.indentRightIconCls);Ext.applyIf(this.renderData,{hasHref:!!this.href,href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon,iconCls:this.iconCls,glyph:a,glyphCls:a?Ext.baseCSSPrefix+
"menu-item-glyph":void 0,glyphFontFamily:b,hasIcon:c,hasMenu:d,indent:!k||c||f,isCheckItem:f,rightIcon:e,plain:this.plain,text:this.text,arrowCls:this.arrowCls,baseIconCls:this.baseIconCls,textCls:this.textCls,indentCls:g.join(" "),linkCls:this.linkCls,linkHrefCls:this.linkHrefCls,groupCls:this.group?this.groupCls:"",tabIndex:this.tabIndex})},onRender:function(){this.callParent(arguments);this.tooltip&&this.setTooltip(this.tooltip,!0)},getMenu:function(){return this.menu||null},setMenu:function(a,
b){var c=this.menu,d=this.arrowEl,e=this.ariaEl.dom;c&&(c.ownerCmp=c.parentMenu=null,(!0===b||!1!==b&&this.destroyMenu)&&Ext.destroy(c),e?(e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-owns")):(c=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),delete c["aria-haspopup"],delete c["aria-owns"]));a?(c=a.isMenu,a=this.menu=Ext.menu.Manager.get(a,{ownerCmp:this,focusOnToFront:!1}),a.setOwnerCmp(this,c),e?(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",a.id)):(c=this.ariaRenderAttributes||
(this.ariaRenderAttributes={}),c["aria-haspopup"]=!0,c["aria-owns"]=a.id)):a=this.menu=null;if(a&&this.rendered&&!this.destroying&&d)d[a?"addCls":"removeCls"](this.arrowCls)},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;b&&(b.src=a||Ext.BLANK_IMAGE_URL);this.icon=a;this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var b=this.iconEl,c=this.iconCls;b&&(this.iconCls&&b.removeCls(this.iconCls),a&&b.addCls(a));this.iconCls=a;
this.fireEvent("iconchange",this,c,a)},setText:function(a){var b=this.textEl||this.el,c=this.text;this.text=a;this.rendered&&(b.setHtml(a||""),this.updateLayout());this.fireEvent("textchange",this,c,a)},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(a,b){this.rendered?(b||this.clearTip(),Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},
a)),this.tooltip=a):this.itemEl.dom.setAttribute(this.getTipAttr(),a)):this.tooltip=a;return this},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)},getFocusEl:function(){return this.plain?this.el:this.itemEl}}});
Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){this.checked=!!this.checked;this.callParent(arguments);
this.group&&(Ext.menu.Manager.registerCheckable(this),!1!==this.initialConfig.hideOnClick&&(this.hideOnClick=!0))},beforeRender:function(){var a;this.callParent();Ext.apply(this.renderData,{checkboxCls:this.checkboxCls,showCheckbox:this.showCheckbox});a=this.ariaRenderAttributes||(this.ariaRenderAttributes={});a["aria-checked"]=this.menu?"mixed":this.checked;this.menu&&(a["aria-label"]=Ext.String.formatEncode(this.submenuText,this.text))},afterRender:function(){this.callParent();this.checked=!this.checked;
this.setChecked(!this.checked,!0);this.checkChangeDisabled&&this.disableCheckChange();if(Ext.isGecko&&this.checkEl)this.checkEl.on("mousedown",this.onMouseDownCheck)},disableCheckChange:function(){var a=this.checkEl;a&&a.addCls(this.disabledCls);Ext.isIE8&&this.rendered&&this.el.repaint();this.checkChangeDisabled=!0},enableCheckChange:function(){var a=this.checkEl;a&&a.removeCls(this.disabledCls);this.checkChangeDisabled=!1},onMouseDownCheck:function(a){a.preventDefault()},onClick:function(a){if(!(this.disabled||
this.checkChangeDisabled||this.checked&&this.group||this.menu&&"touch"===a.pointerType&&!this.checkEl.contains(a.target))&&(this.setChecked(!this.checked),"keydown"===a.type&&this.menu))return!1;this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setText:function(a){var b=this.ariaEl.dom;this.callParent([a]);b&&this.menu&&b.setAttribute("aria-label",Ext.String.formatEncode(this.submenuText,a))},setChecked:function(a,b){var c=this.checkedCls,
d=this.uncheckedCls,e=this.el,f=this.ariaEl.dom;this.checked===a||!b&&!1===this.fireEvent("beforecheckchange",this,a)||(e&&(a?(e.addCls(c),e.removeCls(d)):(e.addCls(d),e.removeCls(c))),f&&f.setAttribute("aria-checked",this.menu?"mixed":!!a),this.checked=a,Ext.menu.Manager.onCheckChange(this,a),b||(Ext.callback(this.checkHandler,this.scope,[this,a],0,this),this.fireEvent("checkchange",this,a)))}});
Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls);this.callParent()}});
Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",mixins:[Ext.util.FocusableContainer],enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:!1,bringParentToFront:!1,defaultFocus:":focusable",menuClickBuffer:0,baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+
"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var a=[Ext.baseCSSPrefix+"menu"],b=this.bodyCls?[this.bodyCls]:[],c=!1!==this.floating,d={element:"el",click:this.onClick,mouseover:this.onMouseOver,scope:this};Ext.supports.Touch&&(d.pointerdown=this.onMouseOver);this.on(d);this.on({beforeshow:this.onBeforeShow,scope:this});this.plain&&a.push(Ext.baseCSSPrefix+"menu-plain");this.cls=a.join(" ");b.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls);
this.bodyCls=b.join(" ");c?void 0===this.minWidth&&(this.minWidth=this.defaultMinWidth):(this.hidden=!!this.initialConfig.hidden,this.constrain=!1);this.callParent(arguments);Ext.override(this.getLayout(),{configureItem:this.configureItem})},initFloatConstrain:Ext.emptyFn,getInherited:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch");this.floating&&(this.ariaRenderAttributes=
this.ariaRenderAttributes||{},this.ariaRenderAttributes["aria-expanded"]=!!this.autoShow)},onBoxReady:function(){var a=this._iconSeparatorCls,b=this.focusableKeyNav;b?(b.map.processEventScope=this,b.map.processEvent=function(a){a.keyCode===a.ESC&&(a.target=this.el.dom);return a},b.map.addBinding([{key:Ext.event.Event.ESC,handler:this.onEscapeKey,scope:this},{key:/[\w]/,handler:this.onShortcutKey,scope:this,shift:!1,ctrl:!1,alt:!1}])):this.escapeKeyNav=new Ext.util.KeyNav(this.el,{eventName:"keydown",
scope:this,esc:this.onEscapeKey});this.callParent(arguments);this.showSeparator&&(this.iconSepEl=this.body.insertFirst({role:"presentation",cls:a+" "+a+"-"+this.ui,html:"&#160;"}));if(Ext.supports.MSPointerEvents||Ext.supports.PointerEvents)this.el.on({scope:this,click:this.preventClick,translate:!1});this.mouseMonitor=this.el.monitorMouseLeave(100,this.onMouseLeave,this)},onFocusLeave:function(a){this.callParent([a]);this.mixins.focusablecontainer.onFocusLeave.call(this,a);this.floating&&this.hide()},
canActivateItem:function(a){return a&&a.isFocusable()},deactivateActiveItem:function(){var a=this.lastFocusedChild;a&&a.blur()},getItemFromEvent:function(a){var b=this.layout.getRenderTarget().dom;for(a=a.getTarget();a.parentNode!==b;)if(a=a.parentNode,!a)return;return Ext.getCmp(a.id)},lookupComponent:function(a){"string"===typeof a?a=this.lookupItemFromString(a):Ext.isObject(a)&&(a=this.lookupItemFromObject(a));a.dock||(a.minWidth=a.minWidth||this.minWidth);return a},lookupItemFromObject:function(a){a.isComponent||
(a=a.xtype?Ext.ComponentManager.create(a,a.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a));a.isMenuItem&&(a.parentMenu=this);return a},lookupItemFromString:function(a){return"separator"===a||"-"===a?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},configureItem:function(a){var b=this.owner,c=Ext.baseCSSPrefix,d=b.ui,e;a.isMenuItem?a.setUI(d):1<b.items.getCount()&&!a.rendered&&!a.dock&&(e=b._itemCmpCls,e=[e+" "+e+"-"+d],b.plain||
!1===a.indent&&"no-icon"!==a.iconCls||e.push(c+"menu-item-indent-"+d),a.rendered?a.el.addCls(e):a.cls=(a.cls||"")+" "+e.join(" "),a.$extraMenuCls=e);this.callParent(arguments)},onRemove:function(a){this.callParent([a]);!a.destroyed&&a.$extraMenuCls&&a.el.removeCls(a.$extraMenuCls)},onClick:function(a){var b,c,d="keydown"===a.type;if(this.disabled)a.stopEvent();else{(b=this.getItemFromEvent(a))&&b.isMenuItem&&(b.menu&&this.ignoreParentClicks?a.stopEvent():c=b.onClick(a),b.menu&&!1!==c&&d&&b.expandMenu(a,
0));if(!b||b.disabled)b=void 0;this.fireEvent("click",this,b,a)}},onDestroy:function(){this.escapeKeyNav&&this.escapeKeyNav.destroy();this.parentMenu=this.ownerCmp=this.escapeKeyNav=null;this.rendered&&(this.el.un(this.mouseMonitor),Ext.destroy(this.iconSepEl));Ext.menu.Manager.onHide(this);this.callParent(arguments)},onMouseLeave:function(a){this.disabled||this.fireEvent("mouseleave",this,a)},onMouseOver:function(a){var b=a.getRelatedTarget(),b=!this.el.contains(b),c=this.getItemFromEvent(a),d=this.parentMenu,
e=this.ownerCmp;b&&d&&(d.setActiveItem(e),e.cancelDeferHide(),d.mouseMonitor.mouseenter());this.disabled||(c&&(c.containsFocus||c.focus(),c.expandMenu&&c.expandMenu(a)),b&&this.fireEvent("mouseenter",this,a),this.fireEvent("mouseover",this,c,a))},setActiveItem:function(a){a&&a!==this.lastFocusedChild&&this.focusChild(a,1)},onEscapeKey:function(){this.floating&&this.hide()},onShortcutKey:function(a,b){for(var c=String.fromCharCode(b.getCharCode()),d=this.query(">[text]"),e=d.length,f=this.lastFocusedChild,
g=Ext.Array.indexOf(d,f),h=g;;){++h===e&&(h=0);f=d[h];if(h===g)break;if(f.text&&f.text[0].toUpperCase()===c){f.focus();break}}},onFocusableContainerTabKey:function(a){this.floating&&this.hide()},onFocusableContainerEnterKey:function(a){this.onClick(a)},onFocusableContainerSpaceKey:function(a){this.onClick(a)},onFocusableContainerLeftKey:function(a){a.preventDefault();this.parentMenu&&(this.ownerCmp.focus(),this.hide())},onFocusableContainerRightKey:function(a){var b=this.lastFocusedChild;a.preventDefault();
b&&b.expandMenu&&b.expandMenu(a,0)},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer)return!1},beforeShow:function(){var a;this.floating&&((a=this.hasFloatMenuParent())||this.allowOtherMenus||Ext.menu.Manager.hideAll(),a?this.focusAnchor=a.focusAnchor:(a=Ext.Element.getActiveElement(),this.focusAnchor=a===document.body||a===document.documentElement?null:a),this.savedMaxHeight=this.maxHeight,a=this.container.getViewSize().height,this.maxHeight=Math.min(this.maxHeight||
a,a));this.callParent(arguments)},afterShow:function(){var a=this.ariaEl.dom;this.callParent(arguments);Ext.menu.Manager.onShow(this);this.floating&&a&&a.setAttribute("aria-expanded",!0);this.floating&&this.autoFocus&&(this.maxHeight=this.savedMaxHeight,this.focus())},onHide:function(a,b,c){var d=this.ariaEl.dom,e;this.el.contains(Ext.Element.getActiveElement())&&(e=this.focusAnchor||this.ownerCmp||this.up(":focusable"))&&(this.previousFocus=e);this.callParent([a,b,c]);this.lastHide=Ext.Date.now();
Ext.menu.Manager.onHide(this);this.floating&&d&&d.setAttribute("aria-expanded",!1)},preventClick:function(a){var b=this.getItemFromEvent(a);b&&b.isMenuItem&&!b.href&&a.preventDefault()},privates:{hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(a,b){this.parentMenu=a.isMenuItem?a:null;this.ownerCmp=a;this.registerWithOwnerCt();delete this.hierarchicallyHidden;this.onInheritedAdd(a,b);this.containerOnAdded(a,b)}}});
Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,headerCtRelayEvents:"blur focus move resize destroy beforedestroy boxready afterrender render beforerender removed hide beforehide show beforeshow enable disable added deactivate beforedeactivate activate beforeactivate remove add beforeremove beforeadd afterlayout menucreate sortchange columnschanged columnshow columnhide columnmove headertriggerclick headercontextmenu headerclick columnresize statesave beforestatesave staterestore beforestaterestore".split(" "),
constructor:function(a){var b=a.lockedGrid,c=a.normalGrid;this.lockable=a;this.callParent();b.visibleColumnManager.rootColumns=c.visibleColumnManager.rootColumns=a.visibleColumnManager=this.visibleColumnManager=new Ext.grid.ColumnManager(!0,b.headerCt,c.headerCt);b.columnManager.rootColumns=c.columnManager.rootColumns=a.columnManager=this.columnManager=new Ext.grid.ColumnManager(!1,b.headerCt,c.headerCt);this.lockedEventRelayers=this.relayEvents(b.headerCt,this.headerCtRelayEvents);this.normalEventRelayers=
this.relayEvents(c.headerCt,this.headerCtRelayEvents)},destroy:function(){Ext.destroy(this.lockedEventRelayers,this.normalEventRelayers);this.lockedEventRelayers=this.normalEventRelayers=null;this.callParent()},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=
this.lockable.lockedGrid.headerCt.getColumnsState(),b=this.lockable.normalGrid.headerCt.getColumnsState();return a.concat(b)},applyColumnsState:function(a,b){var c=this.lockable.lockedGrid,d=c.headerCt,e=this.lockable.normalGrid.headerCt,f=Ext.Array.toValueMap(d.items.items,"stateId"),g=Ext.Array.toValueMap(e.items.items,"stateId"),h=[],k=[],l=1,m=a.length,n,p,q,r;for(n=0;n<m;n++)if(r=a[n],p=(q=f[r.id])||g[r.id])p.applyColumnState&&p.applyColumnState(r,b),void 0===p.locked&&(p.locked=!!q),p.locked?
(h.push(p),p.hidden||"number"!==typeof p.width||(l+=p.width)):k.push(p);h.length+k.length===d.items.getCount()+e.items.getCount()&&(d.removeAll(!1),e.removeAll(!1),d.add(h),e.add(k),c.setWidth(l))},disable:function(){var a=this.lockable;a.lockedGrid.headerCt.disable();a.normalGrid.headerCt.disable()},enable:function(){var a=this.lockable;a.lockedGrid.headerCt.enable();a.normalGrid.headerCt.enable()}});
Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:[Ext.util.Observable,Ext.util.StoreHolder,Ext.util.Focusable],isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var b=Ext,c,d;this.ownerGrid=a.ownerGrid;this.ownerGrid.view=this;this.navigationModel="treepanel"===a.locked.xtype?new b.tree.NavigationModel(this):new b.grid.NavigationModel(this);a.locked.viewConfig.bindStore=b.emptyFn;a.normal.viewConfig.bindStore=
this.subViewBindStore;a.normal.viewConfig.isNormalView=a.locked.viewConfig.isLockedView=!0;a.locked.viewConfig.beforeLayout=a.normal.viewConfig.beforeLayout=this.beforeLayout;a.locked.viewConfig.navigationModel=a.normal.viewConfig.navigationModel=this.navigationModel;this.lockedGrid=this.ownerGrid.lockedGrid=b.ComponentManager.create(a.locked);this.lockedView=c=this.lockedGrid.getView();this.selModel=a.normal.viewConfig.selModel=c.getSelectionModel();this.lockedGrid.isTree&&(this.lockedView.animate=
!1,a.normal.store=c.store,a.normal.viewConfig.stripeRows=this.lockedView.stripeRows,a.normal.rowLines=this.lockedGrid.rowLines);this.normalGrid=this.ownerGrid.normalGrid=b.ComponentManager.create(a.normal);c.lockingPartner=d=this.normalView=this.normalGrid.getView();d.lockingPartner=c;this.loadMask=void 0!==a.loadMask?a.loadMask:this.loadMask;this.mixins.observable.constructor.call(this);this.lockedViewEventRelayers=this.relayEvents(c,b.view.Table.events);this.normalViewEventRelayers=this.relayEvents(d,
b.view.Table.events.concat(b.view.Table.normalSideEvents));d.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});c.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});this.ownerGrid.on({render:this.onPanelRender,scope:this});this.loadingText=d.loadingText;this.loadingCls=d.loadingCls;this.loadingUseMsg=d.loadingUseMsg;this.itemSelector=this.getItemSelector();this.all=d.all;this.bindStore(d.dataSource,!0,"dataSource")},subViewBindStore:function(a){var b;
this.destroying||this.destroyed||(b=this.getSelectionModel(),b.bindStore(a),b.bindComponent(this))},beforeLayout:function(){var a=this.ownerCt.ownerLockable.view,b=a.lockedGrid.view,c=a.normalGrid.view;a.relayingOperation||(a.lockedGrid.isVisible()&&b.refreshNeeded&&b.doFirstRefresh(b.dataSource),c.refreshNeeded&&c.doFirstRefresh(c.dataSource))},onPanelRender:function(){var a=this.loadMask,b={target:this.ownerGrid,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.ownerGrid.store};
this.el=this.ownerGrid.getTargetEl();this.rendered=!0;this.initFocusableEvents();this.fireEvent("render",this);a&&(Ext.isObject(a)&&(b=Ext.apply(b,a)),this.loadMask=new Ext.LoadMask(b))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(a){return this.getViewForColumn(a).getEl()},
getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(a){var b=this.lockedView,c;b.headerCt.cascade(function(b){if(b===a)return c=!0,!1});return c?b:this.normalView},onItemMouseEnter:function(a,b){var c=this.lockedView,d=this.normalView;a.trackOver&&(a!==c&&(d=c),c=d.getNode(b),d.highlightItem(c))},onItemMouseLeave:function(a,b){var c=this.lockedView,d=this.normalView;a.trackOver&&(a!==c&&
(d=c),d.clearHighlight())},relayFn:function(a,b){b=b||[];var c=this.lockedView;this.relayingOperation=!0;c[a].apply(c,b);c=this.normalView;c[a].apply(c,b);this.relayingOperation=!1},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(a,b,c){b=this.lockedView;c=this.normalView;!c.componentLayoutCounter||b.blockRefresh&&c.blockRefresh||(Ext.suspendLayouts(),
b.doFirstRefresh(a),c.doFirstRefresh(a),Ext.resumeLayouts(!0))},getStoreListeners:function(){return{priority:1E3,refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onDataRefresh,beginupdate:this.onBeginUpdate,endupdate:this.onEndUpdate}},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn("onBeginUpdate",arguments);Ext.resumeLayouts(!0)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn("onEndUpdate",arguments);Ext.resumeLayouts(!0)},
onDataRefresh:function(){Ext.suspendLayouts();this.relayFn("onDataRefresh",arguments);Ext.resumeLayouts(!0)},onReplace:function(){Ext.suspendLayouts();this.relayFn("onReplace",arguments);Ext.resumeLayouts(!0)},onAdd:function(){Ext.suspendLayouts();this.relayFn("onAdd",arguments);Ext.resumeLayouts(!0)},onRemove:function(){Ext.suspendLayouts();this.relayFn("onRemove",arguments);Ext.resumeLayouts(!0)},setActionableMode:function(a,b){var c,d;if(a)return b||(b=this.getNavigationModel().getPosition()),
b?(b=b.clone(),b.view=d=b.column.getView(),c=d.setActionableMode(a,b),!1!==c&&d.lockingPartner.grid.isVisible()&&(d.lockingPartner.setActionableMode(a,b),d.lockingPartner.actionableMode||(d.setActionableMode(!1),c=!1)),c):!1;this.relayFn("setActionableMode",[!1])},onUpdate:function(){Ext.suspendLayouts();this.relayFn("onUpdate",arguments);Ext.resumeLayouts(!0)},refresh:function(){Ext.suspendLayouts();this.relayFn("refresh",arguments);Ext.resumeLayouts(!0)},refreshView:function(){Ext.suspendLayouts();
this.relayFn("refreshView",arguments);Ext.resumeLayouts(!0)},getNode:function(a){return this.normalView.getNode(a)},getRow:function(a){return this.normalView.getRow(a)},getCell:function(a,b){var c=this.getViewForColumn(b).getRow(a);return Ext.fly(c).down(b.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);b||(b=this.normalView.indexOf(a));return b},focus:function(){var a=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");a&&a.focus()},focusRow:function(a){var b=this.getNavigationModel().lastFocused;
(b?b.view:this.normalView).focusRow(a)},focusCell:function(a){a.view.focusCell(a)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(a){return this.ownerGrid.isVisible(a)},getFocusEl:function(){var a=this.getNavigationModel().lastFocused;return(a?a.view:this.normalView).getFocusEl()},getCellInclusive:function(a,b){var c=a.column,d=this.lockedGrid.getColumnManager().getColumns().length;return c>=d?(a=Ext.apply({},a),a.column-=d,this.normalView.getCellInclusive(a,b)):this.lockedView.getCellInclusive(a,
b)},getHeaderByCell:function(a){return a?this.getVisibleColumnManager().getHeaderById(a.getAttribute("data-columnId")):!1},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(a){a.column.getView().onCellSelect({record:a.record,column:a.column})},onCellDeselect:function(a){a.column.getView().onCellDeselect({record:a.record,column:a.column})},getCellByPosition:function(a,b){var c=a.view,d=a.column;c===
this&&(a=(new Ext.grid.CellContext(d.getView())).setPosition(a.record,a.column));return c.getCellByPosition(a,b)},getRecord:function(a){var b=this.lockedView.getRecord(a);b||(b=this.normalView.getRecord(a));return b},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},ensureVisible:function(){var a=this.normalView;a.ensureVisible.apply(a,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",
arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){this.rendered=!1;this.bindStore(null,!1,"dataSource");Ext.destroy(this.lockedViewEventRelayers,this.normalViewEventRelayers);this.lockedViewEventRelayers=this.normalViewEventRelayers=null;this.callParent();Ext.destroy(this.loadMask,this.navigationModel,this.selModel);this.ownerGrid=this.storeListeners=
this.loadMask=this.navigationModel=this.selModel=this.headerCt=this.lockedGrid=this.lockedView=this.normalGrid=this.normalView=this.lockedView.lockingPartner=this.normalView.lockingPartner=null}},function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]);this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])});
Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",normalGridCls:Ext.baseCSSPrefix+"grid-inner-normal",lockingBodyCls:Ext.baseCSSPrefix+"grid-locking-body",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:"hideHeaders enableColumnHide enableColumnMove enableColumnResize sortableColumns multiColumnSort columnLines rowLines variableRowHeight numFromEdge trailingBufferZone leadingBufferZone scrollToLoadBuffer syncRowHeight".split(" "),
normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b,c;if(this.subGridXType)a=this.subGridXType;else{if(!a)return"gridpanel";b=this.getXTypes().split("/");c=b.length;a=b[c-1];b=b[c-2];a="tablepanel"!==b?b:a}return a},injectLockable:function(){this.focusable=!1;this.hasView=this.lockable=!0;var a=this,b=Ext.getScrollbarSize(),c=b.width,d=a.store=Ext.StoreManager.lookup(a.store),e=a.lockedViewConfig,f=a.normalViewConfig,g=Ext.Object,h,k,l,m=a.viewConfig;l=m&&m.loadMask;
var n=void 0!==l?l:a.loadMask,p=a.bufferedRenderer,q=0<c&&2!==Ext.supports.touchScroll,r=a.getInherited().rtl;h=a.constructLockableFeatures();a.features=null;k=a.constructLockablePlugins();a.plugins=k.topPlugins;l={id:a.id+"-locked",$initParent:a,isLocked:!0,bufferedRenderer:p,ownerGrid:a,ownerLockable:a,xtype:a.determineXTypeToCreate(!0),store:d,reserveScrollbar:q,scrollable:{indicators:{x:!0,y:!1}},scrollerOwner:!1,animate:!1,border:!1,cls:a.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||
a.normalGrid.floatedFromCollapse},features:h.lockedFeatures,plugins:k.lockedPlugins};h={id:a.id+"-normal",$initParent:a,isLocked:!1,bufferedRenderer:p,ownerGrid:a,ownerLockable:a,xtype:a.determineXTypeToCreate(),store:d,reserveScrollbar:a.reserveScrollbar,scrollerOwner:!1,border:!1,cls:a.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||a.lockedGrid.floatedFromCollapse},features:h.normalFeatures,plugins:k.normalPlugins};a.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copy(h,a,a.bothCfgCopy,
!0);Ext.copy(l,a,a.bothCfgCopy,!0);Ext.copy(h,a,a.normalCfgCopy,!0);Ext.copy(l,a,a.lockedCfgCopy,!0);Ext.apply(h,a.normalGridConfig);Ext.apply(l,a.lockedGridConfig);for(k=0;k<a.normalCfgCopy.length;k++)delete a[a.normalCfgCopy[k]];for(k=0;k<a.lockedCfgCopy.length;k++)delete a[a.lockedCfgCopy[k]];a.addStateEvents(["lockcolumn","unlockcolumn"]);k=a.processColumns(a.columns||[],l);l.columns=k.locked;l.columns.items.length||(l.hidden=!0);h.columns=k.normal;h.columns.items.length||(h.hidden=!0);h.flex=
1;l.viewConfig=e=e?g.chain(e):{};h.viewConfig=f=f?g.chain(f):{};e.loadingUseMsg=!1;e.loadMask=!1;q&&(e.margin=r?"0 0 0 -"+c+"px":"0 -"+c+"px 0 0");f.loadMask=!1;Ext.applyIf(e,m);Ext.applyIf(f,m);a.initialConfig.layout||(a.layout={type:"hbox",align:"stretch"});a.getLayout();"border"===a.layout.type&&(a.split&&(l.split=!0),l.region||(l.region="west"),h.region||(h.region="center"),a.addCls(Ext.baseCSSPrefix+"grid-locked-split"));a.layout instanceof Ext.layout.container.Box||(a.split=!1);a.view=new Ext.grid.locking.View({loadMask:n,
locked:l,normal:h,ownerGrid:a});l=a.lockedGrid;h=a.normalGrid;h.getView().getScrollable().addPartner(l.getView().getScrollable(),"y");b.height&&2!==Ext.supports.touchScroll&&(l.on({afterlayout:a.afterLockedViewLayout,scope:a}),l.getView().getOverflowStyle());b=l.headerCt;c=h.headerCt;q&&!r&&(b.reserveScrollbar=!1);a.headerCt=a.view.headerCt=new Ext.grid.locking.HeaderContainer(a);b.lockedCt=!0;b.lockableInjected=!0;c.lockableInjected=!0;b.on({add:a.delaySyncLockedWidth,remove:a.delaySyncLockedWidth,
columnshow:a.delaySyncLockedWidth,columnhide:a.delaySyncLockedWidth,sortchange:a.onLockedHeaderSortChange,columnresize:a.delaySyncLockedWidth,scope:a});c.on({add:a.delaySyncLockedWidth,remove:a.delaySyncLockedWidth,columnshow:a.delaySyncLockedWidth,columnhide:a.delaySyncLockedWidth,sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[l];a.split&&(a.addCls(Ext.baseCSSPrefix+"grid-locked-split"),a.items[1]={xtype:"splitter"});a.items.push(h);a.relayHeaderCtEvents(b);a.relayHeaderCtEvents(c);
a.storeRelayers=a.relayEvents(d,["filterchange","groupchange","beforeload","load"]);a.gridRelayers=a.relayEvents(h,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent;delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(a,b){var c,d,e,f=new Ext.grid.header.Container({$initParent:this}),g=[],h=[];c={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",
items:g};d={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:h};var k={locked:c,normal:d};Ext.isObject(a)&&(Ext.applyIf(c,a),Ext.applyIf(d,a),c=Ext.apply({},a),delete c.items,Ext.apply(f,c),a=a.items);f.constructing=!0;c=0;for(d=a.length;c<d;++c)e=a[c],e.isComponent||(e=f.applyDefaults(e),e.$initParent=f,e=f.lookupComponent(e),delete e.$initParent),e.processed=!0,e.locked||e.autoLock?g.push(e):h.push(e);this.fireEvent("processcolumns",this,g,h);f.destroy();return k},afterLockedViewLayout:function(){var a=
this.lockedGrid,b=this.normalGrid,c=a.getView(),d=b.getView(),a=c.scrollFlags.x&&a.headerCt.tooNarrow,b=d.scrollFlags.x&&b.headerCt.tooNarrow,d=d.getScrollable(),c=c.getScrollable();a!==b?a?(d.setX("scroll"),c.setX(!0)):(c.setX("scroll"),d.setX(!0)):(c.setX(b?"scroll":!0),d.setX(!0))},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments);this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},onLockedViewMouseWheel:function(a){var b=-this.scrollDelta*
a.getWheelDeltas().y,c=this.lockedGrid.getView(),d=c.el.dom,e,f,g;!this.ignoreMousewheel&&(d&&(e=c.getScrollY(),f=e!==d.scrollHeight-d.clientHeight,g=0!==e),0>b&&g||0<b&&f)&&(a.stopEvent(),e+=b,c.setScrollY(e),this.normalGrid.getView().setScrollY(e),this.onNormalViewScroll())},onLockedViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=a.getScrollY();b.getScrollY()!==c&&(b.setScrollY(c),b.bufferedRenderer&&(a=a.body.dom,b=b.body.dom,b.style.position="absolute",b.style.top=
a.style.top))},onNormalViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=a.getScrollY(),d=b.getScrollY();d!==c&&(a.setScrollY(d),b.bufferedRenderer&&(a=a.body,a.dom&&(a.dom.style.position="absolute",a.translate(null,b.bufferedRenderer.bodyTop))))},syncRowHeights:function(){if(!this.destroyed){var a=this.normalGrid.getView(),b=this.lockedGrid.getView(),c=a.syncRowHeightBegin(),d=b.syncRowHeightBegin();a.syncRowHeightMeasure(c);b.syncRowHeightMeasure(d);a.syncRowHeightFinish(c,
d);b.syncRowHeightFinish(d,c);a=a.getScrollY();b.setScrollY(a)}},modifyHeaderCt:function(){this.lockedGrid.headerCt.getMenuItems=this.getMenuItems(this.lockedGrid.headerCt.getMenuItems,!0);this.normalGrid.headerCt.getMenuItems=this.getMenuItems(this.normalGrid.headerCt.getMenuItems,!1);this.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.lockedGrid.headerCt.showMenuBy,this.showMenuBy);this.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.normalGrid.headerCt.showMenuBy,
this.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,b,c){b=this.getMenu();a=b.down("#unlockItem");b=b.down("#lockItem");var d=a.prev();!1===c.lockable?(d.hide(),a.hide(),b.hide()):(d.show(),a.show(),b.show(),a.initialConfig.disabled||a.setDisabled(!1===c.lockable),b.initialConfig.disabled||b.setDisabled(!c.isLockable()))},getMenuItems:function(a,b){var c=this.unlockText,d=this.lockText,e=Ext.baseCSSPrefix+"hmenu-unlock",f=Ext.baseCSSPrefix+
"hmenu-lock",g=this.onUnlockMenuClick.bind(this),h=this.onLockMenuClick.bind(this);return function(){var k=a.call(this);k.push("-",{itemId:"unlockItem",iconCls:e,text:c,handler:g,disabled:!b});k.push({itemId:"lockItem",iconCls:f,text:d,handler:h,disabled:b});return k}},delaySyncLockedWidth:function(){var a=this.syncLockedWidthTask;this.view.all.getCount()&&(a||(a=this.syncLockedWidthTask=new Ext.util.DelayedTask(this.syncLockedWidth,this)),a.delay(1))},syncLockedWidth:function(){var a=this.rendered,
b=this.lockedGrid,c=b.view,d=this.normalGrid,e=b.getVisibleColumnManager().getColumns().length,f=d.getVisibleColumnManager().getColumns().length,g=this.syncLockedWidthTask;g&&g.cancel();Ext.suspendLayouts();f?(d.show(),e?(a&&b.shrinkWrapColumns&&!b.headerCt.forceFit&&(delete b.flex,b.setWidth(b.headerCt.getTableWidth()+b.gridPanelBorderWidth)),b.addCls(this.lockedGridCls),b.show(),b.split&&(this.child("splitter").show(),this.addCls(Ext.baseCSSPrefix+"grid-locked-split"))):(a&&b.getView().clearViewEl(!0),
b.hide(),b.split&&(this.child("splitter").hide(),this.removeCls(Ext.baseCSSPrefix+"grid-locked-split"))),2!==Ext.supports.touchScroll&&Ext.Component.pendingLayouts&&c.getScrollable().setX(!0),a&&(this.ignoreMousewheel=c.scrollFlags.y)):(d.hide(),b.flex=1,delete b.width,b.removeCls(this.lockedGridCls),b.show(),this.ignoreMousewheel=!0);Ext.resumeLayouts(!0);return[e,f]},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(a,b,c){var d=this.normalGrid,e=this.lockedGrid,
f=d.view,g=e.view,h=d.headerCt,k,l;a=a||h.getMenu().activeHeader;h=a.hasFocus;c=c||e.headerCt;k=a.ownerCt;if(a.isLockable()){a.flex&&e.shrinkWrapColumns&&(a.width=a.getWidth(),a.flex=null);Ext.suspendLayouts();if(e.hidden){if(!e.componentLayoutCounter){if(g.bufferedRenderer)g.bufferedRenderer.onViewResize(g,0,f.getHeight());l=f.getScrollY()}e.show()}f.blockRefresh=g.blockRefresh=!0;a.ownerCmp=a.ownerCt;k.remove(a,!1);a.locked=!0;Ext.isDefined(b)?c.insert(b,a):c.add(a);f.blockRefresh=g.blockRefresh=
!1;a.ownerCmp=null;b=this.syncLockedWidth();b[0]&&e.getView().refreshView();b[1]&&d.getView().refreshView();this.fireEvent("lockcolumn",this,a);Ext.resumeLayouts(!0);l&&(g.setScrollY(l),f.setScrollY(l));h&&a.focus()}},unlock:function(a,b,c){var d=this.normalGrid,e=this.lockedGrid,f=d.view,g=e.view,h=e.headerCt;Ext.isDefined(b)||(b=0);a=a||h.getMenu().activeHeader;h=a.hasFocus;c=c||d.headerCt;Ext.suspendLayouts();f.blockRefresh=g.blockRefresh=!0;a.ownerCmp=a.ownerCt;a.ownerCt.remove(a,!1);a.locked=
!1;c.insert(b,a);f.blockRefresh=g.blockRefresh=!1;a.ownerCmp=null;b=this.syncLockedWidth();b[0]&&e.getView().refreshView();b[1]&&d.getView().refreshView();this.fireEvent("unlockcolumn",this,a);Ext.resumeLayouts(!0);h&&a.focus()},reconfigureLockable:function(a,b){var c=this.store,d=this.lockedGrid,e=this.normalGrid;a&&a!==c&&(this.store=a=Ext.data.StoreManager.lookup(a),d.view.blockRefresh=e.view.blockRefresh=!0,d.bindStore(a),c=d.view,c.store=a,c.dataSource.isFeatureStore||(c.dataSource=a),c.bufferedRenderer&&
c.bufferedRenderer.bindStore(a),e.bindStore(a),c=e.view,c.store=a,c.dataSource.isFeatureStore||(c.dataSource=a),c.bufferedRenderer&&c.bufferedRenderer.bindStore(a),this.view.store=a,(c=this.view.loadMask)&&c.isLoadMask&&c.bindStore(a),this.view.bindStore(e.view.dataSource,!1,"dataSource"),d.view.blockRefresh=e.view.blockRefresh=!1);b&&(d.reconfiguring=e.reconfiguring=!0,d.headerCt.removeAll(),e.headerCt.removeAll(),b=this.processColumns(b,d),d.headerCt.add(b.locked.items),e.headerCt.add(b.normal.items),
d.reconfiguring=e.reconfiguring=!1,this.syncLockedWidth());this.refreshCounter=d.view.refreshCounter},afterReconfigureLockable:function(){var a=this.lockedGrid.getView();this.refreshCounter===a.refreshCounter&&this.view.refresh()},constructLockableFeatures:function(){var a=this.features,b,c,d,e,f=0,g;if(a)for(Ext.isArray(a)||(a=[a]),d=[],e=[],g=a.length;f<g;f++)switch(b=a[f],b.isFeature||(b=Ext.create("feature."+b.ftype,b)),b.lockableScope){case "locked":d.push(b);break;case "normal":e.push(b);break;
default:b.lockableScope="both",d.push(b),e.push(c=b.clone()),c.lockingPartner=b,b.lockingPartner=c}return{normalFeatures:e,lockedFeatures:d}},constructLockablePlugins:function(){var a=this.plugins,b,c,d,e,f,g,h=0,k;if(a)for(Ext.isArray(a)||(a=[a]),e=[],f=[],g=[],k=a.length;h<k;h++)switch(b=a[h],b.init?c=b.lockableScope:(c=b.ptype?Ext.ClassManager.getByAlias("plugin."+b.ptype):Ext.ClassManager.get(b.xclass),c=c.prototype.lockableScope),c){case "both":f.push(d=b.clonePlugin());g.push(c=b.clonePlugin());
d.lockingPartner=c;c.lockingPartner=d;Ext.destroy(b);break;case "locked":f.push(b);break;case "normal":g.push(b);break;default:e.push(b)}return{topPlugins:e,normalPlugins:g,lockedPlugins:f}},destroyLockable:function(){var a=this.syncLockedWidthTask;a&&(a.cancel(),this.syncLockedWidthTask=null);this.lockedGrid&&this.lockedGrid.headerCt&&(this.lockedGrid.headerCt.showMenuBy=null);this.normalGrid&&this.normalGrid.headerCt&&(this.normalGrid.headerCt.showMenuBy=null);Ext.destroy(this.view,this.headerCt)}},
function(){this.borrow(Ext.Component,["constructPlugin"])});
Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(a){var b=a.view,c={scroll:this.onViewScroll,scrollend:this.onViewScrollEnd,refresh:this.onViewRefresh,columnschanged:this.checkVariableRowHeight,
boxready:this.onViewBoxReady,scope:this,destroyable:!0},d=b.initialConfig;if(a.isTree||a.ownerLockable&&a.ownerLockable.isTree)b.blockRefresh=!1,d&&void 0===d.loadMask&&(b.loadMask=!0);b.positionBody&&(c.refresh=this.onViewRefresh);Ext.isWebKit&&2!==Ext.supports.touchScroll&&(this.needsPointerEventsFix=!0,c.scrollEnd=this.onViewScrollEnd);this.grid=a;this.view=b;this.isRTL=b.getInherited().rtl;b.bufferedRenderer=this;b.preserveScrollOnRefresh=!0;b.animate=!1;this.bindStore(b.dataSource);b.hasOwnProperty("rowHeight")&&
(this.rowHeight=b.rowHeight);this.position=0;this.viewListeners=b.on(c)},checkVariableRowHeight:function(){this.variableRowHeight=this.view.hasVariableRowHeight()},bindStore:function(a){var b=this.store;b&&b.isFeatureStore||(b&&this.unbindStore(),this.storeListeners=a.on({scope:this,groupchange:this.onStoreGroupChange,clear:this.onStoreClear,beforeload:this.onBeforeStoreLoad,load:this.onStoreLoad,destroyable:!0}),this.store=a,this.view.componentLayout.layoutCount&&(delete this.viewSize,a.isBufferedStore&&
a.setViewSize(this.viewSize),this.onViewResize(this.view,0,this.view.getHeight())))},unbindStore:function(){this.storeListeners.destroy();this.storeListeners=this.store=null},onBeforeStoreLoad:function(a){var b=this.view;b&&b.refreshCounter&&(a.isTreeStore||b.preserveScrollOnReload?this.nextRefreshStartIndex=b.all.startIndex:0!==this.scrollTop&&(this.setBodyTop(this.bodyTop=this.scrollTop=this.position=this.scrollHeight=this.nextRefreshStartIndex=0),b.setScrollY(0)),this.lastScrollDirection=this.scrollOffset=
null);this.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var a=this.view;a.rendered&&!this.store.destroyed&&(0!==this.scrollTop&&(this.bodyTop=this.scrollTop=this.position=this.scrollHeight=0,this.nextRefreshStartIndex=null,a.setScrollY(0)),a.refresh(),this.lastScrollDirection=this.scrollOffset=null)},onStoreGroupChange:function(a){this.refreshSize()},onViewBoxReady:function(a){this.refreshScroller(a,this.scrollHeight)},onViewRefresh:function(a,b){var c=a.all,d;this.checkVariableRowHeight();
a.componentLayoutCounter||!a.headerCt.down("{flex}")&&!this.variableRowHeight?(this.skipNextRefreshSize=!1,this.refreshing||(this.refreshSize(),this.scrollTop!==a.getScrollY()?(this.onViewScroll(),this.onViewScrollEnd()):(this.hasOwnProperty("bodyTop")||(this.bodyTop=c.startIndex*this.rowHeight,a.setScrollY(this.bodyTop)),this.setBodyTop(this.bodyTop),d=a.getHeight(),c.getCount()&&0<d&&(this.onViewResize(a,null,d),b&&c.getCount()!==b.length&&(b.length=0,b.push.apply(b,this.store.getRange(c.startIndex,
c.endIndex))))))):(a.on({boxready:Ext.Function.pass(this.onViewRefresh,[a,b],this),single:!0}),this.skipNextRefreshSize=!0)},beforeTableLayout:function(a){var b=this.view.body.dom;b&&(a.bodyHeight=b.offsetHeight,a.bodyWidth=b.offsetWidth)},afterTableLayout:function(a){var b=this.view,c;a.bodyHeight&&b.body.dom&&(delete this.rowHeight,this.refreshSize(),c=b.body.dom.offsetHeight,c!==a.bodyHeight&&(this.onViewResize(b,null,b.el.lastBox.height),c<a.bodyHeight&&(this.viewSize>=this.store.getCount()?this.setBodyTop(0):
(this.bodyTop>this.scrollTop||this.bodyTop+c<this.scrollTop+this.viewClientHeight)&&this.setBodyTop(this.scrollTop-this.trailingBufferZone*this.rowHeight)),b.all.endIndex===b.dataSource.getCount()-1&&this.stretchView(b,this.scrollHeight=this.bodyTop+c-1)))},refreshSize:function(){var a=this.view,b=this.skipNextRefreshSize,c=a.body.dom;this.skipNextRefreshSize=!1;!b&&c&&(this.bodyHeight=a.body.dom.offsetHeight,this.scrollHeight=this.getScrollHeight(),this.stretchView(a,this.scrollHeight))},onViewResize:function(a,
b,c,d,e){e&&c===e||(b=Math.ceil(c/this.rowHeight)+this.trailingBufferZone+this.leadingBufferZone,this.viewSize=this.setViewSize(b),this.viewClientHeight=a.el.dom.clientHeight)},stretchView:function(a,b){this.scrollTop>b&&(this.position=this.scrollTop=Math.max(b-this.bodyHeight,0),a.setScrollY(this.scrollTop));this.bodyTop>b&&a.body.translate(null,this.bodyTop=this.position);a.getScrollable()&&this.refreshScroller(a,b)},refreshScroller:function(a,b){var c=a.getScrollable();c&&(c.setElementSize&&c.setElementSize(),
c.setSize({x:a.headerCt.getTableWidth(),y:b}))},setViewSize:function(a,b){var c=this,d=c.store,e=c.view,f=e.all,g=f.getCount(),h,k,l=c.view.lockingPartner&&c.view.lockingPartner.bufferedRenderer,m=g-a,n,p;l&&!b&&l.view.componentLayoutCounter&&(l.viewSize>a?a=l.viewSize:l.setViewSize(a,!0));if(m=g-a)c.scrollTop=e.getScrollY(),c.viewSize=a,d.isBufferedStore&&d.setViewSize(a),g&&(p=d.getCount(),h=f.startIndex,k=Math.min(h+a-1,p-1),h===f.startIndex&&k===f.endIndex?0>m&&c.handleViewScroll(-1):(l&&l.disable(),
0>m?p>g?d.getRange(f.endIndex+1,k,{callback:function(a,b){n=e.doAdd(a,b);e.fireEvent("itemadd",a,b,n);c.setBodyTop(c.bodyTop)}}):c.refreshView(0):(h=f.endIndex-(m-1),k=f.endIndex,g=f.slice(h,k+1),f.removeRange(h,k,!0),e.hasListeners.itemremove&&(d=d.getRange(h,k),e.fireEvent("itemremove",d,h,g)),c.setBodyTop(c.bodyTop)),l&&l.enable()));return a},getViewRange:function(){var a=this.view.all,b=this.store,c=0;a.getCount()?c=a.startIndex:b.isBufferedStore&&(b.currentPage||(b.currentPage=1),c=a.startIndex=
(b.currentPage-1)*(b.pageSize||1),b.currentPage=1);return b.data.getCount()?b.getRange(c,c+(this.viewSize||b.defaultViewSize)-1):[]},onReplace:function(a,b,c,d){var e=this.view,f=e.all,g=f.getCount(),h=b+c.length-1,k=d.length-c.length,l=k*this.rowHeight;if(b>=f.startIndex+this.viewSize)this.refreshSize();else if(g&&h<f.startIndex&&f.getCount()>=this.viewSize)f.moveBlock(k),this.refreshSize(),a=f.startIndex,0<k&&(this.doNotMirror=!0,this.handleViewScroll(-1),this.doNotMirror=!1),f.startIndex===a?f.startIndex&&
(this.setBodyTop(this.bodyTop+=l),e.suspendEvent("scroll"),e.scrollBy(0,l),e.resumeEvent("scroll"),this.position=this.scrollTop=e.getScrollY()):(e.suspendEvent("scroll"),e.scrollBy(0,(a-f.startIndex)*this.rowHeight),e.resumeEvent("scroll")),e.refreshSize(f.getCount()!==g);else if(g&&b>f.endIndex){this.refreshSize();if(0<k)this.onRangeFetched(null,f.startIndex,Math.min(a.getCount(),f.startIndex+this.viewSize)-1,null,!0);e.refreshSize(f.getCount()!==g)}else b<f.startIndex&&h<=f.endIndex?this.refreshView(f.startIndex-
c.length+d.length):(b<f.startIndex&&h<=f.endIndex&&l&&(e.suspendEvent("scroll"),e.setScrollY(this.position=this.scrollTop+=l),e.resumeEvent("scroll")),this.refreshView())},scrollTo:function(a,b){var c=arguments,d=this,e=d.view,f=e.lockingPartner&&e.lockingPartner.grid.isVisible()&&e.lockingPartner.bufferedRenderer,g=d.store,h=g.getCount(),k,l,m,n,p;void 0===b||b instanceof Object||(b={select:c[1],callback:c[2],scope:c[3]});if((k=e.dataSource.groupingFeature)&&k.collapsible)n=a.isEntity?a:e.store.getAt(Math.min(Math.max(a,
0),e.store.getCount()-1)),(c=k.getMetaGroup(n))&&c.isCollapsed?k.isExpandingOrCollapsing?(n=c.placeholder,a=k.indexOfPlaceholder(n)):(k.expand(k.getGroup(n).getGroupKey()),h=g.getCount(),a=k.indexOf(n)):a=k.indexOf(n);else if(a.isEntity){if(n=a,a=g.indexOf(n),-1===a)return}else a=Math.min(Math.max(a,0),h-1),n=g.getAt(a);n&&(l=e.getNode(n))?(e.grid.ensureVisible(n,b),d.onViewScroll(),d.onViewScrollEnd()):(a<e.all.startIndex?(p=-1,k=Math.max(Math.min(a-Math.floor((d.leadingBufferZone+d.trailingBufferZone)/
2),h-d.viewSize+1),0),h=Math.min(k+d.viewSize-1,h-1)):(p=1,h=Math.min(a+Math.floor((d.leadingBufferZone+d.trailingBufferZone)/2),h-1),k=Math.max(h-(d.viewSize-1),0)),m=Math.max(k*d.rowHeight,0),g.getRange(k,h,{callback:function(c,h,k){d.renderRange(h,k,!0,!0);n=g.data.getRange(a,a+1)[0];l=e.getNode(n);e.body.translate(null,d.bodyTop=m);1===p&&d.refreshSize();f&&(f.renderRange(h,k,!0,!0),d.syncRowHeights(),f.view.body.translate(null,f.bodyTop=m),1===p&&f.refreshSize());l&&(e.grid.ensureVisible(n,b),
d.scrollTop=d.position=d.view.getScrollY(),f&&(f.position=f.scrollTop=d.scrollTop))}}))},onViewScroll:function(){var a=this.store.getCount(),b;b=this.scrollTop=this.view.getScrollY();this.needsPointerEventsFix&&(this.view.body.dom.style.pointerEvents="none");!(this.disabled||a<this.viewSize)&&(a=b-this.position,b=0<a?1:-1,20<=Math.abs(a)||b!==this.lastScrollDirection)&&(this.lastScrollDirection=b,this.handleViewScroll(this.lastScrollDirection))},onViewScrollEnd:function(){this.needsPointerEventsFix&&
(this.view.body.dom.style.pointerEvents="")},handleViewScroll:function(a){var b=this.view.all,c=this.store,d=this.viewSize,e=c.getCount()-1,f;-1===a?b.startIndex&&this.topOfViewCloseToEdge()&&(f=Math.max(0,this.getLastVisibleRowIndex()+this.trailingBufferZone-d)):b.endIndex<e&&this.bottomOfViewCloseToEdge()&&(f=Math.max(0,this.getFirstVisibleRowIndex()-this.trailingBufferZone));if(null==f)this.position=this.scrollTop,this.loadId++;else if(a=Math.min(f+d-1,e),this.variableRowHeight&&a===b.endIndex&&
a<e&&(a++,this.viewSize=d++,c.isBufferedStore&&c.setViewSize(this.viewSize)),f!==b.startIndex||a!==b.endIndex)return this.renderRange(f,a),!0},bottomOfViewCloseToEdge:function(){return this.variableRowHeight?this.bodyTop+this.bodyHeight<this.scrollTop+this.view.lastBox.height+this.numFromEdge*this.rowHeight:this.view.all.endIndex-this.getLastVisibleRowIndex()<this.numFromEdge},topOfViewCloseToEdge:function(){return this.variableRowHeight?this.bodyTop>this.scrollTop-this.numFromEdge*this.rowHeight:
this.getFirstVisibleRowIndex()-this.view.all.startIndex<this.numFromEdge},refreshView:function(a){var b=this.viewSize,c=this.view.all,d=this.store,e=d.getCount(),f=Math.max(0,e-1);if(e)e<b?(a=0,c=f):(null==a&&(null!=this.nextRefreshStartIndex?(a=this.nextRefreshStartIndex,this.nextRefreshStartIndex=null):a=c.startIndex),a=Math.max(0,Math.min(a,f-(b-this.leadingBufferZone)+1)),c=Math.min(a+b-1,f),c-a+1>b&&(a=c-b+1));else return this.doRefreshView([],0,0);0===a&&0===c&&0===e?this.doRefreshView([],0,
0):d.getRange(a,c,{callback:this.doRefreshView,scope:this})},doRefreshView:function(a,b,c,d){c=this.view;d=c.all;var e=d.startIndex,f=d.endIndex,g=d.getCount(),h=b!==d.startIndex,k,l;c.refreshCounter?c.hasListeners.beforerefresh&&!1===c.fireEvent("beforerefresh",c)||(c.refreshing=this.refreshing=!0,l=c.saveFocusState(),c.clearViewEl(!0),c.refreshCounter++,a.length?(c.doAdd(a,b),h&&(e=d.item(e,!0),f=d.item(f,!0),e?k=-e.offsetTop:f&&(k=d.last(!0).offsetTop-f.offsetTop),k?this.scrollTop=(this.bodyTop=
Math.max(this.bodyTop+k,0))?this.scrollTop+k:0:(this.bodyTop=b*=this.rowHeight,this.scrollTop=Math.max(b-this.rowHeight*(b<this.bodyTop?this.leadingBufferZone:this.trailingBufferZone,0))))):(this.scrollTop&&(this.bodyTop=this.scrollTop=0),c.addEmptyText()),h&&(this.setBodyTop(this.bodyTop),c.suspendEvent("scroll"),c.setScrollY(this.position=this.scrollTop),c.resumeEvent("scroll")),this.refreshSize(),c.refreshSize(d.getCount()!==g),c.fireEvent("refresh",c,a),l(),c.headerCt.setSortState(),c.refreshNeeded=
c.refreshing=this.refreshing=!1):c.refresh()},renderRange:function(a,b,c,d){var e=this.view.all,f=this.store;if(a!==e.startIndex||b!==e.endIndex)if(f.rangeCached(a,b))if(this.cancelLoad(),this.synchronousRender||c)this.onRangeFetched(null,a,b,null,d);else this.renderTask||(this.renderTask=new Ext.util.DelayedTask(this.onRangeFetched,this,null,!1)),this.renderTask.delay(1,null,null,[null,a,b,null,d]);else this.attemptLoad(a,b)},onRangeFetched:function(a,b,c,d,e){var f=this.view,g=f.el,h,k=f.all,l;
h=0;var m,n;e=f.lockingPartner&&!e&&!this.doNotMirror&&f.lockingPartner.bufferedRenderer;var p=this.variableRowHeight,q,r;if(!f.destroyed){if(a)this.scrollTop=this.view.getScrollY();else if(a=this.store.getRange(b,c),!a)return;q=Ext.Element.getActiveElement();r=g.contains(q);m=b*this.rowHeight;if(b<k.startIndex&&c>k.endIndex){k=k.startIndex-b;f.clearViewEl(!0);l=f.doAdd(a,b);f.fireEvent("itemadd",a,b,l);for(a=0;a<k;a++)h-=l[a].offsetHeight;n=this.bodyTop+h}else{if(this.teleported||b>k.endIndex||c<
k.startIndex)n=m,p&&(l=this.scrollTop<this.position?this.leadingBufferZone:this.trailingBufferZone,b>l&&(n=this.scrollTop-this.rowHeight*l)),f.clearViewEl(!0),this.teleported=!1;k.getCount()?c>k.endIndex?(l=Math.max(b-k.startIndex,0),p&&(h=k.item(k.startIndex+l,!0).offsetTop),l=k.scroll(Ext.Array.slice(a,k.endIndex+1-b),1,l),n=p?this.bodyTop+h:m):(l=Math.max(k.endIndex-c,0),h=k.startIndex,l=k.scroll(Ext.Array.slice(a,0,k.startIndex-b),-1,l),p)?(n=this.bodyTop-k.item(h,!0).offsetTop,k.startIndex)?
0>n&&(h=k.startIndex*this.rowHeight,f.setScrollY(this.position=this.scrollTop+=h),n=this.bodyTop+h):n&&(f.setScrollY(this.position=this.scrollTop-=n),n=0):n=m:(l=f.doAdd(a,b),f.fireEvent("itemadd",a,b,l));this.position=this.scrollTop}r&&!g.contains(q)&&(g=f.actionableMode?f.actionPosition:f.lastFocused)&&g.column&&(f.onFocusLeave({}),g.column.focus());n=Math.max(Math.floor(n),0);f.positionBody&&this.setBodyTop(n);l&&e&&!e.disabled&&(e.scrollTop=e.position=this.scrollTop,e.view.ownerCt.isVisible()&&
(b=e.onRangeFetched(null,b,c,d,!0),f.ownerGrid.syncRowHeight||e.variableRowHeight!==p)&&(this.syncRowHeights(l,b),this.bodyHeight=f.body.dom.offsetHeight),e.bodyTop!==n&&e.setBodyTop(n),e.view.setScrollY(this.scrollTop));return l}},syncRowHeights:function(a,b){var c=0,d=1,e=[],f=[],g=Ext.grid.locking.RowSynchronizer,h,k;a&&b&&(c=a.length,d=b.length);c!==d&&(a=this.view.all.slice(),b=this.view.lockingPartner.all.slice(),c=d=a.length);for(h=0;h<c;h++)e[h]=k=new g(this.view,a[h]),k.measure();for(h=0;h<
d;h++)f[h]=k=new g(this.view.lockingPartner,b[h]),k.measure();for(h=0;h<c;h++)e[h].finish(f[h]),f[h].finish(e[h]);this.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var a=this.view,b=a.lockingPartner.bufferedRenderer;a.componentLayoutCounter&&(delete this.rowHeight,this.refreshSize(),b.rowHeight!==this.rowHeight&&(delete b.rowHeight,b.refreshSize()))},setBodyTop:function(a){var b=this.view,c=b.all,d=this.store,e=b.body;e.dom&&(this.translateBody(e,a),this.variableRowHeight?(this.bodyHeight=
e.dom.offsetHeight,c.endIndex===d.getCount()-1?this.scrollHeight=a+this.bodyHeight-1:this.scrollHeight=this.getScrollHeight(),this.stretchView(b,this.scrollHeight)):this.bodyHeight=c.getCount()*this.rowHeight)},translateBody:function(a,b){a.translate(null,this.bodyTop=b)},getFirstVisibleRowIndex:function(a,b,c,d){var e=this.view.all,f=e.elements,g=this.viewClientHeight,h;h=this.bodyTop;if(e.getCount()&&this.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{a=e.startIndex;b=e.endIndex;
c=this.scrollTop;d=c+g;if(h>d||h+this.bodyHeight<c)return this.teleported=!0,Math.floor(this.scrollTop/this.rowHeight);e=a+Math.min(this.numFromEdge+(-1===this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((b-a)/2))}h+=f[e].offsetTop;if(h+f[e].offsetHeight<=c)return this.getFirstVisibleRowIndex(e+1,b,c,d);if(h<=c)return e;if(e!==a)return this.getFirstVisibleRowIndex(a,e-1,c,d)}return Math.floor(this.scrollTop/this.rowHeight)},getLastVisibleRowIndex:function(a,b,c,
d){var e=this.view.all,f=e.elements,g=this.viewClientHeight,h;h=this.bodyTop;if(e.getCount()&&this.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{a=e.startIndex;b=e.endIndex;c=this.scrollTop;d=c+g;if(h>d||h+this.bodyHeight<c)return this.teleported=!0,Math.floor(this.scrollTop/this.rowHeight)+Math.ceil(g/this.rowHeight);e=b-Math.min(this.numFromEdge+(1===this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((b-a)/2))}h+=f[e].offsetTop;if(h>d)return this.getLastVisibleRowIndex(a,
e-1,c,d);f=h+f[e].offsetHeight;if(f>=d)return e;if(e!==b)return this.getLastVisibleRowIndex(e+1,b,c,d)}return this.getFirstVisibleRowIndex()+Math.ceil(g/this.rowHeight)},getScrollHeight:function(){var a=this.view.all,b=this.store.getCount(),c=a.getCount(),d,e;if(!b)return 0;this.hasOwnProperty("rowHeight")||(c?this.variableRowHeight?this.rowHeight=Math.floor(this.bodyHeight/c):(d=a.first(),e=d.getHeight(),Ext.isIE8&&(d=d.getBorderWidth("b"),0<d&&(e-=d)),this.rowHeight=e):delete this.rowHeight);this.variableRowHeight?
a.endIndex===b-1?b=this.bodyTop+this.bodyHeight-1:(b=Math.floor((b-c)*this.rowHeight)+this.bodyHeight,b+=this.bodyTop-a.startIndex*this.rowHeight):b=Math.floor(b*this.rowHeight);return this.scrollHeight=b},attemptLoad:function(a,b){this.scrollToLoadBuffer?(this.loadTask||(this.loadTask=new Ext.util.DelayedTask(this.doAttemptLoad,this,[])),this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[a,b])):this.doAttemptLoad(a,b)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},
doAttemptLoad:function(a,b){var c=this;c.destroyed||c.store.getRange(a,b,{loadId:++c.loadId,callback:function(a,b,f,g){if(g.loadId===c.loadId)c.onRangeFetched(a,b,f,g)},fireEvent:!1})},destroy:function(){var a=this.view;this.cancelLoad();a&&a.el&&a.un("scroll",this.onViewScroll,this);this.store&&this.unbindStore();this.viewListeners=this.gridListeners=this.view=this.grid=Ext.destroy(this.viewListeners,this.stretcher,this.gridListeners);this.callParent()}},function(a){Ext.supports.Touch&&(a.prototype.leadingBufferZone=
a.prototype.trailingBufferZone=2,a.prototype.numFromEdge=1)});
Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(a){var b=this.getKey(a);this.map[b]||(++this.length,this.items.push(a),this.map[b]=a);return a},clear:function(){var a=this.items;this.items=[];this.map={};this.length=0;return a},contains:function(a){a=this.getKey(a);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b=this.getKey(a),c=this.items,d;this.map[b]&&(d=Ext.Array.indexOf(c,a),Ext.Array.erase(c,
d,1),delete this.map[b],--this.length);return a}});
Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(a){var b=Ext.layout.SizeModel.sizeModels,
c=b.configured,b=b.shrinkWrap,d,e,f,g,h,k,l,m;Ext.apply(this,a);g=this.target;d=this.el;this.id=g.id;this.flushedProps={};this.props=a={};this.styles={};g.isComponent?(this.wrapsComponent=!0,this.framing=g.frameSize||null,this.isComponentChild=g.ownerLayout&&g.ownerLayout.isComponentLayout,d=g.lastBox,(e=g.ownerCt)&&(f=e.el&&this.context.items[e.el.id])&&(this.ownerCtContext=f),this.sizeModel=e=g.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]),this.widthModel=f=e.width,this.heightModel=
l=e.height,d&&!1===d.invalid&&(h=g.width===(e=d.width),k=g.height===(g=d.height),f===b&&l===b?m=!0:f===c&&h&&(m=l===b||l===c&&k),m&&(this.optOut=!0,a.width=e,a.height=g))):d=d.lastBox;this.lastBox=d},init:function(a,b){var c=this.props,d=this.dirty,e=this.ownerCtContext,f=this.target.ownerLayout,g=!this.state,h=a||g,k,l,m,n,p,q=this.heightModel,r=this.widthModel;n=0;this.dirty=this.invalid=!1;this.props={};this.remainingChildDimensions=0;this.boxChildren&&(this.boxChildren.length=0);g||(this.clearAllBlocks("blocks"),
this.clearAllBlocks("domBlocks"));if(!this.wrapsComponent)return h;p=this.target;this.state={};if(g)p.beforeLayout&&p.beforeLayout!==Ext.emptyFn&&p.beforeLayout(),!e&&(k=p.ownerCt)&&(e=this.context.items[k.el.id]),e?(this.ownerCtContext=e,this.isBoxParent=f&&f.isItemBoxParent(this)):this.isTopLevel=!0,this.frameBodyContext=this.getEl("frameBody");else for(e=this.ownerCtContext,this.isTopLevel=!e,k=this.children,l=0,m=k.length;l<m;++l)k[l].init(!0);this.hasRawContent=!(p.isContainer&&0<p.items.items.length);
a?(this.widthModel=this.heightModel=null,n=p.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]),g&&(this.sizeModel=n),this.widthModel=n.width,this.heightModel=n.height,e&&!this.isComponentChild&&(f.needsItemSize||!p.liquidLayout?e.remainingChildDimensions+=2:(this.widthModel.calculated&&++e.remainingChildDimensions,this.heightModel.calculated&&++e.remainingChildDimensions))):c&&(this.recoverProp("x",c,d),this.recoverProp("y",c,d),this.widthModel.calculated?this.recoverProp("width",
c,d):"width"in c&&++n,this.heightModel.calculated?this.recoverProp("height",c,d):"height"in c&&++n,e&&!this.isComponentChild&&(e.remainingChildDimensions+=n));c&&f&&f.manageMargins&&(this.recoverProp("margin-top",c,d),this.recoverProp("margin-right",c,d),this.recoverProp("margin-bottom",c,d),this.recoverProp("margin-left",c,d));b&&(c=b.heightModel,(d=b.widthModel)&&c&&r&&q&&r.shrinkWrap&&q.shrinkWrap&&d.constrainedMax&&c.constrainedMin&&(c=null),d&&(this.widthModel=d),c&&(this.heightModel=c),b.state&&
Ext.apply(this.state,b.state));return h},initContinue:function(a){var b=this.ownerCtContext,c=this.widthModel,d=this.target.getInherited();c.fixed?d.inShrinkWrapTable=!1:delete d.inShrinkWrapTable;a&&(b&&c.shrinkWrap?(b=b.isBoxParent?b:b.boxParent)&&b.addBoxChild(this):c.natural&&(this.boxParent=b));return a},initDone:function(a){var b=this.props,c=this.state;0===this.remainingChildDimensions&&(b.containerChildrenSizeDone=!0);a&&(b.containerLayoutDone=!0);this.boxChildren&&this.boxChildren.length&&
this.widthModel.shrinkWrap&&(this.el.setWidth(1E4),c.blocks=(c.blocks||0)+1)},initAnimation:function(){var a=this.target,b=this.ownerCtContext;b&&b.isTopLevel?this.animatePolicy=a.ownerLayout.getAnimatePolicy(this):!b&&a.isCollapsingOrExpanding&&a.animCollapse&&(this.animatePolicy=a.componentLayout.getAnimatePolicy(this));this.animatePolicy&&this.context.queueAnimation(this)},addBlock:function(a,b,c){a=this[a]||(this[a]={});c=a[c]||(a[c]={});c[b.id]||(c[b.id]=b,++b.blockCount,++this.context.blockCount)},
addBoxChild:function(a){var b;b=a.widthModel;a.boxParent=this;a.measuresBox=b.shrinkWrap?a.hasRawContent:b.natural;a.measuresBox&&((b=this.boxChildren)?b.push(a):this.boxChildren=[a])},addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;void 0!==c&&(a.left=c+"px",++e);void 0!==d&&(a.top=d+"px",++e);return e},addTrigger:function(a,b){var c=b?"domTriggers":"triggers",d=this[c]||(this[c]={}),c=this.context,e=c.currentLayout,d=d[a]||(d[a]={});d[e.id]||(d[e.id]=e,++e.triggerCount,d=c.triggers[b?"dom":
"data"],(d[e.id]||(d[e.id]=[])).push({item:this,prop:a}),void 0!==this.props[a]&&(b&&this.dirty&&a in this.dirty||++e.firedTriggers))},boxChildMeasured:function(){var a=this.state;(a.boxesMeasured=(a.boxesMeasured||0)+1)===this.boxChildren.length&&(a.clearBoxWidth=1,++this.context.progressCount,this.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top",
"padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){a=a.getStyles(a.borderNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(a){a=a.getStyles(a.marginNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(a){a=(a.frameBodyContext||a).getStyles(a.paddingNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},
clearAllBlocks:function(a){var b=this[a],c;if(b)for(c in b)this.clearBlocks(a,c)},clearBlocks:function(a,b){var c=this[a],d=c&&c[b],e,f;if(d)for(f in delete c[b],c=this.context,d)e=d[f],--c.blockCount,--e.blockCount||e.pending||e.done||c.queueLayout(e)},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c=this[a],c=c&&c[b],d=this.context,e,f;if(c)for(f in c)e=c[f],++e.firedTriggers,e.done||e.blockCount||e.pending||
d.queueLayout(e)},flush:function(){var a=this.dirty,b=this.state,c=this.el;this.dirtyCount=0;"attributes"in this&&(c.set(this.attributes),delete this.attributes);"innerHTML"in this&&(c.innerHTML=this.innerHTML,delete this.innerHTML);b&&b.clearBoxWidth&&(b.clearBoxWidth=0,this.el.setStyle("width",null),--b.blocks||this.context.queueItemLayouts(this));a&&(delete this.dirty,this.writeProps(a,!0))},flushAnimations:function(){var a=this,b=a.previousSize,c,d,e,f,g,h,k,l,m;if(b){c=a.target;d=c.getAnimationProps();
e=d.duration;f=Ext.Object.getKeys(a.animatePolicy);d=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},d);g=e=0;for(h=f.length;g<h;g++)k=f[g],l=b[k],m=a.peek(k),l!==m&&(k=a.translateProps[k]||k,d.from[k]=l,d.to[k]=m,++e);e&&(1===a.isCollapsingOrExpanding?c.componentLayout.undoLayout(a):a.writeProps(d.from),a.el.animate(d),d=Ext.fx.Manager.getFxQueue(a.el.id)[0],c.$layoutAnim=d,d.on({afteranimate:function(){delete c.$layoutAnim;c.destroying||c.destroyed||(1===a.isCollapsingOrExpanding?
(c.componentLayout.redoLayout(a),c.afterCollapse(!0)):2===a.isCollapsingOrExpanding&&c.afterExpand(!0),c.hasListeners.afterlayoutanimation&&c.fireEvent("afterlayoutanimation",c))}}))}},getBorderInfo:function(){var a=this.borderInfo;a||(this.borderInfo=a=this.checkCache("borderInfo"));return a},getEl:function(a,b){var c,d,e;if(a){if(a.dom)d=a;else if(c=this.target,b&&(c=b),d=c[a],"function"===typeof d&&(d=d.call(c),d===this.el))return this;d&&(e=this.context.getEl(this,d))}return e||null},getFrameInfo:function(){var a=
this.frameInfo,b;a||(a=this.framing,b=this.getBorderInfo(),this.frameInfo=a=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b);return a},getMarginInfo:function(){var a=this.marginInfo,b,c,d;a||(this.wrapsComponent?(b=this.target,d=(a=b.ownerLayout)?a.id:null,c=a&&a.manageMargins,(a=b.margin$)&&a.ownerId!==d&&(a=null),a||(a=this.parseMargins(b,b.margin)||this.checkCache("marginInfo"),c&&(this.setProp("margin-top",
0),this.setProp("margin-right",0),this.setProp("margin-bottom",0),this.setProp("margin-left",0)),a.ownerId=d,b.margin$=a),a.width=a.left+a.right,a.height=a.top+a.bottom):a=this.checkCache("marginInfo"),this.marginInfo=a);return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this.paddingInfo;a||(this.paddingInfo=a=this.checkCache("paddingInfo"));return a},getProp:function(a){var b=this.props[a];this.addTrigger(a);return b},getDomProp:function(a){var b=
this.dirty&&a in this.dirty?void 0:this.props[a];this.addTrigger(a,!0);return b},getStyle:function(a){var b=this.styles,c,d;a in b?d=b[a]:(c=this.styleInfo[a],d=this.el.getStyle(a),c&&c.parseInt&&(d=parseInt(d,10)||0),b[a]=d);return d},getStyles:function(a,b){var c=this.styles,d={},e=0,f=a.length,g,h,k,l,m,n;b=b||a;for(g=0;g<f;++g)l=a[g],l in c?(d[b[g]]=c[l],++e,g&&1===e&&(h=a.slice(0,g),k=b.slice(0,g))):e&&((h||(h=[])).push(l),(k||(k=[])).push(b[g]));if(e<f)for(h=h||a,k=k||b,f=this.styleInfo,m=this.el.getStyle(h),
g=h.length;g--;)l=h[g],e=f[l],n=m[l],e&&e.parseInt&&(n=parseInt(n,10)||0),d[k[g]]=n,c[l]=n;return d},hasProp:function(a){return null!=this.getProp(a)},hasDomProp:function(a){return null!=this.getDomProp(a)},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){1===++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox&&(b.boxMeasured=1,a.boxChildMeasured())},
parseMargins:function(a,b){!0===b&&(b=5);var c=typeof b,d;"string"===c||"number"===c?d=a.parseBox(b):b&&(d={top:0,right:0,bottom:0,left:0},b&&Ext.apply(d,a.parseBox(b)));return d},peek:function(a){return this.props[a]},recalculateSizeModel:function(){var a=this.target,b=a.componentLayout,c=this.ownerCtContext,d=b.ownerContext;b.ownerContext=null;this.sizeModel=a=a.getSizeModel(c&&c.widthModel.pairsByHeightOrdinal[c.heightModel.ordinal]);this.widthModel=a.width;this.heightModel=a.height;d&&(b.ownerContext=
this)},recoverProp:function(a,b,c){var d=this.props;a in b&&(d[a]=b[a],c&&a in c&&(b=this.dirty||(this.dirty={}),b[a]=c[a]))},redo:function(a){var b,c,d;this.revertProps(this.props);if(a&&this.wrapsComponent){if(this.childItems)for(d=0,b=this.childItems,c=b.length;d<c;d++)b[d].redo(a);d=0;b=this.children;for(c=b.length;d<c;d++)b[d].redo()}},removeEl:function(a,b){var c,d;if(a){if(a.dom)d=a;else if(c=this.target,b&&(c=b),d=c[a],"function"===typeof d&&(d=d.call(c),d===this.el))return this;d&&this.context.removeEl(d,
this)}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a)c.hasOwnProperty(b)&&(d[b]=a[b]);this.writeProps(d)},setAttribute:function(a,b){this.attributes||(this.attributes={});this.attributes[a]=b;this.markDirty()},setBox:function(a){"left"in a&&this.setProp("x",a.left);"top"in a&&this.setProp("y",a.top);this.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(a,b){return!b&&this.hasRawContent?
1:this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return 2===this.setContentWidth(a,c)+this.setContentHeight(b,c)},setProp:function(a,b,c){var d=typeof b;if("undefined"===d||"number"===d&&isNaN(b))return 0;if(this.props[a]===b)return 1;this.props[a]=b;++this.context.progressCount;if(!1===c)this.fireTriggers("domTriggers",a),this.clearBlocks("domBlocks",a);else if(c=this.styleInfo[a])this.dirty||(this.dirty={}),this.dirty[a]=b,this.markDirty();this.fireTriggers("triggers",a);this.clearBlocks("blocks",
a);return 1},setHeight:function(a,b){var c=this.target,d=this.ownerCtContext,e;0>a&&(a=0);if(this.wrapsComponent){e=this.collapsedVert?0:c.minHeight||0;a=Ext.Number.constrain(a,e,c.maxHeight);c=this.props.height;if(!this.setProp("height",a,b))return NaN;d&&!this.isComponentChild&&isNaN(c)&&((c=--d.remainingChildDimensions)||d.setProp("containerChildrenSizeDone",!0));if(d=this.frameBodyContext)c=this.getFrameInfo(),d[this.el.vertical?"setWidth":"setHeight"](a-c.height,b)}else if(!this.setProp("height",
a,b))return NaN;return a},setWidth:function(a,b){var c=this.target,d=this.ownerCtContext,e;0>a&&(a=0);if(this.wrapsComponent){e=this.collapsedHorz?0:c.minWidth||0;a=Ext.Number.constrain(a,e,c.maxWidth);c=this.props.width;if(!this.setProp("width",a,b))return NaN;d&&!this.isComponentChild&&isNaN(c)&&((c=--d.remainingChildDimensions)||d.setProp("containerChildrenSizeDone",!0));if(d=this.frameBodyContext)c=this.getFrameInfo(),d.setWidth(a-c.width,b)}else if(!this.setProp("width",a,b))return NaN;return a},
setSize:function(a,b,c){this.setWidth(a,c);this.setHeight(b,c)},translateProps:{x:"left",y:"top"},undo:function(a){var b,c,d;this.revertProps(this.lastBox);if(a&&this.wrapsComponent){if(this.childItems)for(d=0,b=this.childItems,c=b.length;d<c;d++)b[d].undo(a);d=0;b=this.children;for(c=b.length;d<c;d++)b[d].undo()}},unsetProp:function(a){var b=this.dirty;delete this.props[a];b&&delete b[a]},writeProps:function(a,b){if(a&&"object"===typeof a){var c=this.el,d={},e=0,f=this.styleInfo,g,h,k,l=a.width,
m=a.height,n=this.target,p,q;"displayed"in a&&c.setDisplayed(a.displayed);for(h in a)b&&(this.fireTriggers("domTriggers",h),this.clearBlocks("domBlocks",h),this.flushedProps[h]=1),(g=f[h])&&g.dom&&(g.suffix&&(k=parseInt(a[h],10))?d[h]=k+g.suffix:d[h]=a[h],++e);if("x"in a||"y"in a)n.isComponent?n.setPosition(a.x,a.y):e+=this.addPositionStyles(d,a);this.wrapsComponent&&Ext.isIE9&&((p=void 0!==l&&this.hasOverflowY)||(q=void 0!==m&&this.hasOverflowX))&&(f=this.isAbsolute,void 0===f&&(f=this.target.getTargetEl(),
f=f.getStyle("position"),this.isAbsolute=f="absolute"===f),f&&(f=Ext.getScrollbarSize(),p&&(l=parseInt(l,10)+f.width,d.width=l+"px",++e),q&&(m=parseInt(m,10)+f.height,d.height=m+"px",++e)));e&&c.setStyle(d)}},debugHooks:{$enabled:!1,addBlock:function(a,b,c){(b.blockedBy||(b.blockedBy={}))[this.id+"."+c+("dom"===a.substring(0,3)?":dom":"")]=1;return this.callParent(arguments)},addBoxChild:function(a){var b=this.callParent(arguments),c=this.boxChildren;c&&1===c.length&&(c=this.context.boxParents||(this.context.boxParents=
new Ext.util.MixedCollection),c.add(this));return b},addTrigger:function(a,b){var c=this.context.currentLayout,d;this.callParent(arguments);d=this.context.triggersByLayoutId;(d[c.id]||(d[c.id]={}))[this.id+"."+a+(b?":dom":"")]={item:this,name:a}},checkAuthority:function(a){var b=this[a+"Model"],c=this.context.currentLayout,d;c===this.target.ownerLayout?d=b.calculated:c.isComponentLayout&&(d=this.isTopLevel||b.auto||b.configured);d||(b=this.context.getLayoutName(c),Ext.log(b+" cannot set "+a))},clearBlocks:function(a,
b){var c=this[a],c=c&&c[b],d=this.id+"."+b+("dom"===a.substring(0,3)?":dom":""),e,f;if(c)for(f in c)e=c[f],delete e.blockedBy[d];return this.callParent(arguments)},getEl:function(a){var b=this.callParent(arguments);b&&b!==this&&b.parent!==this&&Ext.raise({msg:"Got element from wrong component"});return b},init:function(){var a;a=this.callParent(arguments);this.context.logOn.initItem&&Ext.log(this.id," consumers: content=",this.consumersContentWidth,"/",this.consumersContentHeight,", container=",this.consumersContainerWidth,
"/",this.consumersContainerHeight,", size=",this.consumersWidth,"/",this.consumersHeight);return a},invalidate:function(){this.wrapsComponent?this.context.logOn.invalidate&&Ext.log("invalidate: ",this.id):Ext.raise({msg:"Cannot invalidate an element contextItem"});return this.callParent(arguments)},setProp:function(a,b,c){var d=this.context.getLayoutName(this.context.currentLayout),e=this.id+"."+a,f;null!==b&&(f=this.setBy||(this.setBy={}),f[a]?f[a]!==d&&Ext.log({level:"warn"},"BAD! ",e," set by ",
f[a]," and ",d):f[a]=d);this.context.logOn.setProp&&("undefined"===typeof b||isNaN(b)||this.props[a]===b||Ext.log("set ",e," = ",b," (",c,")"));return this.callParent(arguments)},setHeight:function(a,b,c){!c&&this.wrapsComponent&&this.checkAuthority("height");return this.callParent(arguments)},setWidth:function(a,b,c){!c&&this.wrapsComponent&&this.checkAuthority("width");return this.callParent(arguments)}}},function(){var a={dom:!0,parseInt:!0,suffix:"px"},b={dom:!0},c={dom:!1};this.prototype.styleInfo=
{containerChildrenSizeDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnsChanged:c,rowHeights:c,viewOverflowY:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b,clear:b}});
Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(a){Ext.apply(this,a);this.items={};this.layouts={};this.calcCount=this.flushCount=this.cycleCount=this.blockCount=0;this.animateQueue=this.newQueue();this.completionQueue=this.newQueue();this.finalizeQueue=this.newQueue();this.finishQueue=this.newQueue();this.flushQueue=this.newQueue();this.invalidateData={};this.layoutQueue=this.newQueue();this.invalidQueue=[];this.triggers={data:{},dom:{}}},callLayout:function(a,
b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d=a,e=!a.isComponent,f=e?d.length:1,g,h,k,l,m,n,p;for(g=0;g<f;++g){e&&(a=d[g]);c&&(a.ownerCt?(h=this.items[a.ownerCt.el.id])&&Ext.Array.remove(h.childItems,this.getCmp(a)):a.rendered&&this.removeEl(a.el));if(!b&&(m=this.invalidQueue,k=m.length))for(this.invalidQueue=l=[],h=0;h<k;++h)n=m[h],p=n.item.target,p===a||p.up(a)||l.push(n);h=a.componentLayout;this.cancelLayout(h);h.getLayoutItems&&(h=h.getLayoutItems(),
h.length&&this.cancelComponent(h,!0));a.isContainer&&!a.collapsed&&(h=a.layout,this.cancelLayout(h),h=h.getVisibleItems(),h.length&&this.cancelComponent(h,!0))}},cancelLayout:function(a){this.completionQueue.remove(a);this.finalizeQueue.remove(a);this.finishQueue.remove(a);this.layoutQueue.remove(a);a.running&&this.layoutDone(a);a.ownerContext=null},clearTriggers:function(a,b){var c=a.id,d=this.triggers[b?"dom":"data"],e=d&&d[c],f=e&&e.length||0,g,h;for(g=0;g<f;++g)h=e[g],d=h.item,d=b?d.domTriggers:
d.triggers,delete d[h.prop][c]},flush:function(){var a=this.flushQueue.clear(),b=a.length,c;if(b)for(++this.flushCount,c=0;c<b;++c)a[c].flush()},flushAnimations:function(){var a=this.animateQueue.clear(),b=a.length,c;if(b){for(c=0;c<b;c++)!1!==a[c].target.animate&&a[c].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var a=this.invalidQueue,b=a&&a.length,c,d,e,f;this.invalidQueue=[];if(b){d=[];for(f=0;f<b;++f)c=(e=a[f]).item.target,c.container.isDetachedBody||(d.push(c),e.options&&
(this.invalidateData[c.id]=e.options));this.invalidate(d,null)}},flushLayouts:function(a,b,c){a=c?this[a].items:this[a].clear();c=a.length;var d,e;if(c){for(d=0;d<c;++d)e=a[d],e.running||this.callLayout(e,b);this.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);c.parent||(c.parent=a,a.children.length?a.children.push(c):a.children=[c]);return c},getItem:function(a,b){var c=b.id,d=this.items;return d[c]||(d[c]=new Ext.layout.ContextItem({context:this,
target:a,el:b}))},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(c in a)b=a[c],a.hasOwnProperty(c)&&(b.running=!1,b.ownerContext=null)},invalidate:function(a,b){var c=!a.isComponent,d,e,f,g,h,k,l,m,n,p,q;f=0;for(k=c?a.length:1;f<k;++f)if(g=c?a[f]:a,g.rendered&&!g.hidden){d=g.ownerLayout;l=g.componentLayout;q=!1;d&&d.needsItemSize||!g.liquidLayout||(q=!0);if(!q||d&&d.setsItemSize)h=this.getCmp(g),e=!h.state,m=g.isContainer&&!g.collapsed?g.layout:null,
n=this.invalidateData[h.id],delete this.invalidateData[h.id],p=h.init(b,n);q||(n&&this.processInvalidate(n,h,"before"),l.beforeLayoutCycle&&l.beforeLayoutCycle(h),m&&m.beforeLayoutCycle&&m.beforeLayoutCycle(h),p=h.initContinue(p),d=!0,l.getLayoutItems&&(l.renderChildren(),g=l.getLayoutItems(),g.length&&this.invalidate(g,!0)),m&&(d=!1,m.renderChildren(),m.needsItemSize||m.activeItemCount)&&(g=m.getVisibleItems(),g.length&&this.invalidate(g,!0)),h.initDone(d),this.resetLayout(l,h,e),m&&this.resetLayout(m,
h,e),h.initAnimation(),n&&this.processInvalidate(n,h,"after"))}this.currentLayout=null},isDescendant:function(a,b){if(a.isContainer)for(var c=b.ownerCt;c;c=c.ownerCt)if(c===a)return!0;return!1},layoutDone:function(a){var b=a.ownerContext;a.running=!1;if(a.isComponentLayout){if(b.measuresBox)b.onBoxMeasured();b.setProp("done",!0)}else b.setProp("containerLayoutDone",!0);--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=
this.currentLayout;this.currentLayout=a.layout||null;a[c](b,a);this.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,f=b.layout,g=a[c],h=b[c];return function(c){var l=d.currentLayout;g&&(d.currentLayout=e,g.call(a.scope||a,c,a));d.currentLayout=f;h.call(b.scope||b,c,b);d.currentLayout=
l}},purgeInvalidates:function(){var a=[],b=this.invalidQueue,c=b.length,d,e,f,g,h,k;for(d=0;d<c;++d){g=b[d];h=g.item.target;k=!0;for(e=a.length;e--;){f=a[e];f=f.item.target;if(h.isLayoutChild(f)){k=!1;break}f.isLayoutChild(h)&&Ext.Array.erase(a,e,1)}k&&a.push(g)}this.invalidQueue=a},queueInvalidate:function(a,b){var c=[],d=this.invalidQueue,e=d.length,f,g,h,k;a.isComponent?(f=a,(a=this.items[f.el.id])?a.recalculateSizeModel():a=this.getCmp(f)):f=a.target;for(a.invalid=!0;e--;){g=d[e];h=g.item.target;
if(!f.isFloating&&f.up(h))return;if(h===f){(c=g.options)?b&&(b.widthModel&&(c.widthModel=b.widthModel),b.heightModel&&(c.heightModel=b.heightModel),(k=c.state)?b.state&&Ext.apply(k,b.state):c.state=b.state,b.before&&(c.before=this.chainFns(c,b,"before")),b.after&&(c.after=this.chainFns(c,b,"after"))):g.options=b;return}h.isLayoutChild(f)||c.push(g)}c.push({item:a,options:b});this.invalidQueue=c},queueItemLayouts:function(a){a=a.isComponent?a:a.target;var b=a.componentLayout;b.pending||b.invalid||
b.done||this.queueLayout(b);b=a.layout;!b||b.pending||b.invalid||b.done||a.collapsed||this.queueLayout(b)},queueLayout:function(a){this.layoutQueue.add(a);a.pending=!0},removeEl:function(a,b){var c=a.id,d=b?b.children:null,e=this.items;d&&Ext.Array.remove(d,e[c]);delete e[c]},resetLayout:function(a,b,c){this.currentLayout=a;a.done=!1;a.pending=!0;a.firedTriggers=0;this.layoutQueue.add(a);c?(this.layouts[a.id]=a,a.running=!0,a.finishedLayout&&this.finishQueue.add(a),++this.remainingLayouts,++a.layoutCount,
a.ownerContext=b,a.beginCount=0,a.blockCount=0,a.calcCount=0,a.triggerCount=0,a.initialized||a.initLayout(),a.beginLayout(b)):(++a.beginCount,a.running||(++this.remainingLayouts,a.running=!0,a.ownerContext=b,a.isComponentLayout&&b.unsetProp("done"),this.completionQueue.remove(a),this.finalizeQueue.remove(a)));a.beginLayoutCycle(b,c)},run:function(){var a=!1,b=this.cycleWatchDog;this.purgeInvalidates();this.flushInvalidates();this.state=1;this.totalCount=this.layoutQueue.getCount();for(this.flush();(this.remainingLayouts||
this.invalidQueue.length)&&b--;){this.invalidQueue.length&&this.flushInvalidates();if(this.runCycle())a=!1;else if(!a)this.flush(),a=!0,this.flushLayouts("completionQueue","completeLayout");else if(!this.invalidQueue.length){this.state=2;break}this.remainingLayouts||this.invalidQueue.length||(this.flush(),this.flushLayouts("completionQueue","completeLayout"),this.flushLayouts("finalizeQueue","finalizeLayout"))}return this.runComplete()},runComplete:function(){this.state=2;if(this.remainingLayouts)return this.handleFailure(),
!1;this.flush();this.flushLayouts("finishQueue","finishedLayout",!0);this.flushLayouts("finishQueue","notifyOwner");this.flush();this.flushAnimations();return!0},runCycle:function(){var a=this.layoutQueue.clear(),b=a.length,c;++this.cycleCount;for(c=this.progressCount=0;c<b;++c)this.runLayout(this.currentLayout=a[c]);this.currentLayout=null;return 0<this.progressCount},runLayout:function(a){var b=this.getCmp(a.owner);a.pending=!1;b.state.blocks||(a.done=!0,++a.calcCount,++this.calcCount,a.calculate(b),
a.done?(this.layoutDone(a),a.completeLayout&&this.queueCompletion(a),a.finalizeLayout&&this.queueFinalize(a)):a.pending||a.invalid||a.blockCount+a.triggerCount-a.firedTriggers||this.queueLayout(a))},setItemSize:function(a,b,c){var d=a,e=1,f;a.isComposite?(d=a.elements,e=d.length,a=d[0]):a.dom||a.el||(e=d.length,a=d[0]);for(f=0;f<e;)a=this.get(a),a.setSize(b,c),a=d[++f]},debugHooks:{$enabled:!1,pageAnalyzerMode:!0,logOn:{0:0},cancelComponent:function(a){this.logOn.cancelComponent&&Ext.log("cancelCmp: ",
a.id);this.callParent(arguments)},cancelLayout:function(a){this.logOn.cancelLayout&&Ext.log("cancelLayout: ",this.getLayoutName(a));this.callParent(arguments)},callLayout:function(a,b){var c=this.accumByType[a.type],d=c&&c.enter();this.callParent(arguments);c&&d.leave()},checkRemainingLayouts:function(){var a=0,b,c;for(b in this.layouts)c=this.layouts[b],this.layouts.hasOwnProperty(b)&&c.running&&++a;this.remainingLayouts!==a&&Ext.raise({msg:"Bookkeeping error me.remainingLayouts"})},flush:function(){if(this.logOn.flush){var a=
this.flushQueue;Ext.log("--- Flush ",a&&a.getCount())}return this.callParent(arguments)},flushInvalidates:function(){this.logOn.flushInvalidate&&Ext.log(">> flushInvalidates");var a=this.callParent(arguments);this.logOn.flushInvalidate&&Ext.log("<< flushInvalidates");return a},getCmp:function(a){var b=this.callParent(arguments);b.wrapsComponent||Ext.raise({msg:a.id+" is not a component"});return b},getEl:function(a,b){var c=this.callParent(arguments);c&&c.wrapsComponent&&Ext.raise({msg:a.id+"/"+b.id+
" is a component (expected element)"});return c},getLayoutName:function(a){return a.owner.id+"<"+a.type+">"},layoutDone:function(a){var b=this.getLayoutName(a);this.logOn.layoutDone&&Ext.log("layoutDone: ",b," ( ",this.remainingLayouts," running)");a.running||Ext.raise({msg:b+" is already done"});this.remainingLayouts||Ext.raise({msg:b+" finished but no layouts are running"});this.callParent(arguments)},layoutTreeHasFailures:function(a,b){function c(a){var b=!a.done,d,k;if(a.done)for(d in e.layouts)e.layouts.hasOwnProperty(d)&&
(k=e.layouts[d],k.owner.ownerLayout===a&&c(k)&&(b=!0));return b}function d(a){var c,h;b[a.id]=1;for(c in e.layouts)e.layouts.hasOwnProperty(c)&&(h=e.layouts[c],h.owner.ownerLayout===a&&d(h))}var e=this;if(c(a))return!0;d(a);return!1},queueLayout:function(a){(a.done||a.blockCount||a.pending)&&Ext.raise({msg:this.getLayoutName(a)+" should not be queued for layout"});this.logOn.queueLayout&&Ext.log("Queue ",this.getLayoutName(a));return this.callParent(arguments)},reportLayoutResult:function(a,b){var c=
this.getCmp(a.owner),d=[],e=[],f,g,h,k,l;b[a.id]=1;for(f in a.blockedBy)a.blockedBy.hasOwnProperty(f)&&d.push(a.blockedBy[f]);d.sort();for(f in this.triggersByLayoutId[a.id])this.triggersByLayoutId[a.id].hasOwnProperty(f)&&(g=this.triggersByLayoutId[a.id][f],e.push({name:f,info:g}));e.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});Ext.log({indent:1},a.done?"++":"--",this.getLayoutName(a),c.isBoxParent?" [isBoxParent]":"",c.boxChildren?" - boxChildren: "+c.state.boxesMeasured+"/"+c.boxChildren.length:
"",c.boxParent?" - boxParent: "+c.boxParent.id:""," - size: ",c.widthModel.name,"/",c.heightModel.name);if(!a.done||this.reportOnSuccess){if(d.length){++Ext.log.indent;Ext.log({indent:1},"blockedBy:  count=",a.blockCount);h=d.length;for(c=0;c<h;c++)Ext.log(d[c]);Ext.log.indent-=2}if(e.length){++Ext.log.indent;Ext.log({indent:1},"triggeredBy: count="+a.triggerCount);h=e.length;for(c=0;c<h;c++)l=g.info||g,d=l.item,k=d.setBy&&d.setBy[l.name]||"?",g=e[c],Ext.log(g.name," (",d.props[l.name],") dirty: ",
d.dirty?!!d.dirty[l.name]:!1,", setBy: ",k);Ext.log.indent-=2}}for(f in this.layouts)this.layouts.hasOwnProperty(f)&&(e=this.layouts[f],e.done||e.owner.ownerLayout!==a||this.reportLayoutResult(e,b));for(f in this.layouts)this.layouts.hasOwnProperty(f)&&(e=this.layouts[f],e.done&&e.owner.ownerLayout===a&&this.reportLayoutResult(e,b));--Ext.log.indent},resetLayout:function(a){var b=a.type,c=this.getLayoutName(a),d=this.accumByType[b];this.logOn.resetLayout&&Ext.log("resetLayout: ",c," ( ",this.remainingLayouts,
" running)");this.state||(!d&&this.profileLayoutsByType&&(this.accumByType[b]=d=Ext.Perf.get("layout_"+a.type)),this.numByType[b]=(this.numByType[b]||0)+1);b=d&&d.enter();this.callParent(arguments);d&&b.leave();this.checkRemainingLayouts()},round:function(a){return Math.round(1E3*a)/1E3},run:function(){var a,b,c,d,e,f;this.accumByType={};this.calcsByType={};this.numByType={};this.timesByType={};this.triggersByLayoutId={};Ext.log.indentSize=3;Ext.log("==================== LAYOUT ====================");
b=Ext.perf.getTimestamp();a=this.callParent(arguments);b=Ext.perf.getTimestamp()-b;if(this.logOn.boxParent&&this.boxParents)for(c in this.boxParents)if(this.boxParents.hasOwnProperty(c))for(d=this.boxParents[c],e=d.boxChildren,f=e.length,Ext.log("boxParent: ",d.id),d=0;d<f;++d)Ext.log(" --\x3e ",e[d].id);a?Ext.log("----------------- SUCCESS -----------------"):Ext.log({level:"error"},"----------------- FAILURE -----------------");for(c in this.layouts)this.layouts.hasOwnProperty(c)&&(d=this.layouts[c],
d.running&&Ext.log.error("Layout left running: ",this.getLayoutName(d)),d.ownerContext&&Ext.log.error("Layout left connected: ",this.getLayoutName(d)));if(!a||this.reportOnSuccess){e={};f=0;for(c in this.layouts)this.layouts.hasOwnProperty(c)&&(d=this.layouts[c],this.items[d.owner.el.id].isTopLevel&&(this.reportOnSuccess||this.layoutTreeHasFailures(d,e))&&this.reportLayoutResult(d,e));for(c in this.layouts)this.layouts.hasOwnProperty(c)&&(d=this.layouts[c],e[d.id]||(f||Ext.log("----- Unreported!! -----"),
++f,this.reportLayoutResult(d,e)))}Ext.log("Cycles: ",this.cycleCount,", Flushes: ",this.flushCount,", Calculates: ",this.calcCount," in ",this.round(b)," msec");Ext.log("Calculates by type:");b=[];for(c in this.numByType)this.numByType.hasOwnProperty(c)&&(d=this.numByType[c],b.push({type:c,total:d,calcs:this.calcsByType[c],multiple:Math.round(this.calcsByType[c]/d*10)/10,calcTime:this.round(this.timesByType[c]),avgCalcTime:this.round(this.timesByType[c]/this.calcsByType[c])}));b.sort(function(a,
b){return b.calcTime-a.calcTime});c=b.length;for(d=0;d<c;d++)e=b[d],Ext.log(e.type,": ",e.total," in ",e.calcs," tries (",e.multiple,"x) at ",e.calcTime," msec (avg ",e.avgCalcTime," msec)");return a},runCycle:function(){this.logOn.runCycle&&Ext.log(">>> Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")");return this.callParent(arguments)},runLayout:function(a){var b=a.type,c=this.accumByType[b],d,e,f;this.logOn.calculate&&Ext.log("-- calculate ",this.getLayoutName(a));d=c&&c.enter();
f=Ext.perf.getTimestamp();e=this.callParent(arguments);f=Ext.perf.getTimestamp()-f;c&&d.leave();this.calcsByType[b]=(this.calcsByType[b]||0)+1;this.timesByType[b]=(this.timesByType[b]||0)+f;return e}}});
Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a},onTargetCollapse:function(a){this.callParent([a]);!1!==this.performCollapse&&"mini"==a.collapseMode&&a.addCls(a.baseCls+"-"+a.collapsedCls+"-mini")},onTargetExpand:function(a){this.callParent([a]);!1!==this.performCollapse&&"mini"==a.collapseMode&&a.removeCls(a.baseCls+"-"+a.collapsedCls+
"-mini")}});
Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",
sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d=this.axisProps[c],e=!d.horizontal,f=d.sizeProp,g=0,h=a.childItems,k=h.length,l,m,n,p,q,r,t,u;for(m=0;m<k;++m)n=h[m],q=n.target,n.layoutPos={},q.region&&(n.region=r=q.region,n.isCenter=q.isCenter,
n.isHorz=q.isHorz,n.isVert=q.isVert,n.weight=q.weight||this.regionWeights[r]||0,q.weight=n.weight,b[q.id]=n,q.isCenter?(l=n,p=q.flex,a.centerRegion=l):e===n.isVert&&(n.reverseWeighting=r===d.borderEnd,r=q[f],u=typeof r,q.collapsed||("string"===u&&(t=this.percentageRe.exec(r))?n.percentage=parseInt(t[1],10):q.flex&&(g+=n.flex=q.flex))));l&&(a=l.target,(b=a.placeholderFor)?p||e!==b.collapsedVertical()||(p=0,l.collapseAxis=c):a.collapsed&&e===a.collapsedVertical()&&(p=0,l.collapseAxis=c));null==p&&(p=
1);return Ext.apply({before:e?"top":"left",totalFlex:g+p},d)},beginLayout:function(a){var b=this.getLayoutItems(),c=this.padding,d=typeof c,e=!1,f,g,h;if(c){if("string"===d||"number"===d)c=Ext.util.Format.parseBox(c)}else c=a.getEl("getTargetEl").getPaddingInfo(),e=!0;a.outerPad=c;a.padOnContainer=e;d=0;for(c=b.length;d<c;++d)if(f=b[d],e=this.getSplitterTarget(f))g=void 0,h=!!f.hidden,e.split?h!==e.hidden&&(g=!e.hidden):e.isCollapsingOrExpanding&&(g=!!e.collapsed),g?f.show():!1===g&&f.hide();this.callParent(arguments);
b=a.childItems;c=b.length;g={};a.borderAxisHorz=this.beginAxis(a,g,"horz");a.borderAxisVert=this.beginAxis(a,g,"vert");for(d=0;d<c;++d)if(f=b[d],e=this.getSplitterTarget(f.target))h=g[e.id],h||(h=a.getEl(e.el,this),h.region=e.region),f.collapseTarget=e=h,f.weight=e.weight,f.reverseWeighting=e.reverseWeighting,e.splitter=f,f.isHorz=e.isHorz,f.isVert=e.isVert;this.sortWeightedItems(b,"reverseWeighting");this.setupSplitterNeighbors(b)},calculate:function(a){var b=this.getContainerSize(a),c=a.childItems,
d=c.length,e=a.borderAxisHorz,f=a.borderAxisVert,g=a.outerPad,h=a.padOnContainer,k,l;e.begin=g[this.padOnContainerProp];f.begin=g.top;l=e.end=e.flexSpace=b.width+(h?g[this.padOnContainerProp]:-g[this.padNotOnContainerProp]);h=f.end=f.flexSpace=b.height+(h?g.top:-g.bottom);for(b=0;b<d;++b){g=c[b];k=g.getMarginInfo();if(g.isHorz||g.isCenter)e.addUnflexed(k.width),l-=k.width;if(g.isVert||g.isCenter)f.addUnflexed(k.height),h-=k.height;if(!g.flex&&!g.percentage)if(g.isHorz||g.isCenter&&"horz"===g.collapseAxis)k=
g.getProp("width"),e.addUnflexed(k),g.collapseTarget&&(l-=k);else if(g.isVert||g.isCenter&&"vert"===g.collapseAxis)k=g.getProp("height"),f.addUnflexed(k),g.collapseTarget&&(h-=k)}for(b=0;b<d;++b)g=c[b],g.getMarginInfo(),g.percentage&&(g.isHorz?(k=Math.ceil(l*g.percentage/100),k=g.setWidth(k),e.addUnflexed(k)):g.isVert&&(k=Math.ceil(h*g.percentage/100),k=g.setHeight(k),f.addUnflexed(k)));for(b=0;b<d;++b)g=c[b],g.isCenter||(this.calculateChildAxis(g,e),this.calculateChildAxis(g,f));2>this.finishAxis(a,
f)+this.finishAxis(a,e)?this.done=!1:this.finishPositions(c)},calculateChildAxis:function(a,b){var c=a.collapseTarget,d="set"+b.sizePropCap,e=b.sizeProp,f=a.getMarginInfo()[e],g,h;c?g=c.region:(g=a.region,h=a.flex);(c=g===b.borderBegin)||g===b.borderEnd?(h?(e=Math.ceil(h/b.totalFlex*b.flexSpace),e=a[d](e)):e=a.percentage?a.peek(e):a.getProp(e),e+=f,c?(d=b.begin,b.begin+=e):b.end=d=b.end-e):(a[d](b.end-b.begin-f),d=b.begin);a.layoutPos[b.posProp]=d},eachItem:function(a,b,c){var d=this.getLayoutItems(),
e=0,f;Ext.isFunction(a)&&(c=b=a);for(e;e<d.length&&(f=d[e],a&&f.region!==a||!1!==b.call(c,f));e++);},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;d&&(d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]),d.layoutPos[b.posProp]=b.begin);return Ext.isNumber(c)?1:0},finishPositions:function(a){var b=a.length,c,d,e=this.horzPositionProp;for(c=0;c<b;++c)d=a[c],d.setProp("x",d.layoutPos.x+d.marginInfo[e]),d.setProp("y",d.layoutPos.y+d.marginInfo.top)},getLayoutItems:function(){for(var a=
this.owner,a=a&&a.items&&a.items.items||[],b=a.length,c=[],d=0,e,f;d<b;d++)e=a[d],f=e.placeholderFor,!e.hidden&&(e.floated&&2!==e.isCollapsingOrExpanding||f&&2===f.isCollapsingOrExpanding)||c.push(e);return c},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getMaxWeight:function(a){return this.getMinMaxWeight(a)},getMinWeight:function(a){return this.getMinMaxWeight(a,!0)},getMinMaxWeight:function(a,b){var c=null;this.eachItem(a,function(a){if(a.hasOwnProperty("weight"))if(null===
c)c=a.weight;else if(b&&a.weight<c||a.weight>c)c=a.weight},this);return c},getSplitterTarget:function(a){return(a=a.collapseTarget)&&a.collapsed?a.placeholder||a:a},isItemBoxParent:function(a){return!0},isItemShrinkWrap:function(a){return!0},insertSplitter:function(a,b,c,d){var e=a.region;c=Ext.apply({xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:!1!==a.splitterResize,splitterFor:a,synthetic:!0},d);"mini"===a.collapseMode&&(c.collapsedCls=a.collapsedCls);a.splitter=
this.owner.add(b+("south"===e||"east"===e?0:1),c)},getMoveAfterIndex:function(a){var b=this.callParent(arguments);a.splitter&&b++;return b},moveItemBefore:function(a,b){var c;b&&b.splitter&&(c=b.region,"south"===c||"east"===c)&&(b=b.splitter);return this.callParent([a,b])},onAdd:function(a,b){var c=a.placeholderFor,d=a.region,e,f;this.callParent(arguments);d?(Ext.apply(a,this.regionFlags[d]),this.owner.isViewport&&(a.isViewportBorderChild=!0),a.initBorderRegion&&a.initBorderRegion(),(c="center"===
d)?this.centerRegion=a:(d=a.split,e=!!a.hidden,"object"===typeof d&&(f=d,d=!0),!a.isHorz&&!a.isVert||!d&&"mini"!==a.collapseMode||this.insertSplitter(a,b,e||!d,f)),c||a.hasOwnProperty("collapseMode")||(a.collapseMode=this.panelCollapseMode),a.hasOwnProperty("animCollapse")||(a.animCollapse="placeholder"!==a.collapseMode?!1:this.panelCollapseAnimate)):c&&(Ext.apply(a,this.regionFlags[c.region]),a.region=c.region,a.weight=c.weight)},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a,
b){var c=a.splitter,d=this.owner,e=d.destroying;a.region&&(a.isCenter&&(this.centerRegion=null),delete a.isCenter,delete a.isHorz,delete a.isVert,c&&!d.destroying&&d.doRemove(c,!0),delete a.splitter);this.callParent(arguments);!e&&!b&&a.rendered&&(c=a.getEl())&&(c.setStyle("top",""),c.setStyle(this.horzPositionProp,""))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},
north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(a){var b={},c=a.length,d=this.touchedRegions,e,f,g,h,k,l,m,n;for(e=0;e<c;++e)if(l=a[e].target,m=l.region,l.isCenter)g=l;else if(m){n=d[m];f=0;for(h=n.length;f<h;++f)(k=b[n[f]])&&k.neighbors.push(l);if(f=l.placeholderFor?
l.placeholderFor.splitter:l.splitter)f.neighbors=[];b[m]=f}if(g)for(n=d.center,f=0,h=n.length;f<h;++f)(k=b[n[f]])&&k.neighbors.push(g)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},
getItemSizePolicy:function(a){var b=this.sizePolicies,c,d;return a.isCenter?(c=a.placeholderFor)?c.collapsedVertical()?b.vert:b.horz:a.collapsed?a.collapsedVertical()?b.vert:b.horz:b.flexAll:(c=a.collapseTarget)?c.isVert?b.vert:b.horz:a.region?(a.isVert?(c=a.height,d=b.vert):(c=a.width,d=b.horz),a.flex||"string"===typeof c&&this.percentageRe.test(c)?b.flexAll:d):this.autoSizePolicy}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;
Ext.apply(b.horz,a);Ext.apply(b.vert,a)});
Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var a=this.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&!1===a.fireEvent("beforeactivate",a))a=this.activeItem=this.owner.activeItem=null;else if(a.hasListeners.activate)a.on({boxready:function(){a.fireEvent("activate",a)},single:!0});if(this.deferredRender){if(a)return this.getItemsRenderTree([a])}else return this.callParent(arguments)}},renderChildren:function(){var a=
this.getActiveItem();this.deferredRender?a&&this.renderItems([a],this.getRenderTarget()):this.callParent()},isValidParent:function(a,b,c){return(a=a.el?a.el.dom:Ext.getDom(a))&&a.parentNode===(b.dom||b)||!1},getActiveItem:function(){var a=this.parseActiveItem(void 0===this.activeItem?this.owner&&this.owner.activeItem:this.activeItem);a&&-1!==this.owner.items.indexOf(a)&&(this.activeItem=a);return null==a?null:this.activeItem||this.owner.activeItem},parseActiveItem:function(a){return a&&a.isComponent?
a:"number"===typeof a||void 0===a?this.getLayoutItems()[a||0]:null===a?null:this.owner.getComponent(a)},configureItem:function(a){a.setHiddenState(a!==this.getActiveItem());this.callParent(arguments)},onAdd:function(a,b){this.callParent([a,b]);this.setItemHideMode(a)},onRemove:function(a){this.callParent([a]);this.resetItemHideMode(a);a===this.activeItem&&(this.activeItem=void 0)},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;return!1===c?!1:c||b.cardSwitchAnimation},getNext:function(a){var b=
this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c+1]||(a?b[0]:!1)},next:function(a,b){return this.setActiveItem(this.getNext(b),a)},getPrev:function(a){var b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c-1]||(a?b[b.length-1]:!1)},prev:function(a,b){return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var b=this.owner,c=this.activeItem,d=b.rendered,e;a=this.parseActiveItem(a);-1===b.items.indexOf(a)&&(Ext.suspendLayouts(),a=b.add(a),
Ext.resumeLayouts());if(a&&c!==a){if(!1===a.fireEvent("beforeactivate",a,c)||c&&!1===c.fireEvent("beforedeactivate",c,a))return!1;if(d){Ext.suspendLayouts();a.rendered||this.renderItem(a,this.getRenderTarget(),b.items.length);if(c&&this.hideInactive)if(e=c.el.contains(Ext.Element.getActiveElement()),c.hide(),c.hidden)c.hiddenByLayout=!0,c.fireEvent("deactivate",c,a);else return!1;a.hidden&&a.show();a.hidden?this.activeItem=a=null:(this.activeItem=a,e&&(a.defaultFocus||(a.defaultFocus=":focusable"),
a.focus()));Ext.resumeLayouts(!0)}else this.activeItem=a;a.fireEvent("activate",a,c);return this.activeItem}return!1},resetItemHideMode:function(a){a.hideMode=a.originalHideMode;delete a.originalHideMode},setItemHideMode:function(a){a.originalHideMode=a.hideMode;a.hideMode="offsets"}});
Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(a,b,c){a.init||(c?(a=Ext.apply({},a),a.cmp=c):c=a.cmp,a.xclass?a=Ext.create(a):(b="plugin."+(a.ptype||b),a=Ext.ClassManager.instantiateByAlias(b,a)));a&&c&&a.setCmp&&!a.setCmpCalled&&(a.setCmp(c),a.setCmpCalled=!0);return a}});
Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a=this.splitter,b=a.collapseTarget,c=a.defaultSplitMin,d=a.vertical?"Width":"Height",e="min"+d,f="max"+d,d="get"+d,g=a.neighbors,h=g.length,k=b.el.getBox(),l=k.x,m=k.y,n=k.right,k=k.bottom,p=a.vertical?n-l:k-m,q,r,t,u,v;u=(b[e]||Math.min(p,c))-p;b=(b=b[f])?b-p:1E9;v=p;for(q=0;q<h;++q)r=g[q],p=r[d](),t=r[f],null===t&&(t=void 0),t=p-t,p-=r[e]||Math.min(p,
c),isNaN(t)||u<t&&(u=t),b>p&&(b=p);if(2>b-u)return null;k=new Ext.util.Region(m,n,k,l);this.constraintAdjusters[this.getCollapseDirection()](k,u,b,a);this.dragInfo={minRange:u,maxRange:b,targetSize:v};return k},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right+=c+d.getWidth()},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b;a[0]=a.x=a.left=
a.x-c+d.getWidth()}},onBeforeStart:function(a){var b=this.splitter;a=b.collapseTarget;var b=b.neighbors,c=b.length,d,e;if(a.collapsed)return!1;for(d=0;d<c;++d)if(e=b[d],e.collapsed&&e.isHorz===a.isHorz)return!1;return(this.constrainTo=this.calculateConstrainRegion())?!0:!1},performResize:function(a,b){var c=this.splitter,d=c.getCollapseDirection(),e=c.collapseTarget,f=this.splitAdjusters[c.vertical?"horz":"vert"],g=b[f.index],h=this.dragInfo;if("right"===d||"bottom"===d)g=-g;if(g=Math.min(Math.max(h.minRange,
g),h.maxRange))(c=c.ownerCt).suspendLayouts(),f.adjustTarget(e,h.targetSize,g),c.resumeLayouts(!0)},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(void 0,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});
Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b=this,c,d,e;a.el||(b.el=a.target.isComponent?a.target.getEl():a.target);this.callParent(arguments);b.preserveRatio&&b.minWidth&&b.minHeight&&(c=b.minWidth/b.el.getWidth(),d=b.minHeight/b.el.getHeight(),d>c?b.minWidth=b.el.getWidth()*d:b.minHeight=b.el.getHeight()*c);b.throttle&&(e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,
arguments)},b.throttle),b.resize=function(a,c,d){d?Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments):e.apply(null,arguments)})},onBeforeStart:function(a){this.startBox=this.target.getBox()},getProxy:function(){this.dynamic||this.proxy||(this.proxy=this.createProxy(this.target||this.el),this.hideProxy=!0);if(this.proxy)return this.proxy.show(),this.proxy},createProxy:function(a){var b=this.proxyCls;a=a.isComponent?a.getProxy().addCls(b):a.createProxy({tag:"div",role:"presentation",cls:b,
id:a.id+"-rzproxy"},Ext.getBody());a.removeCls(Ext.baseCSSPrefix+"proxy-el");return a},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);this.dynamic||this.resize(this.startBox)},onMouseDown:function(a,b){var c=Ext.fly(b.parentNode);this.callParent(arguments);c&&c.shim&&c.maskIframes()},onMouseUp:function(a){var b=Ext.fly(this.dragTarget.parentNode);this.callParent(arguments);b&&b.shim&&b.unmaskIframes()},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},
updateDimensions:function(a,b){var c=this.activeResizeHandle.region,d=this.getOffset(this.constrainTo?"dragTarget":null),e=this.startBox,f,g=0,h=0,k=f=0,l,m,c=this.convertRegionName(c);switch(c){case "south":h=d[1];m=2;break;case "north":h=-d[1];k=-h;m=2;break;case "east":g=d[0];m=1;break;case "west":g=-d[0];f=-g;m=1;break;case "northeast":h=-d[1];k=-h;g=d[0];l=[e.x,e.y+e.height];m=3;break;case "southeast":h=d[1];g=d[0];l=[e.x,e.y];m=3;break;case "southwest":g=-d[0];f=-g;h=d[1];l=[e.x+e.width,e.y];
m=3;break;case "northwest":h=-d[1],k=-h,g=-d[0],f=-g,l=[e.x+e.width,e.y+e.height],m=3}d={width:e.width+g,height:e.height+h,x:e.x+f,y:e.y+k};g=Ext.Number.snap(d.width,this.widthIncrement);h=Ext.Number.snap(d.height,this.heightIncrement);if(g!==d.width||h!==d.height){switch(c){case "northeast":d.y-=h-d.height;break;case "north":d.y-=h-d.height;break;case "southwest":d.x-=g-d.width;break;case "west":d.x-=g-d.width;break;case "northwest":d.x-=g-d.width,d.y-=h-d.height}d.width=g;d.height=h}d.width<this.minWidth||
d.width>this.maxWidth?(d.width=Ext.Number.constrain(d.width,this.minWidth,this.maxWidth),f&&(d.x=e.x+(e.width-d.width))):this.lastX=d.x;d.height<this.minHeight||d.height>this.maxHeight?(d.height=Ext.Number.constrain(d.height,this.minHeight,this.maxHeight),k&&(d.y=e.y+(e.height-d.height))):this.lastY=d.y;if(this.preserveRatio||a.shiftKey)f=this.startBox.width/this.startBox.height,k=Math.min(Math.max(this.minHeight,d.width/f),this.maxHeight),g=Math.min(Math.max(this.minWidth,d.height*f),this.maxWidth),
1===m?d.height=k:2===m?d.width=g:(l=Math.abs(l[0]-this.lastXY[0])/Math.abs(l[1]-this.lastXY[1]),l>f?d.height=k:d.width=g,"northeast"===c?d.y=e.y-(d.height-e.height):"northwest"===c?(d.y=e.y-(d.height-e.height),d.x=e.x-(d.width-e.width)):"southwest"===c&&(d.x=e.x-(d.width-e.width)));this.setPosition=d.x!==this.startBox.x||d.y!==this.startBox.y;this.resize(d,b)},resize:function(a,b){var c,d=this.setPosition;if(this.dynamic||!this.dynamic&&b)d?this.target.setBox(a):this.target.setSize(a.width,a.height);
b||(c=this.getProxy())&&c!==this.target&&(d||this.hideProxy?c.setBox(a):c.setSize(a.width,a.height))},onEnd:function(a){this.updateDimensions(a,!0);this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(a){return a}});
Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1E4,
maxWidth:1E4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(a,b){var c,d=Ext.dom.Element.unselectableCls,e=[],f,g,h,k,l;if(Ext.isString(a)||Ext.isElement(a)||a.dom)c=a,a=b||{},a.target=c;this.mixins.observable.constructor.call(this,a);(c=this.target)?c.isComponent?(c.addClsWithUI("resizable"),c.minWidth&&(this.minWidth=c.minWidth),c.minHeight&&
(this.minHeight=c.minHeight),c.maxWidth&&(this.maxWidth=c.maxWidth),c.maxHeight&&(this.maxHeight=c.maxHeight),c.floating&&!this.hasOwnProperty("handles")&&(this.handles="n ne e se s sw w nw"),this.el=c.getEl()):c=this.el=this.target=Ext.get(c):c=this.target=this.el=Ext.get(this.el);this.el.addCls(Ext.Component.prototype.borderBoxCls);Ext.isNumber(this.width)&&(this.width=Ext.Number.constrain(this.width,this.minWidth,this.maxWidth));Ext.isNumber(this.height)&&(this.height=Ext.Number.constrain(this.height,
this.minHeight,this.maxHeight));null===this.width&&null===this.height||this.target.setSize(this.width,this.height);g=this.el.dom.tagName.toUpperCase();if("TEXTAREA"===g||"IMG"===g||"TABLE"===g)this.originalTarget=this.target,h=c.isComponent?c.getEl():c,this.el.addCls(this.wrappedCls),this.target=this.el=this.el.wrap({role:"presentation",cls:this.wrapCls,id:this.el.id+"-rzwrap",style:h.getStyle(["margin-top","margin-bottom"])}),f=h.getPositioning(),this.el.setPositioning(f),h.clearPositioning(),g=
h.getBox(),"absolute"!==f.position&&(g.x=0,g.y=0),this.el.setBox(g),h.setStyle("position","absolute"),this.isTargetWrapped=!0;this.el.position();this.pinned&&this.el.addCls(this.pinnedCls);this.resizeTracker=new Ext.resizer.ResizeTracker({disabled:this.disabled,target:c,el:this.el,constrainTo:this.constrainTo,handleCls:this.handleCls,overCls:this.overCls,throttle:this.throttle,proxy:this.originalTarget?this.el:null,dynamic:this.originalTarget?!0:this.dynamic,originalTarget:this.originalTarget,delegate:"."+
this.handleCls,preserveRatio:this.preserveRatio,heightIncrement:this.heightIncrement,widthIncrement:this.widthIncrement,minHeight:this.minHeight,maxHeight:this.maxHeight,minWidth:this.minWidth,maxWidth:this.maxWidth});this.resizeTracker.on({mousedown:this.onBeforeResize,drag:this.onResize,dragend:this.onResizeEnd,scope:this});"all"===this.handles&&(this.handles="n s e w ne nw se sw");c=this.handles=this.handles.split(this.delimiterRe);g=this.possiblePositions;h=c.length;f=this.handleCls+" "+this.handleCls+
"-{0}";this.target.isComponent&&(k=this.target.baseCls,f+=" "+k+"-handle "+k+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(f+=" "+k+"-handle-{0}-br"));for(k=0;k<h;k++)c[k]&&g[c[k]]&&(l=g[c[k]],e.push('<div id="',this.el.id,"-",l,'-handle" class="',Ext.String.format(f,l)," ",d,'" unselectable="on" role="presentation"',"></div>"));Ext.DomHelper.append(this.el,e.join(""));for(k=e.length=0;k<h;k++)c[k]&&g[c[k]]&&(l=g[c[k]],d=this[l]=this.el.getById(this.el.id+"-"+l+"-handle"),e.push(d),d.region=l,this.transparent&&
d.setOpacity(0));this.resizeTracker.handleEls=e},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){return this.fireResizeEvent("beforeresize",a,b)},onResize:function(a,b){return this.fireResizeEvent("resizedrag",a,b)},onResizeEnd:function(a,b){return this.fireResizeEvent("resize",a,b)},fireResizeEvent:function(a,b,c){if(this.hasListeners[a])return b=this.el.getBox(),this.fireEvent(a,this,b.width,b.height,c)},resizeTo:function(a,
b){this.target.setSize(a,b);this.fireEvent("resize",this,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a,b=this.handles,c=b.length,d=this.possiblePositions,e;this.resizeTracker.destroy();this.isTargetWrapped&&this.target.destroy();for(a=0;a<c;a++)(e=this[d[b[a]]])&&e.destroy();this.callParent()}});
Ext.define("Ext.selection.CellModel",{extend:Ext.selection.DataViewModel,alias:"selection.cellmodel",isCellModel:!0,deselectOnContainerClick:!1,enableKeyNav:!0,preventWrap:!1,bindComponent:function(a){this.view&&this.gridListeners&&this.gridListeners.destroy();this.callParent([a]);a&&(a=a.grid||a.ownerCt,!1!==a.optimizedColumnMove&&(this.gridListeners=a.on({columnmove:this.onColumnMove,scope:this,destroyable:!0})))},getViewListeners:function(){var a=this.callParent();a.refresh=this.onViewRefresh;
return a},getHeaderCt:function(){var a=this.navigationModel.getPosition();return(a?a.view:this.primaryView).headerCt},onNavigate:function(a){a.record&&!a.keyEvent.stopSelection&&this.setPosition(a.position)},selectWithEvent:function(a,b){this.select(a)},select:function(a,b,c){b=this.getPosition();var d=this.view.store;if(a||0===a)a.isModel?(a=d.indexOf(a),a=-1!==a?{row:a,column:b?b.column:0}:null):"number"===typeof a&&(a={row:a,column:0});a?this.selectByPosition(a,c):this.deselect()},getCurrentPosition:function(){var a=
this.selecting?this.nextSelection:this.selection;return a?{view:a.view,record:a.record,row:a.rowIdx,columnHeader:a.column,column:a.view.getColumnManager().indexOf(a.column)}:a},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(a,b,c){a&&!a.isCellContext&&(a=(new Ext.grid.CellContext(this.view)).setPosition({row:a.row,column:"number"===typeof a.column?this.view.getColumnManager().getColumns()[a.column]:a.column}));return this.setPosition(a,
b,c)},setPosition:function(a,b,c){var d=this.selection;a&&(a=a.isCellContext?a.clone():(new Ext.grid.CellContext(this.view)).setPosition(a));if(!c&&d)if(a&&a.record===d.record&&a.column===d.column&&a.view===d.view)a=null;else this.onCellDeselect(this.selection,b);if(a)return this.nextSelection=a,this.selecting=!0,this.onCellSelect(this.nextSelection,b),this.selecting=!1,this.selection=a},isCellSelected:function(a,b,c){var d=this.getPosition();if(d&&d.view===a)return a=(new Ext.grid.CellContext(a)).setPosition({row:b,
column:"number"===typeof c?a.getColumnManager().getColumns()[c]:c}),a.record===d.record&&a.column===d.column},onStoreRemove:function(a,b,c){var d=this.getPosition();this.callParent(arguments);d&&a.isMoving(d.record)||(d&&a.getCount()&&-1!==a.indexOf(d.record)?d.setRow(d.record):this.selection=null)},onStoreClear:function(){this.callParent(arguments);this.selection=null},onStoreAdd:function(){var a=this.getPosition();this.callParent(arguments);a?a.setRow(a.record):this.selection=null},onCellClick:function(a,
b,c,d,e,f,g){-1!==f&&this.setPosition(g.position)},onCellSelect:function(a,b){a&&void 0!==a.rowIdx&&-1<a.rowIdx&&this.doSelect(a.record,!1,b)},onCellDeselect:function(a,b){a&&void 0!==a.rowIdx&&this.doDeselect(a.record,b)},onSelectChange:function(a,b,c,d){var e,f,g;b?(e=this.nextSelection,f="select"):(e=this.selection,f="deselect");g=e.view||this.primaryView;if(!1!==(c||this.fireEvent("before"+f,this,a,e.rowIdx,e.colIdx))&&!1!==d()){if(b)g.onCellSelect(e);else g.onCellDeselect(e),delete this.selection;
c||this.fireEvent(f,this,a,e.rowIdx,e.colIdx)}},refresh:function(){var a=this.getPosition(),b;a&&-1!==(b=this.store.indexOf(this.selected.last()))&&(a.rowIdx=b)},onColumnMove:function(a,b,c,d){if(a=a.up("tablepanel"))this.onViewRefresh(a.view)},onUpdate:function(a){this.isSelected(a)&&(a=this.selecting?this.nextSelection:this.selection,this.view.onCellSelect(a))},onViewRefresh:function(a){var b=this.getPosition(),c=a.headerCt,d,e;b&&b.view===a&&(d=b.record,e=b.column,e.isDescendantOf(c)||(e=c.queryById(e.id)||
c.down('[text="'+e.text+'"]')||c.down('[dataIndex="'+e.dataIndex+'"]')),b.record?e&&-1!==a.store.indexOfId(d.getId())&&(a=(new Ext.grid.CellContext(a)).setPosition({row:d,column:e}),this.setPosition(a)):this.selection=null)},selectByPosition:function(a,b){this.setPosition(a,b)}});
Ext.define("Ext.selection.RowModel",{extend:Ext.selection.DataViewModel,alias:"selection.rowmodel",enableKeyNav:!0,isRowModel:!0,deselectOnContainerClick:!1,onUpdate:function(a){var b=this.view,c;if(b&&this.isSelected(a)&&(c=b.indexOf(a),b.onRowSelect(c),a===this.lastFocused))b.onRowFocus(c,!0)},onSelectChange:function(a,b,c,d){var e=this.views||[this.view],f=e.length,g=this.store.indexOf(a),h=b?"select":"deselect",k;if(!1!==(c||this.fireEvent("before"+h,this,a,g))&&!1!==d()){for(d=0;d<f;d++)if(k=
e[d],g=k.indexOf(a),-1!==k.indexOf(a))if(b)k.onRowSelect(g,c);else k.onRowDeselect(g,c);c||this.fireEvent(h,this,a,g)}},getCurrentPosition:function(){var a=this.selected.getAt(0);if(a)return(new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(a),0)},selectByPosition:function(a,b){a.isCellContext||(a=(new Ext.grid.CellContext(this.view)).setPosition(a.row,a.column));this.select(a.record,b)},selectNext:function(a,b){var c=this.store,d=this.getSelection(),d=this.view.indexOf(d[d.length-
1])+1;d===c.getCount()||0===d?c=!1:(this.doSelect(d,a,b),c=!0);return c},selectPrevious:function(a,b){var c=this.getSelection()[0],c=this.view.indexOf(c)-1;0>c?c=!1:(this.doSelect(c,a,b),c=!0);return c},isRowSelected:function(a){return this.isSelected(a)},isCellSelected:function(a,b,c){return this.isSelected(b)},vetoSelection:function(a){var b=this.view.getNavigationModel(),c=a.getKey();return(c===a.RIGHT||c===a.LEFT)&&b.previousRecord===b.record||this.callParent([a])}});
Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",allowDeselect:!0,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"grid-cell-row-checker",constructor:function(){this.callParent(arguments);"SINGLE"===this.mode&&(this.showHeaderCheckbox=!1)},
beforeViewRender:function(a){var b;this.callParent(arguments);if(!this.hasLockedHeader()||a.headerCt.lockedCt)this.addCheckbox(a,!0),b=a.ownerCt,a.headerCt.lockedCt&&(b=b.ownerCt),this.mon(b,"reconfigure",this.onReconfigure,this)},bindComponent:function(a){this.sortable=!1;this.callParent(arguments)},hasLockedHeader:function(){var a=this.views,b=a.length,c;for(c=0;c<b;c++)if(a[c].headerCt.lockedCt)return!0;return!1},addCheckbox:function(a,b){var c=this.injectCheckbox,d=a.headerCt;!1!==c&&("first"===
c?c=0:"last"===c&&(c=d.getColumnCount()),Ext.suspendLayouts(),a.getStore().isBufferedStore&&(this.showHeaderCheckbox=!1),this.column=d.add(c,this.getHeaderConfig()),Ext.resumeLayouts());!0!==b&&a.refresh()},onReconfigure:function(a,b,c){c&&this.addCheckbox(this.views[0])},toggleUiHeader:function(a){var b=this.views[0].headerCt.child("gridcolumn[isCheckerHd]"),c=this.checkerOnCls;b&&(a?b.addCls(c):b.removeCls(c))},onHeaderClick:function(a,b,c){b===this.column&&"SINGLE"!==this.mode&&(c.stopEvent(),
(a=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on"))?this.deselectAll():this.selectAll())},getHeaderConfig:function(){var a=!1!==this.showHeaderCheckbox;return{xtype:"gridcolumn",ignoreExport:!0,isCheckerHd:a,text:"&#160;",clickTargetName:"el",width:this.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",tdCls:this.tdCls,cls:a?Ext.baseCSSPrefix+"column-header-checkbox ":"",defaultRenderer:this.renderer.bind(this),editRenderer:this.editRenderer||this.renderEmpty,
locked:this.hasLockedHeader(),processEvent:this.processColumnEvent}},processColumnEvent:function(a,b,c,d,e,f,g,h){a=b.getNavigationModel();"keydown"===f.type&&b.actionableMode&&f.getKey()===f.SPACE&&a.fireEvent("navigate",{view:b,navigationModel:a,keyEvent:f,position:f.position,recordIndex:d,record:g,item:f.item,cell:f.position.cellElement,columnIndex:f.position.colIdx,column:f.position.column})},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments);this.updateHeaderState()},
renderer:function(a,b,c,d,e,f,g){return'<div class="'+Ext.baseCSSPrefix+'grid-row-checker" role="button" tabIndex="0">&#160;</div>'},selectByPosition:function(a,b){a.isCellContext||(a=(new Ext.grid.CellContext(this.view)).setPosition(a.row,a.column));this.checkOnly&&a.column!==this.column||this.callParent([a,b])},onSelectChange:function(){this.callParent(arguments);this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments);
this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.updateHeaderState();this.callParent(arguments)},resumeChanges:function(){this.callParent();this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var a=this.store,b=a.getCount(),c=this.views,d=!1,e=0,f,g;if(!a.isBufferedStore&&0<b){d=
this.selected;g=0;for(f=d.getCount();g<f&&-1!==a.indexOfId(d.getAt(g).id);++g)++e;d=b===e}c&&c.length&&this.toggleUiHeader(d)},vetoSelection:function(a){var b=this.column,c;this.checkOnly&&(c="click"===a.type&&a.getTarget(this.checkSelector),b=a.getKey()===a.SPACE&&a.position.column===b,c=!(c||b));return c||this.callParent([a])},destroy:function(){this.column=null;this.callParent()},privates:{onBeforeNavigate:function(a){var b=a.keyEvent;"SINGLE"!==this.selectionMode&&(a.ctrlKey=a.ctrlKey||b.ctrlKey||
"click"===b.type&&!b.shiftKey||b.getKey()===b.SPACE)},selectWithEventMulti:function(a,b,c){b.shiftKey||b.ctrlKey||!b.getTarget(this.checkSelector)?this.callParent([a,b,c]):c?this.doDeselect(a):this.doSelect(a,!0)}}});
Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",selectOnExpanderClick:!1,constructor:function(a){this.callParent([a]);this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},getStoreListeners:function(){var a=this.callParent();a.noderemove=this.onNodeRemove;return a},onNodeRemove:function(a,b,c){c||(a=[],this.gatherSelected(b,a),a.length&&this.deselect(a))},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(a){var b=
this.view;return!this.selectOnExpanderClick&&"click"===a.type&&a.getTarget(b.expanderSelector||b.lockingPartner&&b.lockingPartner.expanderSelector)||this.callParent([a])},privates:{gatherSelected:function(a,b){var c=a.childNodes,d,e,f;this.selected.containsKey(a.id)&&b.push(a);if(c)for(d=0,e=c.length;d<e;++d)f=c[d],this.gatherSelected(f,b)}}});Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1});
Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",customIconCls:Ext.baseCSSPrefix+"tree-icon-custom",
isTreeColumn:!0,cellTpl:'<tpl for="lines">;<div class="{parent.childCls} {parent.elbowCls}-img ;{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>;</tpl>;<div class="{childCls} {elbowCls}-img {elbowCls};<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>;<tpl if="checked !== null">;<div role="button" {ariaCellCheckboxAttr}; class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>;</tpl>;<tpl if="icon"><img src="{blankUrl}"<tpl else><div</tpl>; role="presentation" class="{childCls} {baseIconCls} {customIconCls} ;{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ;<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>;<tpl if="href">;<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>;<tpl else>;<span class="{textCls} {childCls}">{value}</span>;</tpl>'.split(";"),
uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){this.rendererScope=this.scope;this.setupRenderer();this.innerRenderer=this.renderer;this.renderer=this.treeRenderer;this.callParent();this.scope=this;this.hasCustomRenderer=this.innerRenderer&&1<this.innerRenderer.length},treeRenderer:function(a,b,c,d,e,f,g){var h=c.get("cls");b&&h&&(b.tdCls+=" "+h);a=this.initTemplateRendererData(a,b,c,d,e,f,g);return this.getTpl("cellTpl").apply(a)},
initTemplateRendererData:function(a,b,c,d,e,f,g){for(var h=this.innerRenderer,k=c.data,l=c.parentNode,m=g.rootVisible,n=[],p;l&&(m||0<l.data.depth);)p=l.data,n[m?p.depth:p.depth-1]=p.isLast?0:1,l=l.parentNode;return{record:c,baseIconCls:this.iconCls,customIconCls:k.icon||k.iconCls?this.customIconCls:"",iconCls:k.iconCls,icon:k.icon,checkboxCls:this.checkboxCls,checked:k.checked,elbowCls:this.elbowCls,expanderCls:this.expanderCls,textCls:this.textCls,leaf:k.leaf,expandable:c.isExpandable(),expanded:k.expanded,
isLast:c.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:k.href,hrefTarget:k.hrefTarget,lines:n,metaData:b,childCls:this.getChildCls?this.getChildCls()+" ":"",value:h?h.apply(this.rendererScope,arguments):a}},shouldUpdateCell:function(a,b){var c=0,d,e;if(b)for(d=b.length;c<d;++c){e=b[c];if(this.rowFields[e])return 1;if(this.uiFields[e])return 2}return this.callParent([a,b])}});
Ext.define("Ext.tree.NavigationModel",{extend:Ext.grid.NavigationModel,alias:"view.navigation.tree",initKeyNav:function(a){var b=this.view.ownerGrid.columns;this.isTreeGrid=b&&1<b.length;this.callParent([a]);b=0;for(a=this.keyNav.length;b<a;b++)this.keyNav[b].map.addBinding([{key:"8",shift:!0,handler:this.onAsterisk,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:this.onAsterisk,scope:this}]);this.view.grid.on({columnschanged:this.onColumnsChanged,scope:this})},onColumnsChanged:function(){this.isTreeGrid=
1<this.view.ownerGrid.getVisibleColumnManager().getColumns().length},onCellClick:function(a,b,c,d,e,f,g){this.callParent([a,b,c,d,e,f,g]);return!g.nodeToggled},onKeyLeft:function(a){var b=a.view,c=this.record;if(this.isTreeGrid&&!a.ctrlKey)return this.callParent([a]);a.position.column.isTreeColumn&&c.isExpanded()?b.collapse(c):(c=c.parentNode,!c||c.isRoot()&&!b.rootVisible||this.setPosition(c,null,a))},onKeyRight:function(a){var b=this.record;if(this.isTreeGrid&&!a.ctrlKey)return this.callParent([a]);
b.isLeaf()||(a.position.column.isTreeColumn&&!b.isExpanded()?a.view.expand(b):b.isExpanded()&&(b=b.childNodes[0])&&this.setPosition(b))},onKeyEnter:function(a){null!=this.record.data.checked?this.toggleCheck(a):this.callParent([a])},onKeySpace:function(a){null!=this.record.data.checked?this.toggleCheck(a):this.callParent([a])},toggleCheck:function(a){this.view.onCheckChange(a)},onAsterisk:function(a){this.view.ownerCt.expandAll()}});
Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",config:{selectionModel:{type:"treemodel"}},isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",
ariaRole:"tree",loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(a){var b=a.record,c=a.view;a.rowAttr["data-qtip"]=b.get("qtip")||"";a.rowAttr["data-qtitle"]=b.get("qtitle")||"";b.isExpanded()&&a.rowClasses.push(c.expandedCls);b.isLeaf()&&a.rowClasses.push(c.leafCls);b.isLoading()&&a.rowClasses.push(c.loadingCls)}}],
initComponent:function(){this.bufferedRenderer?this.animate=!1:void 0===this.initialConfig.animate&&(this.animate=Ext.enableFx);this.store=this.panel.getStore();this.onRootChange(this.store.getRoot());this.animQueue={};this.animWraps={};this.callParent();this.store.setRootVisible(this.rootVisible);this.addRowTpl(Ext.XTemplate.getTpl(this,"treeRowTpl"))},onFillComplete:function(a,b,c){a=this.store.indexOf(c[0]);b.triggerUIUpdate();c.length&&-1!==a&&(this.onAdd(this.store,c,a),this.refreshPartner())},
refreshPartner:function(){var a=this.lockingPartner;a&&a.refresh()},afterComponentLayout:function(a,b,c,d){var e=this.getScrollable();this.callParent([a,b,c,d]);e&&!this.bufferedRenderer&&e.refresh()},processUIEvent:function(a){return a.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent([a])},setRootNode:function(a){this.node=a},getChecked:function(){var a=[];this.node.cascadeBy(function(b){b.get("checked")&&a.push(b)});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a,
b){var c=this.getNode(a),d;d=Ext.fly(c).insertSibling({role:"presentation",tag:"div",cls:this.nodeAnimWrapCls},"after");return{record:a,node:c,el:d,expanding:!1,collapsing:!1,animateEl:d,targetEl:d}},getAnimWrap:function(a,b){if(!this.animate)return null;var c=this.animWraps,d=c[a.internalId];if(!1!==b)for(;!d&&a;)(a=a.parentNode)&&(d=c[a.internalId]);return d},doAdd:function(a,b){var c=a[0].parentNode,d=this.all,e=this.getAnimWrap(c),f,g,h,k;if(!e||!e.expanding)return this.callParent([a,b]);h=this.bufferRender(a,
b,!0);k=h.children;c=e.record;e=e.targetEl;f=e.dom.childNodes;g=f.length;c=b-this.indexInStore(c)-1;!g||c>=g?e.appendChild(h.fragment,!0):Ext.fly(f[c]).insertSibling(k,"before",!0);d.insert(b,k);return k},onRemove:function(a,b,c){var d,e=this.hasListeners.remove,f;if(this.viewReady){d=0===this.store.getCount();if(this.bufferedRenderer)return this.callParent([a,b,c]);e&&(f=this.all.slice(c,c+b.length));if(d)this.refresh();else{a=b.length-1;for(c+=a;0<=a;--a,--c)this.doRemove(b[a],c);this.refreshSizePending=
!0}e&&this.fireEvent("itemremove",b,c,f,this)}},doRemove:function(a,b){var c=this.all,d=this.getAnimWrap(a),e=c.item(b),e=e?e.dom:null;if(!e||!d||!d.collapsing)return this.callParent([a,b]);d.targetEl.dom.insertBefore(e,d.targetEl.dom.firstChild);c.removeElement(b)},onBeforeExpand:function(a,b,c){this.rendered&&this.all.getCount()&&this.animate&&this.getNode(a)&&((b=this.getAnimWrap(a,!1))?b.collapsing&&b.targetEl.select(this.itemSelector).destroy():(b=this.animWraps[a.internalId]=this.createAnimWrap(a),
b.animateEl.setHeight(0)),b.expanding=!0,b.collapsing=!1)},onExpand:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),f=e?b.indexOf(e):-1,g,h,k;b.singleExpand&&b.ensureSingleExpand(a);-1!==f&&((g=b.getAnimWrap(a,!1))?(h=g.animateEl,k=g.targetEl,h.stopAnimation(),c[d]=!0,Ext.on("idle",function(){h.dom.style.height="0px"},null,{single:!0}),h.animate({from:{height:0},to:{height:k.dom.scrollHeight},duration:b.expandDuration,listeners:{afteranimate:function(){var a=k.dom.childNodes,e=Ext.Element.getActiveElement();
a.length&&(k.contains(e)||(e=null),g.el.insertSibling(a,"before",!0),e&&Ext.fly(e).focus());g.el.destroy();b.animWraps[g.record.internalId]=c[d]=null}},callback:function(){a.isExpandingOrCollapsing=!1;b.destroyed||b.refreshSize(!0);b.fireEvent("afteritemexpand",a,f,e)}})):(a.isExpandingOrCollapsing=!1,b.fireEvent("afteritemexpand",a,f,e)))},onBeforeCollapse:function(a,b,c,d,e){this.rendered&&this.all.getCount()&&(this.animate?a.isVisible()&&((b=this.getAnimWrap(a))?b.expanding&&b.targetEl.select(this.itemSelector).destroy():
b=this.animWraps[a.internalId]=this.createAnimWrap(a,c),b.expanding=!1,b.collapsing=!0,b.callback=d,b.scope=e):(this.onCollapseCallback=d,this.onCollapseScope=e))},onCollapse:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),f=e?b.indexOf(e):-1,g=b.getAnimWrap(a),h;b.all.getCount()&&a.isVisible()&&(g?(h=g.animateEl,c[d]=!0,h.stopAnimation(),h.animate({to:{height:0},duration:b.collapseDuration,listeners:{afteranimate:function(){g.el.destroy();b.animWraps[g.record.internalId]=c[d]=null}},
callback:function(){a.isExpandingOrCollapsing=!1;b.destroyed||b.refreshSize(!0);b.fireEvent("afteritemcollapse",a,f,e);Ext.callback(g.callback,g.scope);g.callback=g.scope=null}})):(a.isExpandingOrCollapsing=!1,b.fireEvent("afteritemcollapse",a,f,e),Ext.callback(b.onCollapseCallback,b.onCollapseScope),b.onCollapseCallback=b.onCollapseScope=null))},isAnimating:function(a){return!!this.animQueue[a.getId()]},expand:function(a,b,c,d){var e=!!this.animate;if(!e||!a.isExpandingOrCollapsing)return a.isLeaf()||
(a.isExpandingOrCollapsing=e),Ext.suspendLayouts(),a=a.expand(b,c,d),Ext.resumeLayouts(!0),a},collapse:function(a,b,c,d){var e=!!this.animate;if(!e||!a.isExpandingOrCollapsing)return a.isLeaf()||(a.isExpandingOrCollapsing=e),a.collapse(b,c,d)},toggle:function(a,b,c,d){a.isExpanded()?this.collapse(a,b,c,d):this.expand(a,b,c,d)},onItemDblClick:function(a,b,c,d){var e=this.editingPlugin;this.callParent([a,b,c,d]);!this.toggleOnDblClick||!a.isExpandable()||e&&2===e.clicksToEdit||this.toggle(a)},onCellClick:function(a,
b,c,d,e,f){var g=f.position.column,h;if(g.isTreeColumn)return f.getTarget(this.checkboxSelector,a)&&Ext.isBoolean(h=c.get("checked"))&&!1!==this.fireEvent("beforecheckchange",c,h,f)?(this.onCheckChange(f),g.stopSelection&&(f.stopSelection=!0)):f.getTarget(this.expanderSelector,a)&&c.isExpandable()&&(this.getNavigationModel().setPosition(f.position),this.toggle(c,f.ctrlKey),f.nodeToggled=!0),this.callParent([a,b,c,d,e,f])},onCheckChange:function(a){var b=a.record,c=!b.get("checked");b.set("checked",
c);this.fireEvent("checkchange",b,c,a)},onItemMouseOver:function(a,b,c,d){d.getTarget(this.expanderSelector,b)&&d.getTarget(this.cellSelector,null,!0).addCls(this.expanderIconOverCls)},onItemMouseOut:function(a,b,c,d){d.getTarget(this.expanderSelector,b)&&d.getTarget(this.cellSelector,null,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){return Ext.apply(this.callParent(),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(a,b,c,d){var e=d&&
d.getRootNode(),f=a&&a.getRootNode();this.callParent([a,b,c,d]);if(f!==e)this.onRootChange(f,e)},onRootChange:function(a,b){var c=this.grid;b&&(this.rootListeners.destroy(),this.rootListeners=null);a&&(this.rootListeners=a.on({beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,collapse:this.onCollapse,destroyable:!0,scope:this}),c.addRelayers(a))},ensureSingleExpand:function(a){var b=a.parentNode;b&&b.eachChild(function(b){b!==a&&b.isExpanded()&&b.collapse()})}});
Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",treeCls:Ext.baseCSSPrefix+"tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:"displayField root singleExpand useArrows lines rootVisible scroll".split(" "),lockedCfgCopy:"displayField root singleExpand useArrows lines rootVisible".split(" "),
isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(a){a=a||{};void 0===a.animate&&(a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx);this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var a=[this.treeCls],b;this.useArrows&&(a.push(this.arrowCls),this.lines=!1);this.lines?a.push(this.linesCls):
this.useArrows||a.push(this.noLinesCls);b=this.applyStore(this.store);b.getRoot()||b.setRoot({});b.setRootVisible(this.rootVisible);this.viewConfig=Ext.apply({rootVisible:this.rootVisible,animate:this.enableAnimations,singleExpand:this.singleExpand,node:b.getRoot(),hideHeaders:this.hideHeaders,navigationModel:"tree"},this.viewConfig);this.columns||(void 0===this.initialConfig.hideHeaders&&(this.hideHeaders=!0),this.addCls(this.autoWidthCls),this.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:this.displayField}]);
this.cls&&a.push(this.cls);this.cls=a.join(" ");this.callParent();a=this.getView();this.relayEvents(a,["beforecheckchange","checkchange","afteritemexpand","afteritemcollapse"])},applyStore:function(a){Ext.isString(a)?a=this.store=Ext.StoreMgr.lookup(a):a&&a.isStore?this.root&&(a=this.store=Ext.data.StoreManager.lookup(a),a.setRoot(this.root),void 0!==this.folderSort&&(a.folderSort=this.folderSort,a.sort())):(a=Ext.apply({type:"tree",proxy:"memory"},a),this.root&&(a.root=this.root),this.fields?a.fields=
this.fields:this.model&&(a.model=this.model),this.folderSort&&(a.folderSort=this.folderSort),a=this.store=Ext.StoreMgr.lookup(a));return a},setStore:function(a){a=this.applyStore(a);a.getRoot()||a.setRoot({});a.setRootVisible(this.rootVisible);this.view&&this.view.setRootNode(a.getRootNode());this.bindStore(a)},bindStore:function(a,b){var c=a.getRoot(),d=this.bufferedRenderer;this.callParent(arguments);d&&d.store&&d.bindStore(a);a.singleExpand=this.singleExpand;this.storeListeners=this.mon(a,{destroyable:!0,
rootchange:this.onRootChange,scope:this});this.storeRelayers=this.relayEvents(a,["beforeload","load"]);this.rootVisible||a.autoLoad||c.isExpanded()||c.isLoading()||(c.isLoaded()?(c.data.expanded=!0,a.onNodeExpand(c,c.childNodes)):!1!==a.autoLoad&&(c.data.expanded=!1,c.expand()));a.ownerTree=this;b||this.view.setRootNode(c)},addRelayers:function(a){this.rootRelayers&&(this.rootRelayers.destroy(),this.rootRelayers=null);this.rootRelayers=this.mon(a,{destroyable:!0,append:this.createRelayer("itemappend"),
remove:this.createRelayer("itemremove"),move:this.createRelayer("itemmove",[0,4]),insert:this.createRelayer("iteminsert"),beforeappend:this.createRelayer("beforeitemappend"),beforeremove:this.createRelayer("beforeitemremove"),beforemove:this.createRelayer("beforeitemmove"),beforeinsert:this.createRelayer("beforeiteminsert"),expand:this.createRelayer("itemexpand",[0,1]),collapse:this.createRelayer("itemcollapse",[0,1]),beforeexpand:this.createRelayer("beforeitemexpand",[0,1]),beforecollapse:this.createRelayer("beforeitemcollapse",
[0,1]),scope:this})},unbindStore:function(){var a=this.store;a&&(this.callParent(),Ext.destroy(this.storeListeners,this.storeRelayers,this.rootRelayers),delete a.ownerTree,a.singleExpand=null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,
b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this.getRootNode();c&&(Ext.suspendLayouts(),c.expand(!0,a,b||this),Ext.resumeLayouts(!0))},collapseAll:function(a,b){var c=this.getRootNode(),d=this.getView();c&&(Ext.suspendLayouts(),b=b||this,d.rootVisible?c.collapse(!0,a,b):c.collapseChildren(!0,a,b),Ext.resumeLayouts(!0))},expandPath:function(a,b){var c=arguments,d=this,e=d.view,f=b&&b.field||
d.store.model.idProperty,g,h,k=b&&b.separator||"/",l,m,n,p,q;b&&"object"===typeof b?(f=b.field||d.store.model.idProperty,k=b.separator||"/",l=b.callback,m=b.scope,g=b.select,h=b.focus):(f=c[1]||d.store.model.idProperty,k=c[2]||"/",l=c[3],m=c[4]);if(Ext.isEmpty(a))return Ext.callback(l,m||d,[!1,null]);p=a.split(k);(k=!p[0])?(c=d.getRootNode(),n=1):(c=d.store.findNode(f,p[0]),n=0);if(!c||k&&c.get(f)!==p[1])return Ext.callback(l,m||d,[!1,c]);q=function(a){var b=this,c,k,w;if(++n===p.length)return g&&
e.getSelectionModel().select(b),h&&e.getNavigationModel().setPosition(b,0),Ext.callback(l,m||d,[!0,b,e.getNode(b)]);k=0;for(c=a?a.length:0;k<c;k++){b=a[k];if((w=b.get(f))||0===w)w=w.toString();if(w===p[n])return b.expand(!1,q)}b=this;Ext.callback(l,m||d,[!1,b,e.getNode(b)])};c.expand(!1,q)},ensureVisible:function(a,b){if(a.isEntity||"number"===typeof a)return this.callParent([a,b]);var c=this,d=b&&b.field||c.store.model.idProperty,e=b&&b.separator||"/",f,g,h,k,l,m=function(a,e,h,k){!k&&a&&e&&(k=e.findChild(d,
l));k?c.doEnsureVisible(k,b):Ext.callback(f,g||c,[!1,e])};b&&(f=b.callback,g=b.scope);h=a.split(e);k=!h[0];l=h.pop();!h.length||k&&1===h.length?(e=c.store.findNode(d,l))?((h=e.parentNode)&&!h.isExpanded()&&h.expand(),m(!0,null,null,e)):Ext.callback(f,g||c,[!1,null]):c.expandPath(h.join(e),d,e,m)},selectPath:function(a,b,c,d,e){this.ensureVisible(a,{field:b,separator:c,select:!0,callback:d,scope:e})}});
Ext.define("Ext.draw.ContainerBase",{extend:Ext.panel.Panel,previewTitleText:"Chart Preview",previewAltText:"Chart preview",layout:"container",addElementListener:function(){var a=this,b=arguments;if(a.rendered)a.el.on.apply(a.el,b);else a.on("render",function(){a.el.on.apply(a.el,b)})},removeElementListener:function(){this.rendered&&this.el.un.apply(this.el,arguments)},afterRender:function(){this.callParent(arguments);this.initAnimator()},getItems:function(){var a=this.items;a&&a.isMixedCollection||
this.initItems();return this.items},onRender:function(){this.callParent(arguments);this.element=this.el;this.innerElement=this.body},setItems:function(a){return this.items=a},setSurfaceSize:function(a,b){this.resizeHandler({width:a,height:b});this.renderFrame()},onResize:function(a,b,c,d){this.callParent([a,b,c,d]);this.setBodySize({width:a,height:b})},preview:function(){var a=this.getImage();new Ext.window.Window({title:this.previewTitleText,closeable:!0,renderTo:Ext.getBody(),autoShow:!0,maximizeable:!0,
maximized:!0,border:!0,layout:{type:"hbox",pack:"center",align:"middle"},items:{xtype:"container",items:{xtype:"image",mode:"img",cls:Ext.baseCSSPrefix+"chart-image",alt:this.previewAltText,src:a.data,listeners:{afterrender:function(){var b=this,c=b.imgEl.dom,d="svg"===a.type?1:window.devicePixelRatio||1,e;c.naturalWidth&&c.naturalHeight?(e=b.getSize(),b.setWidth(Math.floor(e.width/d)),b.setHeight(Math.floor(e.height/d))):c.onload=function(){var a=c.naturalHeight;b.setWidth(Math.floor(c.naturalWidth/
d));b.setHeight(Math.floor(a/d))}}}}}})},privates:{getTargetEl:function(){return this.innerElement},reattachToBody:function(){if(this.pendingDetachSize)this.onBodyResize();this.pendingDetachSize=!1;this.callParent()}}});Ext.define("Ext.draw.SurfaceBase",{extend:Ext.Widget,getOwnerBody:function(){return this.ownerCt.body},destroy:function(){this.hasListeners.destroy&&this.fireEvent("destroy",this);this.callParent()}});
Ext.define("Ext.draw.Color",{statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:!0,lightnessFactor:.2,constructor:function(a,b,c,d){this.setRGB(a,b,c,d)},setRGB:function(a,b,c,d){this.r=Math.min(255,Math.max(0,a));this.g=Math.min(255,Math.max(0,
b));this.b=Math.min(255,Math.max(0,c));this.a=void 0===d?1:Math.min(1,Math.max(0,d))},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},getHSL:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g,h=0,k=.5*(d+e);e!==d&&(h=.5>=k?f/(d+e):f/(2-d-e),g=a===d?60*(b-c)/f:b===d?120+60*(c-a)/f:240+60*(a-b)/f,0>g&&(g+=360),360<=g&&(g-=360));return[g,h,k]},getHSV:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=Math.min(a,b,c),
f=d-e,g,h=0;e!=d&&(h=d?f/d:0,g=a===d?60*(b-c)/f:b===d?60*(c-a)/f+120:60*(a-b)/f+240,0>g&&(g+=360),360<=g&&(g-=360));return[g,h,d]},setHSL:function(a,b,c){var d=Math.abs;a=(a%360+360)%360;b=1<b?1:0>b?0:b;c=1<c?1:0>c?0:c;if(0===b||null===a)c*=255,this.setRGB(c,c,c);else switch(a/=60,b*=1-d(2*c-1),d=b*(1-d(a%2-1)),c=255*(c-b/2),b*=255,d*=255,Math.floor(a)){case 0:this.setRGB(b+c,d+c,c);break;case 1:this.setRGB(d+c,b+c,c);break;case 2:this.setRGB(c,b+c,d+c);break;case 3:this.setRGB(c,d+c,b+c);break;case 4:this.setRGB(d+
c,c,b+c);break;case 5:this.setRGB(b+c,c,d+c)}return this},setHSV:function(a,b,c){var d;a=(a%360+360)%360;b=1<b?1:0>b?0:b;c=1<c?1:0>c?0:c;if(0===b||null===a)c*=255,this.setRGB(c,c,c);else switch(a/=60,b*=c,d=b*(1-Math.abs(a%2-1)),c=255*(c-b),b*=255,d*=255,Math.floor(a)){case 0:this.setRGB(b+c,d+c,c);break;case 1:this.setRGB(d+c,b+c,c);break;case 2:this.setRGB(c,b+c,d+c);break;case 3:this.setRGB(c,d+c,b+c);break;case 4:this.setRGB(d+c,c,b+c);break;case 5:this.setRGB(b+c,c,d+c)}return this},createLighter:function(a){a||
0===a||(a=this.lightnessFactor);var b=this.getHSL();b[2]=Ext.Number.constrain(b[2]+a,0,1);return Ext.draw.Color.fromHSL(b[0],b[1],b[2])},createDarker:function(a){a||0===a||(a=this.lightnessFactor);return this.createLighter(-a)},toString:function(){var a=Math.round;if(1===this.a){var b=a(this.r).toString(16),c=a(this.g).toString(16),a=a(this.b).toString(16),b=1===b.length?"0"+b:b,c=1===c.length?"0"+c:c,a=1===a.length?"0"+a:a;return["#",b,c,a].join("")}return"rgba("+[a(this.r),a(this.g),a(this.b),0===
this.a?0:this.a.toFixed(15)].join(", ")+")"},toHex:function(a){Ext.isArray(a)&&(a=a[0]);if(!Ext.isString(a))return"";if("#"===a.substr(0,1))return a;a=Ext.draw.Color.colorToHexRe.exec(a);if(Ext.isArray(a)){var b=parseInt(a[2],10),c=parseInt(a[3],10),d=parseInt(a[4],10);return a[1]+"#"+("000000"+(d|c<<8|b<<16).toString(16)).slice(-6)}return""},setFromString:function(a){var b,c,d,e,f=1,g=parseInt;if(a===Ext.draw.Color.NONE)return this.r=this.g=this.b=this.a=0,this;if((4===a.length||7===a.length)&&"#"===
a.substr(0,1)){if(b=a.match(Ext.draw.Color.hexRe))c=g(b[1],16)>>0,d=g(b[2],16)>>0,e=g(b[3],16)>>0,4===a.length&&(c+=16*c,d+=16*d,e+=16*e)}else if(b=a.match(Ext.draw.Color.rgbToHexRe))c=+b[1],d=+b[2],e=+b[3];else if(b=a.match(Ext.draw.Color.rgbaToHexRe))c=+b[1],d=+b[2],e=+b[3],f=+b[4];else if(Ext.draw.Color.ColorList.hasOwnProperty(a.toLowerCase()))return this.setFromString(Ext.draw.Color.ColorList[a.toLowerCase()]);if("undefined"===typeof c)return this;this.r=c;this.g=d;this.b=e;this.a=f;return this}},
function(){var a=new this;this.addStatics({fly:function(b,c,d,e){switch(arguments.length){case 1:a.setFromString(b);break;case 3:case 4:a.setRGB(b,c,d,e);break;default:return null}return a},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",
coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",
dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",
lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",
mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",
royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(a,c,d){return(new this(0,
0,0,0)).setHSL(a,c,d)},fromHSV:function(a,c,d){return(new this(0,0,0,0)).setHSL(a,c,d)},fromString:function(a){return(new this(0,0,0,0)).setFromString(a)},create:function(a){return a instanceof this?a:Ext.isArray(a)?new Ext.draw.Color(a[0],a[1],a[2],a[3]):Ext.isString(a)?Ext.draw.Color.fromString(a):2<arguments.length?new Ext.draw.Color(arguments[0],arguments[1],arguments[2],arguments[3]):new Ext.draw.Color(0,0,0,0)}})});
Ext.define("Ext.draw.sprite.AnimationParser",function(){function a(a,c,d){return a+(c-a)*d}return{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,color:{parseInitial:function(a,c){Ext.isString(a)&&(a=Ext.draw.Color.create(a));Ext.isString(c)&&(c=Ext.draw.Color.create(c));return a instanceof Ext.draw.Color&&c instanceof Ext.draw.Color?[[a.r,a.g,a.b,a.a],[c.r,c.g,c.b,c.a]]:[a||c,c||a]},compute:function(b,c,d){return Ext.isArray(b)&&Ext.isArray(c)?[a(b[0],c[0],d),a(b[1],c[1],d),a(b[2],c[2],d),a(b[3],
c[3],d)]:c||b},serve:function(a){return Ext.draw.Color.fly(a[0],a[1],a[2],a[3]).toString()}},number:{parse:function(a){return null===a?null:+a},compute:function(b,c,d){return Ext.isNumber(b)&&Ext.isNumber(c)?a(b,c,d):c||b}},angle:{parseInitial:function(a,c){c-a>Math.PI?c-=2*Math.PI:c-a<-Math.PI&&(c+=2*Math.PI);return[a,c]},compute:function(b,c,d){return Ext.isNumber(b)&&Ext.isNumber(c)?a(b,c,d):c||b}},path:{parseInitial:function(a,c){var d=a.toStripes(),e=c.toStripes(),f,g=d.length,h=e.length,k,l,
m,n=e[h-1],n=[n[n.length-2],n[n.length-1]];for(f=g;f<h;f++)d.push(d[g-1].slice(0));for(f=h;f<g;f++)e.push(n.slice(0));m=d.length;e.path=c;e.temp=new Ext.draw.Path;for(f=0;f<m;f++){k=d[f];l=e[f];g=k.length;h=l.length;e.temp.commands.push("M");for(f=h;f<g;f+=6)l.push(n[0],n[1],n[0],n[1],n[0],n[1]);n=e[e.length-1];n=[n[n.length-2],n[n.length-1]];for(f=g;f<h;f+=6)k.push(n[0],n[1],n[0],n[1],n[0],n[1]);for(f=0;f<l.length;f++)l[f]-=k[f];for(f=2;f<l.length;f+=6)e.temp.commands.push("C")}return[d,e]},compute:function(a,
c,d){if(1<=d)return c.path;for(var e=0,f=a.length,g,h,k,l,m=c.temp.params,n=0;e<f;e++)for(k=a[e],l=c[e],h=k.length,g=0;g<h;g++)m[n++]=l[g]*d+k[g];return c.temp}},data:{compute:function(a,c,d,e){var f=a.length-1,g=c.length-1,h=Math.max(f,g),k,l,m;e&&e!==a||(e=[]);e.length=h+1;for(m=0;m<=h;m++)k=a[Math.min(m,f)],l=c[Math.min(m,g)],Ext.isNumber(k)?(Ext.isNumber(l)||(l=0),e[m]=(l-k)*d+k):e[m]=l;return e}},text:{compute:function(a,c,d){return a.substr(0,Math.round(a.length*(1-d)))+c.substr(Math.round(c.length*
(1-d)))}},limited:"number",limited01:"number"}});(function(){if(!Ext.global.Float32Array){var a=function(a){if("number"===typeof a)this.length=a;else if("length"in a){this.length=a.length;for(var c=0,d=a.length;c<d;c++)this[c]=+a[c]}};a.prototype=[];Ext.global.Float32Array=a}})();
Ext.define("Ext.draw.Draw",{singleton:!0,radian:Math.PI/180,pi2:2*Math.PI,reflectFn:function(a){return a},rad:function(a){return a%360*this.radian},degrees:function(a){return a/this.radian%360},isBBoxIntersect:function(a,b,c){c=c||0;return Math.max(a.x,b.x)-c>Math.min(a.x+a.width,b.x+b.width)||Math.max(a.y,b.y)-c>Math.min(a.y+a.height,b.y+b.height)},isPointInBBox:function(a,b,c){return!!c&&a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},spline:function(a){var b,c,d=a.length,e,f,g,h;c=0;var k=new Float32Array(a.length),
l=new Float32Array(3*a.length-2);k[0]=0;k[d-1]=0;for(b=1;b<d-1;b++)k[b]=a[b+1]+a[b-1]-2*a[b]-k[b-1],c=1/(4-c),k[b]*=c;for(b=d-2;0<b;b--)c=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(.07179676972449123,b)),k[b]-=k[b+1]*c;h=a[0];e=h-k[0];for(c=b=0;b<d-1;c+=3)g=h,f=e,b++,h=a[b],e=h-k[b],l[c]=g,l[c+1]=(e+2*f)/3,l[c+2]=(2*e+f)/3;l[c]=h;return l},getAnchors:function(a,b,c,d,e,f,g){g=g||4;var h=Math.PI,k=h/2,l=Math.abs,m=Math.sin,n=Math.cos,p=Math.atan,q;q=(c-a)/g;g=(e-c)/g;d>=b&&
d>=f||d<=b&&d<=f?a=e=k:(a=p((c-a)/l(d-b)),b<d&&(a=h-a),e=p((e-c)/l(d-f)),f<d&&(e=h-e));p=k-(a+e)%(2*h)/2;p>k&&(p-=h);a+=p;e+=p;h=c-q*m(a);q=d+q*n(a);m=c+g*m(e);n=d+g*n(e);if(d>b&&q<b||d<b&&q>b)h+=l(b-q)*(h-c)/(q-d),q=b;if(d>f&&n<f||d<f&&n>f)m-=l(f-n)*(m-c)/(n-d),n=f;return{x1:h,y1:q,x2:m,y2:n}},smooth:function(a,b,c){var d=a.length,e,f,g,h,k,l,m,n,p=[],q=[],r;for(r=0;r<d-1;r++){e=a[r];f=b[r];if(0===r&&(m=e,n=f,p.push(m),q.push(n),1===d))break;g=a[r+1];h=b[r+1];k=a[r+2];l=b[r+2];if(!Ext.isNumber(k+
l)){p.push(m,g,g);q.push(n,h,h);break}e=this.getAnchors(e,f,g,h,k,l,c);p.push(m,e.x1,g);q.push(n,e.y1,h);m=e.x2;n=e.y2}return{smoothX:p,smoothY:q}},beginUpdateIOS:Ext.os.is.iOS?function(){this.iosUpdateEl=Ext.getBody().createChild({style:"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000"})}:Ext.emptyFn,endUpdateIOS:function(){this.iosUpdateEl=Ext.destroy(this.iosUpdateEl)}});
Ext.define("Ext.draw.gradient.Gradient",{isGradient:!0,config:{stops:[]},applyStops:function(a){var b=[],c=a.length,d,e,f;for(d=0;d<c;d++)e=a[d],(f=e.color)&&f.isColor||(f=Ext.draw.Color.fly(f||Ext.draw.Color.NONE)),b.push({offset:Math.min(1,Math.max(0,"offset"in e?e.offset:e.position||0)),color:f.toString()});b.sort(function(a,b){return a.offset-b.offset});return b},onClassExtended:function(a,b){!b.alias&&b.type&&(b.alias="gradient."+b.type)},constructor:function(a){this.initConfig(a)},generateGradient:Ext.emptyFn});
Ext.define("Ext.draw.gradient.GradientDefinition",{singleton:!0,urlStringRe:/^url\(#([\w\-]+)\)$/,gradients:{},add:function(a){var b=this.gradients,c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],Ext.isString(e.id)&&(b[e.id]=e)},get:function(a){var b=this.gradients,c=a.match(this.urlStringRe),d;return c&&c[1]&&(d=b[c[1]])?d||a:a}});
Ext.define("Ext.draw.sprite.AttributeParser",{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,"default":Ext.identityFn,string:function(a){return String(a)},number:function(a){if(Ext.isNumber(+a))return a},angle:function(a){if(Ext.isNumber(a))return a%=2*Math.PI,a<-Math.PI?a+=2*Math.PI:a>=Math.PI&&(a-=2*Math.PI),a},data:function(a){if(Ext.isArray(a))return a.slice();if(a instanceof Float32Array)return new Float32Array(a)},bool:function(a){return!!a},color:function(a){if(a instanceof Ext.draw.Color)return a.toString();
if(a instanceof Ext.draw.gradient.Gradient)return a;if(!a)return Ext.draw.Color.NONE;if(Ext.isString(a))if("url"===a.substr(0,3)){if(a=Ext.draw.gradient.GradientDefinition.get(a),Ext.isString(a))return a}else return Ext.draw.Color.fly(a).toString();return"linear"===a.type?Ext.create("Ext.draw.gradient.Linear",a):"radial"===a.type?Ext.create("Ext.draw.gradient.Radial",a):"pattern"===a.type?Ext.create("Ext.draw.gradient.Pattern",a):Ext.draw.Color.NONE},limited:function(a,b){return function(c){c=+c;
return Ext.isNumber(c)?Math.min(Math.max(c,a),b):void 0}},limited01:function(a){a=+a;return Ext.isNumber(a)?Math.min(Math.max(a,0),1):void 0},enums:function(){var a={},b=Array.prototype.slice.call(arguments,0),c,d;c=0;for(d=b.length;c<d;c++)a[b[c]]=!0;return function(b){return b in a?b:void 0}}});
Ext.define("Ext.draw.sprite.AttributeDefinition",{config:{defaults:{$value:{},lazy:!0},aliases:{},animationProcessors:{},processors:{$value:{},lazy:!0},dirtyTriggers:{},triggers:{},updaters:{}},inheritableStatics:{processorFactoryRe:/^(\w+)\(([\w\-,]*)\)$/},spriteClass:null,constructor:function(a){this.initConfig(a)},applyDefaults:function(a,b){return b=Ext.apply(b||{},this.normalize(a))},applyAliases:function(a,b){return Ext.apply(b||{},a)},applyProcessors:function(a,b){this.getAnimationProcessors();
var c=b||{},d=Ext.draw.sprite.AttributeParser,e=this.self.processorFactoryRe,f={},g,h,k,l;for(h in a)l=a[h],"string"===typeof l&&((k=l.match(e))?l=d[k[1]].apply(d,k[2].split(",")):d[l]&&(f[h]=l,g=!0,l=d[l])),c[h]=l;g&&this.setAnimationProcessors(f);return c},applyAnimationProcessors:function(a,b){var c=Ext.draw.sprite.AnimationParser,d,e;b||(b={});for(d in a)if(e=a[d],"none"===e)b[d]=null;else if(!Ext.isString(e)||d in b)Ext.isObject(e)&&(b[d]=e);else if(e in c){for(;Ext.isString(c[e]);)e=c[e];b[d]=
c[e]}return b},updateDirtyTriggers:function(a){this.setTriggers(a)},applyTriggers:function(a,b){b||(b={});for(var c in a)b[c]=a[c].split(",");return b},applyUpdaters:function(a,b){return Ext.apply(b||{},a)},batchedNormalize:function(a,b){if(!a)return{};var c=this.getProcessors(),d=this.getAliases(),e=a.translation||a.translate,f={},g,h,k,l;g="rotation"in a?a.rotation:"rotate"in a?a.rotate:void 0;k="scaling"in a?a.scaling:"scale"in a?a.scale:void 0;"undefined"!==typeof k&&(Ext.isNumber(k)?(f.scalingX=
k,f.scalingY=k):("x"in k&&(f.scalingX=k.x),"y"in k&&(f.scalingY=k.y),"centerX"in k&&(f.scalingCenterX=k.centerX),"centerY"in k&&(f.scalingCenterY=k.centerY)));"undefined"!==typeof g&&(Ext.isNumber(g)?(g=Ext.draw.Draw.rad(g),f.rotationRads=g):("rads"in g?f.rotationRads=g.rads:"degrees"in g&&(Ext.isArray(g.degrees)?f.rotationRads=Ext.Array.map(g.degrees,function(a){return Ext.draw.Draw.rad(a)}):f.rotationRads=Ext.draw.Draw.rad(g.degrees)),"centerX"in g&&(f.rotationCenterX=g.centerX),"centerY"in g&&
(f.rotationCenterY=g.centerY)));"undefined"!==typeof e&&("x"in e&&(f.translationX=e.x),"y"in e&&(f.translationY=e.y));"matrix"in a&&(e=Ext.draw.Matrix.create(a.matrix),g=e.split(),f.matrix=e,f.rotationRads=g.rotation,f.rotationCenterX=0,f.rotationCenterY=0,f.scalingX=g.scaleX,f.scalingY=g.scaleY,f.scalingCenterX=0,f.scalingCenterY=0,f.translationX=g.translateX,f.translationY=g.translateY);for(h in a)if(k=a[h],"undefined"!==typeof k)if(Ext.isArray(k))if(h in d&&(h=d[h]),h in c)for(f[h]=[],e=0,g=k.length;e<
g;e++)l=c[h].call(this,k[e]),"undefined"!==typeof l&&(f[h][e]=l);else b&&(f[h]=k);else h in d&&(h=d[h]),h in c?(k=c[h].call(this,k),"undefined"!==typeof k&&(f[h]=k)):b&&(f[h]=k);return f},normalize:function(a,b){if(!a)return{};var c=this.getProcessors(),d=this.getAliases(),e=a.translation||a.translate,f={},g,h,k;h="rotation"in a?a.rotation:"rotate"in a?a.rotate:void 0;k="scaling"in a?a.scaling:"scale"in a?a.scale:void 0;e&&("x"in e&&(f.translationX=e.x),"y"in e&&(f.translationY=e.y));"undefined"!==
typeof k&&(Ext.isNumber(k)?(f.scalingX=k,f.scalingY=k):("x"in k&&(f.scalingX=k.x),"y"in k&&(f.scalingY=k.y),"centerX"in k&&(f.scalingCenterX=k.centerX),"centerY"in k&&(f.scalingCenterY=k.centerY)));"undefined"!==typeof h&&(Ext.isNumber(h)?(h=Ext.draw.Draw.rad(h),f.rotationRads=h):("rads"in h?f.rotationRads=h.rads:"degrees"in h&&(f.rotationRads=Ext.draw.Draw.rad(h.degrees)),"centerX"in h&&(f.rotationCenterX=h.centerX),"centerY"in h&&(f.rotationCenterY=h.centerY)));"matrix"in a&&(e=Ext.draw.Matrix.create(a.matrix),
h=e.split(),f.matrix=e,f.rotationRads=h.rotation,f.rotationCenterX=0,f.rotationCenterY=0,f.scalingX=h.scaleX,f.scalingY=h.scaleY,f.scalingCenterX=0,f.scalingCenterY=0,f.translationX=h.translateX,f.translationY=h.translateY);for(g in a)e=a[g],"undefined"!==typeof e&&(g in d&&(g=d[g]),g in c?(e=c[g].call(this,e),"undefined"!==typeof e&&(f[g]=e)):b&&(f[g]=e));return f},setBypassingNormalization:function(a,b,c){return b.pushDown(a,c)},set:function(a,b,c){c=this.normalize(c);return this.setBypassingNormalization(a,
b,c)}});
Ext.define("Ext.draw.Matrix",{isMatrix:!0,statics:{createAffineMatrixFromTwoPair:function(a,b,c,d,e,f,g,h){c-=a;d-=b;g-=e;var k=h-f;h=1/(c*c+d*d);var l=c*g+d*k;c=g*d-c*k;return new this(l*h,-c*h,c*h,l*h,(-l*a-c*b)*h+e,(c*a-l*b)*h+f)},createPanZoomFromTwoPair:function(a,b,c,d,e,f,g,h){if(2===arguments.length)return this.createPanZoomFromTwoPair.apply(this,a.concat(b));var k=c-a,l=d-b,m=g-e,n=h-f,k=Math.sqrt((m*m+n*n)/(k*k+l*l));return new this(k,0,0,k,.5*(e+g)-.5*k*(a+c),.5*(f+h)-.5*k*(b+d))},fly:function(){var a=
null,b=function(b){a.elements=b;return a};return function(c){a||(a=new Ext.draw.Matrix);a.elements=c;Ext.draw.Matrix.fly=b;return a}}(),create:function(a){return a instanceof this?a:new this(a)}},constructor:function(a,b,c,d,e,f){this.elements=a&&6===a.length?a.slice():void 0!==a?[a,b,c,d,e,f]:[1,0,0,1,0,0]},prepend:function(a,b,c,d,e,f){var g=this.elements,h=g[0],k=g[1],l=g[2],m=g[3],n=g[4],p=g[5];g[0]=a*h+c*k;g[1]=b*h+d*k;g[2]=a*l+c*m;g[3]=b*l+d*m;g[4]=a*n+c*p+e;g[5]=b*n+d*p+f;return this},prependMatrix:function(a){return this.prepend.apply(this,
a.elements)},append:function(a,b,c,d,e,f){var g=this.elements,h=g[0],k=g[1],l=g[2],m=g[3],n=g[4],p=g[5];g[0]=a*h+b*l;g[1]=a*k+b*m;g[2]=c*h+d*l;g[3]=c*k+d*m;g[4]=e*h+f*l+n;g[5]=e*k+f*m+p;return this},appendMatrix:function(a){return this.append.apply(this,a.elements)},set:function(a,b,c,d,e,f){var g=this.elements;g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return this},inverse:function(a){var b=this.elements,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],b=b[5],h=1/(c*f-d*e),c=c*h,d=d*h,e=e*h,f=f*h;return a?(a.set(f,
-d,-e,c,e*b-f*g,d*g-c*b),a):new Ext.draw.Matrix(f,-d,-e,c,e*b-f*g,d*g-c*b)},translate:function(a,b,c){return c?this.prepend(1,0,0,1,a,b):this.append(1,0,0,1,a,b)},scale:function(a,b,c,d,e){null==b&&(b=a);void 0===c&&(c=0);void 0===d&&(d=0);return e?this.prepend(a,0,0,b,c-c*a,d-d*b):this.append(a,0,0,b,c-c*a,d-d*b)},rotate:function(a,b,c,d){var e=Math.cos(a);a=Math.sin(a);b=b||0;c=c||0;return d?this.prepend(e,a,-a,e,b-e*b+c*a,c-e*c-b*a):this.append(e,a,-a,e,b-e*b+c*a,c-e*c-b*a)},rotateFromVector:function(a,
b,c){var d=Math.sqrt(a*a+b*b);a/=d;b/=d;return c?this.prepend(a,b,-b,a,0,0):this.append(a,b,-b,a,0,0)},clone:function(){return new Ext.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(a){return this.append(1,0,Math.tan(a),1,0,0)},skewY:function(a){return this.append(1,Math.tan(a),0,1,0,0)},shearX:function(a){return this.append(1,0,a,1,0,0)},shearY:function(a){return this.append(1,a,0,1,0,0)},reset:function(){return this.set(1,
0,0,1,0,0)},precisionCompensate:function(a,b){var c=this.elements,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],c=c[5],k=e*f-d*g;b.b=a*e/d;b.c=a*f/g;b.d=a;b.xx=d/a;b.yy=g/a;b.dx=(c*d*f-h*d*g)/k/a;b.dy=(h*e*g-c*d*g)/k/a},precisionCompensateRect:function(a,b){var c=this.elements,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],c=c[5],k=f/d;b.b=a*e/d;b.c=a*k;b.d=a*g/d;b.xx=d/a;b.yy=d/a;b.dx=(c*f-h*g)/(e*k-g)/a;b.dy=-(c*d-h*e)/(e*k-g)/a},x:function(a,b){var c=this.elements;return a*c[0]+b*c[2]+c[4]},y:function(a,b){var c=this.elements;
return a*c[1]+b*c[3]+c[5]},get:function(a,b){return+this.elements[a+2*b].toFixed(4)},transformPoint:function(a){var b=this.elements,c;a.isPoint?(c=a.x,a=a.y):(c=a[0],a=a[1]);return[c*b[0]+a*b[2]+b[4],c*b[1]+a*b[3]+b[5]]},transformBBox:function(a,b,c){var d=this.elements,e=.5*a.width,f=.5*a.height,g=d[0],h=d[1],k=d[2],l=d[3],m=a.x+e;a=a.y+f;var n,p;b?(e-=b,f-=b,p=[Math.sqrt(d[0]*d[0]+d[2]*d[2]),Math.sqrt(d[1]*d[1]+d[3]*d[3])],n=Math.abs(e*g)+Math.abs(f*k)+Math.abs(p[0]*b),b=Math.abs(e*h)+Math.abs(f*
l)+Math.abs(p[1]*b)):(n=Math.abs(e*g)+Math.abs(f*k),b=Math.abs(e*h)+Math.abs(f*l));c||(c={});c.x=m*g+a*k+d[4]-n;c.y=m*h+a*l+d[5]-b;c.width=n+n;c.height=b+b;return c},transformList:function(a){var b=this.elements,c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],b=b[5],h=a.length,k,l;for(l=0;l<h;l++)k=a[l],a[l]=[k[0]*c+k[1]*d+e,k[0]*f+k[1]*g+b];return a},isIdentity:function(){var a=this.elements;return 1===a[0]&&0===a[1]&&0===a[2]&&1===a[3]&&0===a[4]&&0===a[5]},isEqual:function(a){a=a&&a.isMatrix?a.elements:a;var b=
this.elements;return b[0]===a[0]&&b[1]===a[1]&&b[2]===a[2]&&b[3]===a[3]&&b[4]===a[4]&&b[5]===a[5]},equals:function(a){return this.isEqual(a)},toArray:function(){var a=this.elements;return[a[0],a[2],a[4],a[1],a[3],a[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){return[this.get(0,0),this.get(0,1),this.get(1,0),this.get(1,1),this.get(2,0),this.get(2,1)].join()},toContext:function(a){a.transform.apply(a,this.elements);return this},toSvg:function(){var a=this.elements;
return"matrix("+a[0].toFixed(9)+","+a[1].toFixed(9)+","+a[2].toFixed(9)+","+a[3].toFixed(9)+","+a[4].toFixed(9)+","+a[5].toFixed(9)+")"},getScaleX:function(){var a=this.elements;return Math.sqrt(a[0]*a[0]+a[2]*a[2])},getScaleY:function(){var a=this.elements;return Math.sqrt(a[1]*a[1]+a[3]*a[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},
getDY:function(){return this.elements[5]},split:function(){var a=this.elements,b=a[0],c=a[3],d={translateX:a[4],translateY:a[5]};d.rotate=d.rotation=Math.atan2(a[1],b);d.scaleX=b/Math.cos(d.rotate);d.scaleY=c/b*d.scaleX;return d}},function(){function a(a,b,e){a[b]={get:function(){return this.elements[e]},set:function(a){this.elements[e]=a}}}if(Object.defineProperties){var b={};a(b,"a",0);a(b,"b",1);a(b,"c",2);a(b,"d",3);a(b,"e",4);a(b,"f",5);Object.defineProperties(this.prototype,b)}this.prototype.multiply=
this.prototype.appendMatrix});
Ext.define("Ext.draw.modifier.Modifier",{mixins:{observable:Ext.mixin.Observable},config:{previous:null,next:null,sprite:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},updateNext:function(a){a&&a.setPrevious(this)},updatePrevious:function(a){a&&a.setNext(this)},prepareAttributes:function(a){this._previous&&this._previous.prepareAttributes(a)},popUp:function(a,b){this._next?this._next.popUp(a,b):Ext.apply(a,b)},pushDown:function(a,b){if(this._previous)return this._previous.pushDown(a,b);
for(var c in b)b[c]===a[c]&&delete b[c];return b}});
Ext.define("Ext.draw.modifier.Target",{extend:Ext.draw.modifier.Modifier,alias:"modifier.target",statics:{uniqueId:0},prepareAttributes:function(a){var b=this.getPrevious();b&&b.prepareAttributes(a);a.attributeId="attribute-"+Ext.draw.modifier.Target.uniqueId++;a.hasOwnProperty("canvasAttributes")||(a.bbox={plain:{dirty:!0},transform:{dirty:!0}},a.dirty=!0,a.pendingUpdaters={},a.canvasAttributes={},a.matrix=new Ext.draw.Matrix,a.inverseMatrix=new Ext.draw.Matrix)},applyChanges:function(a,b){Ext.apply(a,
b);var c=this.getSprite(),d=a.pendingUpdaters,e=c.self.def.getTriggers(),f,g,h,k,l,m;for(g in b)h=!0,(f=e[g])&&c.scheduleUpdaters(a,f,[g]),a.template&&b.removeFromInstance&&b.removeFromInstance[g]&&delete a[g];if(h){if(d.canvas)for(k=d.canvas,delete d.canvas,h=0,m=k.length;h<m;h++)g=k[h],a.canvasAttributes[g]=a[g];if(a.hasOwnProperty("children"))for(e=a.children,h=0,m=e.length;h<m;h++){f=e[h];Ext.apply(f.pendingUpdaters,d);if(k)for(l=0;l<k.length;l++)g=k[l],f.canvasAttributes[g]=f[g];c.callUpdaters(f)}c.setDirty(!0);
c.callUpdaters(a)}},popUp:function(a,b){this.applyChanges(a,b)},pushDown:function(a,b){var c=this.getPrevious();c&&(b=c.pushDown(a,b));this.applyChanges(a,b);return b}});
Ext.define("Ext.draw.TimingFunctions",function(){function a(a){return function(b){return c(b,a)}}function b(a,b){l[a+"In"]=function(a){return b(a)};l[a+"Out"]=function(a){return 1-b(1-a)};l[a+"InOut"]=function(a){return.5>=a?b(2*a)/2:(2-b(2*(1-a)))/2}}var c=Math.pow,d=Math.sin,e=Math.cos,f=Math.sqrt,g=Math.PI,h=["quad","cube","quart","quint"],k={pow:function(a,b){return c(a,b||6)},expo:function(a){return c(2,8*(a-1))},circ:function(a){return 1-f(1-a*a)},sine:function(a){return 1-d((1-a)*g/2)},back:function(a,
b){b=b||1.616;return a*a*((b+1)*a-b)},bounce:function(a){for(var b=0,d=1;;b+=d,d/=2)if(a>=(7-4*b)/11)return d*d-c((11-6*b-11*a)/4,2)},elastic:function(a,b){return c(2,10*--a)*e(20*a*g*(b||1)/3)}},l={},m,n,p;p=0;for(n=h.length;p<n;++p)k[h[p]]=a(p+2);for(m in k)b(m,k[m]);l.linear=Ext.identityFn;l.easeIn=l.quadIn;l.easeOut=l.quadOut;l.easeInOut=l.quadInOut;return{singleton:!0,easingMap:l}},function(a){Ext.apply(a,a.easingMap)});
Ext.define("Ext.draw.Animator",{singleton:!0,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:Ext.now(),animations:[],running:!1,animationTime:function(){return Ext.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(a){this.contains(a)||(this.animations.push(a),this.ignite(),"fireEvent"in a&&a.fireEvent("animationstart",a))},remove:function(a){for(var b=this.animations,c=0,d=b.length;c<d;++c)if(b[c]===a){b.splice(c,1);"fireEvent"in a&&a.fireEvent("animationend",
a);break}},contains:function(a){return-1<Ext.Array.indexOf(this.animations,a)},empty:function(){return 0===this.animations.length},step:function(a){for(var b=this.animations,c,d=0,e=b.length;d<e;d++)c=b[d],c.step(a),c.animating||(b.splice(d,1),d--,e--,c.fireEvent&&c.fireEvent("animationend",c))},schedule:function(a,b){b=b||this;var c="frameCallback"+this.frameCallbackId++;Ext.isString(a)&&(a=b[a]);Ext.draw.Animator.frameCallbacks[c]={fn:a,scope:b,once:!0};this.scheduled++;Ext.draw.Animator.ignite();
return c},scheduleIf:function(a,b){b=b||this;var c=Ext.draw.Animator.frameCallbacks,d,e;Ext.isString(a)&&(a=b[a]);for(e in c)if(d=c[e],d.once&&d.fn===a&&d.scope===b)return null;return this.schedule(a,b)},cancel:function(a){Ext.draw.Animator.frameCallbacks[a]&&Ext.draw.Animator.frameCallbacks[a].once&&(this.scheduled--,delete Ext.draw.Animator.frameCallbacks[a])},addFrameCallback:function(a,b){b=b||this;Ext.isString(a)&&(a=b[a]);var c="frameCallback"+this.frameCallbackId++;Ext.draw.Animator.frameCallbacks[c]=
{fn:a,scope:b};return c},removeFrameCallback:function(a){delete Ext.draw.Animator.frameCallbacks[a]},fireFrameCallbacks:function(){var a=this.frameCallbacks,b,c,d;for(b in a)d=a[b],c=d.fn,Ext.isString(c)&&(c=d.scope[c]),c.call(d.scope),a[b]&&d.once&&(this.scheduled--,delete a[b])},handleFrame:function(){this.step(this.animationTime());this.fireFrameCallbacks();!this.scheduled&&this.empty()&&(Ext.AnimationQueue.stop(this.handleFrame,this),this.running=!1,Ext.draw.Draw.endUpdateIOS())},ignite:function(){this.running||
(this.running=!0,Ext.AnimationQueue.start(this.handleFrame,this),Ext.draw.Draw.beginUpdateIOS())}});
Ext.define("Ext.draw.modifier.Animation",{extend:Ext.draw.modifier.Modifier,alias:"modifier.animation",config:{easing:Ext.identityFn,duration:0,customEasings:{},customDurations:{},customDuration:null},constructor:function(a){this.anyAnimation=this.anySpecialAnimations=!1;this.animating=0;this.animatingPool=[];this.callParent([a])},prepareAttributes:function(a){a.hasOwnProperty("timers")||(a.animating=!1,a.timers={},a.animationOriginal=Ext.Object.chain(a),a.animationOriginal.prototype=a);this._previous&&
this._previous.prepareAttributes(a.animationOriginal)},updateSprite:function(a){this.setConfig(a.config.fx)},updateDuration:function(a){this.anyAnimation=0<a},applyEasing:function(a){"string"===typeof a&&(a=Ext.draw.TimingFunctions.easingMap[a]);return a},applyCustomEasings:function(a,b){b=b||{};var c,d,e,f,g,h;for(d in a)for(c=!0,f=a[d],e=d.split(","),"string"===typeof f&&(f=Ext.draw.TimingFunctions.easingMap[f]),g=0,h=e.length;g<h;g++)b[e[g]]=f;c&&(this.anySpecialAnimations=c);return b},setEasingOn:function(a,
b){a=Ext.Array.from(a).slice();for(var c={},d=a.length,e=0;e<d;e++)c[a[e]]=b;this.setCustomEasings(c)},clearEasingOn:function(a){a=Ext.Array.from(a,!0);for(var b=0,c=a.length;b<c;b++)delete this._customEasings[a[b]]},applyCustomDurations:function(a,b){b=b||{};var c,d,e,f,g,h;for(d in a)for(c=!0,e=a[d],f=d.split(","),g=0,h=f.length;g<h;g++)b[f[g]]=e;c&&(this.anySpecialAnimations=c);return b},applyCustomDuration:function(a,b){a&&(this.getCustomDurations(),this.setCustomDurations(a))},setDurationOn:function(a,
b){a=Ext.Array.from(a).slice();for(var c={},d=0,e=a.length;d<e;d++)c[a[d]]=b;this.setCustomDurations(c)},clearDurationOn:function(a){a=Ext.Array.from(a,!0);for(var b=0,c=a.length;b<c;b++)delete this._customDurations[a[b]]},setAnimating:function(a,b){var c=this.animatingPool;if(a.animating!==b)if(a.animating=b)c.push(a),0===this.animating&&Ext.draw.Animator.add(this),this.animating++;else{for(var d=c.length;d--;)c[d]===a&&c.splice(d,1);this.animating=c.length}},setAttrs:function(a,b){var c=a.timers,
d=this._sprite.self.def._animationProcessors,e=this._easing,f=this._duration,g=this._customDurations,h=this._customEasings,k=this.anySpecialAnimations,l=a.animationOriginal,m=!1,n,p,q,r,t,u;if(this.anyAnimation||k)for(n in b){p=b[n];q=a[n];if(p!==q&&void 0!==q&&null!==q&&(r=d[n])){t=e;u=f;k&&(n in h&&(t=h[n]),n in g&&(u=g[n]));if(q&&q.isGradient||p&&p.isGradient)u=0;if(u){c[n]||(c[n]={});m=c[n];m.start=0;m.easing=t;m.duration=u;m.compute=r.compute;m.serve=r.serve||Ext.identityFn;m.remove=b.removeFromInstance&&
b.removeFromInstance[n];r.parseInitial?(q=r.parseInitial(q,p),m.source=q[0],m.target=q[1]):r.parse?(m.source=r.parse(q),m.target=r.parse(p)):(m.source=q,m.target=p);l[n]=p;delete b[n];m=!0;continue}else delete l[n]}else delete l[n];delete c[n]}else{for(n in b)a[n]===b[n]?delete b[n]:a[n]=b[n],delete l[n],delete c[n];return b}m&&!a.animating&&this.setAnimating(a,!0);return b},updateAttributes:function(a){if(!a.animating)return{};var b={},c=!1,d=a.timers,e=a.animationOriginal,f=Ext.draw.Animator.animationTime(),
g,h,k;if(a.lastUpdate===f)return null;for(g in d)h=d[g],h.start?k=(f-h.start)/h.duration:(h.start=f,k=0),1<=k?(b[g]=e[g],delete e[g],d[g].remove&&(b.removeFromInstance=b.removeFromInstance||{},b.removeFromInstance[g]=!0),delete d[g]):(b[g]=h.serve(h.compute(h.source,h.target,h.easing(k),a[g])),c=!0);a.lastUpdate=f;this.setAnimating(a,c);return b},pushDown:function(a,b){b=this.callParent([a.animationOriginal,b]);return this.setAttrs(a,b)},popUp:function(a,b){a=a.prototype;b=this.setAttrs(a,b);return this._next?
this._next.popUp(a,b):Ext.apply(a,b)},step:function(a){a=this.animatingPool.slice();for(var b=a.length,c=0,d,e;c<b;c++)d=a[c],(e=this.updateAttributes(d))&&this._next&&this._next.popUp(d,e)},stop:function(){this.step();var a=this.animatingPool,b,c;b=0;for(c=a.length;b<c;b++)a[b].animating=!1;this.animating=this.animatingPool.length=0;Ext.draw.Animator.remove(this)},destroy:function(){this.animating=this.animatingPool.length=0;this.callParent()}});
Ext.define("Ext.draw.modifier.Highlight",{extend:Ext.draw.modifier.Modifier,alias:"modifier.highlight",config:{enabled:!1,highlightStyle:null},preFx:!0,applyHighlightStyle:function(a,b){b=b||{};this.getSprite()?Ext.apply(b,this.getSprite().self.def.normalize(a)):Ext.apply(b,a);return b},prepareAttributes:function(a){a.hasOwnProperty("highlightOriginal")||(a.highlighted=!1,a.highlightOriginal=Ext.Object.chain(a),a.highlightOriginal.prototype=a,a.highlightOriginal.removeFromInstance={});this._previous&&
this._previous.prepareAttributes(a.highlightOriginal)},updateSprite:function(a,b){a&&(this.getHighlightStyle()&&(this._highlightStyle=a.self.def.normalize(this.getHighlightStyle())),this.setHighlightStyle(a.config.highlight));a.self.def.setConfig({defaults:{highlighted:!1},processors:{highlighted:"bool"}});this.setSprite(a)},filterChanges:function(a,b){var c=a.highlightOriginal,d=this.getHighlightStyle(),e;if(a.highlighted)for(e in b)d.hasOwnProperty(e)&&(c[e]=b[e],delete b[e]);for(e in b)"highlighted"!==
e&&c[e]===b[e]&&delete b[e];return b},pushDown:function(a,b){var c=this.getHighlightStyle(),d=a.highlightOriginal,e=d.removeFromInstance,f,g,h;if(b.hasOwnProperty("highlighted")){if(f=b.highlighted,delete b.highlighted,this._previous&&(b=this._previous.pushDown(d,b)),b=this.filterChanges(a,b),f!==a.highlighted){if(f)for(g in c)g in b?d[g]=b[g]:(h=a.template&&a.template.ownAttr)&&!a.prototype.hasOwnProperty(g)?(e[g]=!0,d[g]=h.animationOriginal[g]):((h=d.timers[g])&&h.remove&&(e[g]=!0),d[g]=a[g]),d[g]!==
c[g]&&(b[g]=c[g]);else{for(g in c)g in b||(b[g]=d[g]),delete d[g];b.removeFromInstance=b.removeFromInstance||{};Ext.apply(b.removeFromInstance,e);d.removeFromInstance={}}b.highlighted=f}}else this._previous&&(b=this._previous.pushDown(d,b)),b=this.filterChanges(a,b);return b},popUp:function(a,b){b=this.filterChanges(a,b);Ext.draw.modifier.Modifier.prototype.popUp.call(this,a,b)}});
Ext.define("Ext.draw.sprite.Sprite",{alias:"sprite.sprite",mixins:{observable:Ext.mixin.Observable},isSprite:!0,statics:{defaultHitTestOptions:{fill:!0,stroke:!0}},inheritableStatics:{def:{processors:{strokeStyle:"color",fillStyle:"color",strokeOpacity:"limited01",fillOpacity:"limited01",lineWidth:"number",lineCap:"enums(butt,round,square)",lineJoin:"enums(round,bevel,miter)",lineDash:"data",lineDashOffset:"number",miterLimit:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",
shadowBlur:"number",globalAlpha:"limited01",globalCompositeOperation:"enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)",hidden:"bool",transformFillStroke:"bool",zIndex:"number",translationX:"number",translationY:"number",rotationRads:"number",rotationCenterX:"number",rotationCenterY:"number",scalingX:"number",scalingY:"number",scalingCenterX:"number",scalingCenterY:"number",constrainGradients:"bool"},aliases:{stroke:"strokeStyle",
fill:"fillStyle",color:"fillStyle","stroke-width":"lineWidth","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","text-anchor":"textAlign",opacity:"globalAlpha",translateX:"translationX",translateY:"translationY",rotateRads:"rotationRads",rotateCenterX:"rotationCenterX",rotateCenterY:"rotationCenterY",scaleX:"scalingX",scaleY:"scalingY",scaleCenterX:"scalingCenterX",scaleCenterY:"scalingCenterY"},defaults:{hidden:!1,zIndex:0,strokeStyle:"none",fillStyle:"none",
lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowColor:"none",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:!1,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:!1},triggers:{zIndex:"zIndex",globalAlpha:"canvas",globalCompositeOperation:"canvas",transformFillStroke:"canvas",strokeStyle:"canvas",
fillStyle:"canvas",strokeOpacity:"canvas",fillOpacity:"canvas",lineWidth:"canvas",lineCap:"canvas",lineJoin:"canvas",lineDash:"canvas",lineDashOffset:"canvas",miterLimit:"canvas",shadowColor:"canvas",shadowOffsetX:"canvas",shadowOffsetY:"canvas",shadowBlur:"canvas",translationX:"transform",translationY:"transform",rotationRads:"transform",rotationCenterX:"transform",rotationCenterY:"transform",scalingX:"transform",scalingY:"transform",scalingCenterX:"transform",scalingCenterY:"transform",constrainGradients:"canvas"},
updaters:{bbox:"bboxUpdater",zIndex:function(a){a.dirtyZIndex=!0},transform:function(a){a.dirtyTransform=!0;a.bbox.transform.dirty=!0}}}},config:{parent:null,surface:null},onClassExtended:function(a,b){var c=a.superclass.self.def.initialConfig,d=b.inheritableStatics&&b.inheritableStatics.def;d?(c=Ext.Object.merge({},c,d),a.def=new Ext.draw.sprite.AttributeDefinition(c),delete b.inheritableStatics.def):a.def=new Ext.draw.sprite.AttributeDefinition(c);a.def.spriteClass=a},constructor:function(a){var b=
this.self.def.getDefaults(),c;a=Ext.isObject(a)?a:{};this.id=a.id||Ext.id(null,"ext-sprite-");this.attr={};this.mixins.observable.constructor.apply(this,arguments);c=Ext.Array.from(a.modifiers,!0);this.prepareModifiers(c);this.initializeAttributes();this.setAttributes(b,!0);this.setAttributes(a)},getDirty:function(){return this.attr.dirty},setDirty:function(a){(this.attr.dirty=a)&&(a=this.getParent())&&a.setDirty(!0)},addModifier:function(a,b){a instanceof Ext.draw.modifier.Modifier||(a=Ext.factory(a,
null,null,"modifier"));a.setSprite(this);a.preFx||a.config&&a.config.preFx?(this.fx.getPrevious()&&this.fx.getPrevious().setNext(a),a.setNext(this.fx)):(this.topModifier.getPrevious().setNext(a),a.setNext(this.topModifier));b&&this.initializeAttributes();return a},prepareModifiers:function(a){var b,c;this.topModifier=new Ext.draw.modifier.Target({sprite:this});this.fx=new Ext.draw.modifier.Animation({sprite:this});this.fx.setNext(this.topModifier);b=0;for(c=a.length;b<c;b++)this.addModifier(a[b],
!1)},getAnimation:function(){return this.fx},setAnimation:function(a){this.fx.setConfig(a)},initializeAttributes:function(){this.topModifier.prepareAttributes(this.attr)},callUpdaters:function(a){var b=a.pendingUpdaters,c=this.self.def.getUpdaters(),d,e=!1,f,g,h;this.callUpdaters=Ext.emptyFn;do{d=!1;for(g in b)d=!0,f=b[g],delete b[g],h=c[g],"string"===typeof h&&(h=this[h]),h&&h.call(this,a,f);e=e||d}while(d);delete this.callUpdaters;e&&this.setDirty(!0)},scheduleUpdaters:function(a,b,c){var d;if(c)for(var e=
0,f=b.length;e<f;e++)d=b[e],this.scheduleUpdater(a,d,c);else for(d in b)c=b[d],this.scheduleUpdater(a,d,c)},scheduleUpdater:function(a,b,c){c=c||[];a=a.pendingUpdaters;b in a?c.length&&(a[b]=Ext.Array.merge(a[b],c)):a[b]=c},setAttributes:function(a,b,c){var d=this.attr,e;if(b)if(c)this.topModifier.pushDown(d,a);else{c={};for(e in a)b=a[e],b!==d[e]&&(c[e]=b);this.topModifier.pushDown(d,c)}else this.topModifier.pushDown(d,this.self.def.normalize(a))},setAttributesBypassingNormalization:function(a,b){return this.setAttributes(a,
!0,b)},bboxUpdater:function(a){var b=0!==a.rotationRads,c=1!==a.scalingX||1!==a.scalingY,d=null===a.rotationCenterX||null===a.rotationCenterY,e=null===a.scalingCenterX||null===a.scalingCenterY;a.bbox.plain.dirty=!0;a.bbox.transform.dirty=!0;(b&&d||c&&e)&&this.scheduleUpdater(a,"transform")},getBBox:function(a){var b=this.attr.bbox,c=b.plain,b=b.transform;c.dirty&&(this.updatePlainBBox(c),c.dirty=!1);return a?c:(this.applyTransformations(),b.dirty&&(this.updateTransformedBBox(b,c),b.dirty=!1),b)},
updatePlainBBox:Ext.emptyFn,updateTransformedBBox:function(a,b){this.attr.matrix.transformBBox(b,0,a)},getBBoxCenter:function(a){return(a=this.getBBox(a))?[a.x+.5*a.width,a.y+.5*a.height]:[0,0]},hide:function(){this.attr.hidden=!0;this.setDirty(!0);return this},show:function(){this.attr.hidden=!1;this.setDirty(!0);return this},useAttributes:function(a,b){this.applyTransformations();var c=this.attr.canvasAttributes,d=c.strokeStyle,e=c.fillStyle,f=c.lineDash,g=c.lineDashOffset,h;d&&(d.isGradient?(a.strokeStyle=
"black",a.strokeGradient=d):a.strokeGradient=!1);e&&(e.isGradient?(a.fillStyle="black",a.fillGradient=e):a.fillGradient=!1);f&&a.setLineDash(f);Ext.isNumber(g+a.lineDashOffset)&&(a.lineDashOffset=g);for(h in c)void 0!==c[h]&&c[h]!==a[h]&&(a[h]=c[h]);this.setGradientBBox(a,b)},setGradientBBox:function(a,b){var c=this.attr;c.constrainGradients?a.setGradientBBox({x:b[0],y:b[1],width:b[2],height:b[3]}):a.setGradientBBox(this.getBBox(c.transformFillStroke))},applyTransformations:function(a){if(a||this.attr.dirtyTransform){a=
this.attr;var b=this.getBBoxCenter(!0),c=b[0],d=b[1],b=a.translationX,e=a.translationY,f=a.scalingX,g=null===a.scalingY?a.scalingX:a.scalingY,h=null===a.scalingCenterX?c:a.scalingCenterX,k=null===a.scalingCenterY?d:a.scalingCenterY,l=a.rotationRads,c=null===a.rotationCenterX?c:a.rotationCenterX,d=null===a.rotationCenterY?d:a.rotationCenterY,m=Math.cos(l),n=Math.sin(l);1===f&&1===g&&(k=h=0);0===l&&(d=c=0);h=h*(1-f)-c;k=k*(1-g)-d;a.matrix.elements=[m*f,n*f,-n*g,m*g,m*h-n*k+c+b,n*h+m*k+d+e];a.matrix.inverse(a.inverseMatrix);
a.dirtyTransform=!1;a.bbox.transform.dirty=!0}},transform:function(a,b){var c=this.attr,d=c.matrix;d.prepend.apply(d,(a&&a.isMatrix?a.elements:a).slice());d.inverse(c.inverseMatrix);b&&this.updateTransformAttributes();c.dirtyTransform=!1;c.bbox.transform.dirty=!0;this.setDirty(!0);return this},updateTransformAttributes:function(){var a=this.attr,b=a.matrix.split();a.rotationRads=b.rotate;a.rotationCenterX=0;a.rotationCenterY=0;a.scalingX=b.scaleX;a.scalingY=b.scaleY;a.scalingCenterX=0;a.scalingCenterY=
0;a.translationX=b.translateX;a.translationY=b.translateY},resetTransform:function(a){var b=this.attr;b.matrix.reset();b.inverseMatrix.reset();a||this.updateTransformAttributes();b.dirtyTransform=!1;b.bbox.transform.dirty=!0;this.setDirty(!0);return this},setTransform:function(a,b){this.resetTransform(!0);this.transform.call(this,a,b);return this},preRender:Ext.emptyFn,render:Ext.emptyFn,hitTest:function(a,b){if(this.isVisible()){var c=a[0],d=a[1],e=this.getBBox();if(e&&c>=e.x&&c<=e.x+e.width&&d>=
e.y&&d<=e.y+e.height)return{sprite:this}}return null},isVisible:function(){var a=this.attr,b=this.getParent(),b=b&&(b.isSurface||b.isVisible())&&!a.hidden&&a.globalAlpha,c=Ext.draw.Color.NONE,d=Ext.draw.Color.RGBA_NONE,e=a.fillOpacity&&a.fillStyle!==c&&a.fillStyle!==d,a=a.strokeOpacity&&a.strokeStyle!==c&&a.strokeStyle!==d;return!(!b||!e&&!a)},repaint:function(){var a=this.getSurface();a&&a.renderFrame()},remove:function(){var a=this.getSurface();return a&&a.isSurface?a.remove(this):null},destroy:function(){for(var a=
this.topModifier,b;a;)b=a,a=a.getPrevious(),b.destroy();delete this.attr;this.remove();!1!==this.fireEvent("beforedestroy",this)&&this.fireEvent("destroy",this);this.callParent()}},function(){this.def=new Ext.draw.sprite.AttributeDefinition(this.def);this.def.spriteClass=this});
Ext.define("Ext.draw.Path",{statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:"",constructor:function(a){this.commands=[];this.params=[];this.cursor=null;this.startY=this.startX=0;a&&this.fromSvgString(a)},clear:function(){this.params.length=0;this.commands.length=0;this.cursor=null;this.startY=this.startX=0;this.dirt()},dirt:function(){this.svgString=""},moveTo:function(a,b){this.cursor||(this.cursor=[a,b]);this.params.push(a,b);this.commands.push("M");this.startX=
a;this.startY=b;this.cursor[0]=a;this.cursor[1]=b;this.dirt()},lineTo:function(a,b){this.cursor?(this.params.push(a,b),this.commands.push("L")):(this.cursor=[a,b],this.params.push(a,b),this.commands.push("M"));this.cursor[0]=a;this.cursor[1]=b;this.dirt()},bezierCurveTo:function(a,b,c,d,e,f){this.cursor||this.moveTo(a,b);this.params.push(a,b,c,d,e,f);this.commands.push("C");this.cursor[0]=e;this.cursor[1]=f;this.dirt()},quadraticCurveTo:function(a,b,c,d){this.cursor||this.moveTo(a,b);this.bezierCurveTo((2*
a+this.cursor[0])/3,(2*b+this.cursor[1])/3,(2*a+c)/3,(2*b+d)/3,c,d)},closePath:function(){this.cursor&&(this.cursor=null,this.commands.push("Z"),this.dirt())},arcTo:function(a,b,c,d,e,f,g){void 0===f&&(f=e);void 0===g&&(g=0);if(this.cursor)if(0===e||0===f)this.lineTo(a,b);else{c-=a;d-=b;var h=this.cursor[0]-a,k=this.cursor[1]-b,l=c*k-d*h,m,n,p,q,r,t,u=Math.sqrt(h*h+k*k),v=Math.sqrt(c*c+d*d);if(0===l)this.lineTo(a,b);else{if(f!==e){m=Math.cos(g);n=Math.sin(g);p=m/e;q=n/f;r=-n/e;t=m/f;var w=p*h+q*k,
k=r*h+t*k,h=w,w=p*c+q*d;d=r*c+t*d;c=w}else h/=e,k/=f,c/=e,d/=f;p=h*v+c*u;q=k*v+d*u;u=1/(Math.sin(.5*Math.asin(Math.abs(l)/(u*v)))*Math.sqrt(p*p+q*q));p*=u;q*=u;v=(p*h+q*k)/(h*h+k*k);u=(p*c+q*d)/(c*c+d*d);h=h*v-p;k=k*v-q;v=Math.atan2(k,h);c=Math.atan2(d*u-q,c*u-p);0<l?c<v&&(c+=2*Math.PI):v<c&&(v+=2*Math.PI);f!==e?(p=m*p*e-n*q*f+a,q=n*q*f+m*q*f+b,this.lineTo(m*e*h-n*f*k+p,n*e*h+m*f*k+q)):(p=p*e+a,q=q*f+b,this.lineTo(e*h+p,f*k+q));this.ellipse(p,q,e,f,g,v,c,0>l)}}else this.moveTo(a,b)},ellipse:function(a,
b,c,d,e,f,g,h){var k=this.params,l=k.length;if(g-f>=2*Math.PI)this.ellipse(a,b,c,d,e,f,f+Math.PI,h),this.ellipse(a,b,c,d,e,f+Math.PI,g,h);else{if(h)for(f<g&&(f+=2*Math.PI),a=this.approximateArc(k,a,b,c,d,e,g,f),b=k.length-2;l<b;l+=2,b-=2)c=k[l],k[l]=k[b],k[b]=c,c=k[l+1],k[l+1]=k[b+1],k[b+1]=c;else g<f&&(g+=2*Math.PI),a=this.approximateArc(k,a,b,c,d,e,f,g);this.cursor?(this.cursor[0]=k[k.length-2],this.cursor[1]=k[k.length-1],this.commands.push("L")):(this.cursor=[k[k.length-2],k[k.length-1]],this.commands.push("M"));
for(l=2;l<a;l+=6)this.commands.push("C");this.dirt()}},arc:function(a,b,c,d,e,f){this.ellipse(a,b,c,c,0,d,e,f)},rect:function(a,b,c,d){0!=c&&0!=d&&(this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath())},approximateArc:function(a,b,c,d,e,f,g,h){var k=Math.cos(f),l=Math.sin(f),m=Math.cos(g),n=Math.sin(g),p=k*m*d-l*n*e,q=l*m*d+k*n*e,r=Math.PI/2;f=2;var t=p,u=-k*n*d-l*m*e,v=q;d=-l*n*d+k*m*e;h-=g;0>h&&(h+=2*Math.PI);for(a.push(p+b,q+c);h>=r;)a.push(t+.547443256150549*
u+b,v+.547443256150549*d+c,.547443256150549*t+u+b,.547443256150549*v+d+c,u+b,d+c),f+=6,h-=r,g=t,t=u,u=-g,g=v,v=d,d=-g;h&&(g=(.3294738052815987+.012120855841304373*h)*h,r=Math.cos(h),h=Math.sin(h),e=r+g*h,k=h-g*r,a.push(t+u*g+b,v+d*g+c,t*e+u*k+b,v*e+d*k+c,t*r+u*h+b,v*r+d*h+c),f+=6);return f},arcSvg:function(a,b,c,d,e,f,g){0>a&&(a=-a);0>b&&(b=-b);var h=this.cursor[0],k=this.cursor[1],l=(h-f)/2,m=(k-g)/2,n=Math.cos(c),p=Math.sin(c),q=l*n+m*p,l=-l*p+m*n,m=q/a,r=l/b,t=m*m+r*r;f=.5*(h+f);g=.5*(k+g);h=k=
0;1<=t?(t=Math.sqrt(t),a*=t,b*=t):(t=Math.sqrt(1/t-1),d===e&&(t=-t),k=t*a*r,h=-t*b*m,f+=n*k-p*h,g+=p*k+n*h);d=Math.atan2((l-h)/b,(q-k)/a);q=Math.atan2((-l-h)/b,(-q-k)/a)-d;e?0>=q&&(q+=2*Math.PI):0<=q&&(q-=2*Math.PI);this.ellipse(f,g,a,b,c,d,d+q,1-e)},fromSvgString:function(a){if(a){var b,c={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},d,e,f=0,g=0,h=!1,k,l;Ext.isString(a)?b=a.replace(Ext.draw.Path.pathRe," $1 ").replace(Ext.draw.Path.pathRe2," -").split(Ext.draw.Path.pathSplitRe):
Ext.isArray(a)&&(b=a.join(",").split(Ext.draw.Path.pathSplitRe));for(l=k=0;k<b.length;k++)""!==b[k]&&(b[l++]=b[k]);b.length=l;this.clear();for(k=0;k<b.length;)switch(a=h,h=b[k],h.toUpperCase(),k++,h){case "M":this.moveTo(f=+b[k],g=+b[k+1]);for(k+=2;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f=+b[k],g=+b[k+1]),k+=2;break;case "L":this.lineTo(f=+b[k],g=+b[k+1]);for(k+=2;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f=+b[k],g=+b[k+1]),k+=2;break;case "A":for(;k<l&&!c.hasOwnProperty(b[k]);)this.arcSvg(+b[k],
+b[k+1],+b[k+2]*Math.PI/180,+b[k+3],+b[k+4],f=+b[k+5],g=+b[k+6]),k+=7;break;case "C":for(;k<l&&!c.hasOwnProperty(b[k]);)this.bezierCurveTo(+b[k],+b[k+1],d=+b[k+2],e=+b[k+3],f=+b[k+4],g=+b[k+5]),k+=6;break;case "Z":this.closePath();break;case "m":this.moveTo(f+=+b[k],g+=+b[k+1]);for(k+=2;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f+=+b[k],g+=+b[k+1]),k+=2;break;case "l":this.lineTo(f+=+b[k],g+=+b[k+1]);for(k+=2;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f+=+b[k],g+=+b[k+1]),k+=2;break;case "a":for(;k<
l&&!c.hasOwnProperty(b[k]);)this.arcSvg(+b[k],+b[k+1],+b[k+2]*Math.PI/180,+b[k+3],+b[k+4],f+=+b[k+5],g+=+b[k+6]),k+=7;break;case "c":for(;k<l&&!c.hasOwnProperty(b[k]);)this.bezierCurveTo(f+ +b[k],g+ +b[k+1],d=f+ +b[k+2],e=g+ +b[k+3],f+=+b[k+4],g+=+b[k+5]),k+=6;break;case "z":this.closePath();break;case "s":"c"!==a&&"C"!==a&&"s"!==a&&"S"!==a&&(d=f,e=g);for(;k<l&&!c.hasOwnProperty(b[k]);)this.bezierCurveTo(f+f-d,g+g-e,d=f+ +b[k],e=g+ +b[k+1],f+=+b[k+2],g+=+b[k+3]),k+=4;break;case "S":"c"!==a&&"C"!==
a&&"s"!==a&&"S"!==a&&(d=f,e=g);for(;k<l&&!c.hasOwnProperty(b[k]);)this.bezierCurveTo(f+f-d,g+g-e,d=+b[k],e=+b[k+1],f=+b[k+2],g=+b[k+3]),k+=4;break;case "q":for(;k<l&&!c.hasOwnProperty(b[k]);)this.quadraticCurveTo(d=f+ +b[k],e=g+ +b[k+1],f+=+b[k+2],g+=+b[k+3]),k+=4;break;case "Q":for(;k<l&&!c.hasOwnProperty(b[k]);)this.quadraticCurveTo(d=+b[k],e=+b[k+1],f=+b[k+2],g=+b[k+3]),k+=4;break;case "t":"q"!==a&&"Q"!==a&&"t"!==a&&"T"!==a&&(d=f,e=g);for(;k<l&&!c.hasOwnProperty(b[k]);)this.quadraticCurveTo(d=
f+f-d,e=g+g-e,f+=+b[k+1],g+=+b[k+2]),k+=2;break;case "T":"q"!==a&&"Q"!==a&&"t"!==a&&"T"!==a&&(d=f,e=g);for(;k<l&&!c.hasOwnProperty(b[k]);)this.quadraticCurveTo(d=f+f-d,e=g+g-e,f=+b[k+1],g=+b[k+2]),k+=2;break;case "h":for(;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f+=+b[k],g),k++;break;case "H":for(;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f=+b[k],g),k++;break;case "v":for(;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f,g+=+b[k]),k++;break;case "V":for(;k<l&&!c.hasOwnProperty(b[k]);)this.lineTo(f,g=
+b[k]),k++}}},clone:function(){var a=new Ext.draw.Path;a.params=this.params.slice(0);a.commands=this.commands.slice(0);a.cursor=this.cursor?this.cursor.slice(0):null;a.startX=this.startX;a.startY=this.startY;a.svgString=this.svgString;return a},transform:function(a){if(!a.isIdentity()){var b=a.getXX(),c=a.getYX(),d=a.getDX(),e=a.getXY(),f=a.getYY();a=a.getDY();for(var g=this.params,h=0,k=g.length,l,m;h<k;h+=2)l=g[h],m=g[h+1],g[h]=l*b+m*c+d,g[h+1]=l*e+m*f+a;this.dirt()}},getDimension:function(a){a||
(a={});if(!this.commands||!this.commands.length)return a.x=0,a.y=0,a.width=0,a.height=0,a;a.left=Infinity;a.top=Infinity;a.right=-Infinity;a.bottom=-Infinity;for(var b=0,c=0,d=this.commands,e=this.params,f=d.length,g,h;b<f;b++)switch(d[b]){case "M":case "L":g=e[c];h=e[c+1];a.left=Math.min(g,a.left);a.top=Math.min(h,a.top);a.right=Math.max(g,a.right);a.bottom=Math.max(h,a.bottom);c+=2;break;case "C":this.expandDimension(a,g,h,e[c],e[c+1],e[c+2],e[c+3],g=e[c+4],h=e[c+5]),c+=6}a.x=a.left;a.y=a.top;a.width=
a.right-a.left;a.height=a.bottom-a.top;return a},getDimensionWithTransform:function(a,b){if(!this.commands||!this.commands.length)return b||(b={}),b.x=0,b.y=0,b.width=0,b.height=0,b;b.left=Infinity;b.top=Infinity;b.right=-Infinity;b.bottom=-Infinity;for(var c=a.getXX(),d=a.getYX(),e=a.getDX(),f=a.getXY(),g=a.getYY(),h=a.getDY(),k=0,l=0,m=this.commands,n=this.params,p=m.length,q,r;k<p;k++)switch(m[k]){case "M":case "L":q=n[l]*c+n[l+1]*d+e;r=n[l]*f+n[l+1]*g+h;b.left=Math.min(q,b.left);b.top=Math.min(r,
b.top);b.right=Math.max(q,b.right);b.bottom=Math.max(r,b.bottom);l+=2;break;case "C":this.expandDimension(b,q,r,n[l]*c+n[l+1]*d+e,n[l]*f+n[l+1]*g+h,n[l+2]*c+n[l+3]*d+e,n[l+2]*f+n[l+3]*g+h,q=n[l+4]*c+n[l+5]*d+e,r=n[l+4]*f+n[l+5]*g+h),l+=6}b||(b={});b.x=b.left;b.y=b.top;b.width=b.right-b.left;b.height=b.bottom-b.top;return b},expandDimension:function(a,b,c,d,e,f,g,h,k){var l=a.left,m=a.right,n=a.top,p=a.bottom,q=this.dim||(this.dim=[]);this.curveDimension(b,d,f,h,q);l=Math.min(l,q[0]);m=Math.max(m,
q[1]);this.curveDimension(c,e,g,k,q);n=Math.min(n,q[0]);p=Math.max(p,q[1]);a.left=l;a.right=m;a.top=n;a.bottom=p},curveDimension:function(a,b,c,d,e){var f=3*(-a+3*(b-c)+d),g=6*(a-2*b+c),h=-3*(a-b),k,l=Math.min(a,d),m=Math.max(a,d);if(0===f){if(0===g){e[0]=l;e[1]=m;return}g=-h/g;0<g&&1>g&&(k=this.interpolate(a,b,c,d,g),l=Math.min(l,k),m=Math.max(m,k))}else h=g*g-4*f*h,0<=h&&(h=Math.sqrt(h),g=(h-g)/2/f,0<g&&1>g&&(k=this.interpolate(a,b,c,d,g),l=Math.min(l,k),m=Math.max(m,k)),0<h&&(g-=h/f,0<g&&1>g&&
(k=this.interpolate(a,b,c,d,g),l=Math.min(l,k),m=Math.max(m,k))));e[0]=l;e[1]=m},interpolate:function(a,b,c,d,e){if(0===e)return a;if(1===e)return d;var f=(1-e)/e;return e*e*e*(d+f*(3*c+f*(3*b+f*a)))},fromStripes:function(a){var b=0,c=a.length,d,e;for(this.clear();b<c;b++)for(e=a[b],this.params.push.apply(this.params,e),this.commands.push("M"),d=2,e=e.length;d<e;d+=6)this.commands.push("C");this.cursor||(this.cursor=[]);this.cursor[0]=this.params[this.params.length-2];this.cursor[1]=this.params[this.params.length-
1];this.dirt()},toStripes:function(a){a=a||[];var b,c,d,e,f,g,h,k,l,m=this.commands,n=this.params,p=m.length;for(l=k=0;k<p;k++)switch(m[k]){case "M":b=[g=e=n[l++],h=f=n[l++]];a.push(b);break;case "L":c=n[l++];d=n[l++];b.push((e+e+c)/3,(f+f+d)/3,(e+c+c)/3,(f+d+d)/3,e=c,f=d);break;case "C":b.push(n[l++],n[l++],n[l++],n[l++],e=n[l++],f=n[l++]);break;case "Z":c=g,d=h,b.push((e+e+c)/3,(f+f+d)/3,(e+c+c)/3,(f+d+d)/3,e=c,f=d)}return a},updateSvgString:function(){for(var a=[],b=this.commands,c=this.params,
d=b.length,e=0,f=0;e<d;e++)switch(b[e]){case "M":a.push("M"+c[f]+","+c[f+1]);f+=2;break;case "L":a.push("L"+c[f]+","+c[f+1]);f+=2;break;case "C":a.push("C"+c[f]+","+c[f+1]+" "+c[f+2]+","+c[f+3]+" "+c[f+4]+","+c[f+5]);f+=6;break;case "Z":a.push("Z")}this.svgString=a.join("")},toString:function(){this.svgString||this.updateSvgString();return this.svgString}});
Ext.define("Ext.draw.sprite.Path",{extend:Ext.draw.sprite.Sprite,alias:["sprite.path","Ext.draw.Sprite"],type:"path",isPath:!0,inheritableStatics:{def:{processors:{path:function(a,b){a instanceof Ext.draw.Path||(a=new Ext.draw.Path(a));return a}},aliases:{d:"path"},triggers:{path:"bbox"},updaters:{path:function(a){var b=a.path;b&&b.bindAttr===a||(b=new Ext.draw.Path,b.bindAttr=a,a.path=b);b.clear();this.updatePath(b,a);this.scheduleUpdater(a,"bbox",["path"])}}}},updatePlainBBox:function(a){this.attr.path&&
this.attr.path.getDimension(a)},updateTransformedBBox:function(a){this.attr.path&&this.attr.path.getDimensionWithTransform(this.attr.matrix,a)},render:function(a,b){var c=this.attr.matrix,d=this.attr;d.path&&0!==d.path.params.length&&(c.toContext(b),b.appendPath(d.path),b.fillStroke(d))},updatePath:function(a,b){}});
Ext.define("Ext.draw.sprite.Circle",{extend:Ext.draw.sprite.Path,alias:"sprite.circle",type:"circle",inheritableStatics:{def:{processors:{cx:"number",cy:"number",r:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy"},defaults:{cx:0,cy:0,r:4},triggers:{cx:"path",cy:"path",r:"path"}}},updatePlainBBox:function(a){var b=this.attr,c=b.cy,d=b.r;a.x=b.cx-d;a.y=c-d;a.width=d+d;a.height=d+d},updateTransformedBBox:function(a){var b=this.attr,c=b.cx,d=b.cy,e=b.r,b=b.matrix,f=b.getScaleX(),
g=b.getScaleY(),f=f*e,e=g*e;a.x=b.x(c,d)-f;a.y=b.y(c,d)-e;a.width=f+f;a.height=e+e},updatePath:function(a,b){a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!1)}});
Ext.define("Ext.draw.sprite.Arc",{extend:Ext.draw.sprite.Circle,alias:"sprite.arc",type:"arc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:2*Math.PI,anticlockwise:!1},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(a,b){a.arc(b.cx,b.cy,b.r,b.startAngle,b.endAngle,b.anticlockwise)}});
Ext.define("Ext.draw.sprite.Arrow",{extend:Ext.draw.sprite.Path,alias:"sprite.arrow",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(a,b){var c=1.5*b.size;a.fromSvgString("M".concat(b.x-b.lineWidth/2-.7*c,",",b.y-.4*c,"l",[.6*c,0,0,.4*-c,c,.8*c,-c,.8*c,0,.4*-c,.6*-c,0],"z"))}});
Ext.define("Ext.draw.sprite.Composite",{extend:Ext.draw.sprite.Sprite,alias:"sprite.composite",type:"composite",isComposite:!0,config:{sprites:[]},constructor:function(){this.sprites=[];this.sprites.map={};this.callParent(arguments)},add:function(a){if(!a)return null;a.isSprite||(a=Ext.create("sprite."+a.type,a),a.setParent(this),a.setSurface(this.getSurface()));var b=this.attr,c=a.applyTransformations;a.applyTransformations=function(){a.attr.dirtyTransform&&(b.dirtyTransform=!0,b.bbox.plain.dirty=
!0,b.bbox.transform.dirty=!0);c.call(a)};this.sprites.push(a);this.sprites.map[a.id]=a.getId();b.bbox.plain.dirty=!0;b.bbox.transform.dirty=!0;return a},updateSurface:function(a){for(var b=0,c=this.sprites.length;b<c;b++)this.sprites[b].setSurface(a)},addAll:function(a){if(a.isSprite||a.type)this.add(a);else if(Ext.isArray(a))for(var b=0;b<a.length;)this.add(a[b++])},updatePlainBBox:function(a){var b=Infinity,c=-Infinity,d=Infinity,e=-Infinity,f,g,h;g=0;for(h=this.sprites.length;g<h;g++)f=this.sprites[g],
f.applyTransformations(),f=f.getBBox(),b>f.x&&(b=f.x),c<f.x+f.width&&(c=f.x+f.width),d>f.y&&(d=f.y),e<f.y+f.height&&(e=f.y+f.height);a.x=b;a.y=d;a.width=c-b;a.height=e-d},render:function(a,b,c){var d;this.attr.matrix.toContext(b);b=0;for(d=this.sprites.length;b<d;b++)a.renderSprite(this.sprites[b],c)},destroy:function(){var a=this.sprites,b=a.length,c;this.callParent();for(c=0;c<b;c++)a[c].destroy();a.length=0}});
Ext.define("Ext.draw.sprite.Cross",{extend:Ext.draw.sprite.Path,alias:"sprite.cross",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(a,b){var c=b.size/1.7;a.fromSvgString("M".concat(b.x-b.lineWidth/2-c,",",b.y,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"]))}});
Ext.define("Ext.draw.sprite.Diamond",{extend:Ext.draw.sprite.Path,alias:"sprite.diamond",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(a,b){var c=1.25*b.size;a.fromSvgString(["M",b.x-b.lineWidth/2,b.y-c,"l",c,c,-c,c,-c,-c,c,-c,"z"])}});
Ext.define("Ext.draw.sprite.Ellipse",{extend:Ext.draw.sprite.Path,alias:"sprite.ellipse",type:"ellipse",inheritableStatics:{def:{processors:{cx:"number",cy:"number",rx:"number",ry:"number",axisRotation:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy",radiusX:"rx",radiusY:"ry"},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},triggers:{cx:"path",cy:"path",rx:"path",ry:"path",axisRotation:"path"}}},updatePlainBBox:function(a){var b=this.attr,c=b.cy,d=b.rx,e=b.ry;a.x=b.cx-d;a.y=c-e;
a.width=d+d;a.height=e+e},updateTransformedBBox:function(a){var b=this.attr,c=b.cx,d=b.cy,e=b.rx,f=b.ry/e,g=b.matrix.clone(),h,k,l,m;g.append(1,0,0,f,0,d*(1-f));f=g.getXX();h=g.getYX();l=g.getDX();b=g.getXY();k=g.getYY();g=g.getDY();m=Math.sqrt(f*f+h*h)*e;e*=Math.sqrt(b*b+k*k);a.x=c*f+d*h+l-m;a.y=c*b+d*k+g-e;a.width=m+m;a.height=e+e},updatePath:function(a,b){a.ellipse(b.cx,b.cy,b.rx,b.ry,b.axisRotation,0,2*Math.PI,!1)}});
Ext.define("Ext.draw.sprite.EllipticalArc",{extend:Ext.draw.sprite.Ellipse,alias:"sprite.ellipticalArc",type:"ellipticalArc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:2*Math.PI,anticlockwise:!1},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(a,b){a.ellipse(b.cx,b.cy,b.rx,b.ry,b.axisRotation,b.startAngle,
b.endAngle,b.anticlockwise)}});
Ext.define("Ext.draw.sprite.Rect",{extend:Ext.draw.sprite.Path,alias:"sprite.rect",type:"rect",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",radius:"number"},aliases:{},triggers:{x:"path",y:"path",width:"path",height:"path",radius:"path"},defaults:{x:0,y:0,width:8,height:8,radius:0}}},updatePlainBBox:function(a){var b=this.attr;a.x=b.x;a.y=b.y;a.width=b.width;a.height=b.height},updateTransformedBBox:function(a,b){this.attr.matrix.transformBBox(b,this.attr.radius,
a)},updatePath:function(a,b){var c=b.x,d=b.y,e=b.width,f=b.height,g=Math.min(b.radius,.5*Math.abs(b.height),.5*Math.abs(b.width));0===g?a.rect(c,d,e,f):(a.moveTo(c+g,d),a.arcTo(c+e,d,c+e,d+f,g),a.arcTo(c+e,d+f,c,d+f,g),a.arcTo(c,d+f,c,d,g),a.arcTo(c,d,c+g,d,g))}});
Ext.define("Ext.draw.sprite.Image",{extend:Ext.draw.sprite.Rect,alias:"sprite.image",type:"image",statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:"string"},defaults:{src:"",width:null,height:null}}},render:function(a,b){var c=this.attr,d=c.matrix,e=c.src,f=c.x,g=c.y,h=c.width,c=c.height,k=Ext.draw.sprite.Image.imageLoaders[e],l;k&&k.done?(d.toContext(b),e=k.image,b.drawImage(e,f,g,h||(e.naturalWidth||e.width)/a.devicePixelRatio,c||(e.naturalHeight||e.height)/a.devicePixelRatio)):
k?(Ext.Array.include(k.pendingSprites,this),Ext.Array.include(k.pendingSurfaces,a)):(f=new Image,k=Ext.draw.sprite.Image.imageLoaders[e]={image:f,done:!1,pendingSprites:[this],pendingSurfaces:[a]},f.width=h,f.height=c,f.onload=function(){if(!k.done){k.done=!0;for(l=0;l<k.pendingSprites.length;l++)k.pendingSprites[l].setDirty(!0);for(l in k.pendingSurfaces)k.pendingSurfaces[l].renderFrame()}},f.src=e)}});
Ext.define("Ext.draw.sprite.Instancing",{extend:Ext.draw.sprite.Sprite,alias:"sprite.instancing",type:"instancing",isInstancing:!0,config:{template:null},instances:null,applyTemplate:function(a){a.isSprite||(a.xclass||a.type||(a.type="circle"),a=Ext.create(a.xclass||"sprite."+a.type,a));a.setParent(this);return a},updateTemplate:function(a,b){b&&delete b.ownAttr;a.setSurface(this.getSurface());a.ownAttr=a.attr;this.clearAll()},updateSurface:function(a){var b=this.getTemplate();b&&b.setSurface(a)},
get:function(a){return this.instances[a]},getCount:function(){return this.instances.length},clearAll:function(){this.getTemplate().attr.children=this.instances=[];this.position=0},createInstance:function(a,b,c){var d=this.getTemplate(),e=d.attr,f=Ext.Object.chain(e);d.topModifier.prepareAttributes(f);d.attr=f;d.setAttributes(a,b,c);f.template=d;this.instances.push(f);d.attr=e;this.position++;return f},getBBox:function(){return null},getBBoxFor:function(a,b){var c=this.getTemplate(),d=c.attr,e;c.attr=
this.instances[a];e=c.getBBox(b);c.attr=d;return e},isVisible:function(){var a=this.attr,b=this.getParent();return!(!b||!b.isSurface||a.hidden||!a.globalAlpha)},isInstanceVisible:function(a){var b=this.getTemplate(),c=b.attr,d=this.instances,e=!1;if(!Ext.isNumber(a)||0>a||a>=d.length||!this.isVisible())return e;b.attr=d[a];e=b.isVisible(point,options);b.attr=c;return e},render:function(a,b,c,d){var e=this.getTemplate(),f=e.attr,g=this.instances,h,k=this.position;this.attr.matrix.toContext(b);e.preRender(a,
b,c,d);e.useAttributes(b,d);for(h=0;h<k&&!g[h].dirtyZIndex;h++);for(h=0;h<k;h++)g[h].hidden||(b.save(),e.attr=g[h],e.useAttributes(b,d),e.render(a,b,c,d),b.restore());e.attr=f},setAttributesFor:function(a,b,c){var d=this.getTemplate(),e=d.attr;if(a=this.instances[a])d.attr=a,b=c?Ext.apply({},b):d.self.def.normalize(b),d.topModifier.pushDown(a,b),d.attr=e},destroy:function(){var a=this.getTemplate();this.instances=null;a&&a.destroy();this.callParent()}});
Ext.define("Ext.draw.sprite.Line",{extend:Ext.draw.sprite.Sprite,alias:"sprite.line",type:"line",inheritableStatics:{def:{processors:{fromX:"number",fromY:"number",toX:"number",toY:"number"},defaults:{fromX:0,fromY:0,toX:1,toY:1,strokeStyle:"black"},aliases:{x1:"fromX",y1:"fromY",x2:"toX",y2:"toY"}}},updateLineBBox:function(a,b,c,d,e,f){var g=this.attr,h=g.matrix,g=g.lineWidth/2;b&&(b=h.transformPoint([c,d]),c=b[0],d=b[1],b=h.transformPoint([e,f]),e=b[0],f=b[1]);h=Math.min(c,e);e=Math.max(c,e);c=
Math.min(d,f);d=Math.max(d,f);f=Math.atan2(e-h,d-c);b=Math.sin(f);f=g*Math.cos(f);g*=b;h-=f;c-=g;a.x=h;a.y=c;a.width=e+f-h;a.height=d+g-c},updatePlainBBox:function(a){var b=this.attr;this.updateLineBBox(a,!1,b.fromX,b.fromY,b.toX,b.toY)},updateTransformedBBox:function(a,b){var c=this.attr;this.updateLineBBox(a,!0,c.fromX,c.fromY,c.toX,c.toY)},render:function(a,b){var c=this.attr;this.attr.matrix.toContext(b);b.beginPath();b.moveTo(c.fromX,c.fromY);b.lineTo(c.toX,c.toY);b.stroke()}});
Ext.define("Ext.draw.sprite.Plus",{extend:Ext.draw.sprite.Path,alias:"sprite.plus",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(a,b){var c=b.size/1.3;a.fromSvgString("M".concat(b.x-b.lineWidth/2-c/2,",",b.y-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"]))}});
Ext.define("Ext.draw.sprite.Sector",{extend:Ext.draw.sprite.Path,alias:"sprite.sector",type:"sector",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,bbox",endAngle:"path,bbox",startRho:"path,bbox",endRho:"path,bbox",margin:"path,bbox"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,
endRho:150,margin:0,path:"M 0,0"}}},getMidAngle:function(){return this.midAngle||0},updatePath:function(a,b){var c=Math.min(b.startAngle,b.endAngle),d=Math.max(b.startAngle,b.endAngle),e=this.midAngle=.5*(c+d),f=b.margin,g=b.centerX,h=b.centerY,k=Math.min(b.startRho,b.endRho),l=Math.max(b.startRho,b.endRho);f&&(g+=f*Math.cos(e),h+=f*Math.sin(e));a.moveTo(g+k*Math.cos(c),h+k*Math.sin(c));a.lineTo(g+l*Math.cos(c),h+l*Math.sin(c));a.arc(g,h,l,c,d,!1);a.lineTo(g+k*Math.cos(d),h+k*Math.sin(d));a.arc(g,
h,k,d,c,!0)}});Ext.define("Ext.draw.sprite.Square",{extend:Ext.draw.sprite.Rect,alias:"sprite.square",inheritableStatics:{def:{processors:{size:"number"},defaults:{size:4},triggers:{size:"size"},updaters:{size:function(a){var b=a.size;this.setAttributes({x:a.x-b-a.lineWidth/2,y:a.y-b,height:2*b,width:2*b})}}}}});
Ext.define("Ext.draw.TextMeasurer",{singleton:!0,measureDiv:null,measureCache:{},precise:Ext.isIE8,measureDivTpl:{tag:"div",style:{overflow:"hidden",position:"relative","float":"left",width:0,height:0},children:{tag:"div",style:{display:"block",position:"absolute",x:-1E5,y:-1E5,padding:0,margin:0,"z-index":-1E5,"white-space":"nowrap"}}},actualMeasureText:function(a,b){var c=Ext.draw.TextMeasurer,d=c.measureDiv;if(!d){var e=Ext.Element.create({style:{overflow:"hidden",position:"relative","float":"left",
width:0,height:0}});c.measureDiv=d=Ext.Element.create({style:{position:"absolute",x:1E5,y:1E5,"z-index":-1E5,"white-space":"nowrap",display:"block",padding:0,margin:0}});Ext.getBody().appendChild(e);e.appendChild(d)}b&&d.setStyle({font:b,lineHeight:"normal"});d.setText("("+a+")");c=d.getSize();d.setText("()");c.width-=d.getSize().width;return c},measureTextSingleLine:function(a,b){if(this.precise)return this.preciseMeasureTextSingleLine(a,b);a=a.toString();var c=this.measureCache,d=a.split(""),e=
0,f=0,g,h,k,l;c[b]||(c[b]={});c=c[b];if(c[a])return c[a];k=0;for(l=d.length;k<l;k++)h=d[k],(g=c[h])||(g=this.actualMeasureText(h,b),g=c[h]=g),e+=g.width,f=Math.max(f,g.height);return c[a]={width:e,height:f}},preciseMeasureTextSingleLine:function(a,b){a=a.toString();var c=this.measureDiv||(this.measureDiv=Ext.getBody().createChild(this.measureDivTpl).down("div"));c.setStyle({font:b||""});return Ext.util.TextMetrics.measure(c,a)},measureText:function(a,b){var c=a.split("\n"),d=c.length,e=0,f=0,g,h,
k;if(1===d)return this.measureTextSingleLine(a,b);k=[];for(h=0;h<d;h++)g=this.measureTextSingleLine(c[h],b),k.push(g),e+=g.height,f=Math.max(f,g.width);return{width:f,height:e,sizes:k}}});
Ext.define("Ext.draw.sprite.Text",function(){var a={"xx-small":!0,"x-small":!0,small:!0,medium:!0,large:!0,"x-large":!0,"xx-large":!0},b={normal:!0,bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},c={start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},d={top:"top",hanging:"hanging",middle:"middle",center:"middle",alphabetic:"alphabetic",ideographic:"ideographic",bottom:"bottom"};return{extend:Ext.draw.sprite.Sprite,alias:"sprite.text",
type:"text",lineBreakRe:/\r?\n/g,inheritableStatics:{def:{animationProcessors:{text:"text"},processors:{x:"number",y:"number",text:"string",fontSize:function(b){if(Ext.isNumber(+b))return b+"px";if(b.match(Ext.dom.Element.unitRe)||b in a)return b},fontStyle:"enums(,italic,oblique)",fontVariant:"enums(,small-caps)",fontWeight:function(a){return a in b?String(a):""},fontFamily:"string",textAlign:function(a){return c[a]||"center"},textBaseline:function(a){return d[a]||"alphabetic"},font:"string"},aliases:{"font-size":"fontSize",
"font-family":"fontFamily","font-weight":"fontWeight","font-variant":"fontVariant","text-anchor":"textAlign"},defaults:{fontStyle:"",fontVariant:"",fontWeight:"",fontSize:"10px",fontFamily:"sans-serif",font:"10px sans-serif",textBaseline:"alphabetic",textAlign:"start",strokeStyle:"rgba(0, 0, 0, 0)",fillStyle:"#000",x:0,y:0,text:""},triggers:{fontStyle:"fontX,bbox",fontVariant:"fontX,bbox",fontWeight:"fontX,bbox",fontSize:"fontX,bbox",fontFamily:"fontX,bbox",font:"font,bbox,canvas",textBaseline:"bbox",
textAlign:"bbox",x:"bbox",y:"bbox",text:"bbox"},updaters:{fontX:"makeFontShorthand",font:"parseFontShorthand"}}},constructor:function(a){if(a&&a.font){a=Ext.clone(a);for(var b in a)"font"!==b&&0===b.indexOf("font")&&delete a[b]}Ext.draw.sprite.Sprite.prototype.constructor.call(this,a)},fontValuesMap:{italic:"fontStyle",oblique:"fontStyle","small-caps":"fontVariant",bold:"fontWeight",bolder:"fontWeight",lighter:"fontWeight",100:"fontWeight",200:"fontWeight",300:"fontWeight",400:"fontWeight",500:"fontWeight",
600:"fontWeight",700:"fontWeight",800:"fontWeight",900:"fontWeight","xx-small":"fontSize","x-small":"fontSize",small:"fontSize",medium:"fontSize",large:"fontSize","x-large":"fontSize","xx-large":"fontSize"},makeFontShorthand:function(a){var b=[];a.fontStyle&&b.push(a.fontStyle);a.fontVariant&&b.push(a.fontVariant);a.fontWeight&&b.push(a.fontWeight);a.fontSize&&b.push(a.fontSize);a.fontFamily&&b.push(a.fontFamily);this.setAttributes({font:b.join(" ")},!0)},parseFontShorthand:function(a){a=a.font;for(var b=
a.length,c={},d=this.fontValuesMap,k=0,l,m,n;k<b&&-1!==l;){l=a.indexOf(" ",k);if(0>l)n=a.substr(k);else if(l>k)n=a.substr(k,l-k);else continue;m=n.indexOf("/");if(0<m)n=n.substr(0,m);else if(0===m)continue;if("normal"!==n&&"inherit"!==n)if(m=d[n])c[m]=n;else if(n.match(Ext.dom.Element.unitRe))c.fontSize=n;else{c.fontFamily=a.substr(k);break}k=l+1}c.fontStyle||(c.fontStyle="");c.fontVariant||(c.fontVariant="");c.fontWeight||(c.fontWeight="");this.setAttributes(c,!0)},fontProperties:{fontStyle:!0,fontVariant:!0,
fontWeight:!0,fontSize:!0,fontFamily:!0},setAttributes:function(a,b,c){var d,k;if(a&&a.font){k={};for(d in a)d in this.fontProperties||(k[d]=a[d]);a=k}this.callParent([a,b,c])},getBBox:function(a){var b=this.attr.bbox.plain,c=this.getSurface();b.dirty&&(this.updatePlainBBox(b),b.dirty=!1);c.getInherited().rtl&&c.getFlipRtlText()&&this.updatePlainBBox(b,!0);return this.callParent([a])},rtlAlignments:{start:"end",center:"center",end:"start"},updatePlainBBox:function(a,b){var c=this.attr,d=c.x,k=c.y,
l=[],m=c.font,n=c.text,p=c.textBaseline,q=c.textAlign,r=b&&this.oldSize?this.oldSize:this.oldSize=Ext.draw.TextMeasurer.measureText(n,m),t=this.getSurface(),n=(m=t.getInherited().rtl)&&t.getFlipRtlText(),u=t.getRect(),t=r.sizes,v=r.height,r=r.width,w=t?t.length:0,y=0;switch(p){case "ideographic":case "bottom":k-=v;break;case "alphabetic":k-=.8*v;break;case "middle":k-=.5*v}n&&(d=u[2]-u[0]-d,q=this.rtlAlignments[q]);switch(q){case "start":if(m)for(;y<w;y++)p=t[y].width,l.push(-(r-p));break;case "end":d-=
r;if(m)break;for(;y<w;y++)p=t[y].width,l.push(r-p);break;case "center":for(d-=.5*r;y<w;y++)p=t[y].width,l.push((m?-1:1)*(r-p)*.5)}c.textAlignOffsets=l;a.x=d;a.y=k;a.width=r;a.height=v},setText:function(a){this.setAttributes({text:a},!0)},render:function(a,b,c){var d=this.attr,k=Ext.draw.Matrix.fly(d.matrix.elements.slice(0)),l=this.getBBox(!0);c=d.textAlignOffsets;var m=Ext.draw.Color.RGBA_NONE,n,p,q;if(0!==d.text.length)for(p=d.text.split(this.lineBreakRe),q=l.height/p.length,l=d.bbox.plain.x,n=
d.bbox.plain.y+.78*q,k.toContext(b),a.getInherited().rtl&&(l+=d.bbox.plain.width),a=0;a<p.length;a++)b.fillStyle!==m&&b.fillText(p[a],l+(c[a]||0),n+q*a),b.strokeStyle!==m&&b.strokeText(p[a],l+(c[a]||0),n+q*a)}}});
Ext.define("Ext.draw.sprite.Tick",{extend:Ext.draw.sprite.Line,alias:"sprite.tick",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"tick",y:"tick",size:"tick"},updaters:{tick:function(a){var b=1.5*a.size,c=a.lineWidth/2,d=a.x;a=a.y;this.setAttributes({fromX:d-c,fromY:a-b,toX:d-c,toY:a+b})}}}}});
Ext.define("Ext.draw.sprite.Triangle",{extend:Ext.draw.sprite.Path,alias:"sprite.triangle",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(a,b){var c=2.2*b.size;a.fromSvgString("M".concat(b.x,",",b.y,"m0-",.58*c,"l",.5*c,",",.87*c,"-",c,",0z"))}});
Ext.define("Ext.draw.gradient.Linear",{extend:Ext.draw.gradient.Gradient,type:"linear",config:{degrees:0,radians:0},applyRadians:function(a,b){return Ext.isNumber(a)?a:b},applyDegrees:function(a,b){return Ext.isNumber(a)?a:b},updateRadians:function(a){this.setDegrees(Ext.draw.Draw.degrees(a))},updateDegrees:function(a){this.setRadians(Ext.draw.Draw.rad(a))},generateGradient:function(a,b){var c=this.getRadians(),d=Math.cos(c),e=Math.sin(c),f=b.width,g=b.height,h=b.x+.5*f,k=b.y+.5*g,l=this.getStops(),
m=l.length;if(Ext.isNumber(h+k)&&0<g&&0<f){c=Math.sqrt(g*g+f*f)*Math.abs(Math.cos(c-Math.atan(g/f)))/2;d=a.createLinearGradient(h+d*c,k+e*c,h-d*c,k-e*c);for(e=0;e<m;e++)d.addColorStop(l[e].offset,l[e].color);return d}return Ext.draw.Color.NONE}});
Ext.define("Ext.draw.gradient.Radial",{extend:Ext.draw.gradient.Gradient,type:"radial",config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(a,b){if(!b)return a;var c={x:b.x,y:b.y,r:b.r};"x"in a?c.x=a.x:"centerX"in a&&(c.x=a.centerX);"y"in a?c.y=a.y:"centerY"in a&&(c.y=a.centerY);"r"in a?c.r=a.r:"radius"in a&&(c.r=a.radius);return c},applyEnd:function(a,b){if(!b)return a;var c={x:b.x,y:b.y,r:b.r};"x"in a?c.x=a.x:"centerX"in a&&(c.x=a.centerX);"y"in a?c.y=a.y:"centerY"in a&&(c.y=a.centerY);
"r"in a?c.r=a.r:"radius"in a&&(c.r=a.radius);return c},generateGradient:function(a,b){for(var c=this.getStart(),d=this.getEnd(),e=.5*b.width,f=.5*b.height,g=b.x+e,h=b.y+f,c=a.createRadialGradient(g+c.x*e,h+c.y*f,c.r*Math.max(e,f),g+d.x*e,h+d.y*f,d.r*Math.max(e,f)),d=this.getStops(),e=d.length,f=0;f<e;f++)c.addColorStop(d[f].offset,d[f].color);return c}});
Ext.define("Ext.draw.Surface",{extend:Ext.draw.SurfaceBase,xtype:"surface",devicePixelRatio:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,deprecated:{"5.1.0":{statics:{methods:{stableSort:function(a){return Ext.Array.sort(a,function(a,c){return a.attr.zIndex-c.attr.zIndex})}}}}},config:{cls:Ext.baseCSSPrefix+"surface",rect:null,background:null,items:[],dirty:!1,flipRtlText:!1},isSurface:!0,isPendingRenderFrame:!1,dirtyPredecessorCount:0,constructor:function(a){this.predecessors=
[];this.successors=[];this.map={};this.callParent([a]);this.matrix=new Ext.draw.Matrix;this.inverseMatrix=this.matrix.inverse()},roundPixel:function(a){return Math.round(this.devicePixelRatio*a)/this.devicePixelRatio},waitFor:function(a){var b=this.predecessors;Ext.Array.contains(b,a)||(b.push(a),a.successors.push(this),a.getDirty()&&this.dirtyPredecessorCount++)},updateDirty:function(a){for(var b=this.successors,c=b.length,d=0,e;d<c;d++)e=b[d],a?(e.dirtyPredecessorCount++,e.setDirty(!0)):(e.dirtyPredecessorCount--,
0===e.dirtyPredecessorCount&&e.isPendingRenderFrame&&e.renderFrame())},applyBackground:function(a,b){this.setDirty(!0);Ext.isString(a)&&(a={fillStyle:a});return Ext.factory(a,Ext.draw.sprite.Rect,b)},applyRect:function(a,b){if(!b||a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3]){if(Ext.isArray(a))return[a[0],a[1],a[2],a[3]];if(Ext.isObject(a))return[a.x||a.left,a.y||a.top,a.width||a.right-a.left,a.height||a.bottom-a.top]}},updateRect:function(a){var b=a[0],c=a[1],d=b+a[2];a=c+a[3];var e=this.getBackground(),
f=this.element;f.setLocalXY(Math.floor(b),Math.floor(c));f.setSize(Math.ceil(d-Math.floor(b)),Math.ceil(a-Math.floor(c)));e&&e.setAttributes({x:0,y:0,width:Math.ceil(d-Math.floor(b)),height:Math.ceil(a-Math.floor(c))});this.setDirty(!0)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0);this.inverseMatrix.set(1,0,0,1,0,0);this.setDirty(!0)},get:function(a){return this.map[a]||this.getItems()[a]},add:function(){var a=Array.prototype.slice.call(arguments),b=Ext.isArray(a[0]),c=this.map,d=[],e,
f,g,h,a=Ext.Array.clean(b?a[0]:a);if(!a.length)return d;g=0;for(h=a.length;g<h;g++)e=a[g],f=null,e.isSprite&&!c[e.getId()]?f=e:c[e.id]||(f=this.createItem(e)),f&&(c[f.getId()]=f,d.push(f),f.setParent(this),f.setSurface(this),this.onAdd(f));(a=this.getItems())&&a.push.apply(a,d);this.dirtyZIndex=!0;this.setDirty(!0);return b||1!==d.length?d:d[0]},onAdd:Ext.emptyFn,remove:function(a,b){var c,d;if(a){a.charAt&&(a=this.map[a]);if(!a||!a.isSprite)return null;if(a.isDestroyed||a.isDestroying)return a;c=
a.getId();d=this.map[c];delete this.map[c];b&&a.destroy();if(!d)return a;a.setParent(null);a.setSurface(null);Ext.Array.remove(this.getItems(),a);this.dirtyZIndex=!0;this.setDirty(!0)}return a||null},removeAll:function(a){var b=this.getItems(),c=b.length-1;if(a)for(;0<=c;c--)b[c].destroy();else for(;0<=c;c--)a=b[c],a.setParent(null),a.setSurface(null);b.length=0;this.map={};this.dirtyZIndex=!0},applyItems:function(a){this.getItems()&&this.removeAll(!0);return Ext.Array.from(this.add(a))},createItem:function(a){return Ext.create(a.xclass||
"sprite."+a.type,a)},getBBox:function(a,b){a=Ext.Array.from(a);var c=Infinity,d=-Infinity,e=Infinity,f=-Infinity,g,h,k;h=0;for(k=a.length;h<k;h++)g=a[h],g=g.getBBox(b),c>g.x&&(c=g.x),d<g.x+g.width&&(d=g.x+g.width),e>g.y&&(e=g.y),f<g.y+g.height&&(f=g.y+g.height);return{x:c,y:e,width:d-c,height:f-e}},emptyRect:[0,0,0,0],getEventXY:function(a){var b=this.getInherited().rtl;a=a.getXY();var c=this.getOwnerBody(),d=c.getXY(),e=this.getRect()||this.emptyRect,f=[];b?(b=c.getWidth(),f[0]=d[0]-a[0]-e[0]+b):
f[0]=a[0]-d[0]-e[0];f[1]=a[1]-d[1]-e[1];return f},clear:Ext.emptyFn,orderByZIndex:function(){var a=this.getItems(),b=!1,c,d;if(this.getDirty()){c=0;for(d=a.length;c<d;c++)if(a[c].attr.dirtyZIndex){b=!0;break}b&&(Ext.Array.sort(a,function(a,b){return a.attr.zIndex-b.attr.zIndex}),this.setDirty(!0));c=0;for(d=a.length;c<d;c++)a[c].attr.dirtyZIndex=!1}},repaint:function(){var a=this;a.repaint=Ext.emptyFn;Ext.defer(function(){delete a.repaint;a.element.repaint()},1)},renderFrame:function(){if(this.element)if(0<
this.dirtyPredecessorCount)this.isPendingRenderFrame=!0;else{var a=this.getRect(),b=this.getBackground(),c=this.getItems(),d;if(a&&(this.orderByZIndex(),this.getDirty())){this.clear();this.clearTransform();b&&this.renderSprite(b);b=0;for(d=c.length;b<d;b++){a=c[b];if(!1===this.renderSprite(a))return;a.attr.textPositionCount=this.textPosition}this.setDirty(!1)}}},renderSprite:Ext.emptyFn,clearTransform:Ext.emptyFn,destroy:function(){this.removeAll(!0);this.successors=this.predecessors=null;this.callParent()}});
Ext.define("Ext.draw.engine.SvgContext",{toSave:"strokeOpacity strokeStyle fillOpacity fillStyle globalAlpha lineWidth lineCap lineJoin lineDash lineDashOffset miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor globalCompositeOperation position fillGradient strokeGradient".split(" "),strokeOpacity:1,strokeStyle:"none",fillOpacity:1,fillStyle:"none",lineDash:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,
shadowColor:"none",globalCompositeOperation:"src",urlStringRe:/^url\(#([\w\-]+)\)$/,constructor:function(a){this.surface=a;this.state=[];this.matrix=new Ext.draw.Matrix;this.path=null;this.clear()},clear:function(){this.group=this.surface.mainGroup;this.position=0;this.path=null},getElement:function(a){return this.surface.getSvgElement(this.group,a,this.position++)},removeElement:function(a){a=Ext.fly(a);var b,c;if(a){if("g"===a.dom.tagName)for(b in c=a.dom.gradients,c)c[b].destroy();else b=a.getAttribute("fill"),
c=a.getAttribute("stroke"),b=b&&b.match(this.urlStringRe),c=c&&c.match(this.urlStringRe),b&&b[1]&&(b=Ext.fly(b[1]))&&b.destroy(),c&&c[1]&&(b=Ext.fly(c[1]))&&b.destroy();a.destroy()}},save:function(){var a=this.toSave,b={},c=this.getElement("g"),d,e;for(e=0;e<a.length;e++)d=a[e],d in this&&(b[d]=this[d]);this.position=0;b.matrix=this.matrix.clone();this.state.push(b);return this.group=c},restore:function(){for(var a=this.toSave,b=this.state.pop(),c=this.group.dom.childNodes,d;c.length>this.position;)this.removeElement(c[c.length-
1]);for(d=0;d<a.length;d++)c=a[d],c in b?this[c]=b[c]:delete this[c];this.setTransform.apply(this,b.matrix.elements);this.group=this.group.getParent()},transform:function(a,b,c,d,e,f){if(this.path){var g=Ext.draw.Matrix.fly([a,b,c,d,e,f]).inverse();this.path.transform(g)}this.matrix.append(a,b,c,d,e,f)},setTransform:function(a,b,c,d,e,f){this.path&&this.path.transform(this.matrix);this.matrix.reset();this.transform(a,b,c,d,e,f)},scale:function(a,b){this.transform(a,0,0,b,0,0)},rotate:function(a){this.transform(Math.cos(a),
Math.sin(a),-Math.sin(a),Math.cos(a),0,0)},translate:function(a,b){this.transform(1,0,0,1,a,b)},setGradientBBox:function(a){this.bbox=a},beginPath:function(){this.path=new Ext.draw.Path},moveTo:function(a,b){this.path||this.beginPath();this.path.moveTo(a,b);this.path.element=null},lineTo:function(a,b){this.path||this.beginPath();this.path.lineTo(a,b);this.path.element=null},rect:function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()},strokeRect:function(a,
b,c,d){this.beginPath();this.rect(a,b,c,d);this.stroke()},fillRect:function(a,b,c,d){this.beginPath();this.rect(a,b,c,d);this.fill()},closePath:function(){this.path||this.beginPath();this.path.closePath();this.path.element=null},arcSvg:function(a,b,c,d,e,f,g){this.path||this.beginPath();this.path.arcSvg(a,b,c,d,e,f,g);this.path.element=null},arc:function(a,b,c,d,e,f){this.path||this.beginPath();this.path.arc(a,b,c,d,e,f);this.path.element=null},ellipse:function(a,b,c,d,e,f,g,h){this.path||this.beginPath();
this.path.ellipse(a,b,c,d,e,f,g,h);this.path.element=null},arcTo:function(a,b,c,d,e,f,g){this.path||this.beginPath();this.path.arcTo(a,b,c,d,e,f,g);this.path.element=null},bezierCurveTo:function(a,b,c,d,e,f){this.path||this.beginPath();this.path.bezierCurveTo(a,b,c,d,e,f);this.path.element=null},strokeText:function(a,b,c){a=String(a);if(this.strokeStyle){var d=this.getElement("text"),e=this.surface.getSvgElement(d,"tspan",0);this.surface.setElementAttributes(d,{x:b,y:c,transform:this.matrix.toSvg(),
stroke:this.strokeStyle,fill:"none",opacity:this.globalAlpha,"stroke-opacity":this.strokeOpacity,style:"font: "+this.font,"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset});this.lineDash.length&&this.surface.setElementAttributes(d,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset});e.dom.firstChild&&e.dom.removeChild(e.dom.firstChild);this.surface.setElementAttributes(e,{"alignment-baseline":"alphabetic"});e.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(a)))}},
fillText:function(a,b,c){a=String(a);if(this.fillStyle){var d=this.getElement("text"),e=this.surface.getSvgElement(d,"tspan",0);this.surface.setElementAttributes(d,{x:b,y:c,transform:this.matrix.toSvg(),fill:this.fillStyle,opacity:this.globalAlpha,"fill-opacity":this.fillOpacity,style:"font: "+this.font});e.dom.firstChild&&e.dom.removeChild(e.dom.firstChild);this.surface.setElementAttributes(e,{"alignment-baseline":"alphabetic"});e.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(a)))}},
drawImage:function(a,b,c,d,e,f,g,h,k){var l=this.getElement("image"),m=b,n=c,p="undefined"===typeof d?a.width:d,q="undefined"===typeof e?a.height:e,r=null;"undefined"!==typeof k&&(r=b+" "+c+" "+d+" "+e,m=f,n=g,p=h,q=k);l.dom.setAttributeNS("http://www.w3.org/1999/xlink","href",a.src);this.surface.setElementAttributes(l,{viewBox:r,x:m,y:n,width:p,height:q,opacity:this.globalAlpha,transform:this.matrix.toSvg()})},fill:function(){if(this.path&&this.fillStyle){var a,b=this.fillGradient,c=this.bbox,d=
this.path.element;d||(a=this.path.toString(),d=this.path.element=this.getElement("path"),this.surface.setElementAttributes(d,{d:a,transform:this.matrix.toSvg()}));this.surface.setElementAttributes(d,{fill:b&&c?b.generateGradient(this,c):this.fillStyle,"fill-opacity":this.fillOpacity*this.globalAlpha})}},stroke:function(){if(this.path&&this.strokeStyle){var a,b=this.strokeGradient,c=this.bbox,d=this.path.element;if(!d||!this.path.svgString){a=this.path.toString();if(!a)return;d=this.path.element=this.getElement("path");
this.surface.setElementAttributes(d,{fill:"none",d:a,transform:this.matrix.toSvg()})}this.surface.setElementAttributes(d,{stroke:b&&c?b.generateGradient(this,c):this.strokeStyle,"stroke-linecap":this.lineCap,"stroke-linejoin":this.lineJoin,"stroke-width":this.lineWidth,"stroke-opacity":this.strokeOpacity*this.globalAlpha,"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset});this.lineDash.length&&this.surface.setElementAttributes(d,{"stroke-dasharray":this.lineDash.join(","),
"stroke-dashoffset":this.lineDashOffset})}},fillStroke:function(a,b){var c=this.fillStyle,d=this.strokeStyle,e=this.fillOpacity,f=this.strokeOpacity;void 0===b&&(b=a.transformFillStroke);b||a.inverseMatrix.toContext(this);c&&0!==e&&this.fill();d&&0!==f&&this.stroke()},appendPath:function(a){this.path=a.clone()},setLineDash:function(a){this.lineDash=a},getLineDash:function(){return this.lineDash},createLinearGradient:function(a,b,c,d){var e=this.surface.getNextDef("linearGradient"),f=this.group.dom.gradients||
(this.group.dom.gradients={});this.surface.setElementAttributes(e,{x1:a,y1:b,x2:c,y2:d,gradientUnits:"userSpaceOnUse"});a=new Ext.draw.engine.SvgContext.Gradient(this,this.surface,e);return f[e.dom.id]=a},createRadialGradient:function(a,b,c,d,e,f){var g=this.surface.getNextDef("radialGradient"),h=this.group.dom.gradients||(this.group.dom.gradients={});this.surface.setElementAttributes(g,{fx:a,fy:b,cx:d,cy:e,r:f,gradientUnits:"userSpaceOnUse"});a=new Ext.draw.engine.SvgContext.Gradient(this,this.surface,
g,c/f);return h[g.dom.id]=a}});
Ext.define("Ext.draw.engine.SvgContext.Gradient",{statics:{map:{}},constructor:function(a,b,c,d){var e=this.statics().map,f;if(f=e[c.dom.id])f.element=null;e[c.dom.id]=this;this.ctx=a;this.surface=b;this.element=c;this.position=0;this.compression=d||0},addColorStop:function(a,b){var c=this.surface.getSvgElement(this.element,"stop",this.position++),d=this.compression;this.surface.setElementAttributes(c,{offset:(100*((1-d)*a+d)).toFixed(2)+"%","stop-color":b,"stop-opacity":Ext.draw.Color.fly(b).a.toFixed(15)})},toString:function(){for(var a=
this.element.dom.childNodes;a.length>this.position;)Ext.fly(a[a.length-1]).destroy();return"url(#"+this.element.getId()+")"},destroy:function(){var a=this.statics().map,b=this.element;b&&b.dom&&(delete a[b.dom.id],b.destroy());this.callParent()}});
Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,statics:{BBoxTextCache:{}},config:{highPrecision:!1},getElementConfig:function(){return{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"},children:[{tag:"svg",reference:"svgElement",namespace:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:1.1}]}]}},constructor:function(a){this.callParent([a]);this.mainGroup=this.createSvgNode("g");this.defElement=
this.createSvgNode("defs");this.svgElement.appendChild(this.mainGroup);this.svgElement.appendChild(this.defElement);this.ctx=new Ext.draw.engine.SvgContext(this)},createSvgNode:function(a){a=document.createElementNS("http://www.w3.org/2000/svg",a);return Ext.get(a)},getSvgElement:function(a,b,c){var d;if(a.dom.childNodes.length>c){d=a.dom.childNodes[c];if(d.tagName===b)return Ext.get(d);Ext.destroy(d)}d=Ext.get(this.createSvgNode(b));0===c?a.insertFirst(d):d.insertAfter(Ext.fly(a.dom.childNodes[c-
1]));d.cache={};return d},setElementAttributes:function(a,b){var c=a.dom,d=a.cache,e,f;for(e in b)f=b[e],d[e]!==f&&(d[e]=f,c.setAttribute(e,f))},getNextDef:function(a){return this.getSvgElement(this.defElement,a,this.defPosition++)},clearTransform:function(){this.mainGroup.set({transform:this.matrix.toSvg()})},clear:function(){this.ctx.clear();this.defPosition=0},renderSprite:function(a){var b=this.getRect(),c=this.ctx;if(a.attr.hidden||0===a.attr.globalAlpha)c.save();else{a.element=c.save();a.preRender(this);
a.useAttributes(c,b);if(!1===a.render(this,c,[0,0,b[2],b[3]]))return!1;a.setDirty(!1)}c.restore()},flatten:function(a,b){var c='<?xml version="1.0" standalone="yes"?>',d=Ext.getClassName(this),e,f,g,c=c+('<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+a.width+'" height="'+a.height+'">');for(g=0;g<b.length;g++)e=b[g],Ext.getClassName(e)===d&&(f=e.getRect(),c+='<g transform="translate('+f[0]+","+f[1]+')">',c+=this.serializeNode(e.svgElement.dom),c+="</g>");return{data:"data:image/svg+xml;utf8,"+
encodeURIComponent(c+"</svg>"),type:"svg"}},serializeNode:function(a){var b,c,d,e;if(a.nodeType===document.TEXT_NODE)return a.nodeValue;b="<"+a.nodeName;if(a.attributes.length)for(c=0,d=a.attributes.length;c<d;c++)e=a.attributes[c],b+=" "+e.name+'="'+e.value+'"';b+=">";if(a.childNodes&&a.childNodes.length)for(c=0,d=a.childNodes.length;c<d;c++)e=a.childNodes[c],b+=this.serializeNode(e);return b+="</"+a.nodeName+">"},destroy:function(){this.ctx.destroy();this.mainGroup.destroy();delete this.mainGroup;
delete this.ctx;this.callParent()},remove:function(a,b){a&&a.element&&(this.ctx?this.ctx.removeElement(a.element):a.element.destroy(),a.element=null);this.callParent(arguments)}});Ext.draw||(Ext.draw={});Ext.draw.engine||(Ext.draw.engine={});Ext.draw.engine.excanvas=!0;
document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new r(this))}function b(a,b,c){var d=I.call(arguments,2);return function(){return a.apply(b,d.concat(I.call(arguments)))}}function c(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function d(a,b,c){Ext.onReady(function(){a.namespaces[b]||a.namespaces.add(b,c,"#default#VML")})}function e(a){d(a,"g_vml_","urn:schemas-microsoft-com:vml");d(a,"g_o_","urn:schemas-microsoft-com:office:office");
a.styleSheets.ex_canvas_||(a=a.createStyleSheet(),a.owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function f(a){var b=a.srcElement;switch(a.propertyName){case "width":b.getContext().clearRect();b.style.width=b.attributes.width.nodeValue+"px";b.firstChild.style.width=b.clientWidth+"px";break;case "height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+
"px"}}function g(a){a=a.srcElement;a.firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function h(){return[[1,0,0],[0,1,0],[0,0,1]]}function k(a,b){for(var c=h(),d=0;3>d;d++)for(var e=0;3>e;e++){for(var f=0,g=0;3>g;g++)f+=a[d][g]*b[g][e];c[d][e]=f}return c}function l(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineDash=a.lineDash;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=
a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}function m(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),b=a.substring(b+1,c).split(",");if(4!=b.length||"a"!=a.charAt(3))b[3]=1;return b}function n(a,b,c){return Math.min(c,Math.max(b,a))}function p(a,b,c){0>c&&c++;1<c&&
c--;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function q(a){if(a in L)return L[a];var b,c=1;a=String(a);if("#"==a.charAt(0))b=a;else if(/^rgb/.test(a)){c=m(a);b="#";for(var d,e=0;3>e;e++)d=-1!=c[e].indexOf("%")?Math.floor(parseFloat(c[e])/100*255):+c[e],b+=K[n(d,0,255)];c=+c[3]}else if(/^hsl/.test(a)){e=c=m(a);b=parseFloat(e[0])/360%360;0>b&&b++;d=n(parseFloat(e[1])/100,0,1);e=n(parseFloat(e[2])/100,0,1);if(0==d)d=e=b=e;else{var f=.5>e?e*(1+d):e+d-e*d,g=2*e-f;d=p(g,f,b+1/3);e=p(g,
f,b);b=p(g,f,b-1/3)}b="#"+K[Math.floor(255*d)]+K[Math.floor(255*e)]+K[Math.floor(255*b)];c=c[3]}else b=Q[a]||a;return L[a]={color:b,alpha:c}}function r(a){this.m_=h();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineDash=[];this.lineCap="butt";this.miterLimit=10;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+
a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b;a.appendChild(c);b=c.cloneNode(!1);b.style.backgroundColor="red";b.style.filter="alpha(opacity=0)";a.appendChild(b);this.element_=c;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function t(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y});a.currentX_=d.x;a.currentY_=d.y}function u(a,b){var c=q(a.strokeStyle),d=c.color,c=c.alpha*a.globalAlpha,
e=a.lineScale_*a.lineWidth;1>e&&(c*=e);b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',a.lineJoin,'"',' dashstyle="',a.lineDash.join(" "),'"',' miterlimit="',a.miterLimit,'"',' endcap="',V[a.lineCap]||"square",'"',' weight="',e,'px"',' color="',d,'" />')}function v(a,b,c,d){var e=a.fillStyle,f=a.arcScaleX_,g=a.arcScaleY_,h=d.x-c.x,k=d.y-c.y;if(e instanceof x){var l=0,m=d=0,n=0,p=1;if("gradient"==e.type_){l=e.x1_/f;c=e.y1_/g;var r=w(a,e.x0_/f,e.y0_/g),l=w(a,l,c),l=180*Math.atan2(l.x-r.x,
l.y-r.y)/Math.PI;0>l&&(l+=360);1E-6>l&&(l=0)}else r=w(a,e.x0_,e.y0_),d=(r.x-c.x)/h,m=(r.y-c.y)/k,p=C.max(h/(10*f),k/(10*g)),n=2*e.r0_/p,p=2*e.r1_/p-n;f=e.colors_;f.sort(function(a,b){return a.offset-b.offset});g=f.length;r=f[0].color;c=f[g-1].color;h=f[0].alpha*a.globalAlpha;a=f[g-1].alpha*a.globalAlpha;for(var k=[],t=0;t<g;t++){var u=f[t];k.push(u.offset*p+n+" "+u.color)}b.push('<g_vml_:fill type="',e.type_,'"',' method="none" focus="100%"',' color="',r,'"',' color2="',c,'"',' colors="',k.join(","),
'"',' opacity="',a,'"',' g_o_:opacity2="',h,'"',' angle="',l,'"',' focusposition="',d,",",m,'" />')}else e instanceof z?h&&k&&b.push("<g_vml_:fill",' position="',-c.x/h*f*f,",",-c.y/k*g*g,'"',' type="tile"',' src="',e.src_,'" />'):(e=q(a.fillStyle),b.push('<g_vml_:fill color="',e.color,'" opacity="',e.alpha*a.globalAlpha,'" />'))}function w(a,b,c){a=a.m_;return{x:10*(b*a[0][0]+c*a[1][0]+a[2][0])-5,y:10*(b*a[0][1]+c*a[1][1]+a[2][1])-5}}function y(a,b,c){isFinite(b[0][0])&&isFinite(b[0][1])&&isFinite(b[1][0])&&
isFinite(b[1][1])&&isFinite(b[2][0])&&isFinite(b[2][1])&&(a.m_=b,c&&(a.lineScale_=E(G(b[0][0]*b[1][1]-b[0][1]*b[1][0]))))}function x(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function z(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new A("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new A("INVALID_STATE_ERR");switch(b){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=
b;break;default:throw new A("SYNTAX_ERR");}this.src_=a.src;this.width_=a.width;this.height_=a.height}function A(a){this.code=this[a];this.message=a+": DOM Exception "+this.code}var C=Math,B=C.round,H=C.sin,D=C.cos,G=C.abs,E=C.sqrt;navigator.userAgent.match(/MSIE ([\d.]+)?/);var I=Array.prototype.slice;e(document);var J={init:function(a){a=a||document;a.createElement("canvas");a.attachEvent("onreadystatechange",b(this.init_,this,a))},init_:function(a){a=a.getElementsByTagName("canvas");for(var b=0;b<
a.length;b++)this.initElement(a[b])},initElement:function(b){if(!b.getContext){b.getContext=a;e(b.ownerDocument);b.innerHTML="";b.attachEvent("onpropertychange",f);b.attachEvent("onresize",g);var c=b.attributes;c.width&&c.width.specified?b.style.width=c.width.nodeValue+"px":b.width=b.clientWidth;c.height&&c.height.specified?b.style.height=c.height.nodeValue+"px":b.height=b.clientHeight}return b}};J.init();for(var K=[],F=0;16>F;F++)for(var N=0;16>N;N++)K[16*F+N]=F.toString(16)+N.toString(16);var Q=
{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",
darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",
grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",
lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",
orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",
tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},L={},M={},V={butt:"flat",round:"round"},F=r.prototype;F.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};F.beginPath=function(){this.currentPath_=[]};F.moveTo=function(a,b){var c=w(this,a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=
c.y};F.lineTo=function(a,b){var c=w(this,a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};F.bezierCurveTo=function(a,b,c,d,e,f){e=w(this,e,f);a=w(this,a,b);c=w(this,c,d);t(this,a,c,e)};F.quadraticCurveTo=function(a,b,c,d){a=w(this,a,b);c=w(this,c,d);d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};t(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)};F.arc=function(a,b,c,d,e,f){c*=10;var g=f?"at":
"wa",h=a+D(d)*c-5,k=b+H(d)*c-5;d=a+D(e)*c-5;e=b+H(e)*c-5;h!=d||f||(h+=.125);a=w(this,a,b);h=w(this,h,k);d=w(this,d,e);this.currentPath_.push({type:g,x:a.x,y:a.y,radius:c,xStart:h.x,yStart:h.y,xEnd:d.x,yEnd:d.y})};F.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};F.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();
this.currentPath_=e};F.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.fill();this.currentPath_=e};F.createLinearGradient=function(a,b,c,d){var e=new x("gradient");e.x0_=a;e.y0_=b;e.x1_=c;e.y1_=d;return e};F.createRadialGradient=function(a,b,c,d,e,f){var g=new x("gradientradial");g.x0_=a;g.y0_=b;g.r0_=c;g.x1_=d;g.y1_=e;g.r1_=f;return g};F.drawImage=function(a,b){var c,d,e,f,g,h,k,
l;e=a.runtimeStyle.width;f=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var m=a.width,n=a.height;a.runtimeStyle.width=e;a.runtimeStyle.height=f;if(3==arguments.length)c=arguments[1],d=arguments[2],g=h=0,k=e=m,l=f=n;else if(5==arguments.length)c=arguments[1],d=arguments[2],e=arguments[3],f=arguments[4],g=h=0,k=m,l=n;else if(9==arguments.length)g=arguments[1],h=arguments[2],k=arguments[3],l=arguments[4],c=arguments[5],d=arguments[6],e=arguments[7],f=arguments[8];else throw Error("Invalid number of arguments");
c=w(this,c,d);d=[];var p=this.m_;d.push(" <g_vml_:group",' coordsize="',100,",",100,'"',' coordorigin="0,0"',' style="width:',B(10*p[0][0]),"px;height:",B(10*p[1][1]),"px;position:absolute;","top:",B(c.y/10),"px;left:",B(c.x/10),"px; rotation:",B(180*Math.atan(p[0][1]/p[1][1])/Math.PI),";");d.push('" >','<g_vml_:image src="',a.src,'"',' style="width:',10*e,"px;"," height:",10*f,'px"',' cropleft="',g/m,'"',' croptop="',h/n,'"',' cropright="',(m-g-k)/m,'"',' cropbottom="',(n-h-l)/n,'"'," />","</g_vml_:group>");
this.element_.insertAdjacentHTML("BeforeEnd",d.join(""))};F.setLineDash=function(a){1===a.length&&(a=a.slice(),a[1]=a[0]);this.lineDash=a};F.getLineDash=function(){return this.lineDash};F.stroke=function(a){var b=[];b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;left:0px;top:0px;"',' coordorigin="0,0"',' coordsize="',100,",",100,'"',' stroked="',!a,'"',' path="');for(var c={x:null,y:null},d={x:null,y:null},e=0;e<this.currentPath_.length;e++){var f=
this.currentPath_[e];switch(f.type){case "moveTo":b.push(" m ",B(f.x),",",B(f.y));break;case "lineTo":b.push(" l ",B(f.x),",",B(f.y));break;case "close":b.push(" x ");f=null;break;case "bezierCurveTo":b.push(" c ",B(f.cp1x),",",B(f.cp1y),",",B(f.cp2x),",",B(f.cp2y),",",B(f.x),",",B(f.y));break;case "at":case "wa":b.push(" ",f.type," ",B(f.x-this.arcScaleX_*f.radius),",",B(f.y-this.arcScaleY_*f.radius)," ",B(f.x+this.arcScaleX_*f.radius),",",B(f.y+this.arcScaleY_*f.radius)," ",B(f.xStart),",",B(f.yStart),
" ",B(f.xEnd),",",B(f.yEnd))}if(f){if(null==c.x||f.x<c.x)c.x=f.x;if(null==d.x||f.x>d.x)d.x=f.x;if(null==c.y||f.y<c.y)c.y=f.y;if(null==d.y||f.y>d.y)d.y=f.y}}b.push(' ">');a?v(this,b,c,d):u(this,b);b.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",b.join(""))};F.fill=function(){this.$stroke(!0)};F.closePath=function(){this.currentPath_.push({type:"close"})};F.save=function(){var a={};l(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=k(h(),this.m_)};F.restore=function(){this.aStack_.length&&
(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};F.translate=function(a,b){y(this,k([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};F.rotate=function(a){var b=D(a);a=H(a);y(this,k([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};F.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;y(this,k([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};F.transform=function(a,b,c,d,e,f){y(this,k([[a,b,0],[c,d,0],[e,f,1]],this.m_),!0)};F.setTransform=function(a,b,c,d,e,f){y(this,[[a,b,0],[c,d,0],[e,f,1]],!0)};F.drawText_=function(a,
b,d,e,f){var g=this.m_;e=0;var h=1E3,k=0,l=[],m;m=this.font;if(M[m])m=M[m];else{var n=document.createElement("div").style;try{n.font=m}catch(p){}m=M[m]={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:n.fontSize||10,family:n.fontFamily||"sans-serif"}}var n=m,q=this.element_;m={};for(var r in n)m[r]=n[r];r=parseFloat(q.currentStyle.fontSize);q=parseFloat(n.size);"number"==typeof n.size?m.size=n.size:-1!=n.size.indexOf("px")?m.size=q:-1!=n.size.indexOf("em")?
m.size=r*q:-1!=n.size.indexOf("%")?m.size=r/100*q:-1!=n.size.indexOf("pt")?m.size=q/.75:m.size=r;m.size*=.981;r=m.style+" "+m.variant+" "+m.weight+" "+m.size+"px "+m.family;q=this.element_.currentStyle;n=this.textAlign.toLowerCase();switch(n){case "left":case "center":case "right":break;case "end":n="ltr"==q.direction?"right":"left";break;case "start":n="rtl"==q.direction?"right":"left";break;default:n="left"}switch(this.textBaseline){case "hanging":case "top":k=m.size/1.75;break;case "middle":break;
default:case null:case "alphabetic":case "ideographic":case "bottom":k=-m.size/3}switch(n){case "right":e=1E3;h=.05;break;case "center":e=h=500}b=w(this,b+0,d+k);l.push('<g_vml_:line from="',-e,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!f,'" stroked="',!!f,'" style="position:absolute;width:1px;height:1px;left:0px;top:0px;">');f?u(this,l):v(this,l,{x:-e,y:0},{x:h,y:m.size});f=g[0][0].toFixed(3)+","+g[1][0].toFixed(3)+","+g[0][1].toFixed(3)+","+g[1][1].toFixed(3)+",0,0";
b=B(b.x/10)+","+B(b.y/10);l.push('<g_vml_:skew on="t" matrix="',f,'" ',' offset="',b,'" origin="',e,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',c(a),'" style="v-text-align:',n,";font:",c(r),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",l.join(""))};F.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)};F.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)};F.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};F.clip=function(){};F.arcTo=function(){};F.createPattern=function(a,b){return new z(a,b)};x.prototype.addColorStop=function(a,b){b=q(b);this.colors_.push({offset:a,
color:b.color,alpha:b.alpha})};F=A.prototype=Error();F.INDEX_SIZE_ERR=1;F.DOMSTRING_SIZE_ERR=2;F.HIERARCHY_REQUEST_ERR=3;F.WRONG_DOCUMENT_ERR=4;F.INVALID_CHARACTER_ERR=5;F.NO_DATA_ALLOWED_ERR=6;F.NO_MODIFICATION_ALLOWED_ERR=7;F.NOT_FOUND_ERR=8;F.NOT_SUPPORTED_ERR=9;F.INUSE_ATTRIBUTE_ERR=10;F.INVALID_STATE_ERR=11;F.SYNTAX_ERR=12;F.INVALID_MODIFICATION_ERR=13;F.NAMESPACE_ERR=14;F.INVALID_ACCESS_ERR=15;F.VALIDATION_ERR=16;F.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=J;CanvasRenderingContext2D=r;CanvasGradient=
x;CanvasPattern=z;DOMException=A}();
Ext.define("Ext.draw.engine.Canvas",{extend:Ext.draw.Surface,config:{highPrecision:!1},statics:{contextOverrides:{setGradientBBox:function(a){this.bbox=a},fill:function(){var a=this.fillStyle,b=this.fillGradient,c=this.fillOpacity,d=this.globalAlpha,e=this.bbox;a!==Ext.draw.Color.RGBA_NONE&&0!==c&&(b&&e&&(this.fillStyle=b.generateGradient(this,e)),1!==c&&(this.globalAlpha=d*c),this.$fill(),1!==c&&(this.globalAlpha=d),b&&e&&(this.fillStyle=a))},stroke:function(){var a=this.strokeStyle,b=this.strokeGradient,
c=this.strokeOpacity,d=this.globalAlpha,e=this.bbox;a!==Ext.draw.Color.RGBA_NONE&&0!==c&&(b&&e&&(this.strokeStyle=b.generateGradient(this,e)),1!==c&&(this.globalAlpha=d*c),this.$stroke(),1!==c&&(this.globalAlpha=d),b&&e&&(this.strokeStyle=a))},fillStroke:function(a,b){var c=this.fillStyle,d=this.fillOpacity,e=this.strokeStyle,f=this.strokeOpacity,g=this.shadowColor,h=this.shadowBlur,k=Ext.draw.Color.RGBA_NONE;void 0===b&&(b=a.transformFillStroke);b||a.inverseMatrix.toContext(this);c!==k&&0!==d&&(this.fill(),
this.shadowColor=k,this.shadowBlur=0);e!==k&&0!==f&&this.stroke();this.shadowColor=g;this.shadowBlur=h},setLineDash:function(a){this.$setLineDash&&this.$setLineDash(a)},getLineDash:function(){if(this.$getLineDash)return this.$getLineDash()},ellipse:function(a,b,c,d,e,f,g,h){var k=Math.cos(e);e=Math.sin(e);this.transform(k*c,e*c,-e*d,k*d,a,b);this.arc(0,0,1,f,g,h);this.transform(k/c,-e/d,e/c,k/d,-(k*a+e*b)/c,(e*a-k*b)/d)},appendPath:function(a){var b=0,c=0,d=a.commands;a=a.params;var e=d.length;for(this.beginPath();b<
e;b++)switch(d[b]){case "M":this.moveTo(a[c],a[c+1]);c+=2;break;case "L":this.lineTo(a[c],a[c+1]);c+=2;break;case "C":this.bezierCurveTo(a[c],a[c+1],a[c+2],a[c+3],a[c+4],a[c+5]);c+=6;break;case "Z":this.closePath()}},save:function(){for(var a=this.toSave,b=a.length,c=b&&{},d=0,e;d<b;d++)e=a[d],e in this&&(c[e]=this[e]);this.state.push(c);this.$save()},restore:function(){var a=this.state.pop(),b;if(a)for(b in a)this[b]=a[b];this.$restore()}}},splitThreshold:3E3,toSave:["fillGradient","strokeGradient"],
element:{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"}}]},createCanvas:function(){var a=Ext.Element.create({tag:"canvas",cls:Ext.baseCSSPrefix+"surface-canvas"});window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(a.dom);var b=Ext.draw.engine.Canvas.contextOverrides,c=a.dom.getContext("2d"),d;c.ellipse&&delete b.ellipse;c.state=[];c.toSave=this.toSave;for(d in b)c["$"+d]=c[d];Ext.apply(c,b);this.getHighPrecision()?
this.enablePrecisionCompensation(c):this.disablePrecisionCompensation(c);this.innerElement.appendChild(a);this.canvases.push(a);this.contexts.push(c)},updateHighPrecision:function(a){var b=this.contexts,c=b.length,d,e;for(d=0;d<c;d++)e=b[d],a?this.enablePrecisionCompensation(e):this.disablePrecisionCompensation(e)},precisionNames:"rect fillRect strokeRect clearRect moveTo lineTo arc arcTo save restore updatePrecisionCompensate setTransform transform scale translate rotate quadraticCurveTo bezierCurveTo createLinearGradient createRadialGradient fillText strokeText drawImage".split(" "),
disablePrecisionCompensation:function(a){var b=Ext.draw.engine.Canvas.contextOverrides,c=this.precisionNames,d=c.length,e,f;for(e=0;e<d;e++)f=c[e],f in b||delete a[f];this.setDirty(!0)},enablePrecisionCompensation:function(a){var b=this,c=1,d=1,e=0,f=0,g=new Ext.draw.Matrix,h=[],k={},l=Ext.draw.engine.Canvas.contextOverrides,m=a.constructor.prototype;Ext.apply(a,{toSave:b.toSave,rect:function(a,b,g,h){return m.rect.call(this,a*c+e,b*d+f,g*c,h*d)},fillRect:function(a,b,g,h){this.updatePrecisionCompensateRect();
m.fillRect.call(this,a*c+e,b*d+f,g*c,h*d);this.updatePrecisionCompensate()},strokeRect:function(a,b,g,h){this.updatePrecisionCompensateRect();m.strokeRect.call(this,a*c+e,b*d+f,g*c,h*d);this.updatePrecisionCompensate()},clearRect:function(a,b,g,h){return m.clearRect.call(this,a*c+e,b*d+f,g*c,h*d)},moveTo:function(a,b){return m.moveTo.call(this,a*c+e,b*d+f)},lineTo:function(a,b){return m.lineTo.call(this,a*c+e,b*d+f)},arc:function(a,b,d,g,h,k){this.updatePrecisionCompensateRect();m.arc.call(this,a*
c+e,b*c+f,d*c,g,h,k);this.updatePrecisionCompensate()},arcTo:function(a,b,g,h,k){this.updatePrecisionCompensateRect();m.arcTo.call(this,a*c+e,b*d+f,g*c+e,h*d+f,k*c);this.updatePrecisionCompensate()},save:function(){h.push(g);g=g.clone();l.save.call(this);m.save.call(this)},restore:function(){g=h.pop();l.restore.call(this);m.restore.call(this);this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){g.precisionCompensate(b.devicePixelRatio,k);c=k.xx;d=k.yy;e=k.dx;f=k.dy;m.setTransform.call(this,
b.devicePixelRatio,k.b,k.c,k.d,0,0)},updatePrecisionCompensateRect:function(){g.precisionCompensateRect(b.devicePixelRatio,k);c=k.xx;d=k.yy;e=k.dx;f=k.dy;m.setTransform.call(this,b.devicePixelRatio,k.b,k.c,k.d,0,0)},setTransform:function(a,b,c,d,e,f){g.set(a,b,c,d,e,f);this.updatePrecisionCompensate()},transform:function(a,b,c,d,e,f){g.append(a,b,c,d,e,f);this.updatePrecisionCompensate()},scale:function(a,b){this.transform(a,0,0,b,0,0)},translate:function(a,b){this.transform(1,0,0,1,a,b)},rotate:function(a){var b=
Math.cos(a);a=Math.sin(a);this.transform(b,a,-a,b,0,0)},quadraticCurveTo:function(a,b,g,h){m.quadraticCurveTo.call(this,a*c+e,b*d+f,g*c+e,h*d+f)},bezierCurveTo:function(a,b,g,h,k,l){m.bezierCurveTo.call(this,a*c+e,b*d+f,g*c+e,h*d+f,k*c+e,l*d+f)},createLinearGradient:function(a,b,g,h){this.updatePrecisionCompensateRect();a=m.createLinearGradient.call(this,a*c+e,b*d+f,g*c+e,h*d+f);this.updatePrecisionCompensate();return a},createRadialGradient:function(a,b,d,g,h,k){this.updatePrecisionCompensateRect();
a=m.createLinearGradient.call(this,a*c+e,b*c+f,d*c,g*c+e,h*c+f,k*c);this.updatePrecisionCompensate();return a},fillText:function(a,b,c,d){m.setTransform.apply(this,g.elements);"undefined"===typeof d?m.fillText.call(this,a,b,c):m.fillText.call(this,a,b,c,d);this.updatePrecisionCompensate()},strokeText:function(a,b,c,d){m.setTransform.apply(this,g.elements);"undefined"===typeof d?m.strokeText.call(this,a,b,c):m.strokeText.call(this,a,b,c,d);this.updatePrecisionCompensate()},fill:function(){var a=this.fillGradient,
b=this.bbox;this.updatePrecisionCompensateRect();a&&b&&(this.fillStyle=a.generateGradient(this,b));m.fill.call(this);this.updatePrecisionCompensate()},stroke:function(){var a=this.strokeGradient,b=this.bbox;this.updatePrecisionCompensateRect();a&&b&&(this.strokeStyle=a.generateGradient(this,b));m.stroke.call(this);this.updatePrecisionCompensate()},drawImage:function(a,b,g,h,k,l,v,w,y){switch(arguments.length){case 3:return m.drawImage.call(this,a,b*c+e,g*d+f);case 5:return m.drawImage.call(this,a,
b*c+e,g*d+f,h*c,k*d);case 9:return m.drawImage.call(this,a,b,g,h,k,l*c+e,v*d*f,w*c,y*d)}}});this.setDirty(!0)},updateRect:function(a){this.callParent([a]);var b=this.devicePixelRatio,c=this.canvases,d=Math.ceil(a[0]+a[2])-Math.floor(a[0]);a=Math.ceil(a[1]+a[3])-Math.floor(a[1]);var e=Math.round(this.splitThreshold/b),f=this.xSplits=Math.ceil(d/e),g=this.ySplits=Math.ceil(a/e),h,k,l,m,n,p,q;for(n=k=0;k<g;k++,n+=e)for(m=h=0;h<f;h++,m+=e)l=k*f+h,l>=c.length&&this.createCanvas(),p=c[l].dom,p.style.left=
m+"px",p.style.top=n+"px",q=Math.min(e,a-n),q*b!==p.height&&(p.height=q*b,p.style.height=q+"px"),q=Math.min(e,d-m),q*b!==p.width&&(p.width=q*b,p.style.width=q+"px"),this.applyDefaults(this.contexts[l]);for(l+=1;l<c.length;l++)c[l].destroy();this.activeCanvases=f*g;c.length=this.activeCanvases;this.clear()},clearTransform:function(){var a=this.xSplits,b=this.ySplits,c=this.contexts,d=this.splitThreshold,e=this.devicePixelRatio,f,g,h;for(f=0;f<a;f++)for(g=0;g<b;g++)h=g*a+f,h=c[h],h.translate(-d*f,-d*
g),h.scale(e,e),this.matrix.toContext(h)},renderSprite:function(a){for(var b=this.getRect(),c=this.matrix,d=a.getParent(),e=Ext.draw.Matrix.fly([1,0,0,1,0,0]),f=this.splitThreshold/this.devicePixelRatio,g=this.xSplits,h=this.ySplits,k,l,m,n,p,q,r,t=b[2],u=b[3],v,w;d&&d!==this;)e.prependMatrix(d.matrix||d.attr&&d.attr.matrix),d=d.getParent();e.prependMatrix(c);(c=a.getBBox())&&(c=e.transformBBox(c));a.preRender(this);if(!a.attr.hidden&&0!==a.attr.globalAlpha)for(d=w=0;w<h;w++,d+=f)for(e=v=0;v<g;v++,
e+=f)if(k=w*g+v,k=this.contexts[k],l=Math.min(f,t-e),m=Math.min(f,u-d),n=e,p=n+l,q=d,r=q+m,!c||!(c.x>p||c.x+c.width<n||c.y>r||c.y+c.height<q)){k.save();a.useAttributes(k,b);if(!1===a.render(this,k,[n,q,l,m],b))return!1;k.restore()}a.setDirty(!1)},flatten:function(a,b){var c=document.createElement("canvas"),d=Ext.getClassName(this),e=this.devicePixelRatio,f=c.getContext("2d"),g,h,k,l,m,n;c.width=Math.ceil(a.width*e);c.height=Math.ceil(a.height*e);for(l=0;l<b.length;l++)if(g=b[l],Ext.getClassName(g)===
d)for(k=g.getRect(),m=0;m<g.canvases.length;m++)h=g.canvases[m],n=h.getOffsetsTo(h.getParent()),f.drawImage(h.dom,(k[0]+n[0])*e,(k[1]+n[1])*e);return{data:c.toDataURL(),type:"png"}},applyDefaults:function(a){var b=Ext.draw.Color.RGBA_NONE;a.strokeStyle=b;a.fillStyle=b;a.textAlign="start";a.textBaseline="alphabetic";a.miterLimit=1},clear:function(){var a=this.activeCanvases,b,c,d;for(b=0;b<a;b++)c=this.canvases[b].dom,d=this.contexts[b],d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,c.width,c.height);
this.setDirty(!0)},destroy:function(){var a,b=this.canvases.length;for(a=0;a<b;a++)this.contexts[a]=null,this.canvases[a].destroy(),this.canvases[a]=null;delete this.contexts;delete this.canvases;this.callParent()},privates:{initElement:function(){this.callParent();this.canvases=[];this.contexts=[];this.activeCanvases=(this.xSplits=0)*(this.ySplits=0)}}},function(){var a=this.prototype,b=1E10;Ext.os.is.Android4&&Ext.browser.is.Chrome?b=3E3:Ext.is.iOS&&(b=2200);a.splitThreshold=b});
Ext.define("Ext.draw.Container",{extend:Ext.draw.ContainerBase,alternateClassName:"Ext.draw.Component",xtype:"draw",defaultType:"surface",isDrawContainer:!0,engine:"Ext.draw.engine.Canvas",config:{cls:Ext.baseCSSPrefix+"draw-container",resizeHandler:null,sprites:null,gradients:[]},defaultDownloadServerUrl:"http://svg.sencha.io",supportedFormats:["png","pdf","jpeg","gif"],supportedOptions:{version:Ext.isNumber,data:Ext.isString,format:function(a){return 0<=Ext.Array.indexOf(this.supportedFormats,a)},
filename:Ext.isString,width:Ext.isNumber,height:Ext.isNumber,scale:Ext.isNumber,pdf:Ext.isObject,jpeg:Ext.isObject},initAnimator:function(){this.frameCallbackId=Ext.draw.Animator.addFrameCallback("renderFrame",this)},applyGradients:function(a){var b=[],c,d,e,f;if(!Ext.isArray(a))return b;c=0;for(d=a.length;c<d;c++)if(e=a[c],Ext.isObject(e)){"string"!==typeof e.type&&(e.type="linear");e.angle&&(e.degrees=e.angle,delete e.angle);if(Ext.isObject(e.stops)){var g=e,h=e.stops,k=[],l;for(f in h)l=h[f],l.offset=
f/100,k.push(l);g.stops=k}b.push(e)}Ext.draw.gradient.GradientDefinition.add(b);return b},applySprites:function(a){if(a){a=Ext.Array.from(a);var b=a.length,c=[],d,e,f;for(d=0;d<b;d++)f=a[d],(e=f.surface)&&e.isSurface||(e=Ext.isString(e)?this.getSurface(e):this.getSurface("main")),f=e.add(f),c.push(f);return c}},onBodyResize:function(){var a=this.element;a&&(a=a.getSize(),a.width&&a.height&&this.setBodySize(a))},setBodySize:function(a){var b=this.getResizeHandler()||this.defaultResizeHandler;this.fireEvent("bodyresize",
this,a);!1!==b.call(this,a)&&this.renderFrame()},defaultResizeHandler:function(a){this.getItems().each(function(b){b.setRect([0,0,a.width,a.height])})},getSurface:function(a){a=this.getId()+"-"+(a||"main");var b=this.getItems().get(a);b||(b=this.add({xclass:this.engine,id:a}),this.onBodyResize());return b},renderFrame:function(){var a=this.getItems(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a.items[b],d.isSurface&&d.renderFrame()},getImage:function(a){var b=this.innerElement.getSize(),c=Array.prototype.slice.call(this.items.items),
d=this.surfaceZIndexes,e,f,g,h;for(f=1;f<c.length;f++){g=c[f];h=d[g.type];for(e=f-1;0<=e&&d[c[e].type]>h;)c[e+1]=c[e],e--;c[e+1]=g}b=c[0].flatten(b,c);if("image"===a)return a=new Image,a.src=b.data,b.data=a,b;"stream"===a&&(b.data=b.data.replace(/^data:image\/[^;]+/,"data:application/octet-stream"));return b},download:function(a){var b=[],c,d;a=Ext.apply({version:2,data:this.getImage().data},a);for(c in a)a.hasOwnProperty(c)&&(d=a[c],c in this.supportedOptions&&this.supportedOptions[c].call(this,
d)&&b.push({tag:"input",type:"hidden",name:c,value:Ext.String.htmlEncode(Ext.isObject(d)?Ext.JSON.encode(d):d)}));a=Ext.dom.Helper.markup({tag:"html",children:[{tag:"head"},{tag:"body",children:[{tag:"form",method:"POST",action:a.url||this.defaultDownloadServerUrl,children:b},{tag:"script",type:"text/javascript",children:'document.getElementsByTagName("form")[0].submit();'}]}]});window.open("","ImageDownload_"+Date.now()).document.write(a)},destroy:function(){var a=this.frameCallbackId;a&&Ext.draw.Animator.removeFrameCallback(a);
this.callParent()}},function(){if(location.search.match("svg"))Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg";else if(Ext.os.is.BlackBerry&&10===Ext.os.version.getMajor()||Ext.browser.is.AndroidStock4&&(1===Ext.os.version.getMinor()||2===Ext.os.version.getMinor()||3===Ext.os.version.getMinor()))Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg"});
Ext.define("Ext.chart.theme.Base",{mixins:{factoryable:Ext.mixin.Factoryable},factoryConfig:{type:"chart.theme"},isTheme:!0,config:{baseColor:null,colors:void 0,gradients:null,chart:{defaults:{background:"white"}},axis:{defaults:{label:{x:0,y:0,textBaseline:"middle",textAlign:"center",fontSize:"default",fontFamily:"default",fontWeight:"default",fillStyle:"black"},title:{fillStyle:"black",fontSize:"default*1.23",fontFamily:"default",fontWeight:"default"},style:{strokeStyle:"black"},grid:{strokeStyle:"rgb(221, 221, 221)"}},
top:{style:{textPadding:5}},bottom:{style:{textPadding:5}}},series:{defaults:{label:{fillStyle:"black",strokeStyle:"none",fontFamily:"default",fontWeight:"default",fontSize:"default*1.077",textBaseline:"middle",textAlign:"center"},labelOverflowPadding:5}},sprites:{text:{fontSize:"default",fontWeight:"default",fontFamily:"default",fillStyle:"black"}},seriesThemes:void 0,markerThemes:{type:"circle cross plus square triangle diamond".split(" ")},useGradients:!1,background:null},colorDefaults:"#94ae0a #115fa6 #a61120 #ff8809 #ffd13e #a61187 #24ad9a #7c7474 #a66111".split(" "),
constructor:function(a){this.initConfig(a);this.resolveDefaults()},defaultRegEx:/^default([+\-/\*]\d+(?:\.\d+)?)?$/,defaultOperators:{"*":function(a,b){return a*b},"+":function(a,b){return a+b},"-":function(a,b){return a-b}},resolveDefaults:function(){var a=this;Ext.onReady(function(){var b=Ext.clone(a.getSprites()),c=Ext.clone(a.getAxis()),d=Ext.clone(a.getSeries()),e,f;a.superclass.defaults||(e=Ext.getBody().createChild({tag:"div",cls:"x-component"}),a.superclass.defaults={fontFamily:e.getStyle("fontFamily"),
fontWeight:e.getStyle("fontWeight"),fontSize:parseFloat(e.getStyle("fontSize")),fontVariant:e.getStyle("fontVariant"),fontStyle:e.getStyle("fontStyle")},e.destroy());a.replaceDefaults(b.text);a.setSprites(b);for(f in c)b=c[f],a.replaceDefaults(b.label),a.replaceDefaults(b.title);a.setAxis(c);for(f in d)b=d[f],a.replaceDefaults(b.label);a.setSeries(d)})},replaceDefaults:function(a){var b=this.superclass.defaults,c=this.defaultRegEx,d,e,f,g;if(Ext.isObject(a))for(d in b)if(f=c.exec(a[d])){e=b[d];if(f=
f[1])g=this.defaultOperators[f.charAt(0)],e=Math.round(g(e,parseFloat(f.substr(1))));a[d]=e}},applyBaseColor:function(a){var b,c;a&&(b=a.isColor?a:Ext.draw.Color.fromString(a),c=b.getHSL()[2],.15>c?b=b.createLighter(.3):.3>c?b=b.createLighter(.15):.85<c?b=b.createDarker(.3):.7<c&&(b=b.createDarker(.15)),this.setColors([b.createDarker(.3).toString(),b.createDarker(.15).toString(),b.toString(),b.createLighter(.12).toString(),b.createLighter(.24).toString(),b.createLighter(.31).toString()]));return a},
applyColors:function(a){return a||this.colorDefaults},updateUseGradients:function(a){a&&this.updateGradients({type:"linear",degrees:90})},updateBackground:function(a){if(a){var b=this.getChart();b.defaults.background=a;this.setChart(b)}},updateGradients:function(a){var b=this.getColors(),c=[],d,e,f,g;if(Ext.isObject(a)){f=0;for(g=b&&b.length||0;f<g;f++)if(d=Ext.draw.Color.fromString(b[f]))e=d.createLighter(.15).toString(),d=Ext.apply(Ext.Object.chain(a),{stops:[{offset:1,color:d.toString()},{offset:0,
color:e.toString()}]}),c.push(d);this.setColors(c)}},applySeriesThemes:function(a){this.getBaseColor();this.getUseGradients();this.getGradients();var b=this.getColors();a||(a={fillStyle:Ext.Array.clone(b),strokeStyle:Ext.Array.map(b,function(a){return Ext.draw.Color.fromString(a.stops?a.stops[0].color:a).createDarker(.15).toString()})});return a}});Ext.define("Ext.chart.theme.Default",{extend:Ext.chart.theme.Base,singleton:!0,alias:["chart.theme.default","chart.theme.Base"]});
Ext.define("Ext.chart.Markers",{extend:Ext.draw.sprite.Instancing,isMarkers:!0,defaultCategory:"default",constructor:function(){this.callParent(arguments);this.categories={};this.revisions={}},destroy:function(){this.revisions=this.categories=null;this.callParent()},getMarkerFor:function(a,b){if(a in this.categories){var c=this.categories[a];if(b in c)return this.get(c[b])}},clear:function(a){a=a||this.defaultCategory;a in this.revisions?this.revisions[a]++:this.revisions[a]=1},putMarkerFor:function(a,
b,c,d,e){a=a||this.defaultCategory;var f=this.categories[a]||(this.categories[a]={});c in f?this.setAttributesFor(f[c],b,d):(f[c]=this.getCount(),this.createInstance(b,d));if(b=this.get(f[c]))b.category=a,e||(b.revision=this.revisions[a]||(this.revisions[a]=1))},getMarkerBBoxFor:function(a,b,c){if(a in this.categories&&(a=this.categories[a],b in a))return this.getBBoxFor(a[b],c)},getBBox:function(){return null},render:function(a,b,c){var d=this.revisions,e=this.attr.matrix,f=this.getTemplate(),g=
f.attr,h,k;e.toContext(b);f.preRender(a,b,c);f.useAttributes(b,c);h=0;for(k=this.instances.length;h<k;h++)e=this.get(h),e.hidden||e.revision!==d[e.category]||(b.save(),f.attr=e,f.useAttributes(b,c),f.render(a,b,c),b.restore());f.attr=g}});
Ext.define("Ext.chart.label.Callout",{extend:Ext.draw.modifier.Modifier,prepareAttributes:function(a){a.hasOwnProperty("calloutOriginal")||(a.calloutOriginal=Ext.Object.chain(a),a.calloutOriginal.prototype=a);this._previous&&this._previous.prepareAttributes(a.calloutOriginal)},setAttrs:function(a,b){var c=a.callout,d=a.calloutOriginal,e=a.bbox.plain,f=(e.width||0)+a.labelOverflowPadding,e=(e.height||0)+a.labelOverflowPadding,g,h;"callout"in b&&(c=b.callout);if("callout"in b||"calloutPlaceX"in b||
"calloutPlaceY"in b||"x"in b||"y"in b){g="rotationRads"in b?d.rotationRads=b.rotationRads:d.rotationRads;h="x"in b?d.x=b.x:d.x;var d="y"in b?d.y=b.y:d.y,k="calloutPlaceX"in b?b.calloutPlaceX:a.calloutPlaceX,l="calloutPlaceY"in b?b.calloutPlaceY:a.calloutPlaceY,m="calloutVertical"in b?b.calloutVertical:a.calloutVertical;g%=2*Math.PI;0>Math.cos(g)&&(g=(g+Math.PI)%(2*Math.PI));g>Math.PI&&(g-=2*Math.PI);m?(g=g*(1-c)-Math.PI/2*c,m=f,f=e,e=m):g*=1-c;b.rotationRads=g;b.x=h*(1-c)+k*c;b.y=d*(1-c)+l*c;g=k-
h;h=l-d;Math.abs(h*f)>Math.abs(g*e)?0<h?(b.calloutEndX=b.x-e/2*(g/h)*c,b.calloutEndY=b.y-e/2*c):(b.calloutEndX=b.x+e/2*(g/h)*c,b.calloutEndY=b.y+e/2*c):0<g?(b.calloutEndX=b.x-f/2,b.calloutEndY=b.y-f/2*(h/g)*c):(b.calloutEndX=b.x+f/2,b.calloutEndY=b.y+f/2*(h/g)*c);b.calloutHasLine=b.calloutStartX&&b.calloutStartY?0<g&&b.calloutStartX<b.calloutEndX||0>=g&&b.calloutStartX>b.calloutEndX||0<h&&b.calloutStartY<b.calloutEndY||0>=h&&b.calloutStartY>b.calloutEndY:!0}return b},pushDown:function(a,b){b=this.callParent([a.calloutOriginal,
b]);return this.setAttrs(a,b)},popUp:function(a,b){a=a.prototype;b=this.setAttrs(a,b);return this._next?this._next.popUp(a,b):Ext.apply(a,b)}});
Ext.define("Ext.chart.label.Label",{extend:Ext.draw.sprite.Text,inheritableStatics:{def:{processors:{callout:"limited01",calloutHasLine:"bool",calloutPlaceX:"number",calloutPlaceY:"number",calloutStartX:"number",calloutStartY:"number",calloutEndX:"number",calloutEndY:"number",calloutColor:"color",calloutWidth:"number",calloutVertical:"bool",labelOverflowPadding:"number",display:"enums(none,under,over,rotate,insideStart,insideEnd,inside,outside)",orientation:"enums(horizontal,vertical)",renderer:"default"},
defaults:{callout:0,calloutHasLine:!0,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutWidth:1,calloutVertical:!1,calloutColor:"black",labelOverflowPadding:5,display:"none",orientation:"",renderer:null},triggers:{callout:"transform",calloutPlaceX:"transform",calloutPlaceY:"transform",labelOverflowPadding:"transform",calloutRotation:"transform",display:"hidden"},updaters:{hidden:function(a){a.hidden="none"===a.display}}}},config:{fx:{customDurations:{callout:200}},
field:null,calloutLine:!0},applyCalloutLine:function(a){if(a)return Ext.apply({},a)},prepareModifiers:function(){this.callParent(arguments);this.calloutModifier=new Ext.chart.label.Callout({sprite:this});this.fx.setNext(this.calloutModifier);this.calloutModifier.setNext(this.topModifier)},render:function(a,b){var c=this.attr,d=c.calloutColor;b.save();b.globalAlpha*=c.callout;0<b.globalAlpha&&c.calloutHasLine&&(d&&d.isGradient&&(d=d.getStops()[0].color),b.strokeStyle=d,b.fillStyle=d,b.lineWidth=c.calloutWidth,
b.beginPath(),b.moveTo(this.attr.calloutStartX,this.attr.calloutStartY),b.lineTo(this.attr.calloutEndX,this.attr.calloutEndY),b.stroke(),b.beginPath(),b.arc(this.attr.calloutStartX,this.attr.calloutStartY,1*c.calloutWidth,0,2*Math.PI,!0),b.fill(),b.beginPath(),b.arc(this.attr.calloutEndX,this.attr.calloutEndY,1*c.calloutWidth,0,2*Math.PI,!0),b.fill());b.restore();Ext.draw.sprite.Text.prototype.render.apply(this,arguments)}});
Ext.define("Ext.chart.series.Series",{mixins:[Ext.mixin.Observable,Ext.mixin.Bindable],isSeries:!0,defaultBindProperty:"store",type:null,seriesType:"sprite",identifiablePrefix:"ext-line-",observableType:"series",darkerStrokeRatio:.15,config:{chart:null,title:null,renderer:null,showInLegend:!0,triggerAfterDraw:!1,style:{},subStyle:{},themeStyle:{},colors:null,useDarkerStrokeColor:!0,store:null,label:{},labelOverflowPadding:null,showMarkers:!0,marker:null,markerSubStyle:null,itemInstancing:null,background:null,
highlightItem:null,surface:null,overlaySurface:null,hidden:!1,highlight:!1,highlightCfg:{merge:function(a){return a},$value:{fillStyle:"yellow",strokeStyle:"red"}},animation:null,tooltip:null},directions:[],sprites:null,themeColorCount:function(){return 1},isStoreDependantColorCount:!1,themeMarkerCount:function(){return 0},getFields:function(a){var b=[],c,d,e;d=0;for(e=a.length;d<e;d++)c=this["get"+a[d]+"Field"](),Ext.isArray(c)?b.push.apply(b,c):b.push(c);return b},applyAnimation:function(a,b){a?
!0===a&&(a={easing:"easeInOut",duration:500}):a={duration:0};return b?Ext.apply({},a,b):a},getAnimation:function(){var a=this.getChart();return a&&a.animationSuspendCount?{duration:0}:this.callParent()},updateTitle:function(a){var b=this.getChart();if(b&&!b.isInitializing){a=Ext.Array.from(a);var c=b.getSeries(),c=Ext.Array.indexOf(c,this),b=b.getLegendStore(),d=this.getYField(),e,f,g;if(b.getCount()&&-1!==c)for(g=d?Math.min(a.length,d.length):a.length,d=0;d<g;d++)f=a[d],e=b.getAt(c+d),f&&e&&e.set("name",
f)}},applyHighlight:function(a,b){Ext.isObject(a)?a=Ext.merge({},this.config.highlightCfg,a):!0===a&&(a=this.config.highlightCfg);return Ext.apply(b||{},a)},updateHighlight:function(a){this.getStyle();Ext.Object.isEmpty(a)||this.addItemHighlight()},updateHighlightCfg:function(a){Ext.Object.equals(a,this.defaultConfig.highlightCfg)||this.addItemHighlight()},applyItemInstancing:function(a,b){return Ext.merge(b||{},a)},setAttributesForItem:function(a,b){var c=a&&a.sprite,d;if(c)if(c.itemsMarker&&"items"===
a.category&&c.putMarker(a.category,b,a.index,!1,!0),c.isMarkerHolder&&"markers"===a.category)c.putMarker(a.category,b,a.index,!1,!0);else if(c.isInstancing)c.setAttributesFor(a.index,b);else if(Ext.isArray(c))for(d=0;d<c.length;d++)c[d].setAttributes(b);else c.setAttributes(b)},getBBoxForItem:function(a){return a&&a.sprite?a.sprite.itemsMarker&&"items"===a.category?a.sprite.getMarkerBBox(a.category,a.index):a.sprite instanceof Ext.draw.sprite.Instancing?a.sprite.getBBoxFor(a.index):a.sprite.getBBox():
null},applyHighlightItem:function(a,b){if(a!==b){if(Ext.isObject(a)&&Ext.isObject(b)){var c=a.index===b.index;if(a.sprite===b.sprite&&c)return}return a}},updateHighlightItem:function(a,b){this.setAttributesForItem(b,{highlighted:!1});this.setAttributesForItem(a,{highlighted:!0})},constructor:function(a){var b;a=a||{};a.tips&&(a=Ext.apply({tooltip:a.tips},a));a.highlightCfg&&(a=Ext.apply({highlight:a.highlightCfg},a));b="id"in a?a.id:"id"in this.config?this.config.id:this.getId();this.setId(b);this.sprites=
[];this.dataRange=[];this.mixins.observable.constructor.call(this,a);this.initBindable()},lookupViewModel:function(a){var b=this.getChart();return b?b.lookupViewModel(a):null},applyTooltip:function(a,b){var c=Ext.apply({xtype:"tooltip",renderer:Ext.emptyFn,constrainPosition:!0,shrinkWrapDock:!0,autoHide:!0,offsetX:10,offsetY:10},a);return Ext.create(c)},updateTooltip:function(){this.addItemHighlight()},addItemHighlight:function(){var a=this.getChart();if(a){var b=a.getInteractions(),c,d,e;for(c=0;c<
b.length;c++)if(d=b[c],d.isItemHighlight||d.isItemEdit){e=!0;break}e||(b.push("itemhighlight"),a.setInteractions(b))}},showTooltip:function(a,b){var c=this.getTooltip(),d,e,f,g,h;if(c){clearTimeout(this.tooltipTimeout);d=c.config;if(c.trackMouse)b[0]+=d.offsetX,b[1]+=d.offsetY;else if(d=a.sprite,e=d.getSurface(),d=Ext.get(e.getId()))f=a.series.getBBoxForItem(a),h=f.x+f.width/2,f=f.y+f.height/2,g=e.matrix.transformPoint([h,f]),f=d.getXY(),h=(e=e.getInherited().rtl)?f[0]+d.getWidth()-g[0]:f[0]+g[0],
f=f[1]+g[1],b=[h,f];Ext.callback(c.renderer,c.scope,[c,a.record,a],0,this);c.show(b)}},hideTooltip:function(a){var b=this.getTooltip();b&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=Ext.defer(function(){b.hide()},1))},applyStore:function(a){return a&&Ext.StoreManager.lookup(a)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(a,b){var c=this.getChart(),c=c&&c.getStore(),d,e,f;(b=b||c)&&b!==a&&b.un({datachanged:"onDataChanged",update:"onDataChanged",
scope:this});if(a){a.on({datachanged:"onDataChanged",update:"onDataChanged",scope:this});c=this.getSprites();f=0;for(e=c.length;f<e;f++)d=c[f],d.setStore&&d.setStore(a);this.onDataChanged()}this.fireEvent("storechange",this,a,b)},onStoreChange:function(a,b,c){this._store||this.updateStore(b,c)},coordinate:function(a,b,c){var d=this.getStore(),e=this.getHidden(),d=d.getData().items,f=this["get"+a+"Axis"](),g={min:Infinity,max:-Infinity},h=this["fieldCategory"+a]||[a],k=this.getFields(h),l,m={},n=this.getSprites();
if(0<n.length){if(!Ext.isBoolean(e)||!e)for(e=0;e<h.length;e++)l=k[e],l=this.coordinateData(d,l,f),this.getRangeOfData(l,g),m["data"+h[e]]=l;this.dataRange[b]=g.min;this.dataRange[b+c]=g.max;m["dataMin"+a]=g.min;m["dataMax"+a]=g.max;f&&(f.range=null,m["range"+a]=f.getRange());for(e=0;e<n.length;e++)n[e].setAttributes(m)}},coordinateData:function(a,b,c){var d=[],e=a.length;c=c&&c.getLayout();var f,g;for(f=0;f<e;f++)g=a[f].data[b],Ext.isEmpty(g,!0)?d[f]=g:d[f]=c?c.getCoordFor(g,b,f,a):+g;return d},
getRangeOfData:function(a,b){var c=a.length,d=b.min,e=b.max,f,g;for(f=0;f<c;f++)g=a[f],g<d&&(d=g),g>e&&(e=g);b.min=d;b.max=e},updateLabelData:function(){var a=this.getStore().getData().items,b=this.getSprites(),c=this.getLabel().getTemplate(),c=Ext.Array.from(c.getField()),d,e,f,g,h,k;if(b.length&&c.length)for(d=0;d<b.length;d++){g=[];h=b[d];k=h.getField();0>Ext.Array.indexOf(c,k)&&(k=c[d]);e=0;for(f=a.length;e<f;e++)g.push(a[e].get(k));h.setAttributes({labels:g})}},processData:function(){if(this.getStore()){var a=
this.directions,b,c=a.length,d,e;for(b=0;b<c;b++)if(d=a[b],e=this["get"+d+"Axis"]())e.processData(this);else if(this["coordinate"+d])this["coordinate"+d]();this.updateLabelData()}},applyBackground:function(a){return this.getChart()?(this.getSurface().setBackground(a),this.getSurface().getBackground()):a},updateChart:function(a,b){var c=this._store;b&&(b.un("axeschange","onAxesChange",this),this.clearSprites(),this.setSurface(null),this.setOverlaySurface(null),b.unregister(this),this.onChartDetached(b),
c||this.updateStore(null));if(a){this.setSurface(a.getSurface("series"));this.setOverlaySurface(a.getSurface("overlay"));a.on("axeschange","onAxesChange",this);if(a.getAxes())this.onAxesChange(a);this.onChartAttached(a);a.register(this);c||this.updateStore(a.getStore())}},onAxesChange:function(a){a=a.getAxes();var b,c={},d={},e=!1,f=this.directions,g,h,k;h=0;for(k=f.length;h<k;h++)g=f[h],d[g]=this.getFields(this["fieldCategory"+g]);h=0;for(k=a.length;h<k;h++)b=a[h],c[b.getDirection()]?c[b.getDirection()].push(b):
c[b.getDirection()]=[b];h=0;for(k=f.length;h<k;h++)if(g=f[h],!this["get"+g+"Axis"]()&&c[g]&&(b=this.findMatchingAxis(c[g],d[g])))this["set"+g+"Axis"](b),b.getNeedHighPrecision()&&(e=!0);this.getSurface().setHighPrecision(e)},findMatchingAxis:function(a,b){var c,d,e,f;for(e=0;e<a.length;e++){c=a[e];d=c.getFields();if(!d.length)return c;if(b)for(f=0;f<b.length;f++)if(0<=Ext.Array.indexOf(d,b[f]))return c}},onChartDetached:function(a){this.fireEvent("chartdetached",a,this);a.un("storechange","onStoreChange",
this)},onChartAttached:function(a){this.setBackground(this.getBackground());this.fireEvent("chartattached",a,this);a.on("storechange","onStoreChange",this);this.processData()},updateOverlaySurface:function(a){a&&this.getLabel()&&this.getOverlaySurface().add(this.getLabel())},applyLabel:function(a,b){b?b.getTemplate().setAttributes(a):(b=new Ext.chart.Markers({zIndex:10}),b.setTemplate(new Ext.chart.label.Label(a)));return b},createItemInstancingSprite:function(a,b){var c=new Ext.chart.Markers,d;c.setAttributes({zIndex:Number.MAX_VALUE});
d=Ext.apply({},b);this.getHighlight()&&(d.highlight=this.getHighlight(),d.modifiers=["highlight"]);c.setTemplate(d);d=c.getTemplate();d.setAttributes(this.getStyle());d.fx.on("animationstart","onSpriteAnimationStart",this);d.fx.on("animationend","onSpriteAnimationEnd",this);a.bindMarker("items",c);this.getSurface().add(c);return c},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer()}},updateRenderer:function(a){var b=this.getChart(),c;b&&b.isInitializing||(c=
this.getSprites(),c.length&&(c[0].setAttributes({renderer:a||null}),b&&!b.isInitializing&&b.redraw()))},updateShowMarkers:function(a){var b=this.getSprites();(b=(b=b&&b[0])&&b.getMarker("markers"))&&b.getTemplate().setAttributes({hidden:!a})},createSprite:function(){var a=this.getSurface(),b=this.getItemInstancing(),a=a.add(this.getDefaultSpriteConfig()),c=this.getMarker();a.setAttributes(this.getStyle());a.setSeries(this);b&&(a.itemsMarker=this.createItemInstancingSprite(a,b));a.bindMarker&&(c&&
(b=new Ext.chart.Markers,c=Ext.Object.merge({},c),this.getHighlight()&&(c.highlight=this.getHighlight(),c.modifiers=["highlight"]),b.setTemplate(c),b.getTemplate().fx.setCustomDurations({translationX:0,translationY:0}),a.dataMarker=b,a.bindMarker("markers",b),this.getOverlaySurface().add(b)),this.getLabel().getTemplate().getField()&&a.bindMarker("labels",this.getLabel()));a.setStore&&a.setStore(this.getStore());a.fx.on("animationstart","onSpriteAnimationStart",this);a.fx.on("animationend","onSpriteAnimationEnd",
this);this.sprites.push(a);return a},getSprites:Ext.emptyFn,onDataChanged:function(){var a=this.getChart(),a=a&&a.getStore();this.getStore()!==a&&this.processData()},isXType:function(a){return"series"===a},getItemId:function(){return this.getId()},applyThemeStyle:function(a,b){var c,d;d=(c=a&&a.subStyle&&a.subStyle.fillStyle)&&a.subStyle.strokeStyle;c&&!d&&(a.subStyle.strokeStyle=this.getStrokeColorsFromFillColors(c));d=(c=a&&a.markerSubStyle&&a.markerSubStyle.fillStyle)&&a.markerSubStyle.strokeStyle;
c&&!d&&(a.markerSubStyle.strokeStyle=this.getStrokeColorsFromFillColors(c));return Ext.apply(b||{},a)},applyStyle:function(a,b){var c=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));c&&c.def&&(a=c.def.normalize(a));return Ext.apply({},a,b)},applySubStyle:function(a,b){var c=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));c&&c.def&&(a=c.def.batchedNormalize(a,!0));return Ext.merge({},b,a)},applyMarker:function(a,b){var c=a&&a.type||
b&&b.type||"circle",d=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+c));d&&d.def&&(a=d.def.normalize(Ext.isObject(a)?a:{},!0),a.type=c);return Ext.merge(b||{},a)},applyMarkerSubStyle:function(a,b){var c=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+(a&&a.type||b&&b.type||"circle")));c&&c.def&&(a=c.def.batchedNormalize(a,!0));return Ext.merge(b||{},a)},updateHidden:function(a){this.getColors();this.getSubStyle();this.setSubStyle({hidden:a});this.processData();this.doUpdateStyles();
Ext.isArray(a)||this.updateLegendStore(a)},updateLegendStore:function(a,b){var c=this.getChart().getLegendStore(),d=this.getId(),e;c&&(1<arguments.length?(e=c.findBy(function(a){return a.get("series")===d&&a.get("index")===b}),-1!==e&&(e=c.getAt(e))):e=c.findRecord("series",d),e&&e.get("disabled")!==a&&e.set("disabled",a))},setHiddenByIndex:function(a,b){Ext.isArray(this.getHidden())?(this.getHidden()[a]=b,this.updateHidden(this.getHidden()),this.updateLegendStore(b,a)):this.setHidden(b)},getStrokeColorsFromFillColors:function(a){var b=
this.getUseDarkerStrokeColor(),c=Ext.isNumber(b)?b:this.darkerStrokeRatio;return b?Ext.Array.map(a,function(a){a=Ext.isString(a)?a:a.stops[0].color;a=Ext.draw.Color.fromString(a);return a.createDarker(c).toString()}):Ext.Array.clone(a)},updateThemeColors:function(a){var b=this.getThemeStyle(),c=Ext.Array.clone(a);a=this.getStrokeColorsFromFillColors(a);c={fillStyle:c,strokeStyle:a};b.subStyle=Ext.apply(b.subStyle||{},c);b.markerSubStyle=Ext.apply(b.markerSubStyle||{},c);this.doUpdateStyles()},themeOnlyIfConfigured:{},
updateTheme:function(a){a=a.getSeries();var b=this.getInitialConfig(),c=this.defaultConfig,d=this.getConfigurator().configs,e=this.themeOnlyIfConfigured,f,g,h,k,l,m;a=Ext.merge({},a.defaults,a[this.type]);for(f in a)if(g=a[f],m=d[f],null!==g&&void 0!==g&&m){l=b[f];h=Ext.isObject(g);k=l===c[f];if(h){if(k&&e[f])continue;g=Ext.merge({},g,l)}if(k||h)this[m.names.set](g)}},updateChartColors:function(a){this.getColors()||this.updateThemeColors(a)},updateColors:function(a){this.updateThemeColors(a)},updateStyle:function(){this.doUpdateStyles()},
updateSubStyle:function(){this.doUpdateStyles()},updateThemeStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){var a=this.sprites,b=this.getItemInstancing(),c=0,d=a&&a.length;this.getConfig("showMarkers",!0);for(var e=this.getMarker(),f;c<d;c++)f=this.getStyleByIndex(c),b&&a[c].itemsMarker.getTemplate().setAttributes(f),a[c].setAttributes(f),e&&a[c].dataMarker&&a[c].dataMarker.getTemplate().setAttributes(this.getMarkerStyleByIndex(c))},getStyleWithTheme:function(){var a=this.getThemeStyle(),
a=a&&a.style||{};return Ext.applyIf(Ext.apply({},this.getStyle()),a)},getSubStyleWithTheme:function(){var a=this.getThemeStyle(),a=a&&a.subStyle||{};return Ext.applyIf(Ext.apply({},this.getSubStyle()),a)},getStyleByIndex:function(a){var b=this.getThemeStyle(),c,d,e,f={};c=this.getStyle();d=b&&b.style||{};e=this.styleDataForIndex(this.getSubStyle(),a);a=this.styleDataForIndex(b&&b.subStyle,a);Ext.apply(f,d);Ext.apply(f,a);Ext.apply(f,c);Ext.apply(f,e);return f},getMarkerStyleByIndex:function(a){var b=
this.getThemeStyle(),c,d,e,f,g,h,k,l={};c=this.getStyle();d=b&&b.style||{};e=this.styleDataForIndex(this.getSubStyle(),a);e.hasOwnProperty("hidden")&&(e.hidden=e.hidden||!this.getConfig("showMarkers",!0));f=this.styleDataForIndex(b&&b.subStyle,a);g=this.getMarker();h=b&&b.marker||{};k=this.getMarkerSubStyle();a=this.styleDataForIndex(b&&b.markerSubStyle,a);Ext.apply(l,d);Ext.apply(l,f);Ext.apply(l,h);Ext.apply(l,a);Ext.apply(l,c);Ext.apply(l,e);Ext.apply(l,g);Ext.apply(l,k);return l},styleDataForIndex:function(a,
b){var c,d,e={};if(a)for(d in a)c=a[d],Ext.isArray(c)?e[d]=c[b%c.length]:e[d]=c;return e},getItemForPoint:Ext.emptyFn,getItemByIndex:function(a,b){var c=this.getSprites(),d=c&&c[0];if(d&&(void 0===b&&d.isMarkerHolder?b=this.getItemInstancing()?"items":"markers":b&&""!==b&&"sprites"!==b||(d=c[a]),d))return c={series:this,category:b,index:a,record:this.getStore().getData().items[a],field:this.getYField(),sprite:d}},onSpriteAnimationStart:function(a){this.fireEvent("animationstart",this,a)},onSpriteAnimationEnd:function(a){this.fireEvent("animationend",
this,a)},resolveListenerScope:function(a){var b=Ext._namedScopes[a],c=this.getChart(),d;b?b.isThis?d=this:b.isController?d=c?c.resolveListenerScope(a,!1):this:b.isSelf&&(d=c?c.resolveListenerScope(a,!1):this,d!==c||c.getInheritedConfig("defaultListenerScope")||(d=this)):d=c?c.resolveListenerScope(a,!1):a||this;return d},provideLegendInfo:function(a){a.push({name:this.getTitle()||this.getId(),mark:"black",disabled:this.getHidden(),series:this.getId(),index:0})},clearSprites:function(){var a=this.sprites,
b,c,d;c=0;for(d=a.length;c<d;c++)(b=a[c])&&b.isSprite&&b.destroy();this.sprites=[]},destroy:function(){var a=this._store,b=this.getConfig("tooltip",!0);a&&a.getAutoDestroy()&&Ext.destroy(a);this.setChart(null);this.clearListeners();b&&(Ext.destroy(b),clearTimeout(this.tooltipTimeout));this.callParent()}});
Ext.define("Ext.chart.interactions.Abstract",{xtype:"interaction",mixins:{observable:Ext.mixin.Observable},config:{gestures:{tap:"onGesture"},chart:null,enabled:!0},throttleGap:0,stopAnimationBeforeSync:!1,constructor:function(a){var b;a=a||{};b="id"in a?a.id:"id"in this.config?this.config.id:this.getId();this.setId(b);this.mixins.observable.constructor.call(this,a)},initialize:Ext.emptyFn,updateChart:function(a,b){b!==a&&(b&&(b.unregister(this),this.removeChartListener(b)),a&&(a.register(this),this.addChartListener()))},
updateEnabled:function(a){var b=this.getChart();b&&(a?this.addChartListener():this.removeChartListener(b))},onGesture:Ext.emptyFn,getItemForEvent:function(a){var b=this.getChart();a=b.getEventXY(a);return b.getItemForPoint(a[0],a[1])},getItemsForEvent:function(a){var b=this.getChart();a=b.getEventXY(a);return b.getItemsForPoint(a[0],a[1])},addChartListener:function(){function a(a,d){c.addElementListener(a,b.listeners[a]=function(c){var e=b.getLocks();if(b.getEnabled()&&!(a in e&&e[a]!==b))return e=
(Ext.isFunction(d)?d:b[d]).apply(this,arguments),!1===e&&c&&c.stopPropagation&&c.stopPropagation(),e},b)}var b=this,c=b.getChart(),d=b.getGestures(),e;if(b.getEnabled())for(e in b.listeners=b.listeners||{},d)a(e,d[e])},removeChartListener:function(a){var b=this.getGestures(),c;if(this.listeners)for(c in b){var b=c,d=this.listeners[b];d&&(a.removeElementListener(b,d),delete this.listeners[b])}},lockEvents:function(){for(var a=this.getLocks(),b=Array.prototype.slice.call(arguments),c=b.length;c--;)a[b[c]]=
this},unlockEvents:function(){for(var a=this.getLocks(),b=Array.prototype.slice.call(arguments),c=b.length;c--;)delete a[b[c]]},getLocks:function(){var a=this.getChart();return a.lockedEvents||(a.lockedEvents={})},isMultiTouch:function(){return Ext.browser.is.IE10?!0:!Ext.os.is.Desktop},initializeDefaults:Ext.emptyFn,doSync:function(){var a=this.getChart();this.syncTimer&&(clearTimeout(this.syncTimer),this.syncTimer=null);this.stopAnimationBeforeSync&&a.animationSuspendCount++;a.redraw();this.stopAnimationBeforeSync&&
a.animationSuspendCount--;this.syncThrottle=Date.now()+this.throttleGap},sync:function(){var a=this;a.throttleGap&&Ext.frameStartTime<a.syncThrottle?a.syncTimer||(a.syncTimer=Ext.defer(function(){a.doSync()},a.throttleGap)):a.doSync()},getItemId:function(){return this.getId()},isXType:function(a){return"interaction"===a},destroy:function(){this.setChart(null);delete this.listeners;this.callParent()}},function(){Ext.os.is.Android4&&(this.prototype.throttleGap=40)});
Ext.define("Ext.chart.MarkerHolder",{extend:Ext.Mixin,mixinConfig:{id:"markerHolder",after:{constructor:"constructor",preRender:"preRender"},before:{destroy:"destroy"}},isMarkerHolder:!0,surfaceMatrix:null,inverseSurfaceMatrix:null,deprecated:{6:{methods:{getBoundMarker:{message:"Please use the 'getMarker' method instead.",fn:function(a){return(a=this.boundMarkers[a])?[a]:a}}}}},constructor:function(){this.boundMarkers={};this.cleanRedraw=!1},bindMarker:function(a,b){var c=this.boundMarkers;b&&b.isMarkers&&
(this.releaseMarker(a),c[a]=b,b.on("destroy",this.onMarkerDestroy,this))},onMarkerDestroy:function(a){this.releaseMarker(a)},releaseMarker:function(a){var b=this.boundMarkers,c;if(a&&a.isMarkers)for(c in b){if(b[c]===a){delete b[c];break}}else c=a,a=b[c],delete b[c];return a||null},getMarker:function(a){return this.boundMarkers[a]||null},preRender:function(){var a=this.getId(),b=this.boundMarkers,c=this.getParent(),d,e,f;f=this.surfaceMatrix?this.surfaceMatrix.set(1,0,0,1,0,0):this.surfaceMatrix=
new Ext.draw.Matrix;this.cleanRedraw=!this.attr.dirty;if(!this.cleanRedraw)for(d in b)(e=b[d])&&e.clear(a);for(;c&&c.attr&&c.attr.matrix;)f.prependMatrix(c.attr.matrix),c=c.getParent();f.prependMatrix(c.matrix);this.surfaceMatrix=f;this.inverseSurfaceMatrix=f.inverse(this.inverseSurfaceMatrix)},putMarker:function(a,b,c,d,e){a=this.boundMarkers[a];var f=this.getId();a&&a.putMarkerFor(f,b,c,d,e)},getMarkerBBox:function(a,b,c){a=this.boundMarkers[a];var d=this.getId();if(a)return a.getMarkerBBoxFor(d,
b,c)},destroy:function(){var a=this.boundMarkers,b,c;for(b in a)c=a[b],c.destroy()}});
Ext.define("Ext.chart.axis.sprite.Axis",{extend:Ext.draw.sprite.Sprite,alias:"sprite.axis",type:"axis",mixins:{markerHolder:Ext.chart.MarkerHolder},inheritableStatics:{def:{processors:{grid:"bool",axisLine:"bool",minorTicks:"bool",minorTickSize:"number",majorTicks:"bool",majorTickSize:"number",length:"number",startGap:"number",endGap:"number",dataMin:"number",dataMax:"number",visibleMin:"number",visibleMax:"number",position:"enums(left,right,top,bottom,angular,radial,gauge)",minStepSize:"number",
estStepSize:"number",titleOffset:"number",textPadding:"number",min:"number",max:"number",centerX:"number",centerY:"number",radius:"number",totalAngle:"number",baseRotation:"number",data:"default",enlargeEstStepSizeByText:"bool"},defaults:{grid:!1,axisLine:!0,minorTicks:!1,minorTickSize:3,majorTicks:!0,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:"",minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,
titleOffset:0,textPadding:0,scalingCenterY:0,scalingCenterX:0,strokeStyle:"black",enlargeEstStepSizeByText:!1},triggers:{minorTickSize:"bbox",majorTickSize:"bbox",position:"bbox,layout",axisLine:"bbox,layout",min:"layout",max:"layout",length:"layout",minStepSize:"layout",estStepSize:"layout",data:"layout",dataMin:"layout",dataMax:"layout",visibleMin:"layout",visibleMax:"layout",enlargeEstStepSizeByText:"layout"},updaters:{layout:"layoutUpdater"}}},config:{label:null,layout:null,segmenter:null,renderer:null,
layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},defaultRenderer:function(a){return this.segmenter.renderer(a,this)},layoutUpdater:function(){var a=this.getAxis().getChart();if(!a.isInitializing){var b=this.attr,c=this.getLayout(),a=a.getInherited().rtl,d=b.dataMin+(b.dataMax-b.dataMin)*b.visibleMin,e=b.dataMin+(b.dataMax-b.dataMin)*b.visibleMax,f=b.position,g={attr:b,segmenter:this.getSegmenter(),renderer:this.defaultRenderer};if("left"===f||"right"===f)b.translationX=
0,b.translationY=e*b.length/(e-d),b.scalingX=1,b.scalingY=-b.length/(e-d),b.scalingCenterY=0,b.scalingCenterX=0,this.applyTransformations(!0);else if("top"===f||"bottom"===f)b.translationX=a?b.length+d*b.length/(e-d)+1:-d*b.length/(e-d),b.translationY=0,b.scalingX=(a?-1:1)*b.length/(e-d),b.scalingY=1,b.scalingCenterY=0,b.scalingCenterX=0,this.applyTransformations(!0);c&&(c.calculateLayout(g),this.setLayoutContext(g))}},iterate:function(a,b){var c,d,e,f,g=Ext.Array.some,h=Math.abs,k;if(a.getLabel){a.min<
a.from&&b.call(this,a.min,a.getLabel(a.min),-1,a);for(c=0;c<=a.steps;c++)b.call(this,a.get(c),a.getLabel(c),c,a);a.max>a.to&&b.call(this,a.max,a.getLabel(a.max),a.steps+1,a)}else{var l=function(a){return!f.length||g(f,function(b){return h(b-a)>k})};d=this.getAxis();e=d.floatingAxes;f=[];k=(a.to-a.from)/(a.steps+1);if(d.getFloating())for(c in e)f.push(e[c]);a.min<a.from&&l(a.min)&&b.call(this,a.min,a.min,-1,a);for(c=0;c<=a.steps;c++)d=a.get(c),l(d)&&b.call(this,d,d,c,a);a.max>a.to&&l(a.max)&&b.call(this,
a.max,a.max,a.steps+1,a)}},renderTicks:function(a,b,c,d){var e=this.attr,f=e.position,g=e.matrix,h=.5*e.lineWidth,k=g.getXX(),l=g.getDX(),m=g.getYY(),n=g.getDY(),g=c.majorTicks,p=e.majorTickSize;c=c.minorTicks;var q=e.minorTickSize;if(g)switch(f){case "right":f=function(c){return function(d,e,f){d=a.roundPixel(d*m+n)+h;b.moveTo(0,d);b.lineTo(c,d)}};this.iterate(g,f(p));c&&this.iterate(c,f(q));break;case "left":f=function(c){return function(e,f,g){e=a.roundPixel(e*m+n)+h;b.moveTo(d[2]-c,e);b.lineTo(d[2],
e)}};this.iterate(g,f(p));c&&this.iterate(c,f(q));break;case "bottom":f=function(c){return function(d,e,f){d=a.roundPixel(d*k+l)-h;b.moveTo(d,0);b.lineTo(d,c)}};this.iterate(g,f(p));c&&this.iterate(c,f(q));break;case "top":f=function(c){return function(e,f,g){e=a.roundPixel(e*k+l)-h;b.moveTo(e,d[3]);b.lineTo(e,d[3]-c)}};this.iterate(g,f(p));c&&this.iterate(c,f(q));break;case "angular":this.iterate(g,function(a,c,d){a=a/(e.max+1)*Math.PI*2+e.baseRotation;b.moveTo(e.centerX+e.length*Math.cos(a),e.centerY+
e.length*Math.sin(a));b.lineTo(e.centerX+(e.length+p)*Math.cos(a),e.centerY+(e.length+p)*Math.sin(a))});break;case "gauge":var r=this.getGaugeAngles();this.iterate(g,function(a,c,d){a=(a-e.min)/(e.max-e.min+1)*e.totalAngle-e.totalAngle+r.start;b.moveTo(e.centerX+e.length*Math.cos(a),e.centerY+e.length*Math.sin(a));b.lineTo(e.centerX+(e.length+p)*Math.cos(a),e.centerY+(e.length+p)*Math.sin(a))})}},renderLabels:function(a,b,c,d){var e=this,f=e.attr,g=.5*f.lineWidth,h=f.position,k=f.matrix,l=f.textPadding,
m=k.getXX(),n=k.getDX(),p=k.getYY(),q=k.getDY(),r=0,k=c.majorTicks,t=Math.max(f.majorTickSize,f.minorTickSize)+f.lineWidth,u=Ext.draw.Draw.isBBoxIntersect,v=e.getLabel(),w,y,x=null,z=0,A=0,C=c.segmenter,B=e.getRenderer(),H=e.getAxis(),D=(w=H.getTitle())&&""!==w.attr.text&&w.getBBox(),G,E=null,I,J,K;if(k&&v&&!v.attr.hidden){w=v.attr.font;b.font!==w&&(b.font=w);v.setAttributes({translationX:0,translationY:0},!0);v.applyTransformations();G=v.attr.inverseMatrix.elements.slice(0);switch(h){case "left":b=
D?D.x+D.width:0;switch(v.attr.textAlign){case "start":d=a.roundPixel(b+n)-g;break;case "end":d=a.roundPixel(d[2]-t+n)-g;break;default:d=a.roundPixel(b+(d[2]-b-t)/2+n)-g}v.setAttributes({translationX:d},!0);break;case "right":b=D?d[2]-D.x:0;switch(v.attr.textAlign){case "start":d=a.roundPixel(t+n)+g;break;case "end":d=a.roundPixel(d[2]-b+n)+g;break;default:d=a.roundPixel(t+(d[2]-t-b)/2+n)+g}v.setAttributes({translationX:d},!0);break;case "top":b=D?D.y+D.height:0;v.setAttributes({translationY:a.roundPixel(b+
(d[3]-b-t)/2)-g},!0);break;case "bottom":b=D?d[3]-D.y:0;v.setAttributes({translationY:a.roundPixel(t+(d[3]-t-b)/2)+g},!0);break;case "radial":v.setAttributes({translationX:f.centerX},!0);break;case "angular":v.setAttributes({translationY:f.centerY},!0);break;case "gauge":v.setAttributes({translationY:f.centerY},!0)}if("left"===h||"right"===h)e.iterate(k,function(b,d,f){void 0!==d&&(K=B?Ext.callback(B,null,[H,d,c,x],0,H):C.renderer(d,c,x),x=d,v.setAttributes({text:String(K),translationY:a.roundPixel(b*
p+q)},!0),v.applyTransformations(),r=Math.max(r,v.getBBox().width+t),r<=e.thickness&&(J=Ext.draw.Matrix.fly(v.attr.matrix.elements.slice(0)),I=J.prepend.apply(J,G).transformBBox(v.getBBox(!0)),!E||u(I,E,l)))&&(a.renderSprite(v),E=I,z+=I.height,A++)});else if("top"===h||"bottom"===h)e.iterate(k,function(b,d,f){void 0!==d&&(K=B?Ext.callback(B,null,[H,d,c,x],0,H):C.renderer(d,c,x),x=d,v.setAttributes({text:String(K),translationX:a.roundPixel(b*m+n)},!0),v.applyTransformations(),r=Math.max(r,v.getBBox().height+
t),r<=e.thickness&&(J=Ext.draw.Matrix.fly(v.attr.matrix.elements.slice(0)),I=J.prepend.apply(J,G).transformBBox(v.getBBox(!0)),!E||u(I,E,l)))&&(a.renderSprite(v),E=I,z+=I.width,A++)});else if("radial"===h)e.iterate(k,function(b,d,e){void 0!==d&&(K=B?Ext.callback(B,null,[H,d,c,x],0,H):C.renderer(d,c,x),x=d,"undefined"!==typeof K&&(v.setAttributes({text:String(K),translationX:f.centerX-a.roundPixel(b)/f.max*f.length*Math.cos(f.baseRotation+Math.PI/2),translationY:f.centerY-a.roundPixel(b)/f.max*f.length*
Math.sin(f.baseRotation+Math.PI/2)},!0),v.applyTransformations(),I=v.attr.matrix.transformBBox(v.getBBox(!0)),!E||u(I,E)))&&(a.renderSprite(v),E=I,z+=I.width,A++)});else if("angular"===h)y=f.majorTickSize+.5*f.lineWidth+(parseInt(v.attr.fontSize,10)||10)/2,e.iterate(k,function(b,d,e){void 0!==d&&(K=B?Ext.callback(B,null,[H,d,c,x],0,H):C.renderer(d,c,x),x=d,r=Math.max(r,Math.max(f.majorTickSize,f.minorTickSize)+("butt"!==f.lineCap?.5*f.lineWidth:0)),"undefined"!==typeof K&&(b=b/(f.max+1)*Math.PI*2+
f.baseRotation,v.setAttributes({text:String(K),translationX:f.centerX+(f.length+y)*Math.cos(b),translationY:f.centerY+(f.length+y)*Math.sin(b)},!0),v.applyTransformations(),I=v.attr.matrix.transformBBox(v.getBBox(!0)),!E||u(I,E)))&&(a.renderSprite(v),E=I,z+=I.width,A++)});else if("gauge"===h){var F=e.getGaugeAngles();e.iterate(k,function(b,d,e){void 0!==d&&(K=B?Ext.callback(B,null,[H,d,c,x],0,H):C.renderer(d,c,x),x=d,"undefined"!==typeof K&&(b=(b-f.min)/(f.max-f.min+1)*f.totalAngle-f.totalAngle+F.start,
v.setAttributes({text:String(K),translationX:f.centerX+(f.length+10)*Math.cos(b),translationY:f.centerY+(f.length+10)*Math.sin(b)},!0),v.applyTransformations(),I=v.attr.matrix.transformBBox(v.getBBox(!0)),!E||u(I,E)))&&(a.renderSprite(v),E=I,z+=I.width,A++)})}f.enlargeEstStepSizeByText&&A&&(z/=A,z+=t,z*=2,f.estStepSize<z&&(f.estStepSize=z));if(1<Math.abs(e.thickness-r))return e.thickness=r,f.bbox.plain.dirty=!0,f.bbox.transform.dirty=!0,e.doThicknessChanged(),!1}},renderAxisLine:function(a,b,c,d){c=
this.attr;var e=.5*c.lineWidth,f=c.position;if(c.axisLine&&c.length)switch(f){case "left":a=a.roundPixel(d[2])-e;b.moveTo(a,-c.endGap);b.lineTo(a,c.length+c.startGap+1);break;case "right":b.moveTo(e,-c.endGap);b.lineTo(e,c.length+c.startGap+1);break;case "bottom":b.moveTo(-c.startGap,e);b.lineTo(c.length+c.endGap,e);break;case "top":a=a.roundPixel(d[3])-e;b.moveTo(-c.startGap,a);b.lineTo(c.length+c.endGap,a);break;case "angular":b.moveTo(c.centerX+c.length,c.centerY);b.arc(c.centerX,c.centerY,c.length,
0,2*Math.PI,!0);break;case "gauge":a=this.getGaugeAngles(),b.moveTo(c.centerX+Math.cos(a.start)*c.length,c.centerY+Math.sin(a.start)*c.length),b.arc(c.centerX,c.centerY,c.length,a.start,a.end,!0)}},getGaugeAngles:function(){var a=this.attr.totalAngle,b;b=a<=Math.PI?.5*(Math.PI-a):.5*-(2*Math.PI-a);b=2*Math.PI-b;return{start:b,end:b-a}},renderGridLines:function(a,b,c,d){var e=this;a=e.getAxis();var f=e.attr;b=f.matrix;var g=f.startGap,h=f.endGap,k=b.getXX(),l=b.getYY(),m=b.getDX(),n=b.getDY();b=f.position;
var p=a.getGridAlignment();c=c.majorTicks;var q,r,t;f.grid&&c&&("left"===b||"right"===b?(t=f.min*l+n+h+g,e.iterate(c,function(a,b,c){q=a*l+n+h;e.putMarker(p+"-"+(c%2?"odd":"even"),{y:q,height:t-q},r=c,!0);t=q}),r++,q=0,e.putMarker(p+"-"+(r%2?"odd":"even"),{y:q,height:t-q},r,!0)):"top"===b||"bottom"===b?(t=f.min*k+m+g,g&&e.putMarker(p+"-even",{x:0,width:t},-1,!0),e.iterate(c,function(a,b,c){q=a*k+m+g;e.putMarker(p+"-"+(c%2?"odd":"even"),{x:q,width:t-q},r=c,!0);t=q}),r++,q=f.length+f.startGap+f.endGap,
e.putMarker(p+"-"+(r%2?"odd":"even"),{x:q,width:t-q},r,!0)):"radial"===b?e.iterate(c,function(a,b,c){a&&(q=a/f.max*f.length,e.putMarker(p+"-"+(c%2?"odd":"even"),{scalingX:q,scalingY:q},c,!0),t=q)}):"angular"===b&&e.iterate(c,function(a,b,c){f.length&&(q=a/(f.max+1)*Math.PI*2+f.baseRotation,e.putMarker(p+"-"+(c%2?"odd":"even"),{rotationRads:q,rotationCenterX:0,rotationCenterY:0,scalingX:f.length,scalingY:f.length},c,!0),t=q)}))},renderLimits:function(a){a=this.getAxis();var b=a.getChart().getInnerPadding(),
c=Ext.Array.from(a.getLimits());if(c.length){var d=a.limits.surface.getRect(),e=this.attr,f=e.matrix,g=e.position,h=Ext.Object.chain,k=a.limits.titles,l,m,n,p,q,r,t;k.instances=[];k.position=0;if("left"===g||"right"===g)for(q=0,r=c.length;q<r;q++){if(p=h(c[q]),!p.line&&(p.line={}),m=Ext.isString(p.value)?a.getCoordFor(p.value):p.value,m=m*f.getYY()+f.getDY(),p.line.y=m+b.top,p.line.strokeStyle=p.line.strokeStyle||e.strokeStyle,this.putMarker("horizontal-limit-lines",p.line,q,!0),p.line.title){k.createInstance(p.line.title);
l=k.getBBoxFor(k.position-1);m=p.line.title.position||("left"===g?"start":"end");switch(m){case "start":n=10;break;case "end":n=d[2]-10;break;case "middle":n=d[2]/2}k.setAttributesFor(k.position-1,{x:n,y:p.line.y-l.height/2,textAlign:m,fillStyle:p.line.title.fillStyle||p.line.strokeStyle})}}else if("top"===g||"bottom"===g)for(q=0,r=c.length;q<r;q++){if(p=h(c[q]),!p.line&&(p.line={}),m=Ext.isString(p.value)?a.getCoordFor(p.value):p.value,m=m*f.getXX()+f.getDX(),p.line.x=m+b.left,p.line.strokeStyle=
p.line.strokeStyle||e.strokeStyle,this.putMarker("vertical-limit-lines",p.line,q,!0),p.line.title){k.createInstance(p.line.title);l=k.getBBoxFor(k.position-1);m=p.line.title.position||("top"===g?"end":"start");switch(m){case "start":t=d[3]-l.width/2-10;break;case "end":t=l.width/2+10;break;case "middle":t=d[3]/2}k.setAttributesFor(k.position-1,{x:p.line.x+l.height/2,y:t,fillStyle:p.line.title.fillStyle||p.line.strokeStyle,rotationRads:Math.PI/2})}}else if("radial"===g)for(q=0,r=c.length;q<r;q++)p=
h(c[q]),!p.line&&(p.line={}),m=Ext.isString(p.value)?a.getCoordFor(p.value):p.value,m>e.max||(m=m/e.max*e.length,p.line.cx=e.centerX,p.line.cy=e.centerY,p.line.scalingX=m,p.line.scalingY=m,p.line.strokeStyle=p.line.strokeStyle||e.strokeStyle,this.putMarker("circular-limit-lines",p.line,q,!0),p.line.title&&(k.createInstance(p.line.title),l=k.getBBoxFor(k.position-1),k.setAttributesFor(k.position-1,{x:e.centerX,y:e.centerY-m-l.height/2,fillStyle:p.line.title.fillStyle||p.line.strokeStyle})));else if("angular"===
g)for(q=0,r=c.length;q<r;q++)p=h(c[q]),!p.line&&(p.line={}),m=Ext.isString(p.value)?a.getCoordFor(p.value):p.value,m=m/(e.max+1)*Math.PI*2+e.baseRotation,p.line.translationX=e.centerX,p.line.translationY=e.centerY,p.line.rotationRads=m,p.line.rotationCenterX=0,p.line.rotationCenterY=0,p.line.scalingX=e.length,p.line.scalingY=e.length,p.line.strokeStyle=p.line.strokeStyle||e.strokeStyle,this.putMarker("radial-limit-lines",p.line,q,!0),p.line.title&&(k.createInstance(p.line.title),l=k.getBBoxFor(k.position-
1),n=m>-.5*Math.PI&&m<.5*Math.PI||m>1.5*Math.PI&&m<2*Math.PI?1:-1,k.setAttributesFor(k.position-1,{x:e.centerX+.5*e.length*Math.cos(m)+n*l.height/2*Math.sin(m),y:e.centerY+.5*e.length*Math.sin(m)-n*l.height/2*Math.cos(m),rotationRads:1===n?m:m-Math.PI,fillStyle:p.line.title.fillStyle||p.line.strokeStyle}))}},doThicknessChanged:function(){var a=this.getAxis();if(a)a.onThicknessChanged()},render:function(a,b,c){var d=this.getLayoutContext();if(d){if(!1===this.renderLabels(a,b,d,c))return!1;b.beginPath();
this.renderTicks(a,b,d,c);this.renderAxisLine(a,b,d,c);this.renderGridLines(a,b,d,c);this.renderLimits(c);b.stroke()}}});Ext.define("Ext.chart.axis.segmenter.Segmenter",{config:{axis:null},constructor:function(a){this.initConfig(a)},renderer:function(a,b){return String(a)},from:function(a){return a},diff:Ext.emptyFn,align:Ext.emptyFn,add:Ext.emptyFn,preferredStep:Ext.emptyFn});
Ext.define("Ext.chart.axis.segmenter.Names",{extend:Ext.chart.axis.segmenter.Segmenter,alias:"segmenter.names",renderer:function(a,b){return a},diff:function(a,b,c){return Math.floor(b-a)},align:function(a,b,c){return Math.floor(a)},add:function(a,b,c){return a+b},preferredStep:function(a,b,c,d){return{unit:1,step:1}}});
Ext.define("Ext.chart.axis.segmenter.Numeric",{extend:Ext.chart.axis.segmenter.Segmenter,alias:"segmenter.numeric",isNumeric:!0,renderer:function(a,b){return a.toFixed(Math.max(0,b.majorTicks.unit.fixes))},diff:function(a,b,c){return Math.floor((b-a)/c.scale)},align:function(a,b,c){return Math.floor(a/(c.scale*b))*c.scale*b},add:function(a,b,c){return a+b*c.scale},preferredStep:function(a,b){var c=Math.floor(Math.log(b)*Math.LOG10E),d=Math.pow(10,c);b/=d;2>b?b=2:5>b?b=5:10>b&&(b=10,c++);return{unit:{fixes:-c,
scale:d},step:b}},exactStep:function(a,b){var c=Math.floor(Math.log(b)*Math.LOG10E);return{unit:{fixes:-c+(0===b%Math.pow(10,c)?0:1),scale:1},step:b}},adjustByMajorUnit:function(a,b,c){var d=c[0],e=c[1];a*=b;b=d%a;0!==b&&(c[0]=d-b+(0>d?-a:0));b=e%a;0!==b&&(c[1]=e-b+(0<e?a:0))}});
Ext.define("Ext.chart.axis.segmenter.Time",{extend:Ext.chart.axis.segmenter.Segmenter,alias:"segmenter.time",config:{step:null},renderer:function(a,b){var c=Ext.Date;switch(b.majorTicks.unit){case "y":return c.format(a,"Y");case "mo":return c.format(a,"Y-m");case "d":return c.format(a,"Y-m-d")}return c.format(a,"Y-m-d\nH:i:s")},from:function(a){return new Date(a)},diff:function(a,b,c){isFinite(a)&&(a=new Date(a));isFinite(b)&&(b=new Date(b));return Ext.Date.diff(a,b,c)},align:function(a,b,c){return"d"===
c&&7<=b?(a=Ext.Date.align(a,"d",b),a.setDate(a.getDate()-a.getDay()+1),a):Ext.Date.align(a,c,b)},add:function(a,b,c){return Ext.Date.add(new Date(a),c,b)},stepUnits:[[Ext.Date.YEAR,1,2,5,10,20,50,100,200,500],[Ext.Date.MONTH,1,3,6],[Ext.Date.DAY,1,7,14],[Ext.Date.HOUR,1,6,12],[Ext.Date.MINUTE,1,5,15,30],[Ext.Date.SECOND,1,5,15,30],[Ext.Date.MILLI,1,2,5,10,20,50,100,200,500]],preferredStep:function(a,b){if(this.getStep())return this.getStep();var c=new Date(+a),d=new Date(+a+Math.ceil(b)),e=this.stepUnits,
f,g,h,k;for(k=0;k<e.length;k++)if(g=e[k][0],h=this.diff(c,d,g),0<h){for(c=1;c<e[k].length;c++)if(h<=e[k][c]){f={unit:g,step:e[k][c]};break}f||(k--,f={unit:e[k][0],step:1});break}f||(f={unit:Ext.Date.DAY,step:1});return f}});
Ext.define("Ext.chart.axis.layout.Layout",{mixins:{observable:Ext.mixin.Observable},config:{axis:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},processData:function(a){var b=this.getAxis(),c=b.getDirection(),b=b.boundSeries,d;if(a)a["coordinate"+c]();else for(a=0,d=b.length;a<d;a++)b[a]["coordinate"+c]()},calculateMajorTicks:function(a){var b=a.attr,c=b.max-b.min,d=b.min+c*b.visibleMin,e=b.min+c*b.visibleMax;if(b=this.snapEnds(a,b.min,b.max,c/Math.max(1,b.length)*b.estStepSize*
(b.visibleMax-b.visibleMin)))this.trimByRange(a,b,d,e),a.majorTicks=b},calculateMinorTicks:function(a){this.snapMinorEnds&&(a.minorTicks=this.snapMinorEnds(a))},calculateLayout:function(a){var b=a.attr;if(0===b.length)return null;b.majorTicks&&(this.calculateMajorTicks(a),b.minorTicks&&this.calculateMinorTicks(a))},snapEnds:Ext.emptyFn,trimByRange:function(a,b,c,d){a=a.segmenter;var e=b.unit,f=a.diff(b.from,c,e),g=a.diff(b.from,d,e),f=Math.max(0,Math.ceil(f/b.step)),g=Math.min(b.steps,Math.floor(g/
b.step));g<b.steps&&(b.to=a.add(b.from,g*b.step,e));b.max>d&&(b.max=b.to);if(b.from<c)for(b.from=a.add(b.from,f*b.step,e);b.from<c;)f++,b.from=a.add(b.from,b.step,e);b.min<c&&(b.min=b.from);b.steps=g-f}});
Ext.define("Ext.chart.axis.layout.Discrete",{extend:Ext.chart.axis.layout.Layout,alias:"axisLayout.discrete",isDiscrete:!0,processData:function(){var a=this.getAxis(),b=a.boundSeries,c=a.getDirection(),d,e,f;this.labels=[];this.labelMap={};d=0;for(e=b.length;d<e;d++)if(f=b[d],f["get"+c+"Axis"]()===a)f["coordinate"+c]();a.getSprites()[0].setAttributes({data:this.labels});this.fireEvent("datachange",this.labels)},calculateLayout:function(a){a.data=this.labels;this.callParent([a])},calculateMajorTicks:function(a){var b=
a.attr,c=b.max-b.min,d=b.min+c*b.visibleMin,e=b.min+c*b.visibleMax;if(b=this.snapEnds(a,Math.max(0,b.min),Math.min(b.max,a.data.length-1),c/Math.max(1,b.length)*b.estStepSize*(b.visibleMax-b.visibleMin)))this.trimByRange(a,b,d,e),a.majorTicks=b},snapEnds:function(a,b,c,d){d=Math.ceil(d);var e=Math.floor((c-b)/d),f=a.data;return{min:b,max:c,from:b,to:e*d+b,step:d,steps:e,unit:1,getLabel:function(a){return f[this.from+this.step*a]},get:function(a){return this.from+this.step*a}}},trimByRange:function(a,
b,c,d){a=b.unit;var e=Math.max(0,Math.ceil(Math.ceil((c-b.from)/a)*a/b.step)),f=Math.min(b.steps,Math.floor(Math.floor((d-b.from)/a)*a/b.step));f<b.steps&&(b.to=f);b.max>d&&(b.max=b.to);if(b.from<c&&0<b.step)for(b.from+=e*b.step*a;b.from<c;)e++,b.from+=b.step*a;b.min<c&&(b.min=b.from);b.steps=f-e},getCoordFor:function(a,b,c,d){this.labels.push(a);return this.labels.length-1}});
Ext.define("Ext.chart.axis.layout.CombineDuplicate",{extend:Ext.chart.axis.layout.Discrete,alias:"axisLayout.combineDuplicate",getCoordFor:function(a,b,c,d){return a in this.labelMap?this.labelMap[a]:(b=this.labelMap[a]=this.labels.length,this.labels.push(a),b)}});
Ext.define("Ext.chart.axis.layout.Continuous",{extend:Ext.chart.axis.layout.Layout,alias:"axisLayout.continuous",isContinuous:!0,config:{adjustMinimumByMajorUnit:!1,adjustMaximumByMajorUnit:!1},getCoordFor:function(a,b,c,d){return+a},snapEnds:function(a,b,c,d){var e=a.segmenter;d=(a=this.getAxis().getMajorTickSteps())&&e.exactStep?e.exactStep(b,(c-b)/a):e.preferredStep(b,d);var f=d.unit;d=d.step;var g=e.align(b,d,f);a=(a||e.diff(b,c,f))+1;return{min:e.from(b),max:e.from(c),from:g,to:e.add(g,a*d,f),
step:d,steps:a,unit:f,get:function(a){return e.add(this.from,this.step*a,f)}}},snapMinorEnds:function(a){var b=a.majorTicks,c=this.getAxis().getMinorTickSteps(),d=a.segmenter;a=b.min;var e=b.max,f=b.from,g=b.unit,h=b.step/c,k=h*g.scale,l=f-a,m=Math.floor(l/k),b=b.steps*c+(m+Math.floor((e-b.to)/k)+1);return{min:a,max:e,from:a+l%k,to:d.add(f,b*h,g),step:h,steps:b,unit:g,get:function(a){return 0!==a%c+m+1?d.add(this.from,this.step*a,g):null}}}});
Ext.define("Ext.chart.axis.Axis",{xtype:"axis",mixins:{observable:Ext.mixin.Observable},isAxis:!0,config:{position:"bottom",fields:[],label:void 0,grid:!1,limits:null,renderer:null,chart:null,style:null,margin:0,titleMargin:4,background:null,minimum:NaN,maximum:NaN,reconcileRange:!1,minZoom:1,maxZoom:1E4,layout:"continuous",segmenter:"numeric",hidden:!1,majorTickSteps:0,minorTickSteps:0,adjustByMajorUnit:!0,title:null,increment:.5,length:0,center:null,radius:null,totalAngle:Math.PI,rotation:null,
labelInSpan:null,visibleRange:[0,1],needHighPrecision:!1,linkedTo:null,floating:null},titleOffset:0,spriteAnimationCount:0,prevMin:0,prevMax:1,boundSeries:[],sprites:null,surface:null,range:null,xValues:[],yValues:[],masterAxis:null,applyRotation:function(a){var b=2*Math.PI;return(a%b+Math.PI)%b-Math.PI},updateRotation:function(a){var b=this.getSprites(),c=this.getPosition();!this.getHidden()&&"angular"===c&&b[0]&&b[0].setAttributes({baseRotation:a})},applyTitle:function(a,b){var c;Ext.isString(a)&&
(a={text:a});b?b.setAttributes(a):(b=Ext.create("sprite.text",a),(c=this.getSurface())&&c.add(b));return b},applyFloating:function(a,b){null===a?a={value:null,alongAxis:null}:Ext.isNumber(a)&&(a={value:a,alongAxis:null});return Ext.isObject(a)?(b&&b.alongAxis&&delete this.getChart().getAxis(b.alongAxis).floatingAxes[this.getId()],a):b},constructor:function(a){var b;this.sprites=[];this.labels=[];this.floatingAxes={};a=a||{};"angular"===a.position&&(a.style=a.style||{},a.style.estStepSize=1);b="id"in
a?a.id:"id"in this.config?this.config.id:this.getId();this.setId(b);this.mixins.observable.constructor.apply(this,arguments)},getAlignment:function(){switch(this.getPosition()){case "left":case "right":return"vertical";case "top":case "bottom":return"horizontal";case "radial":return"radial";case "angular":return"angular"}},getGridAlignment:function(){switch(this.getPosition()){case "left":case "right":return"horizontal";case "top":case "bottom":return"vertical";case "radial":return"circular";case "angular":return"radial"}},
getSurface:function(){var a=this.getChart();if(a&&!this.surface){var b=this.surface=a.getSurface(this.getId(),"axis"),c=this.gridSurface=a.getSurface("main"),d=this.getSprites()[0],e=this.getGridAlignment();c.waitFor(b);this.getGrid();this.getLimits()&&e&&(e=e.replace("3d",""),this.limits={surface:a.getSurface("overlay"),lines:new Ext.chart.Markers,titles:new Ext.draw.sprite.Instancing},this.limits.lines.setTemplate({xclass:"grid."+e}),this.limits.lines.getTemplate().setAttributes({strokeStyle:"black"},
!0),this.limits.surface.add(this.limits.lines),d.bindMarker(e+"-limit-lines",this.limits.lines),this.limitTitleTpl=new Ext.draw.sprite.Text,this.limits.titles.setTemplate(this.limitTitleTpl),this.limits.surface.add(this.limits.titles),a.on("redraw",this.renderLimits,this))}return this.surface},applyGrid:function(a){return!0===a?{}:a},updateGrid:function(a){if(this.getChart()){var b=this.gridSurface,c=this.getSprites()[0],d=this.getGridAlignment(),e;a&&(e=this.gridSpriteEven,e||(e=this.gridSpriteEven=
new Ext.chart.Markers,e.setTemplate({xclass:"grid."+d}),b.add(e),c.bindMarker(d+"-even",e)),Ext.isObject(a)&&(e.getTemplate().setAttributes(a),Ext.isObject(a.even)&&e.getTemplate().setAttributes(a.even)),e=this.gridSpriteOdd,e||(e=this.gridSpriteOdd=new Ext.chart.Markers,e.setTemplate({xclass:"grid."+d}),b.add(e),c.bindMarker(d+"-odd",e)),Ext.isObject(a)&&(e.getTemplate().setAttributes(a),Ext.isObject(a.odd)&&e.getTemplate().setAttributes(a.odd)))}else this.on({chartattached:Ext.bind(this.updateGrid,
this,[a]),single:!0})},renderLimits:function(){this.getSprites()[0].renderLimits()},getCoordFor:function(a,b,c,d){return this.getLayout().getCoordFor(a,b,c,d)},applyPosition:function(a){return a.toLowerCase()},applyLength:function(a,b){return 0<a?a:b},applyLabel:function(a,b){b||(b=new Ext.draw.sprite.Text({}));this.limitTitleTpl&&this.limitTitleTpl.setAttributes(a);b.setAttributes(a);return b},applyLayout:function(a,b){a=Ext.factory(a,null,b,"axisLayout");a.setAxis(this);return a},applySegmenter:function(a,
b){a=Ext.factory(a,null,b,"segmenter");a.setAxis(this);return a},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(!0);this.setLabel({hidden:!0})},showLabels:function(){this.getSprites()[0].setDirty(!0);this.setLabel({hidden:!1})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(a,b){var c;b&&(b.unregister(this),b.un("serieschange",this.onSeriesChange,this),b.un("redraw",this.renderLimits,
this),this.linkAxis(),this.fireEvent("chartdetached",b,this));a&&(a.on("serieschange",this.onSeriesChange,this),this.surface=null,c=this.getSurface(),this.getLabel().setSurface(c),c.add(this.getSprites()),c.add(this.getTitle()),a.register(this),this.fireEvent("chartattached",a,this))},applyBackground:function(a){return Ext.ClassManager.getByAlias("sprite.rect").def.normalize(a)},processData:function(){this.getLayout().processData();this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},
isSide:function(){var a=this.getPosition();return"left"===a||"right"===a},applyFields:function(a){return Ext.Array.from(a)},applyVisibleRange:function(a,b){this.getChart();if(a[0]>a[1]){var c=a[0];a[0]=a[1];a[0]=c}a[1]===a[0]&&(a[1]+=1/this.getMaxZoom());a[1]>a[0]+1?(a[0]=0,a[1]=1):0>a[0]?(a[1]-=a[0],a[0]=0):1<a[1]&&(a[0]-=a[1]-1,a[1]=1);return b&&a[0]===b[0]&&a[1]===b[1]?void 0:a},updateVisibleRange:function(a){this.fireEvent("visiblerangechange",this,a)},onSeriesChange:function(a){var b=a.getSeries(),
c="get"+this.getDirection()+"Axis",d=[],e,f=b.length;for(e=0;e<f;e++)this===b[e][c]()&&d.push(b[e]);this.boundSeries=d;b=this.getLinkedTo();(a=!Ext.isEmpty(b)&&a.getAxis(b))?this.linkAxis(a):this.getLayout().processData()},linkAxis:function(a){function b(a,b,e){e.getLayout()[a]("datachange","onDataChange",b);e[a]("rangechange","onMasterAxisRangeChange",b)}this.masterAxis&&(b("un",this,this.masterAxis),this.masterAxis=null);a&&(a.type!==this.type&&Ext.Error.raise("Linked axes must be of the same type."),
b("on",this,a),this.onDataChange(a.getLayout().labels),this.onMasterAxisRangeChange(a,a.range),this.setStyle(Ext.apply({},this.config.style,a.config.style)),this.setTitle(Ext.apply({},this.config.title,a.config.title)),this.setLabel(Ext.apply({},this.config.label,a.config.label)),this.masterAxis=a)},onDataChange:function(a){this.getLayout().labels=a},onMasterAxisRangeChange:function(a,b){this.range=b},applyRange:function(a){return a?[null===a[0]?this.dataRange[0]:a[0],null===a[1]?this.dataRange[1]:
a[1]]:this.dataRange.slice(0)},getRange:function(){if(this.range)return this.range;if(this.masterAxis)return this.masterAxis.range;if(Ext.isNumber(this.getMinimum()+this.getMaximum()))return this.range=[this.getMinimum(),this.getMaximum()];var a=Infinity,b=-Infinity,c=this.boundSeries,d=this.getLayout(),e=this.getSegmenter(),f=this.getVisibleRange(),g="get"+this.getDirection()+"Range",h,k,l;k=0;for(l=c.length;k<l;k++)if(h=c[k],h=h[g]())h[0]<a&&(a=h[0]),h[1]>b&&(b=h[1]);isFinite(b)||(b=this.prevMax);
isFinite(a)||(a=this.prevMin);if(this.getLabelInSpan()||a===b)b+=this.getIncrement(),a-=this.getIncrement();Ext.isNumber(this.getMinimum())?a=this.getMinimum():this.prevMin=a;Ext.isNumber(this.getMaximum())?b=this.getMaximum():this.prevMax=b;this.range=[Ext.Number.correctFloat(a),Ext.Number.correctFloat(b)];this.getReconcileRange()&&this.reconcileRange();this.getAdjustByMajorUnit()&&e.adjustByMajorUnit&&!this.getMajorTickSteps()&&(a=Ext.Object.chain(this.getSprites()[0].attr),a.min=this.range[0],
a.max=this.range[1],a.visibleMin=f[0],a.visibleMax=f[1],f={attr:a,segmenter:e},d.calculateLayout(f),(b=f.majorTicks)?(e.adjustByMajorUnit(b.step,b.unit.scale,this.range),a.min=this.range[0],a.max=this.range[1],delete f.majorTicks,d.calculateLayout(f),b=f.majorTicks,e.adjustByMajorUnit(b.step,b.unit.scale,this.range)):this.hasClearRangePending||(this.hasClearRangePending=!0,this.getChart().on("layout","clearRange",this)));Ext.Array.equals(this.range,this.oldRange||[])||(this.fireEvent("rangechange",
this,this.range),this.oldRange=this.range);return this.range},clearRange:function(){delete this.hasClearRangePending;this.range=null},reconcileRange:function(){var a=this.getChart().getAxes(),b=this.getDirection(),c,d,e,f;if(a)for(c=0,d=a.length;c<d;c++)e=a[c],f=e.getRange(),e!==this&&e.getDirection()===b&&f&&e.getReconcileRange()&&(f[0]<this.range[0]&&(this.range[0]=f[0]),f[1]>this.range[1]&&(this.range[1]=f[1]))},applyStyle:function(a,b){var c=Ext.ClassManager.getByAlias("sprite."+this.seriesType);
c&&c.def&&(a=c.def.normalize(a));return b=Ext.apply(b||{},a)},themeOnlyIfConfigured:{grid:!0},updateTheme:function(a){a=a.getAxis();var b=this.getPosition(),c=this.getInitialConfig(),d=this.defaultConfig,e=this.getConfigurator().configs,f=this.themeOnlyIfConfigured,g,h,k,l,m;a=Ext.merge({},a.defaults,a[b]);for(g in a)if(b=a[g],m=e[g],null!==b&&void 0!==b&&m){l=c[g];h=Ext.isObject(b);k=l===d[g];if(h){if(k&&f[g])continue;b=Ext.merge({},b,l)}if(k||h)this[m.names.set](b)}},updateCenter:function(a){var b=
this.getSprites()[0],c=a[0];a=a[1];b&&b.setAttributes({centerX:c,centerY:a});this.gridSpriteEven&&this.gridSpriteEven.getTemplate().setAttributes({translationX:c,translationY:a,rotationCenterX:c,rotationCenterY:a});this.gridSpriteOdd&&this.gridSpriteOdd.getTemplate().setAttributes({translationX:c,translationY:a,rotationCenterX:c,rotationCenterY:a})},getSprites:function(){if(this.getChart()){var a=this.getRange(),b=this.getPosition(),c=this.getChart().getAnimation(),d,e=this.getLength();d=this.superclass;
!1===c&&(c={duration:0});if(a){a=Ext.applyIf({position:b,axis:this,min:a[0],max:a[1],length:e,grid:this.getGrid(),hidden:this.getHidden(),titleOffset:this.titleOffset,layout:this.getLayout(),segmenter:this.getSegmenter(),totalAngle:this.getTotalAngle(),label:this.getLabel()},this.getStyle());if(this.sprites.length)d=this.sprites[0],d.setAnimation(c),d.setAttributes(a);else{for(;!d.xtype;)d=d.superclass;d=Ext.create("sprite."+d.xtype,a);d.fx.setCustomDurations({baseRotation:0});d.fx.on("animationstart",
"onAnimationStart",this);d.fx.on("animationend","onAnimationEnd",this);d.setLayout(this.getLayout());d.setSegmenter(this.getSegmenter());d.setLabel(this.getLabel());this.sprites.push(d);this.updateTitleSprite()}this.getRenderer()&&d.setRenderer(this.getRenderer())}return this.sprites}},updateTitleSprite:function(){var a=this.getLength();if(this.sprites[0]&&Ext.isNumber(a)){var b=this.sprites[0].thickness,c=this.getSurface(),d=this.getTitle(),e=this.getPosition(),f=this.getMargin(),g=this.getTitleMargin(),
a=c.roundPixel(a/2);if(d)switch(e){case "top":d.setAttributes({x:a,y:f+g/2,textBaseline:"top",textAlign:"center"},!0);d.applyTransformations();this.titleOffset=d.getBBox().height+g;break;case "bottom":d.setAttributes({x:a,y:b+g/2,textBaseline:"top",textAlign:"center"},!0);d.applyTransformations();this.titleOffset=d.getBBox().height+g;break;case "left":d.setAttributes({x:f+g/2,y:a,textBaseline:"top",textAlign:"center",rotationCenterX:f+g/2,rotationCenterY:a,rotationRads:-Math.PI/2},!0);d.applyTransformations();
this.titleOffset=d.getBBox().width+g;break;case "right":d.setAttributes({x:b-f+g/2,y:a,textBaseline:"bottom",textAlign:"center",rotationCenterX:b+g/2,rotationCenterY:a,rotationRads:Math.PI/2},!0),d.applyTransformations(),this.titleOffset=d.getBBox().width+g}}},onThicknessChanged:function(){this.getChart().onThicknessChanged()},getThickness:function(){return this.getHidden()?0:(this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset+this.getMargin()},onAnimationStart:function(){this.spriteAnimationCount++;
1===this.spriteAnimationCount&&this.fireEvent("animationstart",this)},onAnimationEnd:function(){this.spriteAnimationCount--;0===this.spriteAnimationCount&&this.fireEvent("animationend",this)},getItemId:function(){return this.getId()},getAncestorIds:function(){return[this.getChart().getId()]},isXType:function(a){return"axis"===a},resolveListenerScope:function(a){var b=Ext._namedScopes[a],c=this.getChart(),d;b?b.isThis?d=this:b.isController?d=c?c.resolveListenerScope(a,!1):this:b.isSelf&&(d=c?c.resolveListenerScope(a,
!1):this,d!==c||c.getInheritedConfig("defaultListenerScope")||(d=this)):d=c?c.resolveListenerScope(a,!1):a||this;return d},destroy:function(){this.setChart(null);this.surface.destroy();this.surface=null;this.callParent()}});
Ext.define("Ext.chart.LegendBase",{extend:Ext.view.View,config:{tpl:['<div class="',Ext.baseCSSPrefix,'legend-container">','<tpl for=".">','<div class="',Ext.baseCSSPrefix,'legend-item">',"<span ",'class="',Ext.baseCSSPrefix,"legend-item-marker {[ values.disabled ? Ext.baseCSSPrefix + 'legend-inactive' : '' ]}\" ",'style="background:{mark};">',"</span>{name}","</div>","</tpl>","</div>"],nodeContainerSelector:"div."+Ext.baseCSSPrefix+"legend-container",itemSelector:"div."+Ext.baseCSSPrefix+"legend-item",
docked:"bottom"},setDocked:function(a){var b=this.ownerCt;this.docked=a;switch(a){case "top":case "bottom":this.addCls(Ext.baseCSSPrefix+"horizontal");break;case "left":case "right":this.removeCls(Ext.baseCSSPrefix+"horizontal")}b&&b.setDocked(a)},setStore:function(a){this.bindStore(a)},clearViewEl:function(){this.callParent(arguments);Ext.removeNode(this.getNodeContainer())},onItemClick:function(a,b,c,d){this.callParent(arguments);this.toggleItem(c)}});
Ext.define("Ext.chart.Legend",{xtype:"legend",extend:Ext.chart.LegendBase,config:{baseCls:Ext.baseCSSPrefix+"legend",padding:5,rect:null,disableSelection:!0,toggleable:!0},toggleItem:function(a){if(this.getToggleable()){var b=this.getStore(),c=0,d,e,f;if(b){e=b.getCount();for(d=0;d<e;d++)f=b.getAt(d),f.get("disabled")&&c++;c=1<e-c;(f=b.getAt(a))&&((a=f.get("disabled"))||c)&&f.set("disabled",!a)}}}});
Ext.define("Ext.chart.AbstractChart",{extend:Ext.draw.Container,isChart:!0,defaultBindProperty:"store",config:{store:"ext-empty-store",theme:"default",style:null,animation:!Ext.isIE8,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},background:null,interactions:[],mainRect:null,resizeHandler:null,highlightItem:null},animationSuspendCount:0,chartLayoutSuspendCount:0,axisThicknessSuspendCount:0,isThicknessChanged:!1,surfaceZIndexes:{background:0,main:1,grid:2,
series:3,axis:4,chart:5,overlay:6,events:7},constructor:function(a){this.itemListeners={};this.surfaceMap={};this.chartComponents={};this.isInitializing=!0;this.suspendChartLayout();this.animationSuspendCount++;this.callParent(arguments);delete this.isInitializing;this.getSurface("main");this.getSurface("chart").setFlipRtlText(this.getInherited().rtl);this.getSurface("overlay").waitFor(this.getSurface("series"));this.animationSuspendCount--;this.resumeChartLayout()},applyAnimation:function(a,b){a?
!0===a&&(a={easing:"easeInOut",duration:500}):a={duration:0};return b?Ext.apply({},a,b):a},getAnimation:function(){return this.animationSuspendCount?{duration:0}:this.callParent()},applyInsetPadding:function(a,b){return Ext.isObject(a)?b?Ext.apply(b,a):a:Ext.util.Format.parseBox(a)},suspendAnimation:function(){var a=this.getSeries(),b=a.length,c=-1,d;this.animationSuspendCount++;if(1===this.animationSuspendCount)for(;++c<b;)d=a[c],d.setAnimation(d.getAnimation())},resumeAnimation:function(){var a=
this.getSeries(),b=a.length,c=-1,d,e;this.animationSuspendCount--;if(0===this.animationSuspendCount)for(;++c<b;)d=a[c],e=d.getAnimation(),d.setAnimation(e.duration&&e||this.getAnimation())},suspendChartLayout:function(){this.chartLayoutSuspendCount++;1===this.chartLayoutSuspendCount&&(this.scheduledLayoutId?(this.layoutInSuspension=!0,this.cancelChartLayout()):this.layoutInSuspension=!1)},resumeChartLayout:function(){this.chartLayoutSuspendCount--;0===this.chartLayoutSuspendCount&&this.layoutInSuspension&&
this.scheduleLayout()},cancelChartLayout:function(){this.scheduledLayoutId&&(Ext.draw.Animator.cancel(this.scheduledLayoutId),this.scheduledLayoutId=null)},scheduleLayout:function(){this.allowSchedule()&&!this.scheduledLayoutId&&(this.scheduledLayoutId=Ext.draw.Animator.schedule("doScheduleLayout",this))},allowSchedule:function(){return!0},doScheduleLayout:function(){this.chartLayoutSuspendCount?this.layoutInSuspension=!0:this.performLayout()},suspendThicknessChanged:function(){this.axisThicknessSuspendCount++},
resumeThicknessChanged:function(){if(0<this.axisThicknessSuspendCount&&(this.axisThicknessSuspendCount--,0===this.axisThicknessSuspendCount&&this.isThicknessChanged))this.onThicknessChanged()},onThicknessChanged:function(){0===this.axisThicknessSuspendCount?(this.isThicknessChanged=!1,this.performLayout()):this.isThicknessChanged=!0},applySprites:function(a){var b=this.getSurface("chart");a=Ext.Array.from(a);b.removeAll(!0);b.add(a);return a},initItems:function(){var a=this.items,b,c,d;if(a&&!a.isMixedCollection)for(this.items=
[],a=Ext.Array.from(a),b=0,c=a.length;b<c;b++)d=a[b],d.type?Ext.raise("To add custom sprites to the chart use the 'sprites' config."):this.items.push(d);this.callParent()},applyBackground:function(a,b){var c=this.getSurface("background"),d,e,f;a&&(b&&(d=b.attr.width,e=b.attr.height,f=b.type===(a.type||"rect")),a.isSprite?b=a:"image"===a.type&&Ext.isString(a.src)?f?b.setAttributes({src:a.src}):(c.remove(b,!0),b=c.add(a)):f?b.setAttributes({fillStyle:a}):(c.remove(b,!0),b=c.add({type:"rect",fillStyle:a,
fx:{customDurations:{x:0,y:0,width:0,height:0}}})));d&&e&&b.setAttributes({width:d,height:e});b.setAnimation(this.getAnimation());return b},getLegendStore:function(){return this.legendStore},refreshLegendStore:function(){if(this.getLegendStore()){var a,b,c=this.getSeries(),d,e=[];if(c)for(a=0,b=c.length;a<b;a++)d=c[a],d.getShowInLegend()&&d.provideLegendInfo(e);this.getLegendStore().setData(e)}},resetLegendStore:function(){var a,b,c,d;if(this.getLegendStore())for(a=this.getLegendStore().getData().items,
b=0,c=a.length;b<c;b++)d=a[b],d.beginEdit(),d.set("disabled",!1),d.commit()},onUpdateLegendStore:function(a,b){var c=this.getSeries();b&&c&&(c=c.map[b.get("series")])&&(c.setHiddenByIndex(b.get("index"),b.get("disabled")),this.redraw())},defaultResizeHandler:function(a){this.scheduleLayout();return!1},applyMainRect:function(a,b){if(!b)return a;this.getSeries();this.getAxes();return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]?b:a},register:function(a){var b=this.chartComponents,c=a.getId();
b[c]=a},unregister:function(a){var b=this.chartComponents;a=a.getId();delete b[a]},get:function(a){return this.chartComponents[a]},getAxis:function(a){if(a instanceof Ext.chart.axis.Axis)return a;if(Ext.isNumber(a))return this.getAxes()[a];if(Ext.isString(a))return this.get(a)},getSurface:function(a,b){a=a||"main";b=b||a;var c=this.callParent([a]),d=this.surfaceZIndexes,e=this.surfaceMap;b in d&&c.element.setStyle("zIndex",d[b]);e[b]||(e[b]=[]);0>Ext.Array.indexOf(e[b],c)&&(c.type=b,e[b].push(c),
c.on("destroy",this.forgetSurface,this));return c},forgetSurface:function(a){var b=this.surfaceMap;b&&!this.isDestroying&&(a=(b=b[a.type])?Ext.Array.indexOf(b,a):-1,0<=a&&b.splice(a,1))},applyAxes:function(a,b){var c={left:"right",right:"left"},d=[],e,f,g,h,k,l;this.animationSuspendCount++;this.getStore();b||(b=[],b.map={});l=b.map;d.map={};a=Ext.Array.from(a,!0);h=0;for(k=a.length;h<k;h++)if(e=a[h])e instanceof Ext.chart.axis.Axis?(f=l[e.getId()],e.setChart(this)):(e=Ext.Object.chain(e),f=e.linkedTo,
g=e.id,Ext.isNumber(f)?e=Ext.merge({},a[f],e):Ext.isString(f)&&Ext.Array.each(a,function(a){if(a.id===e.linkedTo)return e=Ext.merge({},a,e),!1}),e.id=g,e.chart=this,this.getInherited().rtl&&(e.position=c[e.position]||e.position),g=e.getId&&e.getId()||e.id,e=Ext.factory(e,null,f=l[g],"axis")),e&&(d.push(e),d.map[e.getId()]=e,f||(e.on("animationstart","onAnimationStart",this),e.on("animationend","onAnimationEnd",this)));for(h in l)d.map[h]||l[h].destroy();this.animationSuspendCount--;return d},updateAxes:function(){this.isDestroying||
this.scheduleLayout()},circularCopyArray:function(a,b,c){var d=[],e,f=a&&a.length;if(f)for(e=0;e<c;e++)d.push(a[(b+e)%f]);return d},circularCopyObject:function(a,b,c){var d,e,f={};if(c)for(d in a)a.hasOwnProperty(d)&&(e=a[d],Ext.isArray(e)?f[d]=this.circularCopyArray(e,b,c):f[d]=e);return f},getColors:function(){var a=this.config.colors,b=this.getTheme();Ext.isArray(a)&&0<a.length&&(a=this.applyColors(a));return a||b&&b.getColors()},applyColors:function(a){return a=Ext.Array.map(a,function(a){return Ext.isString(a)?
a:a.toString()})},updateColors:function(a){var b=this.getTheme();a=a||b&&b.getColors();var b=0,c=this.getSeries(),d=c&&c.length,e,f,g,h;if(a.length)for(e=0;e<d;e++)f=c[e],h=f.themeColorCount(),g=this.circularCopyArray(a,b,h),b+=h,f.updateChartColors(g);this.refreshLegendStore()},applyTheme:function(a){return a&&a.isTheme?a:Ext.Factory.chartTheme(a)},updateTheme:function(a){var b=this.getAxes(),c=this.getSeries(),d=this.getColors(),e;this.updateChartTheme(a);for(e=0;e<b.length;e++)b[e].updateTheme(a);
for(e=0;e<c.length;e++)b=c[e],b.updateTheme(a);this.updateSpriteTheme(a);this.updateColors(d);this.redraw()},themeOnlyIfConfigured:{},updateChartTheme:function(a){a=a.getChart();var b=this.getInitialConfig(),c=this.defaultConfig,d=this.getConfigurator().configs,e=this.themeOnlyIfConfigured,f,g,h,k,l,m;a=Ext.merge({},a.defaults,a[this.xtype]);for(f in a)if(g=a[f],m=d[f],null!==g&&void 0!==g&&m){l=b[f];h=Ext.isObject(g);k=l===c[f];if(h){if(k&&e[f])continue;g=Ext.merge({},g,l)}if(k||h)this[m.names.set](g)}},
updateSpriteTheme:function(a){this.getSprites();var b=this.getSurface("chart").getItems();a=a.getSprites();var c,d,e,f,g,h,k;h=0;for(k=b.length;h<k;h++)if(c=b[h],d=a[c.type]){f={};g="text"===c.type;for(e in d)e in c.config||g&&0===e.indexOf("font")&&c.config.font||(f[e]=d[e]);c.setAttributes(f)}},addSeries:function(a){var b=this.getSeries();Ext.Array.push(b,a);this.setSeries(b)},removeSeries:function(a){a=Ext.Array.from(a);var b=this.getSeries(),c=[],d=a.length,e={},f,g;for(f=0;f<d;f++)g=a[f],"string"!==
typeof g&&(g=g.getId()),e[g]=!0;f=0;for(d=b.length;f<d;f++)e[b[f].getId()]||c.push(b[f]);this.setSeries(c)},applySeries:function(a,b){var c=[],d,e,f,g,h;this.animationSuspendCount++;this.getAxes();b?d=b.map:(b=[],d=b.map={});c.map={};a=Ext.Array.from(a,!0);f=0;for(g=a.length;f<g;f++)if(h=a[f])e=d[h.getId&&h.getId()||h.id],h instanceof Ext.chart.series.Series?(e&&e!==h&&e.destroy(),h.setChart(this)):Ext.isObject(h)&&(e?(e.setConfig(h),h=e):(Ext.isString(h)&&(h={type:h}),h.chart=this,h=Ext.create(h.xclass||
"series."+h.type,h),h.on("animationstart","onAnimationStart",this),h.on("animationend","onAnimationEnd",this))),c.push(h),c.map[h.getId()]=h;for(f in d)c.map[d[f].getId()]||d[f].destroy();this.animationSuspendCount--;return c},applyLegend:function(a,b){return Ext.factory(a,Ext.chart.Legend,b)},updateLegend:function(a,b){b&&b.destroy();a&&(this.getItems(),this.legendStore=new Ext.data.Store({autoDestroy:!0,fields:"id name mark disabled series index".split(" ")}),a.setStore(this.legendStore),this.refreshLegendStore(),
this.legendStore.on("update","onUpdateLegendStore",this))},updateSeries:function(a,b){this.isDestroying||(this.animationSuspendCount++,this.fireEvent("serieschange",this,a,b),this.refreshLegendStore(),Ext.isEmpty(a)||this.updateTheme(this.getTheme()),this.scheduleLayout(),this.animationSuspendCount--)},applyInteractions:function(a,b){b||(b=[],b.map={});var c=[],d=b.map,e,f,g;c.map={};a=Ext.Array.from(a,!0);e=0;for(f=a.length;e<f;e++)if(g=a[e])if(g=Ext.factory(g,null,d[g.getId&&g.getId()||g.id],"interaction"))g.setChart(this),
c.push(g),c.map[g.getId()]=g;for(e in d)c.map[e]||d[e].destroy();return c},getInteraction:function(a){var b=this.getInteractions(),c=b&&b.length,d=null,e,f;if(c)for(f=0;f<c;++f)if(e=b[f],e.type===a){d=e;break}return d},applyStore:function(a){return a&&Ext.StoreManager.lookup(a)},updateStore:function(a,b){b&&(b.un({datachanged:"onDataChanged",update:"onDataChanged",scope:this,order:"after"}),b.autoDestroy&&b.destroy());if(a)a.on({datachanged:"onDataChanged",update:"onDataChanged",scope:this,order:"after"});
this.fireEvent("storechange",this,a,b);this.onDataChanged()},redraw:function(){this.fireEvent("redraw",this)},performLayout:function(){var a=this.getChartSize(!0),b=[0,0,a.width,a.height],c=this.getBackground();this.hasFirstLayout=!0;this.fireEvent("layout",this);this.cancelChartLayout();this.getSurface("background").setRect(b);this.getSurface("chart").setRect(b);c.setAttributes({width:a.width,height:a.height})},getChartSize:function(a){a&&(this.chartSize=null);return this.chartSize||(this.chartSize=
this.innerElement.getSize())},getEventXY:function(a){return this.getSurface().getEventXY(a)},getItemForPoint:function(a,b){var c=this.getSeries(),d=this.getMainRect(),e=c.length,e=this.hasFirstLayout?e-1:-1;if(!(d&&0<=a&&a<=d[2]&&0<=b&&b<=d[3]))return null;for(;0<=e;e--)if(d=c[e],d=d.getItemForPoint(a,b))return d;return null},getItemsForPoint:function(a,b){for(var c=this.getSeries(),d=c.length,d=this.hasFirstLayout?d-1:-1,e=[],f;0<=d;d--)f=c[d],(f=f.getItemForPoint(a,b))&&e.push(f);return e},onAnimationStart:function(){this.fireEvent("animationstart",
this)},onAnimationEnd:function(){this.fireEvent("animationend",this)},onDataChanged:function(){if(!this.isInitializing){var a=this.getMainRect(),b=this.getStore(),c=this.getSeries(),d=this.getAxes();if(b&&d&&c)if(a)this.processData(),this.redraw();else this.on({redraw:this.onDataChanged,scope:this,single:!0})}},recordCount:0,processData:function(){for(var a=this.getStore().getCount(),b=this.getSeries(),c=b.length,d=!1,e=0,f;e<c;e++)f=b[e],f.processData(),!d&&f.isStoreDependantColorCount&&(d=!0);d&&
a>this.recordCount&&(this.updateColors(this.getColors()),this.recordCount=a)},bindStore:function(a){this.setStore(a)},applyHighlightItem:function(a,b){if(a!==b)return Ext.isObject(a)&&Ext.isObject(b)&&(a.sprite&&(a.sprite[0]||a.sprite))===(b.sprite&&(b.sprite[0]||b.sprite))&&a.index===b.index?void 0:a},updateHighlightItem:function(a,b){b&&b.series.setAttributesForItem(b,{highlighted:!1});a&&(a.series.setAttributesForItem(a,{highlighted:!0}),this.fireEvent("itemhighlight",this,a,b));this.fireEvent("itemhighlightchange",
this,a,b)},destroyChart:function(){var a=this.getLegend(),b=this.getAxes(),c=this.getSeries(),d=this.getInteractions(),e=[],f,g;this.surfaceMap=null;f=0;for(g=d.length;f<g;f++)d[f].destroy();f=0;for(g=b.length;f<g;f++)b[f].destroy();f=0;for(g=c.length;f<g;f++)c[f].destroy();this.setInteractions(e);this.setAxes(e);this.setSeries(e);a&&(a.destroy(),this.setLegend(null));this.legendStore=null;this.setStore(null);this.cancelChartLayout()},getRefItems:function(a){var b=this.getSeries(),c=this.getAxes(),
d=this.getInteractions(),e=[],f,g;f=0;for(g=b.length;f<g;f++)e.push(b[f]),b[f].getRefItems&&e.push.apply(e,b[f].getRefItems(a));f=0;for(g=c.length;f<g;f++)e.push(c[f]),c[f].getRefItems&&e.push.apply(e,c[f].getRefItems(a));f=0;for(g=d.length;f<g;f++)e.push(d[f]),d[f].getRefItems&&e.push.apply(e,d[f].getRefItems(a));return e}});
Ext.define("Ext.chart.overrides.AbstractChart",{override:"Ext.chart.AbstractChart",updateLegend:function(a,b){var c;this.callParent([a,b]);a&&(c=a.docked,this.addDocked({dock:c,xtype:"panel",shrinkWrap:!0,scrollable:!0,layout:{type:"top"===c||"bottom"===c?"hbox":"vbox",pack:"center"},items:a,cls:Ext.baseCSSPrefix+"legend-panel"}))},performLayout:function(){if(this.isVisible(!0))return this.callParent();this.cancelChartLayout();return!1},afterComponentLayout:function(a,b,c,d){this.callParent([a,b,
c,d]);this.scheduleLayout()},allowSchedule:function(){return this.rendered},onDestroy:function(){this.destroyChart();this.callParent(arguments)}});
Ext.define("Ext.chart.grid.HorizontalGrid",{extend:Ext.draw.sprite.Sprite,alias:"grid.horizontal",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(a,b,c){var d=this.attr,e=a.roundPixel(d.y),f=.5*b.lineWidth;b.beginPath();b.rect(c[0]-a.matrix.getDX(),e+f,+c[2],d.height);b.fill();b.beginPath();b.moveTo(c[0]-a.matrix.getDX(),e+f);b.lineTo(c[0]+c[2]-a.matrix.getDX(),e+f);b.stroke()}});
Ext.define("Ext.chart.grid.VerticalGrid",{extend:Ext.draw.sprite.Sprite,alias:"grid.vertical",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(a,b,c){var d=this.attr,e=a.roundPixel(d.x),f=.5*b.lineWidth;b.beginPath();b.rect(e-f,c[1]-a.matrix.getDY(),d.width,c[3]);b.fill();b.beginPath();b.moveTo(e-f,c[1]-a.matrix.getDY());b.lineTo(e-f,c[1]+c[3]-a.matrix.getDY());b.stroke()}});
Ext.define("Ext.chart.CartesianChart",{extend:Ext.chart.AbstractChart,alternateClassName:"Ext.chart.Chart",xtype:["cartesian","chart"],isCartesian:!0,config:{flipXY:!1,innerRect:[0,0,1,1],innerPadding:{top:0,left:0,right:0,bottom:0}},applyInnerPadding:function(a,b){return Ext.isObject(a)?b?Ext.apply(b,a):a:Ext.util.Format.parseBox(a)},getDirectionForAxis:function(a){var b=this.getFlipXY();return"left"===a||"right"===a?b?"X":"Y":b?"Y":"X"},performLayout:function(){this.animationSuspendCount++;if(!1===
this.callParent())--this.animationSuspendCount;else{this.suspendThicknessChanged();var a=this.getSurface("chart").getRect(),b=a[2],c=a[3],d=this.getAxes(),e,a=this.getSeries(),f,g,h=this.getInsetPadding(),k=this.getInnerPadding(),l;l=Ext.apply({},h);var m,n,p=this.getInherited().rtl,q=this.getFlipXY();if(!(0>=b||0>=c)){for(h=0;h<d.length;h++){e=d[h];f=e.getSurface();m=(g=e.getFloating())?g.value:null;g=e.getThickness();switch(e.getPosition()){case "top":f.setRect([0,l.top+1,b,g]);break;case "bottom":f.setRect([0,
c-(l.bottom+g),b,g]);break;case "left":f.setRect([l.left,0,g,c]);break;case "right":f.setRect([b-(l.right+g),0,g,c])}null===m&&(l[e.getPosition()]+=g)}b-=l.left+l.right;c-=l.top+l.bottom;g=[l.left,l.top,b,c];l.left+=k.left;l.top+=k.top;l.right+=k.right;l.bottom+=k.bottom;b=b-k.left-k.right;c=c-k.top-k.bottom;this.setInnerRect([l.left,l.top,b,c]);if(!(0>=b||0>=c)){this.setMainRect(g);this.getSurface().setRect(g);h=0;for(e=this.surfaceMap.grid&&this.surfaceMap.grid.length;h<e;h++)f=this.surfaceMap.grid[h],
f.setRect(g),f.matrix.set(1,0,0,1,k.left,k.top),f.matrix.inverse(f.inverseMatrix);for(h=0;h<d.length;h++){e=d[h];f=e.getSurface();n=f.matrix;m=n.elements;switch(e.getPosition()){case "top":case "bottom":m[4]=l.left;e.setLength(b);break;case "left":case "right":m[5]=l.top,e.setLength(c)}e.updateTitleSprite();n.inverse(f.inverseMatrix)}h=0;for(e=a.length;h<e;h++)d=a[h],l=d.getSurface(),l.setRect(g),q?p?l.matrix.set(0,-1,-1,0,k.left+b,k.top+c):l.matrix.set(0,-1,1,0,k.left,k.top+c):l.matrix.set(1,0,0,
-1,k.left,k.top+c),l.matrix.inverse(l.inverseMatrix),d.getOverlaySurface().setRect(g);this.redraw();this.animationSuspendCount--;this.resumeThicknessChanged()}}}},refloatAxes:function(){var a=this.getAxes(),b=a&&a.length||0,c,d,e,f,g,h;c=this.getChartSize();var k=this.getInsetPadding(),l=this.getInnerPadding(),m=c.width-k.left-k.right,n=c.height-k.top-k.bottom,p,q;for(q=0;q<b;q++)if(c=a[q],g=(f=c.getFloating())?f.value:null,null===g)delete c.floatingAtCoord;else if(d=c.getSurface(),e=d.getRect()){e=
e.slice();(f=this.getAxis(f.alongAxis))?(p="horizontal"===f.getAlignment(),Ext.isString(g)&&(g=f.getCoordFor(g)),f.floatingAxes[c.getId()]=g,h=f.getSprites()[0].attr.matrix,p?(g=g*h.getXX()+h.getDX(),c.floatingAtCoord=g+l.left+l.right):(g=g*h.getYY()+h.getDY(),c.floatingAtCoord=g+l.top+l.bottom)):(p="horizontal"===c.getAlignment(),c.floatingAtCoord=p?g+l.top+l.bottom:g+l.left+l.right,g=d.roundPixel(.01*g*(p?n:m)));switch(c.getPosition()){case "top":e[1]=k.top+l.top+g-e[3]+1;break;case "bottom":e[1]=
k.top+l.top+(f?g:n-g);break;case "left":e[0]=k.left+l.left+g-e[2];break;case "right":e[0]=k.left+l.left+(f?g:m-g)-1}d.setRect(e)}},redraw:function(){var a=this.getSeries(),b=this.getAxes(),c=this.getMainRect(),d,e=this.getInnerPadding(),f,g,h,k,l,m;m=this.getFlipXY();var n,p,q,r;if(c){d=c[2]-e.left-e.right;c=c[3]-e.top-e.bottom;for(l=0;l<a.length;l++)for(f=a[l],(g=f.getXAxis())?(k=g.getVisibleRange(),g=g.getRange(),g=[g[0]+(g[1]-g[0])*k[0],g[0]+(g[1]-g[0])*k[1]]):g=f.getXRange(),(h=f.getYAxis())?
(k=h.getVisibleRange(),h=h.getRange(),h=[h[0]+(h[1]-h[0])*k[0],h[0]+(h[1]-h[0])*k[1]]):h=f.getYRange(),k={visibleMinX:g[0],visibleMaxX:g[1],visibleMinY:h[0],visibleMaxY:h[1],innerWidth:d,innerHeight:c,flipXY:m},f=f.getSprites(),g=0,h=f.length;g<h;g++)q=f[g],n=q.attr.zIndex,1E3>n&&(n+=100*(l+1)+1E3,q.attr.zIndex=n,r=q.getMarker("items"))&&(p=r.attr.zIndex,p===Number.MAX_VALUE?r.attr.zIndex=n:1E3>p&&(r.attr.zIndex=n+p)),q.setAttributes(k,!0);for(l=0;l<b.length;l++)for(k=b[l],a=k.isSide(),f=k.getSprites(),
m=k.getRange(),k=k.getVisibleRange(),k={dataMin:m[0],dataMax:m[1],visibleMin:k[0],visibleMax:k[1]},a?(k.length=c,k.startGap=e.bottom,k.endGap=e.top):(k.length=d,k.startGap=e.left,k.endGap=e.right),g=0,h=f.length;g<h;g++)f[g].setAttributes(k,!0);this.renderFrame();this.callParent(arguments)}},renderFrame:function(){this.refloatAxes();this.callParent()}});Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alias:"axis.category",type:"category",config:{layout:"combineDuplicate",segmenter:"names"}});
Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,type:"numeric",alias:["axis.numeric","axis.radial"],config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}});
Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],applyXAxis:function(a,b){return this.getChart().getAxis(a)||b},applyYAxis:function(a,b){return this.getChart().getAxis(a)||b},updateXAxis:function(a){a.processData(this)},updateYAxis:function(a){a.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",
1,2)},getItemForPoint:function(a,b){if(this.getSprites()){var c=this.getSprites()[0],d=this.getStore(),e;if(this.getHidden())return null;if(c&&(e=c.getIndexNearPoint(a,b),-1!==e))return c={series:this,category:this.getItemInstancing()?"items":"markers",index:e,record:d.getData().items[e],field:this.getYField(),sprite:c}}},createSprite:function(){var a=this.callParent(),b=this.getChart(),c=this.getXAxis();a.setAttributes({flipXY:b.getFlipXY(),xAxis:c});a.setAggregator&&c&&c.getAggregator&&(c.getAggregator?
a.setAggregator({strategy:c.getAggregator()}):a.setAggregator({}));return a},getSprites:function(){var a=this.getChart(),b=this.getAnimation()||a&&a.getAnimation(),c=this.getItemInstancing(),d=this.sprites;if(!a)return[];a=d.length?d[0]:this.createSprite();b&&(c&&a.itemsMarker.getTemplate().setAnimation(b),a.setAnimation(b));return d},provideLegendInfo:function(a){var b=this.getSubStyleWithTheme(),c=b.fillStyle;Ext.isArray(c)&&(c=c[0]);a.push({name:this.getTitle()||this.getYField()||this.getId(),
mark:(Ext.isObject(c)?c.stops&&c.stops[0].color:c)||b.strokeStyle||"black",disabled:this.getHidden(),series:this.getId(),index:0})},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]}});
Ext.define("Ext.chart.series.StackedCartesian",{extend:Ext.chart.series.Cartesian,config:{stacked:!0,splitStacks:!0,fullStack:!1,fullStackTotal:100,hidden:[]},spriteAnimationCount:0,themeColorCount:function(){var a=this.getYField();return Ext.isArray(a)?a.length:1},updateStacked:function(){this.processData()},updateSplitStacks:function(){this.processData()},coordinateY:function(){return this.coordinateStacked("Y",1,2)},coordinateStacked:function(a,b,c){var d=this.getStore().getData().items,e=d.length,
f=this["get"+a+"Axis"](),g=this.getHidden(),h=this.getSplitStacks(),k=this.getFullStack(),l=this.getFullStackTotal(),m={min:0,max:0},n=this["fieldCategory"+a],p=[],q=[],r=[],t,u=this.getStacked(),v=this.getSprites(),w=[],y,x,z,A,C,B,H,D,G;if(v.length){for(y=0;y<n.length;y++){H=n[y];t=this.getFields([H]);A=t.length;for(x=0;x<e;x++)p[x]=0,q[x]=0,r[x]=0;for(x=0;x<A;x++)g[x]||(w[x]=this.coordinateData(d,t[x],f));if(u&&k)for(C=[],h&&(B=[]),x=0;x<e;x++)for(C[x]=0,h&&(B[x]=0),z=0;z<A;z++)if(D=w[z])D=D[x],
0<=D||!h?C[x]+=D:0>D&&(B[x]+=D);for(x=0;x<A;x++){G={};if(g[x])G["dataStart"+H]=p,G["data"+H]=p;else if(D=w[x],u){t=[];for(z=0;z<e;z++)D[z]||(D[z]=0),0<=D[z]||!h?(k&&C[z]&&(D[z]*=l/C[z]),p[z]=q[z],q[z]+=D[z],t[z]=q[z]):(k&&B[z]&&(D[z]*=l/B[z]),p[z]=r[z],r[z]+=D[z],t[z]=r[z]);G["dataStart"+H]=p;G["data"+H]=t;this.getRangeOfData(p,m);this.getRangeOfData(t,m)}else G["dataStart"+H]=p,G["data"+H]=D,this.getRangeOfData(D,m);v[x].setAttributes(G)}}this.dataRange[b]=m.min;this.dataRange[b+c]=m.max;G={};G["dataMin"+
a]=m.min;G["dataMax"+a]=m.max;for(y=0;y<v.length;y++)v[y].setAttributes(G)}},getFields:function(a){var b=[],c,d,e;d=0;for(e=a.length;d<e;d++)c=this["get"+a[d]+"Field"](),Ext.isArray(c)?b.push.apply(b,c):b.push(c);return b},updateLabelOverflowPadding:function(a){this.getLabel().setAttributes({labelOverflowPadding:a})},getSprites:function(){var a=this.getChart(),b=this.getAnimation()||a&&a.getAnimation(),c=this.getFields(this.fieldCategoryY),d=this.getItemInstancing(),e=this.sprites,f=this.getHidden(),
g=!1,h,k=c.length;if(!a)return[];for(h=0;h<k;h++)a=e[h],a||(a=this.createSprite(),a.setAttributes({zIndex:-h}),a.setField(c[h]),g=!0,f.push(!1),d?a.itemsMarker.getTemplate().setAttributes(this.getStyleByIndex(h)):a.setAttributes(this.getStyleByIndex(h))),b&&(d&&a.itemsMarker.getTemplate().setAnimation(b),a.setAnimation(b));g&&this.updateHidden(f);return e},getItemForPoint:function(a,b){if(this.getSprites()){var c,d,e,f=this.getItemInstancing(),g=this.getSprites(),h=this.getStore(),k=this.getHidden(),
l;c=0;for(d=g.length;c<d;c++)if(!k[c]&&(e=g[c],l=e.getIndexNearPoint(a,b),-1!==l))return d=this.getYField(),c={series:this,index:l,category:f?"items":"markers",record:h.getData().items[l],field:"string"===typeof d?d:d[c],sprite:e};return null}},provideLegendInfo:function(a){var b=this.getSprites(),c=this.getTitle(),d=this.getYField(),e=this.getHidden(),f=1===b.length,g,h,k,l;for(k=0;k<b.length;k++)g=this.getStyleByIndex(k),h=g.fillStyle,c?Ext.isArray(c)?l=c[k]:f&&(l=c):l=Ext.isArray(d)?d[k]:this.getId(),
a.push({name:l,mark:(Ext.isObject(h)?h.stops&&h.stops[0].color:h)||g.strokeStyle||"black",disabled:e[k],series:this.getId(),index:k})},onSpriteAnimationStart:function(a){this.spriteAnimationCount++;1===this.spriteAnimationCount&&this.fireEvent("animationstart")},onSpriteAnimationEnd:function(a){this.spriteAnimationCount--;0===this.spriteAnimationCount&&this.fireEvent("animationend")}});
Ext.define("Ext.chart.series.sprite.Series",{extend:Ext.draw.sprite.Sprite,mixins:{markerHolder:Ext.chart.MarkerHolder},inheritableStatics:{def:{processors:{dataMinX:"number",dataMaxX:"number",dataMinY:"number",dataMaxY:"number",rangeX:"data",rangeY:"data",dataX:"data",dataY:"data"},defaults:{dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,rangeX:null,rangeY:null,dataX:null,dataY:null},triggers:{dataX:"bbox",dataY:"bbox",dataMinX:"bbox",dataMaxX:"bbox",dataMinY:"bbox",dataMaxY:"bbox"}}},config:{store:null,
series:null,field:null}});
Ext.define("Ext.chart.series.sprite.Cartesian",{extend:Ext.chart.series.sprite.Series,inheritableStatics:{def:{processors:{labels:"default",labelOverflowPadding:"number",selectionTolerance:"number",flipXY:"bool",renderer:"default",visibleMinX:"number",visibleMinY:"number",visibleMaxX:"number",visibleMaxY:"number",innerWidth:"number",innerHeight:"number"},defaults:{labels:null,labelOverflowPadding:10,selectionTolerance:20,flipXY:!1,renderer:null,transformFillStroke:!1,visibleMinX:0,visibleMinY:0,visibleMaxX:1,
visibleMaxY:1,innerWidth:1,innerHeight:1},triggers:{dataX:"dataX,bbox",dataY:"dataY,bbox",visibleMinX:"panzoom",visibleMinY:"panzoom",visibleMaxX:"panzoom",visibleMaxY:"panzoom",innerWidth:"panzoom",innerHeight:"panzoom"},updaters:{dataX:function(a){this.processDataX();this.scheduleUpdater(a,"dataY",["dataY"])},dataY:function(){this.processDataY()},panzoom:function(a){var b=a.visibleMaxX-a.visibleMinX,c=a.visibleMaxY-a.visibleMinY,d=a.flipXY?a.innerHeight:a.innerWidth,e=a.flipXY?a.innerWidth:a.innerHeight,
f=this.getSurface(),f=f?f.getInherited().rtl:!1;a.translationX=f&&!a.flipXY?d+a.visibleMinX*d/b:-a.visibleMinX*d/b;a.translationY=-a.visibleMinY*e/c;a.scalingX=(f&&!a.flipXY?-1:1)*d/b;a.scalingY=e/c;a.scalingCenterX=0;a.scalingCenterY=0;this.applyTransformations(!0)}}}},processDataY:Ext.emptyFn,processDataX:Ext.emptyFn,updatePlainBBox:function(a){var b=this.attr;a.x=b.dataMinX;a.y=b.dataMinY;a.width=b.dataMaxX-b.dataMinX;a.height=b.dataMaxY-b.dataMinY},binarySearch:function(a){var b=this.attr.dataX,
c=0,d=b.length;if(a<=b[0])return c;if(a>=b[d-1])return d-1;for(;c+1<d;){var e=c+d>>1,f=b[e];if(f===a)return e;f<a?c=e:d=e}return c},render:function(a,b,c){var d=this.attr,e=d.inverseMatrix.clone();e.appendMatrix(a.inverseMatrix);null!==d.dataX&&void 0!==d.dataX&&null!==d.dataY&&void 0!==d.dataY&&(e.getXX()*e.getYX()||e.getXY()*e.getYY()?console.log("Cartesian Series sprite does not support rotation/sheering"):(d=e.transformList([[c[0]-1,c[3]+1],[c[0]+c[2]+1,-1]]),d=d[0].concat(d[1]),this.renderClipped(a,
b,d,c)))},renderClipped:Ext.emptyFn,getIndexNearPoint:function(a,b){var c=this.attr.dataX,d=this.attr.dataY,e=this.attr.selectionTolerance,f,g,h=-1,k=this.attr.matrix.clone().prependMatrix(this.surfaceMatrix).inverse(),l=k.transformPoint([a,b]),m=k.transformPoint([a-e,b-e]),n=k.transformPoint([a+e,b+e]),e=Math.min(m[0],n[0]),k=Math.max(m[0],n[0]),p=Math.min(m[1],n[1]),m=Math.max(m[1],n[1]),q,r,t;r=0;for(t=c.length;r<t;r++)n=c[r],q=d[r],n>e&&n<k&&q>p&&q<m&&(-1===h||Math.abs(n-l[0])<f&&Math.abs(q-l[1])<
g)&&(f=Math.abs(n-l[0]),g=Math.abs(q-l[1]),h=r);return h}});
Ext.define("Ext.chart.series.sprite.StackedCartesian",{extend:Ext.chart.series.sprite.Cartesian,inheritableStatics:{def:{processors:{groupCount:"number",groupOffset:"number",dataStartY:"data"},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:"dataY,bbox"}}},getIndexNearPoint:function(a,b){for(var c=this.attr.dataX,d=this.attr.dataY,e=this.attr.dataStartY,f=this.attr.selectionTolerance,g=.5,h=Infinity,k=-1,l=this.attr.matrix.clone().prependMatrix(this.surfaceMatrix).inverse(),
m=l.transformPoint([a,b]),n=l.transformPoint([a-f,b-f]),l=l.transformPoint([a+f,b+f]),f=Math.min(n[1],l[1]),n=Math.max(n[1],l[1]),p,q=0;q<c.length;q++)Math.min(e[q],d[q])<=n&&f<=Math.max(e[q],d[q])&&(l=Math.abs(c[q]-m[0]),p=Math.max(-Math.min(d[q]-m[1],m[1]-e[q]),0),l<g&&p<=h&&(g=l,h=p,k=q));return k}});
Ext.define("Ext.chart.series.sprite.Bar",{alias:"sprite.barSeries",extend:Ext.chart.series.sprite.StackedCartesian,inheritableStatics:{def:{processors:{minBarWidth:"number",maxBarWidth:"number",minGapWidth:"number",radius:"number",inGroupGapWidth:"number"},defaults:{minBarWidth:2,maxBarWidth:100,minGapWidth:5,inGroupGapWidth:3,radius:0}}},drawLabel:function(a,b,c,d,e){var f=this.attr,g=this.getMarker("labels"),h=g.getTemplate(),k=this.labelCfg||(this.labelCfg={}),l=this.surfaceMatrix,m=f.labelOverflowPadding,
n=h.attr.display,p=h.attr.orientation,q,r;k.x=l.x(b,d);k.y=l.y(b,d);k.rotationRads=f.flipXY?0:.5*-Math.PI;k.calloutVertical=!f.flipXY;switch(p){case "horizontal":k.rotationRads=0;k.calloutVertical=!1;break;case "vertical":k.rotationRads=.5*-Math.PI,k.calloutVertical=!0}k.text=a;h.attr.renderer&&(q=[a,g,k,{store:this.getStore()},e],q=Ext.callback(h.attr.renderer,null,q,0,this.getSeries()),"string"===typeof q?k.text=q:"object"===typeof q&&("text"in q&&(k.text=q.text),r=!0));h=this.getMarkerBBox("labels",
e,!0);h||(this.putMarker("labels",k,e),h=this.getMarkerBBox("labels",e,!0));h=h.width/2+m;c>d&&(h=-h);f="horizontal"===p&&f.flipXY||"vertical"===p&&!f.flipXY||!p?"insideStart"===n?c+h:d-h:"insideStart"===n?c+2*m:d-2*m;k.x=l.x(b,f);k.y=l.y(b,f);f="insideStart"===n?c-h:d+h;k.calloutPlaceX=l.x(b,f);k.calloutPlaceY=l.y(b,f);f="insideStart"===n?c:d;k.calloutStartX=l.x(b,f);k.calloutStartY=l.y(b,f);c>d&&(h=-h);k.callout=Math.abs(d-c)<=2*h||"outside"===n?1:0;r&&Ext.apply(k,q);this.putMarker("labels",k,e)},
drawBar:function(a,b,c,d,e,f,g,h){a={};b=this.attr.renderer;a.x=d;a.y=e;a.width=f-d;a.height=g-e;a.radius=this.attr.radius;b&&(d=Ext.callback(b,null,[this,a,{store:this.getStore()},h],0,this.getSeries()),Ext.apply(a,d));this.putMarker("items",a,h,!b)},renderClipped:function(a,b,c,d){if(!this.cleanRedraw){var e=this.attr;d=e.dataX;var f=e.dataY,g=e.labels,h=e.dataStartY,k=e.groupCount,l=e.groupOffset-.5*(k-1),m=e.inGroupGapWidth,n=b.lineWidth,p=e.matrix,q=p.elements[0],r=p.elements[3],t=p.elements[4],
p=a.roundPixel(p.elements[5])-1,k=a.roundPixel(Math.max(e.minBarWidth,(Math.min((0>q?-1:1)*q-e.minGapWidth,e.maxBarWidth)-m*(k-1))/k)),u=this.surfaceMatrix,v,w,y,x,z,A,e=.5*e.lineWidth;v=Math.max(0,Math.floor(Math.min(c[0],c[2])));var C=Math.min(d.length-1,Math.ceil(Math.max(c[0],c[2]))),B=g&&this.getMarker("labels");for(z=v;z<=C;z++)y=h?h[z]:0,w=f[z],A=d[z]*q+t+l*(k+m),v=a.roundPixel(A-k/2)+e,x=a.roundPixel(w*r+p+n),w=a.roundPixel(A+k/2)-e,y=a.roundPixel(y*r+p+n),this.drawBar(b,a,c,v,x-e,w,y-e,z),
B&&null!=g[z]&&this.drawLabel(g[z],A,y,x,z),this.putMarker("markers",{translationX:u.x(A,x),translationY:u.y(A,x)},z,!0)}},getIndexNearPoint:function(a,b){var c=this.attr,d=c.dataX,e=this.getSurface(),f=e.getRect()||[0,0,0,0],g=f[3],h=-1;c.flipXY?(c=g-b,e=e.getInherited().rtl?f[2]-a:a):(c=a,e=g-b);for(f=0;f<d.length;f++)if(g=this.getMarkerBBox("items",f),Ext.draw.Draw.isPointInBBox(c,e,g)){h=f;break}return h}});
Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.StackedCartesian,alias:"series.bar",type:"bar",seriesType:"barSeries",config:{itemInstancing:{type:"rect",fx:{customDurations:{x:0,y:0,width:0,height:0,radius:0}}}},getItemForPoint:function(a,b){if(this.getSprites()){var c=this.getChart(),d=c.getInnerPadding(),c=c.getInherited().rtl;arguments[0]=a+(c?d.right:-d.left);arguments[1]=b+d.bottom;return this.callParent(arguments)}},updateXAxis:function(a){a.setLabelInSpan(!0);this.callParent(arguments)},
updateHidden:function(a){this.callParent(arguments);this.updateStacked()},updateStacked:function(a){var b=this.getSprites(),c=b.length,d=[],e={},f;for(f=0;f<c;f++)b[f].attr.hidden||d.push(b[f]);c=d.length;if(this.getStacked())for(e.groupCount=1,f=e.groupOffset=0;f<c;f++)d[f].setAttributes(e);else for(e.groupCount=d.length,f=0;f<c;f++)e.groupOffset=f,d[f].setAttributes(e);this.callParent(arguments)}});
Ext.define("Sch.data.mixin.FilterableTreeStore",{isFilteredFlag:!1,isHiddenFlag:!1,lastTreeFilter:null,lastTreeHiding:null,allowExpandCollapseWhileFiltered:!0,reApplyFilterOnDataChange:!0,suspendIncrementalFilterRefresh:0,filterGeneration:0,currentFilterGeneration:null,dataChangeListeners:null,monitoringDataChange:!1,filterer:null,onClassMixedIn:function(a){a.override(Sch.data.mixin.FilterableTreeStore.prototype.inheritables()||{})},initTreeFiltering:function(){this.filterer=new Siesta.Util.TreeStoreFilterer({isLeaf:function(a){return a.data.leaf},
idProp:"internalId",childNodesProp:"childNodes",parentNodeProp:"parentNode"});this.treeFilter=new Ext.util.Filter({filterFn:this.isNodeFilteredIn,scope:this});this.dataChangeListeners={nodeappend:this.onNeedToUpdateFilter,nodeinsert:this.onNeedToUpdateFilter,scope:this}},startDataChangeMonitoring:function(){this.monitoringDataChange||(this.monitoringDataChange=!0,this.on(this.dataChangeListeners))},stopDataChangeMonitoring:function(){this.monitoringDataChange&&(this.monitoringDataChange=!1,this.un(this.dataChangeListeners))},
onNeedToUpdateFilter:function(){this.reApplyFilterOnDataChange&&!this.suspendIncrementalFilterRefresh&&this.reApplyFilter()},clearTreeFilter:function(){this.isTreeFiltered()&&(this.currentFilterGeneration=null,this.isFilteredFlag=!1,this.lastTreeFilter=null,this.isTreeFiltered(!0)||this.stopDataChangeMonitoring(),this.refreshNodeStoreContent(),this.fireEvent("filter-clear",this))},reApplyFilter:function(){this.isHiddenFlag&&this.hideNodesBy.apply(this,this.lastTreeHiding.concat(this.isFilteredFlag));
this.isFilteredFlag&&this.filterTreeBy(this.lastTreeFilter)},refreshNodeStoreContent:function(){0>this.getFilters().indexOf(this.treeFilter)?this.addFilter(this.treeFilter):this.getFilters().fireEvent("endupdate",this.getFilters())},getIndexInTotalDataset:function(a){var b=this.getRootNode(),c=-1,d=this.rootVisible;if(!d&&a==b)return-1;var e=this.isTreeFiltered(),f=this.currentFilterGeneration,g=function(h){if((e&&h.__filterGen!=f||h.hidden)&&h==a)return!1;(d||h!=b)&&c++;if(h==a)return!1;if(!h.data.leaf&&
h.isExpanded()){h=h.childNodes;for(var k=h.length,l=0;l<k;l++)if(!1===g(h[l]))return!1}};g(b);return c},isTreeFiltered:function(a){return this.isFilteredFlag||a&&this.isHiddenFlag},markFilteredNodes:function(a){var b=this,c=this.currentFilterGeneration,d=this.getRootNode(),e=this.filterer.collectNodes(d,Ext.apply({rootVisible:this.rootVisible},a));d.cascadeBy(function(a){e[a.internalId]&&(a.__filterGen=c,b.allowExpandCollapseWhileFiltered&&!a.data.leaf&&a.expand())})},filterTreeBy:function(a,b){this.currentFilterGeneration=
this.filterGeneration++;1==arguments.length&&Ext.isObject(arguments[0])?b=a.scope:a={filter:a,scope:b};this.fireEvent("nodestore-datachange-start",this);a=a||{};this.markFilteredNodes(a);this.startDataChangeMonitoring();this.isFilteredFlag=!0;this.lastTreeFilter=a;this.refreshNodeStoreContent();this.fireEvent("nodestore-datachange-end",this);this.fireEvent("filter-set",this)},isNodeFilteredIn:function(a){var b=this.isTreeFiltered(),c=this.currentFilterGeneration;return this.loading||!(b&&a.__filterGen!=
c||a.hidden)},hasNativeFilters:function(){var a=this.getFilters(),b=a.getCount();return b&&1<b||0>a.indexOf(this.treeFilter)},hideNodesBy:function(a,b,c){var d=this;if(d.isFiltered()&&d.hasNativeFilters())throw Error("Can't hide nodes of the filtered tree store");b=b||d;d.getRootNode().cascadeBy(function(c){c.hidden=!!a.call(b,c,d)});d.startDataChangeMonitoring();d.isHiddenFlag=!0;d.lastTreeHiding=[a,b];c||d.refreshNodeStoreContent()},showAllNodes:function(a){this.getRootNode().cascadeBy(function(a){a.hidden=
!1});this.isHiddenFlag=!1;this.lastTreeHiding=null;this.isTreeFiltered(!0)||this.stopDataChangeMonitoring();a||this.refreshNodeStoreContent()},inheritables:function(){return{onNodeExpand:function(a,b,c){if(this.isTreeFiltered(!0)&&a==this.getRoot())this.callParent(arguments),this.reApplyFilter();else return this.callParent(arguments)},onNodeCollapse:function(a,b,c,d,e){var f=this,g=f.data,h=g.contains,k=f.isTreeFiltered(),l=f.currentFilterGeneration;g.contains=function(){var c,d,e,g=f.indexOf(a)+
1,r=!1;for(c=0;c<b.length;c++)if(!(b[c].hidden||k&&b[c].__filterGen!=l)&&h.call(this,b[c])){for(c=a;c.parentNode;){d=c;do d=d.nextSibling;while(d&&(d.hidden||k&&d.__filterGen!=l));if(d){r=!0;e=f.indexOf(d);break}else c=c.parentNode}r||(e=f.getCount());f.removeAt(g,e-g);break}return!1};this.callParent(arguments);g.contains=h},handleNodeExpand:function(a,b,c){for(var d=[],e=this.isTreeFiltered(),f=this.currentFilterGeneration,g=0;g<b.length;g++){var h=b[g];e&&h.__filterGen!=f||h.hidden||(d[d.length]=
h)}return this.callParent([a,d,c])},onNodeInsert:function(a,b,c){var d=b.raw||b.data,e;this.filterFn&&(e=this.filterFn(b),b.set("visible",e),e&&a.set("visible",this.filterFn(a)));this.registerNode(b,!0);this.beginUpdate();if(this.isVisible(b)){if(0!==c&&b.previousSibling){for(c=b.previousSibling;c&&!c.get("visible");c=c.previousSibling);if(c){for(;c.isExpanded()&&c.lastChild;)c=c.lastChild;a=c}}this.insert(this.indexOf(a)+1,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,b.childNodes);
else this.fillCount||(b.set("expanded",!1),b.expand())}else this.needsSync=this.needsSync||b.phantom||b.dirty;!b.isLeaf()&&!b.isLoaded()&&!this.lazyFill&&(a=this.getProxy().getReader(),a=(c=(c=b.getProxy())?c.getReader():null)&&c.initialConfig.rootProperty?c:a,d=a.getRoot(d))&&(c=b.childType,this.fillNode(b,a.extractData(d,c?{model:c}:void 0)));this.endUpdate()},isFiltered:function(){return this.callParent(arguments)||this.isTreeFiltered()}}}});
Ext.define("Sch.mixin.FilterableTreeView",{filterableTreeStore:null,treeStoreFilteringListeners:null,initTreeFiltering:function(){this.treeStoreFilteringListeners={"nodestore-datachange-start":this.onFilterChangeStart,"nodestore-datachange-end":this.onFilterChangeEnd,"filter-clear":this.onFilterCleared,"filter-set":this.onFilterSet,forcedrefresh:this.onForcedRefresh,scope:this};var a=function(){var a=this.up("tablepanel").store;this.bindFilterableTreeStore(a)};if(this.rendered)a.call(this);else this.on("beforerender",
a,this,{single:!0})},bindFilterableTreeStore:function(a){this.filterableTreeStore&&this.mun(this.filterableTreeStore,this.treeStoreFilteringListeners);(this.filterableTreeStore=a)&&this.mon(a,this.treeStoreFilteringListeners)},onForcedRefresh:function(){this.focusRow=function(){};this.refresh();delete this.focusRow},onFilterChangeStart:function(){Ext.suspendLayouts()},onFilterChangeEnd:function(){Ext.resumeLayouts(!0)},onFilterCleared:function(){},onFilterSet:function(){}});
Ext.define("Siesta.Project.Browser.UI.FilterableTreeView",{extend:Ext.tree.View,alias:"widget.filterabletreeview",mixins:[Sch.mixin.FilterableTreeView],constructor:function(){this.callParent(arguments);this.initTreeFiltering()},bindStore:function(a,b,c){a instanceof Ext.data.TreeStore?(this.bindFilterableTreeStore(a),this.callParent([a.nodeStore||a,b,c])):this.callParent(arguments)}});
Ext.define("Siesta.Project.Browser.UI.CoverageChart",{extend:Ext.chart.Chart,alias:"widget.coveragechart",border:!1,margin:"35% 35%",animate:{easing:"bounceOut",duration:600},store:{fields:["name","value"]},axes:[{type:"numeric",position:"left",fields:["value"],minimum:0,maximum:100,label:{renderer:Ext.util.Format.numberRenderer("0"),fill:"#555"},grid:{odd:{stroke:"#efefef"},even:{stroke:"#efefef"}}},{type:"category",position:"bottom",fields:["name"],label:{fill:"#555"}}],series:[{type:"bar",axis:"left",
xField:"name",yField:"value",label:{display:"outside","text-anchor":"middle",field:"value",orientation:"horizontal",fill:"#aaa",renderer:function(a,b,c,d,e,f,g,h){return a+"%"}},renderer:function(a,b,c,d,e){c.fill="rgb(89, 205, 82)";return c}}]});
Ext.define("Siesta.Project.Browser.UI.TreeFilterField",{extend:Ext.form.field.Text,alias:"widget.treefilter",filterGroups:!1,cls:"filterfield",store:null,filterField:"text",hasAndCheck:null,andChecker:null,andCheckerScope:null,triggerLeafCls:"fa-file-o",triggerGroupCls:"fa-folder-o",tipText:null,constructor:function(a){var b=this;Ext.apply(a,{triggers:{clear:{cls:"fa-close",handler:function(){b.store.clearTreeFilter();b.reset()}},leafOrGroup:{cls:b.triggerLeafCls,handler:function(){b.setFilterGroups(!b.getFilterGroups())}}},
listeners:{change:{fn:this.onFilterChange,buffer:400,scope:this},specialkey:this.onFilterSpecialKey,scope:this}});this.callParent(arguments)},afterRender:function(){this.callParent(arguments);this.tipText&&this.inputEl.set({title:this.tipText});this.filterGroups&&(this.triggerEl.item(1).addCls(this.triggerGroupCls),this.triggerEl.item(1).removeCls(this.triggerLeafCls))},onFilterSpecialKey:function(a,b,c){b.keyCode===b.ESC&&(this.store.clearTreeFilter(),a.reset())},setFilterGroups:function(a){if(a!=
this.filterGroups){this.filterGroups=a;if(this.rendered){var b=this.triggerEl.item(1);a?(b.addCls(this.triggerGroupCls),b.removeCls(this.triggerLeafCls)):(b.removeCls(this.triggerGroupCls),b.addCls(this.triggerLeafCls))}this.refreshFilter();this.fireEvent("filter-group-change",this)}},getFilterGroups:function(){return this.filterGroups},refreshFilter:function(){this.onFilterChange(this,this.getValue())},onFilterChange:function(a,b){if(b||this.hasAndCheck&&this.hasAndCheck()){var c=this.store.filterer,
d=this.filterField,e,f,g=this.filterGroups;if(g)e=c.splitTermByPipe(b);else{var h=c.parseFilterValue(b);e=h.testFilterRegexps;f=h.groupFilterRegexps}var k=this.andChecker,l=this.andCheckerScope||this,m=function(a){return a.get(d)};this.store.filterTreeBy({filter:function(a){return k&&!k.call(l,a)?!1:c.checkCommonFilter(a,m,e,f)},fullMatchingParents:g})}else this.store.clearTreeFilter()}});
Ext.define("Siesta.Project.Browser.Model.FilterableTreeStore",{extend:Ext.data.TreeStore,mixins:[Sch.data.mixin.FilterableTreeStore],constructor:function(){this.callParent(arguments);this.initTreeFiltering()},forEach:function(a,b){this.getRootNode().cascadeBy(a,b)}});
Ext.define("Siesta.Project.Browser.Model.CoverageUnit",{extend:Ext.data.Model,idProperty:"id",fields:["id","url","text","reportNode",{name:"iconCls",defaultValue:"x-fa fa-cube"}],getLineCoverage:function(){return this.getCoverageInPercent("lines")},getStatementCoverage:function(){return this.getCoverageInPercent("statements")},getBranchCoverage:function(){return this.getCoverageInPercent("branches")},getFunctionCoverage:function(){return this.getCoverageInPercent("functions")},getCoverageInPercent:function(a){var b=
this.data.reportNode;if(b)return b.metrics[a].pct}},function(){Ext.data.NodeInterface.decorate(this);this.override({expand:function(){Ext.suspendLayouts();this.callParent(arguments);Ext.resumeLayouts()}})});
Ext.define("Siesta.Project.Browser.UI.CoverageReport",{extend:Ext.Container,alias:"widget.coveragereport",cls:"st-cov-report-panel",layout:"border",htmlReport:null,treePanel:null,treeStore:null,chart:null,sourcePanel:null,contentContainer:null,toggleButtons:null,standalone:!1,dataUrl:null,project:null,expandLevels:2,initComponent:function(){var a=this,b=this.standalone,c=this.treeStore=new Siesta.Project.Browser.Model.FilterableTreeStore({model:"Siesta.Project.Browser.Model.CoverageUnit",proxy:"memory",
rootVisible:!0});Ext.apply(this,{border:!this.standalone,items:[{xtype:"treepanel",border:!1,region:"west",enableColumnHide:!1,enableColumnMove:!1,enableColumnResize:!1,sortableColumns:!1,rowLines:!1,tbar:{cls:"siesta-toolbar",height:45,border:!1,items:[b?null:{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","closeText"),scale:"medium",style:"margin:0 10px 0 0;",handler:this.onBackToMainUI,scope:this},{xtype:"treefilter",cls:"filterfield",hasAndCheck:function(){var b=Ext.pluck(a.toggleButtons,
"pressed");return!b[0]||!b[1]||!b[2]},andChecker:this.levelFilter,andCheckerScope:this,margin:"3 0 0 0",store:c,filterField:"text",width:180},"->",{xtype:"label",text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","showText"),margin:"0 5 0 0"},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","highText"),level:"high",enableToggle:!0,pressed:!0,scale:"medium",cls:"st-cov-level-high",toggleHandler:this.toggleLevels,scope:this,margin:"0 5 0 0"},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport",
"mediumText"),level:"med",enableToggle:!0,scale:"medium",pressed:!0,cls:"st-cov-level-medium",toggleHandler:this.toggleLevels,scope:this,margin:"0 5 0 0"},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","lowText"),level:"low",enableToggle:!0,scale:"medium",pressed:!0,cls:"st-cov-level-low",toggleHandler:this.toggleLevels,scope:this,style:"margin:0 5px 0 0"}]},viewType:"filterabletreeview",viewConfig:{store:c.nodeStore,trackOver:!1,rootVisible:!0},cls:"st-cov-report-tree-panel",flex:1,
split:!0,rootVisible:!0,columns:[{xtype:"treecolumn",dataIndex:"text",menuDisabled:!0,flex:3},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","statementsText"),flex:1,menuDisabled:!0,tdCls:"cov-result-cell",renderer:this.getMetricsRenderer("statements")},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","branchesText"),flex:1,menuDisabled:!0,tdCls:"cov-result-cell",renderer:this.getMetricsRenderer("branches")},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport",
"functionsText"),flex:1,menuDisabled:!0,tdCls:"cov-result-cell",renderer:this.getMetricsRenderer("functions")},{text:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","linesText"),flex:1,menuDisabled:!0,tdCls:"cov-result-cell",renderer:this.getMetricsRenderer("lines")}],store:c,listeners:{selectionchange:this.onClassSelected,scope:this}},{xtype:"container",cls:"coveragechart-container",slot:"contentContainer",region:"center",layout:{type:"card",deferredRendering:!0},items:[{xtype:"coveragechart"},
{xtype:"panel",slot:"sourcePanel",flex:1,autoScroll:!0,bodyPadding:"4 0 4 10",border:!1,cls:"st-cov-report-source-panel"}]}]});this.callParent();this.contentContainer=this.down("[slot=contentContainer]");this.chart=this.down("chart");this.sourcePanel=this.down("[slot=sourcePanel]");this.toggleButtons=this.query("button[level]");this.treePanel=this.down("treepanel");if(b)this.on("afterrender",function(){var b=new Ext.LoadMask({target:this,msg:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport",
"loadingText")});b.show();Ext.Ajax.request({url:this.dataUrl,success:function(c){b.hide();a.loadHtmlReport(Ext.JSON.decode(c.responseText))},failure:function(){b.hide();Ext.Msg.show({title:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","loadingErrorText"),msg:Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport","loadingErrorMessageText")+a.dataUrl,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.ERROR})}})},this,{single:!0});else this.htmlReport&&this.loadHtmlReport(this.htmlReport);
if(this.project)this.project.on("testsuiteend",this.onTestSuiteEnd,this)},onTestSuiteEnd:function(a){this.project&&this.isVisible()&&this.loadHtmlReport(this.project.generateCoverageHtmlReport(!1))},loadHtmlReport:function(a){this.htmlReport=a;var b=this.treeStore,c="file"==a.coverageUnit,d=this.down("treefilter"),e=this.treePanel.getSelectionModel(),f=e.getSelected(),f=0<f.length?f.first().getId():null;b.setRootNode(this.generateFilesTree(a.htmlReport.root));f&&b.getNodeById(f)&&e.select(b.getNodeById(f));
this.down("treecolumn").setText(c?"File name":"Class name");d.emptyText=c?"Filter files":"Filter classes";d.applyEmptyText();this.loadChartData(b.getRootNode())},levelFilter:function(a){a=a.getStatementCoverage();return void 0===a?!1:this.toggleButtons[80<=a?0:50<=a?1:2].pressed},toggleLevels:function(){this.down("treefilter").refreshFilter()},getCoverageLevelClass:function(a){return"number"==typeof a?"st-cov-level-"+(80<=a?"high":50<=a?"medium":"low"):""},getMetricsRenderer:function(a){var b=this;
return function(c,d,e){c=e.get("reportNode");if(!c)return"";c=c.metrics[a];d.tdCls=b.getCoverageLevelClass(c.pct);return'<span class="st-cov-stat-pct-'+a+'">'+Math.round(c.pct)+'%</span> <span class="st-cov-stat-abs-'+a+'">('+c.covered+"/"+c.total+")</span>"}},generateFilesTree:function(a,b){var c=this;b=b||0;if("dir"===a.kind){var d=a.relativeName||a.fullName;return{id:a.fullName,url:a.fullName,leaf:!1,expanded:b<this.expandLevels,text:"/"==d&&"extjs_class"==this.htmlReport.coverageUnit?Siesta.Resource("Siesta.Project.Browser.UI.CoverageReport",
"globalNamespaceText"):d,reportNode:a,children:Ext.Array.map(a.children,function(a){return c.generateFilesTree(a,b+1)}).sort(this.treeSorterFn)}}return{id:a.fullName,url:a.fullName,leaf:!0,text:a.relativeName,reportNode:a}},treeSorterFn:function(a,b){if(!a.leaf&&b.leaf)return-1;if(a.leaf&&!b.leaf)return 1;if(a.leaf===b.leaf)return a.text<b.text?-1:1},onClassSelected:function(a,b){var c=b[0];c&&(c.isLeaf()&&!this.htmlReport.coverageNoSource?(this.sourcePanel.update(c.get("reportNode").html),prettyPrint(),
this.contentContainer.getLayout().setActiveItem(1)):(this.loadChartData(c),this.contentContainer.getLayout().setActiveItem(0)))},onBackToMainUI:function(){this.fireEvent("backtomainui",this)},loadChartData:function(a){this.chart.store.loadData([{name:"Statements",value:Math.round(a.getStatementCoverage())},{name:"Branches",value:Math.round(a.getBranchCoverage())},{name:"Functions",value:Math.round(a.getFunctionCoverage())},{name:"Lines",value:Math.round(a.getLineCoverage())}])}});
window.PR_SHOULD_USE_CONTINUATION=!0;
(function(){function a(a){function b(a){var c=a.charCodeAt(0);if(92!==c)return c;var d=a.charAt(1);return(c=n[d])?c:"0"<=d&&"7">=d?parseInt(a.substring(1),8):"u"===d||"x"===d?parseInt(a.substring(2),16):a.charCodeAt(1)}function c(a){if(32>a)return(16>a?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);if("\\"===a||"-"===a||"["===a||"]"===a)a="\\"+a;return a}function d(a){var e=a.substring(1,a.length-1).match(RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g"));
a=[];for(var f=[],g="^"===e[0],h=g?1:0,k=e.length;h<k;++h){var l=e[h];if(/\\[bdsw]/i.test(l))a.push(l);else{var l=b(l),m;h+2<k&&"-"===e[h+1]?(m=b(e[h+2]),h+=2):m=l;f.push([l,m]);65>m||122<l||(65>m||90<l||f.push([Math.max(65,l)|32,Math.min(m,90)|32]),97>m||122<l||f.push([Math.max(97,l)&-33,Math.min(m,122)&-33]))}}f.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});e=[];l=[NaN,NaN];for(h=0;h<f.length;++h)k=f[h],k[0]<=l[1]+1?l[1]=Math.max(l[1],k[1]):e.push(l=k);f=["["];g&&f.push("^");f.push.apply(f,a);
for(h=0;h<e.length;++h)k=e[h],f.push(c(k[0])),k[1]>k[0]&&(k[1]+1>k[0]&&f.push("-"),f.push(c(k[1])));f.push("]");return f.join("")}function e(a){for(var b=a.source.match(RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),c=b.length,h=[],k=0,l=0;k<c;++k){var m=b[k];"("===m?++l:"\\"===m.charAt(0)&&(m=+m.substring(1))&&m<=l&&(h[m]=-1)}for(k=1;k<h.length;++k)-1===h[k]&&(h[k]=++f);for(l=
k=0;k<c;++k)m=b[k],"("===m?(++l,void 0===h[l]&&(b[k]="(?:")):"\\"===m.charAt(0)&&(m=+m.substring(1))&&m<=l&&(b[k]="\\"+h[l]);for(l=k=0;k<c;++k)"^"===b[k]&&"^"!==b[k+1]&&(b[k]="");if(a.ignoreCase&&g)for(k=0;k<c;++k)m=b[k],a=m.charAt(0),2<=m.length&&"["===a?b[k]=d(m):"\\"!==a&&(b[k]=m.replace(/[a-zA-Z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return b.join("")}for(var f=0,g=!1,h=!1,k=0,l=a.length;k<l;++k){var m=a[k];if(m.ignoreCase)h=!0;else if(/[a-z]/i.test(m.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,
""))){g=!0;h=!1;break}}for(var n={b:8,t:9,n:10,v:11,f:12,r:13},p=[],k=0,l=a.length;k<l;++k){m=a[k];if(m.global||m.multiline)throw Error(""+m);p.push("(?:"+e(m)+")")}return new RegExp(p.join("|"),h?"gi":"g")}function b(a){function b(a){switch(a.nodeType){case 1:if(c.test(a.className))break;for(var h=a.firstChild;h;h=h.nextSibling)b(h);h=a.nodeName;if("BR"===h||"LI"===h)d[g]="\n",f[g<<1]=e++,f[g++<<1|1]=a;break;case 3:case 4:h=a.nodeValue,h.length&&(h=k?h.replace(/\r\n?/g,"\n"):h.replace(/[ \t\r\n]+/g,
" "),d[g]=h,f[g<<1]=e,e+=h.length,f[g++<<1|1]=a)}}var c=/(?:^|\s)nocode(?:\s|$)/,d=[],e=0,f=[],g=0,h;a.currentStyle?h=a.currentStyle.whiteSpace:window.getComputedStyle&&(h=document.defaultView.getComputedStyle(a,null).getPropertyValue("white-space"));var k=h&&"pre"===h.substring(0,3);b(a);return{sourceCode:d.join("").replace(/\n$/,""),spans:f}}function c(a,b,c,d){b&&(a={sourceCode:b,basePos:a},c(a),d.push.apply(d,a.decorations))}function d(b,d){var e={},f;(function(){for(var c=b.concat(d),g=[],h=
{},k=0,l=c.length;k<l;++k){var m=c[k],n=m[3];if(n)for(var p=n.length;0<=--p;)e[n.charAt(p)]=m;m=m[1];n=""+m;h.hasOwnProperty(n)||(g.push(m),h[n]=null)}g.push(/[\0-\uffff]/);f=a(g)})();var g=d.length,k=function(a){for(var b=a.basePos,l=[b,"pln"],m=0,n=a.sourceCode.match(f)||[],p={},q=0,r=n.length;q<r;++q){var t=n[q],u=p[t],v=void 0,w;if("string"===typeof u)w=!1;else{var x=e[t.charAt(0)];if(x)v=t.match(x[1]),u=x[0];else{for(w=0;w<g;++w)if(x=d[w],v=t.match(x[1])){u=x[0];break}v||(u="pln")}!(w=5<=u.length&&
"lang-"===u.substring(0,5))||v&&"string"===typeof v[1]||(w=!1,u="src");w||(p[t]=u)}x=m;m+=t.length;if(w){w=v[1];var y=t.indexOf(w),P=y+w.length;v[2]&&(P=t.length-v[2].length,y=P-w.length);u=u.substring(5);c(b+x,t.substring(0,y),k,l);c(b+x+y,w,h(u,w),l);c(b+x+P,t.substring(P),k,l)}else l.push(b+x,u)}a.decorations=l};return k}function e(a){var b=[],c=[];a.tripleQuotedStrings?b.push(["str",/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,
null,"'\""]):a.multiLineStrings?b.push(["str",/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):b.push(["str",/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]);a.verbatimStrings&&c.push(["str",/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var e=a.hashComments;e&&(a.cStyleComments?(1<e?b.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):b.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,
null,"#"]),c.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])):b.push(["com",/^#[^\r\n]*/,null,"#"]));a.cStyleComments&&(c.push(["com",/^\/\/[^\r\n]*/,null]),c.push(["com",/^\/\*[\s\S]*?(?:\*\/|$)/,null]));a.regexLiterals&&c.push(["lang-regex",/^(?:^^\.?|[+-]|\!|\!=|\!==|\#|\%|\%=|&|&&|&&=|&=|\(|\*|\*=|\+=|\,|\-=|\->|\/|\/=|:|::|\;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\?|\@|\[|\^|\^=|\^\^|\^\^=|\{|\||\|=|\|\||\|\|=|\~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^/*])(?:[^/\x5B\x5C]|\x5C[\s\S]|\x5B(?:[^\x5C\x5D]|\x5C[\s\S])*(?:\x5D|$))+\/)/]);
(e=a.types)&&c.push(["typ",e]);a=(""+a.keywords).replace(/^ | $/g,"");a.length&&c.push(["kwd",new RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),null]);b.push(["pln",/^\s+/,null," \r\n\t\u00a0"]);c.push(["lit",/^@[a-z_$][a-z_$@0-9]*/i,null],["typ",/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],["pln",/^[a-z_$][a-z_$@0-9]*/i,null],["lit",/^(?:0x[a-f0-9]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+\-]?\d+)?)[a-z]*/i,null,"0123456789"],["pln",/^\\[\s\S]?/,null],["pun",/^.[^\s\w\.$@\'\"\`\/\#\\]*/,
null]);return d(b,c)}function f(a,b){function c(a){switch(a.nodeType){case 1:if(e.test(a.className))break;if("BR"===a.nodeName)d(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)c(a);break;case 3:case 4:if(k){var b=a.nodeValue,h=b.match(f);if(h){var l=b.substring(0,h.index);a.nodeValue=l;(b=b.substring(h.index+h[0].length))&&a.parentNode.insertBefore(g.createTextNode(b),a.nextSibling);d(a);l||a.parentNode.removeChild(a)}}}}function d(a){function b(a,c){var d=
c?a.cloneNode(!1):a,e=a.parentNode;if(e){var e=b(e,1),f=a.nextSibling;e.appendChild(d);for(var g=f;g;g=f)f=g.nextSibling,e.appendChild(g)}return d}for(;!a.nextSibling;)if(a=a.parentNode,!a)return;a=b(a.nextSibling,0);for(var c;(c=a.parentNode)&&1===c.nodeType;)a=c;l.push(a)}var e=/(?:^|\s)nocode(?:\s|$)/,f=/\r\n?|\n/,g=a.ownerDocument,h;a.currentStyle?h=a.currentStyle.whiteSpace:window.getComputedStyle&&(h=g.defaultView.getComputedStyle(a,null).getPropertyValue("white-space"));var k=h&&"pre"===h.substring(0,
3);for(h=g.createElement("LI");a.firstChild;)h.appendChild(a.firstChild);for(var l=[h],m=0;m<l.length;++m)c(l[m]);b===(b|0)&&l[0].setAttribute("value",b);var n=g.createElement("OL");n.className="linenums";for(var p=Math.max(0,b-1|0)||0,m=0,q=l.length;m<q;++m)h=l[m],h.className="L"+(m+p)%10,h.firstChild||h.appendChild(g.createTextNode("\u00a0")),n.appendChild(h);a.appendChild(n)}function g(a,b){for(var c=b.length;0<=--c;){var d=b[c];y.hasOwnProperty(d)?window.console&&console.warn("cannot override language handler %s",
d):y[d]=a}}function h(a,b){a&&y.hasOwnProperty(a)||(a=/^\s*</.test(b)?"default-markup":"default-code");return y[a]}function k(a){var c=a.langExtension;try{var d=b(a.sourceNode),e=d.sourceCode;a.sourceCode=e;a.spans=d.spans;a.basePos=0;h(c,e)(a);var f=/\bMSIE\b/.test(navigator.userAgent),c=/\n/g,g=a.sourceCode,k=g.length,d=0,l=a.spans,m=l.length,e=0,n=a.decorations,p=n.length;a=0;n[p]=k;var q,r;for(r=q=0;r<p;)n[r]!==n[r+2]?(n[q++]=n[r++],n[q++]=n[r++]):r+=2;p=q;for(r=q=0;r<p;){for(var t=n[r],u=n[r+
1],v=r+2;v+2<=p&&n[v+1]===u;)v+=2;n[q++]=t;n[q++]=u;r=v}for(n.length=q;e<m;){var w=l[e+2]||k,y=n[a+2]||k,v=Math.min(w,y),O=l[e+1],R;if(1!==O.nodeType&&(R=g.substring(d,v))){f&&(R=R.replace(c,"\r"));O.nodeValue=R;var P=O.ownerDocument,S=P.createElement("SPAN");S.className=n[a+1];var U=O.parentNode;U.replaceChild(S,O);S.appendChild(O);d<w&&(l[e+1]=O=P.createTextNode(g.substring(v,w)),U.insertBefore(O,S.nextSibling))}d=v;d>=w&&(e+=2);d>=y&&(a+=2)}}catch(T){"console"in window&&console.log(T&&T.stack?
T.stack:T)}}var l=["break,continue,do,else,for,if,return,while"],m=[[l,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],n=[m,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],
p=[m,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],q=[p,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],m=[m,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],r=
[l,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],t=[l,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],l=[l,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],u=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,
v=/\S/,w=e({keywords:[n,q,m,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+r,t,l],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),y={};g(w,["default-code"]);g(d([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",
/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),"default-markup htm html mxml xhtml xml xsl".split(" "));g(d([["pln",/^[\s]+/,null," \t\r\n"],["atv",/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],
["pun",/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]);g(d([],[["atv",/^[\s\S]+/]]),["uq.val"]);g(e({keywords:n,hashComments:!0,cStyleComments:!0,types:u}),"c cc cpp cxx cyc m".split(" "));g(e({keywords:"null,true,false"}),["json"]);g(e({keywords:q,hashComments:!0,cStyleComments:!0,
verbatimStrings:!0,types:u}),["cs"]);g(e({keywords:p,cStyleComments:!0}),["java"]);g(e({keywords:l,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);g(e({keywords:r,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);g(e({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl",
"pl","pm"]);g(e({keywords:t,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);g(e({keywords:m,cStyleComments:!0,regexLiterals:!0}),["js"]);g(e({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);g(d([],[["str",/^[\s\S]+/]]),["regex"]);window.prettyPrintOne=function(a,
b,c){var d=document.createElement("PRE");d.innerHTML=a;c&&f(d,c);k({langExtension:b,numberLines:c,sourceNode:d});return d.innerHTML};window.prettyPrint=function(a){function b(){for(var c=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;m<d.length&&l.now()<c;m++){var e=d[m],g=e.className;if(0<=g.indexOf("prettyprint")){var g=g.match(p),h,q;if(q=!g){h=e;q=void 0;for(var r=h.firstChild;r;r=r.nextSibling){var t=r.nodeType;q=1===t?q?h:r:3===t?v.test(r.nodeValue)?h:q:q}q=h=q===h?void 0:q}q&&"CODE"===
h.tagName&&(g=h.className.match(p));g&&(g=g[1]);q=!1;for(r=e.parentNode;r;r=r.parentNode)if(("pre"===r.tagName||"code"===r.tagName||"xmp"===r.tagName)&&r.className&&0<=r.className.indexOf("prettyprint")){q=!0;break}q||((q=(q=e.className.match(/\blinenums\b(?::(\d+))?/))?q[1]&&q[1].length?+q[1]:!0:!1)&&f(e,q),n={langExtension:g,sourceNode:e,numberLines:q},k(n))}}m<d.length?setTimeout(b,250):a&&a()}for(var c=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],
d=[],e=0;e<c.length;++e)for(var g=0,h=c[e].length;g<h;++g)d.push(c[e][g]);var c=null,l=Date;l.now||(l={now:function(){return+new Date}});var m=0,n,p=/\blang(?:uage)?-([\w.]+)(?!\S)/;b()};window.PR={createSimpleLexer:d,registerLangHandler:g,sourceDecorator:e,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();
PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_DECLARATION,/^<!\w[^>]*(?:>|$)/],[PR.PR_COMMENT,/^<\!--[\s\S]*?(?:-\->|$)/],[PR.PR_PUNCTUATION,/^(?:<[%?]|[%?]>)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-handlebars",/^<script\b[^>]*type\s*=\s*['"]?text\/x-handlebars-template['"]?\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],
["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i],[PR.PR_DECLARATION,/^{{[#^>/]?\s*[\w.][^}]*}}/],[PR.PR_DECLARATION,/^{{&?\s*[\w.][^}]*}}/],[PR.PR_DECLARATION,/^{{{>?\s*[\w.][^}]*}}}/],[PR.PR_COMMENT,/^{{![^}]*}}/]]),["handlebars","hbs"]);
PR.registerLangHandler(PR.createSimpleLexer([[PR.PR_PLAIN,/^[ \t\r\n\f]+/,null," \t\r\n\f"]],[[PR.PR_STRING,/^\"(?:[^\n\r\f\\\"]|\\(?:\r\n?|\n|\f)|\\[\s\S])*\"/,null],[PR.PR_STRING,/^\'(?:[^\n\r\f\\\']|\\(?:\r\n?|\n|\f)|\\[\s\S])*\'/,null],["lang-css-str",/^url\(([^\)\"\']*)\)/i],[PR.PR_KEYWORD,/^(?:url|rgb|\!important|@import|@page|@media|@charset|inherit)(?=[^\-\w]|$)/i,null],["lang-css-kw",/^(-?(?:[_a-z]|(?:\\[0-9a-f]+ ?))(?:[_a-z0-9\-]|\\(?:\\[0-9a-f]+ ?))*)\s*:/i],[PR.PR_COMMENT,/^\/\*[^*]*\*+(?:[^\/*][^*]*\*+)*\//],
[PR.PR_COMMENT,/^(?:\x3c!--|--\x3e)/],[PR.PR_LITERAL,/^(?:\d+|\d*\.\d+)(?:%|[a-z]+)?/i],[PR.PR_LITERAL,/^#(?:[0-9a-f]{3}){1,2}/i],[PR.PR_PLAIN,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i],[PR.PR_PUNCTUATION,/^[^\s\w\'\"]+/]]),["css"]);PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_KEYWORD,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i]]),["css-kw"]);PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_STRING,/^[^\)\"\']+/]]),["css-str"]);
