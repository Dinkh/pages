"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[2577],{3980:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(4022);class l extends i.Z{static getConfig(){return{className:"Neo.form.field.Base",ntype:"basefield",value_:null}}afterSetValue(e,t){void 0!==t&&this.fireChangeEvent(e,t)}fireChangeEvent(e,t){this.fire("change",{component:this,oldValue:t,value:e})}getSubmitValue(){return this.value}isValid(){return!0}reset(e){this.value=e}validate(e=!0){return!0}}Neo.applyClassConfig(l);const n=l},2577:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(3980),l=r(5893),n=r(7461),o=r(5328),a=r(6500),d=r(4757);class s extends i.Z{validBeforeMount=!0;static getStaticConfig(){return{autoCapitalizeValues:["characters","none","on","off","sentences","words"],labelPositions:["bottom","inline","left","right","top"]}}static getConfig(){return{className:"Neo.form.field.Text",ntype:"textfield",autoCapitalize_:"off",autoComplete_:!1,centerBorderElWidth:null,clearable_:!0,clearToOriginalValue_:!1,cls:["neo-textfield"],error_:null,hideLabel_:!1,inputPattern_:null,inputType_:"text",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,maxLength_:null,minLength_:null,placeholderText_:null,required_:!1,spellCheck_:!1,triggers_:null,_vdom:{cn:[{tag:"label",cls:["neo-textfield-label"],style:{}},{tag:"input",cls:["neo-textfield-input"],flag:"neo-real-input",style:{}},{cls:["neo-textfield-error"],removeDom:!0}]}}}construct(e){super.construct(e);let t=this;t.addDomListeners({input:t.onInputValueChange,scope:t})}afterSetAppName(e,t){super.afterSetAppName(e,t),e&&this.triggers?.forEach((t=>{t.appName=e}))}afterSetAutoCapitalize(e,t){this.changeInputElKey("autocapitalize","off"===e||"none"===e?null:e)}afterSetAutoComplete(e,t){this.changeInputElKey("autocomplete",e?null:"off")}afterSetClearable(e,t){let r,i=this;e?(r=i.triggers||[],r.unshift(n.Z),i.triggers=r):i.removeTrigger("clear")}afterSetClearToOriginalValue(e,t){this.fire("changeClearToOriginalValue",{oldValue:t,value:e})}afterSetError(e,t){this.updateError(e)}afterSetHideLabel(e,t){let r=this,i=r.vdom;i.cn[0].removeDom=e,r._vdom=i,r.updateInputWidth()}afterSetId(e,t){let r=this,i=r.getInputEl(),l=r.getInputElId(),n=r.getLabelEl();i.id=l,n.id=r.getLabelId(),n.for=l,super.afterSetId(e,t)}afterSetInputPattern(e,t){}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetLabelPosition(e,t){let r,i,l,n=this,a=n.cls;o.Z.remove(a,"label-"+t),o.Z.add(a,"label-"+e),n["inline"===t||"inline"===e?"_cls":"cls"]=a,"inline"===t?(l=n.vdom,l.cn[0]=n.getLabelEl(),l.cn[0].width=n.labelWidth,n._vdom=l,n.updateInputWidth()):"inline"===e&&(r=["neo-center-border"],i=n.isEmpty(),l=n.vdom,i||r.push("neo-float-above"),delete l.cn[0].width,l.cn[0]={cls:["neo-label-wrapper"],cn:[{cls:["neo-left-border"]},{cls:r,cn:[l.cn[0]]},{cls:["neo-right-border"]}]},n._vdom=l,n.updateInputWidth(),i||setTimeout((()=>{n.updateCenterBorderElWidth(!1)}),20))}afterSetLabelText(e,t){let r=this,i=r.isEmpty(),l=r.vdom;r.getLabelEl().innerHTML=e,r.hideLabel?r._vdom=l:"inline"===r.labelPosition?(i||delete r.getCenterBorderEl().width,r.promiseVdomUpdate(l).then((()=>{r.updateCenterBorderElWidth(i)}))):r.vdom=l}afterSetLabelWidth(e,t){if("inline"!==this.labelPosition){let t=this,r=t.vdom;r.cn[0].width=e,t._vdom=r,!t.hideLabel&&t.updateInputWidth()}}afterSetMaxLength(e,t){this.validate(),this.changeInputElKey("maxlength",e)}afterSetMinLength(e,t){this.validate(),this.changeInputElKey("minlength",e)}afterSetMounted(e,t){super.afterSetMounted(e,t);let r=this;if(void 0!==t){let t=r.triggers||[],i=0,l=t.length;for(;i<l;i++)t[i].vdom.removeDom||(t[i].mounted=e);"inline"===r.labelPosition&&(e?r.updateCenterBorderElWidth():delete r.getCenterBorderEl().width)}}afterSetPlaceholderText(e,t){this.changeInputElKey("placeholder",""===e?null:e)}afterSetRequired(e,t){this.validate(),this.changeInputElKey("required",e||null)}afterSetSpellCheck(e,t){this.changeInputElKey("spellcheck",Neo.isBoolean(e)?e:null)}afterSetTriggers(e,t){let r,i=this,l=i.vdom,n=l.cn[1],o=[],a=[];t&&t.forEach((e=>{i.getTrigger(e.type)||e.destroy()})),e.length>0?(e.forEach((e=>{"start"===e.align?o.push(e):a.push(e)})),a.sort(((e,t)=>t.weight-e.weight)),o.sort(((e,t)=>e.weight-t.weight)),a=a.map((e=>e.vdom)),o=o.map((e=>e.vdom)),"input"===n.tag?(l.cn[1]={cls:["neo-input-wrapper"],cn:[...o,n,...a],id:i.getInputWrapperId(),width:n.width},delete n.width):n.cn=[...o,i.getInputEl(),...a]):"input"!==n.tag&&(r=n.width,l.cn[1]=i.getInputEl(),l.cn[1].width=r),i.promiseVdomUpdate().then((()=>{i.updateTriggerVnodes()}))}afterSetValue(e,t){let r=this,i=r.vdom;r.getInputEl().value=e,!!e!=!!t&&o.Z[e&&e.toString().length>0?"add":"remove"](r._cls,"neo-has-content"),o.Z[r.originalConfig.value!==e?"add":"remove"](r._cls,"neo-is-dirty"),r.validate(),r.vdom=i,super.afterSetValue(e,t)}afterSetWidth(e,t){super.afterSetWidth(e,t),this.updateInputWidth()}beforeGetTriggers(e){return Array.isArray(e)?[...e]:e}beforeSetAutoCapitalize(e,t){return this.beforeSetEnumValue(e,t,"autoCapitalize","autoCapitalizeValues")}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetTriggers(e,t){e?Array.isArray(e)||(e=[e]):e=[];let r=this;return e.forEach(((t,i)=>{t.isClass?e[i]=Neo.create(t,{appName:r.appName,id:r.getTriggerId(t.prototype.type),field:r}):t instanceof l.Z||(t.module||t.ntype||(t.ntype="trigger"),t.module&&(t.className=t.module.prototype.className,t.id=r.getTriggerId(t.module.prototype.type)),e[i]=Neo[t.className?"create":"ntype"]({...t,appName:r.appName,field:r}))})),e}changeInputElKey(e,t){let r=this,i=r.vdom;t||Neo.isBoolean(t)||0===t?r.getInputEl()[e]=t:delete r.getInputEl()[e],r.vdom=i}clear(){let e=this;e.value=e.clearToOriginalValue?e.originalConfig.value:null,e.fire("clear")}focus(e=this.id){super.focus(this.getInputElId())}getCenterBorderEl(){return a.Z.findVdomChild(this.vdom,{cls:"neo-center-border"})?.vdom}getInputEl(){return a.Z.findVdomChild(this.vdom,{flag:"neo-real-input"})?.vdom}getInputElId(){return`${this.id}__input`}getInputWidth(){let e=this,t=e.hideLabel||"bottom"===e.labelPosition||"inline"===e.labelPosition||"top"===e.labelPosition?0:e.labelWidth,r=e.width;return t&&r?parseInt(r)-parseInt(t):r||null}getInputWrapperId(){return`${this.id}__input-wrapper`}getLabelEl(){return a.Z.findVdomChild(this.vdom,{tag:"label"})?.vdom}getLabelId(){return`${this.id}__label`}getTrigger(e){let t=this.triggers||[],r=0,i=t.length;for(;r<i;r++)if(t[r].type===e)return t[r];return null}getTriggerById(e){let t=this.triggers||[],r=0,i=t.length;for(;r<i;r++)if(t[r].id===e)return t[r];return null}getTriggerId(e){return this.id+"-trigger-"+e}hasTrigger(e){let t=this.triggers||[],r=0,i=t.length;for(;r<i;r++)if(t[r].type===e)return!0;return!1}isEmpty(){return!(this.value?.toString().length>0)}isValid(){return!(this.error?.length>0)&&super.isValid()}mergeConfig(...e){let t=super.mergeConfig(...e),r=t.triggers||this.triggers;return this[r?"triggers":"_triggers"]=r,delete t.triggers,t}onFocusEnter(e){let t,r=this,i=r.cls;o.Z.add(i,"neo-focus"),r.cls=i,"inline"===r.labelPosition&&(r.centerBorderElWidth?(t=r.vdom,r.getCenterBorderEl().width=r.centerBorderElWidth,r.vdom=t):r.updateCenterBorderElWidth(!1))}onFocusLeave(e){let t=this,r=t.getCenterBorderEl(),i=t.cls,l=t.vdom;t.validate(),o.Z.remove(i,"neo-focus"),t.cls=i,r&&t.isEmpty()&&delete r.width,t.vdom=l}onInputValueChange(e){let t=this,r=e.value,i=t.value,l=d.Z.findChildVnode(t.vnode,{nodeName:"input"});l&&(l.vnode.attributes.value=r),t.inputPattern&&!t.inputPattern.test(r)?t.afterSetValue(i,r):r!==i&&(t.value=r)}removeTrigger(e,t=!1,r){let i,l=!1,n=r||this.triggers||[],a=0,d=n.length;for(;a<d;a++)i=n[a],i.type===e&&(o.Z.remove(n,i),d--,l=!0);return l&&!t&&(this.triggers=n),l}reset(e=null){let t=this;e&&t.clearToOriginalValue&&(t.originalConfig.value=e),super.reset(e),null===e&&t.validBeforeMount&&t.updateError(null)}updateCenterBorderElWidth(e=!1){let t=this;t.mounted&&t.getDomRect(t.getCenterBorderEl().id).then((r=>{if(t.centerBorderElWidth=Math.round(.7*r.width)+8,!e){let e=t.vdom;t.getCenterBorderEl().width=t.centerBorderElWidth,t.vdom=e}}))}updateError(e,t=!1){let r,i,l=this,n=l.vdom;l.validBeforeMount&&!l.mounted||(l._error=e,i=!e||""===e,o.Z[i?"remove":"add"](l._cls,"neo-invalid"),r=a.Z.findVdomChild(this.vdom,{cls:"neo-textfield-error"}).vdom,i?delete r.html:r.html=l.error,r.removeDom=i,t||(l.vdom=n))}updateInputWidth(){let e=this,t=e.getInputWidth(),r=e.vdom;null!==t&&t!==e.width?r.cn[1].width=t:delete r.cn[1].width,e.vdom=r}updateTriggerVnodes(){let e,t=this,r=t.vnode?.childNodes[1];(r?.childNodes||[]).forEach((r=>{e=t.getTriggerById(r.id),e&&Object.assign(e,{vnode:r,_rendered:!0,_mounted:!0})}))}validate(e=!0){let t=this,r=e?"_error":"error",i=t.maxLength,l=t.minLength,n=t.required,o=!0,a=t.value,d=a?.toString().length,s=!a||d<1;return n&&s?(t[r]="Required",o=!1):Neo.isNumber(i)&&d>i?!n&&s||(t[r]=`Max length violation: ${d} / ${i}`,o=!1):Neo.isNumber(l)&&d<l&&(!n&&s||(t[r]=`Min length violation: ${d} / ${l}`,o=!1)),o&&(t[r]=null),e&&t.updateError(t[r],!0),!!o&&super.validate(e)}}Neo.applyClassConfig(s);const u=s},5893:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(4022),l=r(5328);class n extends i.Z{static getStaticConfig(){return{alignValues:["end","start"]}}static getConfig(){return{className:"Neo.form.field.trigger.Base",ntype:"trigger",align_:"end",cls:["neo-field-trigger"],field:null,iconCls_:null,isHovered:!1,scope:null,showOnHover:!1,type:"base",_vdom:{tabIndex:-1},weight_:10}}construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onTriggerClick,scope:t}),t.showOnHover&&(t.hidden=!0,t.field.on("constructed",(()=>{t.field.addDomListeners([{mouseenter:t.onMouseEnter,scope:t},{mouseleave:t.onMouseLeave,scope:t}])}),t))}afterSetAlign(e,t){let r=this.cls;l.Z["start"===e?"add":"remove"](r,"neo-align-start"),this.cls=r}afterSetHidden(e,t){let r=this.vdom;(r.style||{}).display=e?"none":"inline-block",this.vdom=r}afterSetIconCls(e,t){let r=this.cls;l.Z.remove(r,t),e&&""!==e&&l.Z.add(r,e),this.cls=r}beforeSetAlign(e,t){return this.beforeSetEnumValue(e,t,"align","alignValues")}destroy(e,t){let r=this;r.removeDomListeners({click:{fn:r.onTriggerClick,scope:r}}),delete r.field,super.destroy(e,t)}onMouseEnter(){this.isHovered=!0,this.hidden=!1}onMouseLeave(){this.isHovered=!1,this.hidden=!0}onTriggerClick(e){let t=this,r=t.scope||t;t.handler&&r[t.handler].call(r)}}Neo.applyClassConfig(n);const o=n},7461:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(5893),l=r(5328);class n extends i.Z{static getConfig(){return{className:"Neo.form.field.trigger.Clear",ntype:"trigger-clear",cls:["neo-field-trigger","neo-trigger-clear"],iconCls:"fa fa-times",type:"clear",weight:20}}afterSetHidden(e,t){let r=this.cls;l.Z[e?"add":"remove"](r,"neo-is-hidden"),this.cls=r}beforeSetHidden(e,t){return!(!this.showOnHover||this.isHovered)||e}destroy(...e){let t=this;t.field.un({change:t.onFieldChange,changeClearToOriginalValue:t.onFieldChange,scope:t}),super.destroy(...e)}getHiddenState(){let e=this.field,t=e.value;return e.clearToOriginalValue?t===e.originalConfig.value:(0===t&&(t="0"),!e.value||t.toString().length<1)}onFieldChange(e){this.hidden=this.getHiddenState()}onConstructed(){super.onConstructed();let e=this;e.field.on({change:e.onFieldChange,changeClearToOriginalValue:e.onFieldChange,scope:e}),e.hidden=e.getHiddenState()}onMouseEnter(){let e=this;e.isHovered=!0,e.hidden=e.getHiddenState()}onTriggerClick(e){this.field.clear()}}Neo.applyClassConfig(n);const o=n}}]);