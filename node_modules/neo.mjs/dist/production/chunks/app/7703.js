(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[7703],{231:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var s=o(2325);class r extends s.Z{static getConfig(){return{className:"Neo.data.Model",ntype:"model",fields_:[],keyProperty_:"id",storeId:null,trackModifiedFields:!1}}afterSetFields(e,t){}getField(e){let t=this,o=0,s=t.fields.length;for(;o<s;o++)if(t.fields[o].name===e)return t.fields[o];return null}}Neo.applyClassConfig(r)},7816:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var s=o(2783),r=o(4508),i=o(231),n=(o(3648),o(2325)),l=o(3949);let a;class d extends n.Z{static getConfig(){return{className:"Neo.data.RecordFactory",singleton:!0,ovPrefix:"ov_",recordNamespace:"Neo.data.record."}}createRecord(e,t){let o=Neo.ns(this.recordNamespace+e.className);return o||(o=this.createRecordClass(e)),new o(t)}createRecordClass(e){if(e instanceof i.Z){let t,o,s=this.recordNamespace+e.className,r=Neo.ns(s);return r||(o=s.split("."),t=o.pop(),r=Neo.ns(o,!0),r[t]=class{constructor(t){let o,s=this;Object.defineProperties(s,{_isModified:{value:!1,writable:!0}}),Array.isArray(e.fields)&&e.fields.forEach((r=>{let i=a.parseRecordValue(r,t[r.name]),n=Symbol(r.name);o={[n]:{value:i,writable:!0},[r.name]:{configurable:!0,enumerable:!0,get(){return this[n]},set(t){let o=this,s=o[n];a.hasChanged(t,s)&&(t=a.parseRecordValue(r,t),o[n]=t,o._isModified=!0,o._isModified=a.isModified(o,e.trackModifiedFields),a.onRecordChange({field:r.name,model:e,oldValue:s,record:o,value:t}))}}},e.trackModifiedFields&&(o[a.ovPrefix+r.name]={value:i}),Object.defineProperties(s,o)}))}},r[t])}}hasChanged(e,t){return!(!Array.isArray(e)&&(Neo.isObject(e)?t instanceof Date&&e instanceof Date&&t.valueOf()===e.valueOf():t===e))}isModified(e,t){if(t){let t,o=Object.keys(e),s=0,r=o.length;for(;s<r;s++)if(t=o[s],e[t]!==e[this.ovPrefix+t])return!0;return!1}return e._isModified}isModifiedField(e,t){return e.hasOwnProperty(t)||l.Z.logError("The record does not contain the field",t,e),e.hasOwnProperty(this.ovPrefix+t)?e[t]!==e[this.ovPrefix+t]:null}isRecord(e){return e&&e.constructor&&e.constructor.name&&"Record"===e.constructor.name}onRecordChange(e){let t=Neo.get(e.model.storeId);t&&t.onRecordChange(e)}parseRecordValue(e,t){return"date"===(e.type&&e.type.toLowerCase())?new Date(t):t}}Neo.applyClassConfig(d),a=Neo.create(d),Neo.applyToGlobalNs(a);const c=a;class u extends s.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.data.Store",ntype:"store",autoLoad:!1,data_:null,initialData_:null,isGrouped:!1,isLoaded:!1,isLoading:!1,model_:null,remoteFilter:!1,remoteSort:!1,url:null}}constructor(e){super(e);let t=this;t.on({mutate:t.onCollectionMutate,sort:t.onCollectionSort,scope:t})}afterSetData(e,t){let o=this;o.configsApplied&&e&&(t?o.clear():o.initialData=[...e],o.add(e))}afterSetInitialData(e,t){}afterSetModel(e,t){e&&(e.storeId=this.id,c.createRecordClass(e))}beforeSetData(e,t){let o=this;return e&&(Array.isArray(e)||(e=[e]),(e=Neo.clone(e,!0)).forEach(((t,s)=>{c.isRecord(t)||(e[s]=c.createRecord(o.model,t))}))),e}beforeSetInitialData(e,t){return!e&&t?t:e}beforeSetModel(e,t){return t&&t.destroy(),r.Z.beforeSetInstance(e,i.Z)}createRecord(e){c.createRecord(e)}load(){let e=this;Neo.Xhr.promiseJson({url:e.url}).then((t=>{e.data=Array.isArray(t.json)?t.json:t.json.data})).catch((t=>{console.log("Error for Neo.Xhr.request",t,e.id)}))}onCollectionMutate(e){let t=this;t.configsApplied&&t.fire("load",t.items)}onCollectionSort(){this.configsApplied}onConstructed(){super.onConstructed();let e=this;e.data&&e.afterSetData(e.data),e.autoLoad&&setTimeout((()=>{e.load()}),100)}onRecordChange(e){this.fire("recordChange",e)}sort(e={}){let t=this;t.remoteSort||t.configsApplied&&(e.direction?t.sorters=[{direction:e.direction,property:e.property}]:(t.startUpdate(),t.clear(),t.sorters=[],t.add([...t.initialData]),t.endUpdate(),t.fire("sort")))}}Neo.applyClassConfig(u)},7703:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var s=o(4508),r=o(7696),i=o(4896);class n extends i.Z{static getConfig(){return{className:"Neo.selection.ListModel",ntype:"selection-listmodel",stayInList:!0}}onKeyDownDown(e){this.view.disableSelection||this.onNavKey(e,1)}onKeyDownLeft(e){this.onKeyDownUp(e)}onKeyDownRight(e){this.onKeyDownDown(e)}onKeyDownUp(e){this.view.disableSelection||this.onNavKey(e,-1)}onNavKey(e,t){let o,s,r,i,n=this,l=e.path[0],a=n.view,d=a.store,c=d.getCount(),u=!1;l.cls.includes(a.itemCls)?(i=a.getItemRecordId(l.id),o=d.indexOf(i)+t,o<0?n.stayInList?o=c-1:(u=!0,a.fire("selectPreFirstItem")):o>=c&&(n.stayInList?o=0:(u=!0,a.fire("selectPostLastItem")))):o=0,u?n.deselectAll():(r=d.getAt(o),s=a.getItemId(r[n.view.getKeyProperty()]),n.select(s),a.focus(s),a.fire("itemNavigate",r))}register(e){super.register(e);let t=this.id,o=this.view;o.keys&&o.keys._keys.push({fn:"onKeyDownDown",key:"Down",scope:t},{fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t},{fn:"onKeyDownUp",key:"Up",scope:t})}selectAt(e){let t=this.view,o=t.store.getKeyAt(e),s=o&&t.getItemId(o);s&&(this.select(s),t.focus(s))}unregister(){let e=this.id,t=this.view;t.keys&&t.keys.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}Neo.applyClassConfig(n);var l=o(3501);o(7816);class a extends r.Z{static getConfig(){return{className:"Neo.list.Base",ntype:"list",autoDestroyStore:!0,cls:["neo-list-container","neo-list"],disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,highlightFilterValue:!0,itemCls:"neo-list-item",keys:{},selectionModel_:null,silentSelect:!1,store_:null,useCheckBoxes_:!1,_vdom:{tag:"ul",cn:[]}}}constructor(e){super(e);let t=this,o=t.domListeners;o.push({click:{fn:t.onClick,scope:t}}),t.domListeners=o}afterSetDisableSelection(e,t){let o=this;e&&o.rendered&&o.selectionModel&&o.selectionModel.deselectAll()}afterSetDraggable(e,t){let s=this;e&&!s.dragZone&&o.e(3861).then(o.bind(o,4023)).then((e=>{s.dragZone=Neo.create({module:e.default,appName:s.appName,owner:s,...s.dragZoneConfig||{}})}))}afterSetSelectionModel(e,t){this.rendered&&e.register(this)}afterSetStore(e,t){let o=this;e&&(e.on({filter:o.onStoreFilter,load:o.onStoreLoad,scope:o}),e.getCount()>0&&o.onStoreLoad())}afterSetUseCheckBoxes(e,t){let o=this.cls;l.Z[e?"add":"remove"](o,"neo-use-checkicons"),this.cls=o}beforeSetSelectionModel(e,t){return t&&t.destroy(),s.Z.beforeSetInstance(e,n)}beforeSetStore(e,t){return t&&t.destroy(),s.Z.beforeSetInstance(e)}createItem(e){let t=this,o=t.createItemContent(e);const s={tag:"li",cls:[t.itemCls],id:t.getItemId(e[t.getKeyProperty()]),tabIndex:-1};return s["string"==typeof o?"html":"cn"]=o,s}createItemContent(e){let t,o=this,s=e[this.displayField];return o.highlightFilterValue&&(t=o.store.getFilter(o.displayField),t&&null!==t.value&&""!==t.value&&(s=s.replace(new RegExp(t.value,"gi"),(function(e){return'<span class="neo-highlight-search">'+e+"</span>"})))),s}createItems(e=!1){let t=this,o=t.vdom;o.cn=[],t.store.items.forEach((e=>{o.cn.push(t.createItem(e))})),e?t._vdom=o:t.promiseVdomUpdate().then((()=>{t.fire("createItems")}))}destroy(){let e=this;e.selectionModel&&e.selectionModel.destroy(),e.store&&e.autoDestroyStore&&e.store.destroy(),super.destroy()}focus(e){super.focus(e),e&&Neo.main.DomAccess.scrollIntoView({behavior:"auto",id:e||this.id})}getItemId(e){return this.id+"__"+e}getItemRecordId(e){let t=e.split("__")[1],o=this.store.model,s=o&&o.getField(o.keyProperty);return!s||"integer"!==s.type.toLowerCase()&&"number"!==s.type.toLowerCase()||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t=this;e.path[0].id===t.id?t.onContainerClick(e):e.path[0].cls.includes(t.itemCls)&&t.onItemClick(e)}onConstructed(){super.onConstructed();let e=this;e.selectionModel&&e.selectionModel.register(e)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e){let t=this,o=e.path[0].id;!t.disableSelection&&t.selectionModel&&t.selectionModel.select(o),t.fire("itemClick",t.store.get(t.getItemRecordId(o)))}onStoreFilter(){this.createItems()}onStoreLoad(){let e=this;if(!e.mounted&&e.rendering){const t=e.on("rendered",(()=>{e.un("rendered",t),e.createItems()}))}else e.createItems()}selectItem(e){let t=this;!t.disableSelection&&t.selectionModel&&t.selectionModel.selectAt(e)}}Neo.applyClassConfig(a)}}]);