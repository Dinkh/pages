(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[4132],{5222:(e,t,a)=>{"use strict";a.r(t),a.d(t,{onStart:()=>i});var r=a(7535),o=a(3429),s=a(8034);class n extends o.Z{static getConfig(){return{className:"Neo.examples.calendar.weekview.MainContainer",autoMount:!0,layout:{ntype:"fit"},model:r.Z,calendarStoreConfig_:{autoLoad:!0,url:"../../examples/calendar/basic/data/calendars.json"},eventStoreConfig_:{autoLoad:!0,url:"../../examples/calendar/basic/data/events.json"},items:[{module:s.default,currentDate:new Date("2021-07-20")}]}}constructor(e){super(e),Neo.worker.App.insertThemeFiles(this.appName,null,"Neo.calendar.view.MainContainer")}}Neo.applyClassConfig(n);const i=()=>Neo.app({mainView:n,name:"Neo.examples.calendar.weekview"})},231:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(2325);class o extends r.Z{static getConfig(){return{className:"Neo.data.Model",ntype:"model",fields_:[],keyProperty_:"id",storeId:null,trackModifiedFields:!1}}afterSetFields(e,t){}getField(e){let t=this,a=0,r=t.fields.length;for(;a<r;a++)if(t.fields[a].name===e)return t.fields[a];return null}}Neo.applyClassConfig(o)},7816:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(2783),o=a(4508),s=a(231),n=(a(3648),a(2325)),i=a(3949);let l;class d extends n.Z{static getConfig(){return{className:"Neo.data.RecordFactory",singleton:!0,ovPrefix:"ov_",recordNamespace:"Neo.data.record."}}createRecord(e,t){let a=Neo.ns(this.recordNamespace+e.className);return a||(a=this.createRecordClass(e)),new a(t)}createRecordClass(e){if(e instanceof s.Z){let t,a,r=this.recordNamespace+e.className,o=Neo.ns(r);return o||(a=r.split("."),t=a.pop(),o=Neo.ns(a,!0),o[t]=class{constructor(t){let a,r=this;Object.defineProperties(r,{_isModified:{value:!1,writable:!0}}),Array.isArray(e.fields)&&e.fields.forEach((o=>{let s=l.parseRecordValue(o,t[o.name]),n=Symbol(o.name);a={[n]:{value:s,writable:!0},[o.name]:{configurable:!0,enumerable:!0,get(){return this[n]},set(t){let a=this,r=a[n];Neo.isEqual(t,r)||(t=l.parseRecordValue(o,t),a[n]=t,a._isModified=!0,a._isModified=l.isModified(a,e.trackModifiedFields),l.onRecordChange({field:o.name,model:e,oldValue:r,record:a,value:t}))}}},e.trackModifiedFields&&(a[l.ovPrefix+o.name]={value:s}),Object.defineProperties(r,a)}))}},o[t].isClass=!0,o[t])}}isModified(e,t){if(t){let t,a=Object.keys(e),r=0,o=a.length;for(;r<o;r++)if(t=a[r],e[t]!==e[this.ovPrefix+t])return!0;return!1}return e._isModified}isModifiedField(e,t){return e.hasOwnProperty(t)||i.Z.logError("The record does not contain the field",t,e),e.hasOwnProperty(this.ovPrefix+t)?e[t]!==e[this.ovPrefix+t]:null}isRecord(e){return"Record"===e?.constructor.name}onRecordChange(e){let t=Neo.get(e.model.storeId);t&&t.onRecordChange(e)}parseRecordValue(e,t){const a=e?.type.toLowerCase();return"date"===a?new Date(t):t}}Neo.applyClassConfig(d),l=Neo.create(d),Neo.applyToGlobalNs(l);const c=l;class u extends r.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.data.Store",ntype:"store",autoLoad:!1,data_:null,initialData_:null,isGrouped:!1,isLoaded:!1,isLoading:!1,model_:null,remoteFilter:!1,remoteSort:!1,url:null}}constructor(e){super(e);let t=this;t.on({mutate:t.onCollectionMutate,sort:t.onCollectionSort,scope:t})}afterSetData(e,t){let a=this;a.configsApplied&&e&&(t?a.clear():a.initialData=[...e],a.add(e))}afterSetInitialData(e,t){}afterSetModel(e,t){e&&(e.storeId=this.id,c.createRecordClass(e))}beforeSetData(e,t){let a=this;return e&&(Array.isArray(e)||(e=[e]),(e=Neo.clone(e,!0)).forEach(((t,r)=>{c.isRecord(t)||(e[r]=c.createRecord(a.model,t))}))),e}beforeSetInitialData(e,t){return!e&&t?t:e}beforeSetModel(e,t){return t&&t.destroy(),o.Z.beforeSetInstance(e,s.Z)}createRecord(e){c.createRecord(e)}load(){let e=this;Neo.Xhr.promiseJson({url:e.url}).then((t=>{e.data=Array.isArray(t.json)?t.json:t.json.data})).catch((t=>{console.log("Error for Neo.Xhr.request",t,e.id)}))}onCollectionMutate(e){let t=this;t.configsApplied&&t.fire("load",t.items)}onCollectionSort(){this.configsApplied}onConstructed(){super.onConstructed();let e=this;e.data&&e.afterSetData(e.data),e.autoLoad&&setTimeout((()=>{e.load()}),100)}onRecordChange(e){this.fire("recordChange",{...e,index:this.indexOf(e.record)})}sort(e={}){let t=this;t.remoteSort||t.configsApplied&&(e.direction?t.sorters=[{direction:e.direction,property:e.property}]:(t.startUpdate(),t.clear(),t.sorters=[],t.add([...t.initialData]),t.endUpdate(),t.fire("sort")))}}Neo.applyClassConfig(u)},6076:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(2325);class o extends r.Z{static getConfig(){return{className:"Neo.util.Date",dayNameFormats:["narrow","short","long"],monthNameFormats:["narrow","short","long"],weekStartDays:[0,1,2,3,4,5,6]}}static clone(e){return e&&new Date(e.valueOf())||null}static convertToyyyymmdd(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0]}static getDaysInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}static getFirstDayOffset(e,t){let a=o.getFirstDayOfMonth(e)-t;return a<0?a+7:a}static getFirstDayOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()}static getWeekOfYear(e){let t,a=new Date(e.valueOf()),r=(e.getUTCDay()+6)%7;return a.setUTCDate(a.getUTCDate()-r+3),t=a.valueOf(),a.setUTCMonth(0,1),4!==a.getUTCDay()&&a.setUTCMonth(0,1+(4-a.getUTCDay()+7)%7),Math.ceil((t-a)/6048e5)+1}static getWeeksOfMonth(e,t){return(o.getDaysInMonth(e)+o.getFirstDayOffset(e,t))/7>5?6:5}static matchDate(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}}Neo.applyClassConfig(o);const s=o}}]);