"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[1126],{1126:(e,t,n)=>{n.r(t),n.d(t,{onStart:()=>f});var o=n(4022),a=n(3846);class r extends a.Z{static getConfig(){return{className:"NeoApp.view.MainComponentController"}}onButtonClick(e){let t=this.getReference("table");switch(e.path[0].id){case"add":t.add();break;case"clear":t.clear();break;case"runlots":t.runlots()}}}Neo.applyClassConfig(r);const l=r;var s=n(395),c=n(6351);function d(e){return Math.round(1e3*Math.random())%e}class i extends c.Z{static getConfig(){return{className:"NeoApp.TableCollection",idCounter:1}}buildData(e=1e3){let t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],a=[],r=0;for(;r<e;r++)a.push({id:this.idCounter++,label:t[d(t.length)]+" "+n[d(n.length)]+" "+o[d(o.length)]});return a}}Neo.applyClassConfig(i);const p=i;class m extends o.Z{static getConfig(){return{className:"NeoApp.view.TableComponent",cls:["table","table-hover","table-striped","test-data"],store_:p,_vdom:{tag:"table",cn:[{tag:"tbody",id:"tbody",cn:[]}]}}}construct(e){super.construct(e),Neo.main.addon.CloneNode.createNode({id:this.id,tag:"tr",html:['<td class="col-md-1"></td>','<td class="col-md-4"><a class="lbl"></a></td>','<td class="col-md-1"><a class="remove"><span class="remove glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>','<td class="col-md-6"></td>'].join(""),paths:{id:"0",label:"1/0"}})}add(){let e=this,t=e.store,n=(e.vdom,t.buildData());t.add(n),Neo.main.addon.CloneNode.applyClones({data:n,id:e.id,parentId:"tbody"})}beforeSetStore(e,t){return t&&t.destroy(),s.Z.beforeSetInstance(e)}clear(){let e=this.store;e.getCount()>0&&(e.clear(),Neo.applyDeltas(this.appName,{action:"setTextContent",id:"tbody",value:""}))}createTableRow(e){return{tag:"tr",cn:[{tag:"td",cls:["col-md-1"],html:e.id},{tag:"td",cls:["col-md-4"],cn:[{tag:"a",cls:["lbl"],html:e.label}]},{tag:"td",cls:["col-md-1"],cn:[{tag:"a",cls:["remove"],cn:[{tag:"span",cls:["remove","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}]},{tag:"td",cls:["col-md-6"]}]}}runlots(){let e=this,t=e.store,n=t.buildData(1e4);e.clear(),t.add(n),Neo.main.addon.CloneNode.applyClones({data:n,id:e.id,parentId:"tbody"})}}Neo.applyClassConfig(m);const u=m;var h=n(6500);class g extends o.Z{static getConfig(){return{className:"NeoApp.view.MainComponent",autoMount:!0,cls:["container"],controller:l,domListeners:[{click:"onButtonClick",delegate:".btn"}],table:null,_vdom:{cls:["container"],cn:[{cls:["jumbotron"],cn:[{cls:["row"],cn:[{cls:["col-md-6"],cn:[{cls:["row"],cn:[{tag:"h1",html:"neo.mjs"}]}]},{cls:["col-md-6"],cn:[{cls:["row"],flag:"row",cn:[]}]}]}]},{tag:"span",cls:["preloadicon","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}}}construct(e){super.construct(e),this.createColumns(),this.createTable()}createColumns(){let e,t=this.vdom,n=h.Z.getByFlag(t,"row"),o=0,a=[{id:"run",html:"Create 1,000 rows"},{id:"runlots",html:"Create 10,000 rows"},{id:"add",html:"Append 1,000 rows"},{id:"update",html:"Update every 10th row"},{id:"clear",html:"Clear"},{id:"swaprows",html:"Swap Rows"}];for(;o<6;o++)e=a[o],n.cn.push({cls:["col-sm-6 smallpad"],cn:[{tag:"button",type:"button",cls:["btn","btn-primary","btn-block"],id:e.id,html:e.html}]})}createTable(){let e=this,t=e.vdom;e.table=Neo.create({module:u,appName:e.appName,parentId:e.id,reference:"table"}),t.cn.splice(1,0,e.table.vdom),e.vdom=t}}Neo.applyClassConfig(g);const b=g,f=()=>Neo.app({appPath:"apps/neoapp/",mainView:b,name:"NeoApp",parentId:"main"})},3846:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(3106),a=(n(6717),n(2718)),r=n(8041);class l extends o.Z{static getConfig(){return{className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null}}construct(e){super.construct(e);let t,n=this,o=n.component;n.references={},o.isConstructed?n.onComponentConstructed():t=o.on("constructed",(()=>{o.un("constructed",t),n.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e){let t=this,n=t.parent;return Neo.isFunction(t[e])?t:n?n.getHandlerScope(e):null}getModel(e=!1){let t=this.component;return e?t.model:t.getModel()}getParent(){let e,t,n=this;return n.parent?n.parent:(t=n.component.parentId,e=t&&Neo.getComponent(t),e?.getController()||null)}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}onComponentConstructed(){}parseConfig(e=this.component){let t,n,o,l=this,s=e.domListeners,c=e.listeners,d=e.reference;s&&s.forEach((s=>{Object.entries(s).forEach((([c,d])=>{t=null,"scope"!==c&&"delegate"!==c&&(Neo.isString(d)?t=d:Neo.isObject(d)&&d.hasOwnProperty("fn")&&Neo.isString(d.fn)&&(t=d.fn),t&&(o=l.getHandlerScope(t),o?(n=o[t].bind(o),s[c]=n,a.Z.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:n,eventHandlerName:t,eventName:c,scope:void 0})):r.Z.logError("Unknown domEvent handler for",t,e)))}))})),c&&Object.entries(c).forEach((([n,a])=>{"scope"!==n&&"delegate"!==n&&(Neo.isString(a)?(t=a,o=l.getHandlerScope(t),o?(c[n]={},c[n].fn=o[t].bind(o)):r.Z.logError("Unknown event handler for",t,e)):a.forEach((n=>{Neo.isObject(n)&&n.hasOwnProperty("fn")&&Neo.isString(n.fn)&&(t=n.fn,o=l.getHandlerScope(t),o?n.fn=o[t].bind(o):r.Z.logError("Unknown event handler for",t,e))})))})),d&&(l.references[d]=e)}removeReference(e){let t,n=this.references;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}}Neo.applyClassConfig(l);const s=l}}]);