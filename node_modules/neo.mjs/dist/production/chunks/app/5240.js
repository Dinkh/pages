"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[5240],{2696:(e,t,s)=>{s.r(t),s.d(t,{onStart:()=>r});var o=s(5118);const r=()=>Neo.app({mainView:o.Z,name:"Neo.examples.component.helix"})},2281:(e,t,s)=>{s.d(t,{Z:()=>i});var o=s(9375);class r extends o.Z{static getConfig(){return{className:"Neo.data.Model",ntype:"model",fields:null,keyProperty_:"id",storeId:null,trackModifiedFields:!1}}getField(e){let t=this,s=0,o=t.fields?.length||0;for(;s<o;s++)if(t.fields[s].name===e)return t.fields[s];return null}}Neo.applyClassConfig(r);const i=r},5959:(e,t,s)=>{s.d(t,{Z:()=>f});var o=s(6351),r=s(395),i=s(2281),l=(s(2544),s(9375)),a=s(8041);let d;class n extends l.Z{static getConfig(){return{className:"Neo.data.RecordFactory",singleton:!0,ovPrefix:"ov_",recordNamespace:"Neo.data.record."}}createRecord(e,t){let s=Neo.ns(this.recordNamespace+e.className);return s||(s=this.createRecordClass(e)),new s(t)}createRecordClass(e){if(e instanceof i.Z){let t,s,o=this.recordNamespace+e.className,r=Neo.ns(o);return r||(s=o.split("."),t=s.pop(),r=Neo.ns(s,!0),r[t]=class{constructor(t){let s,o=this;Object.defineProperties(o,{_isModified:{value:!1,writable:!0}}),Array.isArray(e.fields)&&e.fields.forEach((r=>{let i=d.parseRecordValue(r,t[r.name]),l=Symbol.for(r.name);s={[Symbol.for("isRecord")]:{value:!0},[l]:{value:i,writable:!0},[r.name]:{configurable:!0,enumerable:!0,get(){return this[l]},set(t){let s=this,o=s[l];Neo.isEqual(t,o)||(t=d.parseRecordValue(r,t),s[l]=t,s._isModified=!0,s._isModified=d.isModified(s,e.trackModifiedFields),d.onRecordChange({fields:[{name:r.name,oldValue:o,value:t}],model:e,record:s}))}}},e.trackModifiedFields&&(s[d.ovPrefix+r.name]={value:i}),Object.defineProperties(o,s)}))}set(t){d.setRecordFields(e,this,t)}setSilent(t){d.setRecordFields(e,this,t,!0)}},r[t].isClass=!0,r[t])}}isModified(e,t){if(t){let t,s=Object.keys(e),o=0,r=s.length;for(;o<r;o++)if(t=s[o],!Neo.isEqual(e[t],e[this.ovPrefix+t]))return!0;return!1}return e._isModified}isModifiedField(e,t){e.hasOwnProperty(t)||a.Z.logError("The record does not contain the field",t,e);let s=this.ovPrefix+t;return e.hasOwnProperty(s)?!Neo.isEqual(e[t],e[s]):null}isRecord(e){return e?.[Symbol.for("isRecord")]||!1}onRecordChange(e){Neo.get(e.model.storeId)?.onRecordChange(e)}parseRecordValue(e,t){const s=e?.type.toLowerCase();return"date"===s?new Date(t):t}setRecordFields(e,t,s,o=!1){let r,i=[];Object.entries(s).forEach((([e,s])=>{r=t[e],Neo.isEqual(r,s)||(t[Symbol.for(e)]=s,i.push({name:e,oldValue:r,value:s}))})),!o&&Object.keys(i).length>0&&Neo.get(e.storeId)?.onRecordChange({fields:i,model:e,record:t})}}Neo.applyClassConfig(n),d=Neo.create(n),Neo.applyToGlobalNs(d);const c=d;class u extends o.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.data.Store",ntype:"store",autoLoad:!1,data_:null,initialData_:null,isGrouped:!1,isLoaded:!1,isLoading:!1,model_:null,remoteFilter:!1,remoteSort:!1,url:null}}construct(e){super.construct(e);let t=this;t.on({mutate:t.onCollectionMutate,sort:t.onCollectionSort,scope:t})}add(e){return super.add(this.beforeSetData(e))}afterSetData(e,t){let s=this;s.configsApplied&&e&&(t?s.clear():s.initialData=[...e],s.add(e))}afterSetInitialData(e,t){}afterSetModel(e,t){e&&(e.storeId=this.id,c.createRecordClass(e))}beforeSetData(e,t){let s=this;return e&&(Array.isArray(e)||(e=[e]),(e=Neo.clone(e,!0)).forEach(((t,o)=>{c.isRecord(t)||(e[o]=c.createRecord(s.model,t))}))),e}beforeSetInitialData(e,t){return!e&&t?t:e}beforeSetModel(e,t){return t&&t.destroy(),r.Z.beforeSetInstance(e,i.Z)}createRecord(e){c.createRecord(e)}load(){let e=this;Neo.Xhr.promiseJson({url:e.url}).catch((t=>{console.log("Error for Neo.Xhr.request",t,e.id)})).then((t=>{e.data=Array.isArray(t.json)?t.json:t.json.data}))}onCollectionMutate(e){let t=this;t.configsApplied&&t.fire("load",t.items)}onCollectionSort(){this.configsApplied}onConstructed(){super.onConstructed();let e=this;e.data&&e.afterSetData(e.data),e.autoLoad&&setTimeout((()=>{e.load()}),100)}onRecordChange(e){this.fire("recordChange",{...e,index:this.indexOf(e.record)})}sort(e={}){let t=this;t.remoteSort||t.configsApplied&&(e.direction?t.sorters=[{direction:e.direction,property:e.property}]:(t.startUpdate(),t.clear(),t.sorters=[],t.add([...t.initialData]),t.endUpdate(),t.fire("sort")))}}Neo.applyClassConfig(u);const f=u},6020:(e,t,s)=>{s.d(t,{Z:()=>l});var o=s(9375),r=s(5328);s(2544);class i extends o.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:null,selectedCls:"neo-selected",singleSelect:!0,view_:null}}beforeGetItems(e){return e||(this._items=e=[]),e}beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,s,o){let i,l=this,a=l.view,d=a.vdom,n=a.getVdomChild(e);n&&(i=n.cls||[],r.Z.remove(i,o||l.selectedCls),n.cls=i),r.Z.remove(s||l.items,e),t||(a.vdom=d)}deselectAll(e){let t=this,s=[...t.items],o=t.view,r=o.vdom;s.forEach((e=>{t.deselect(e,!0)})),!e&&s.length>0&&(o.vdom=r)}destroy(){this.unregister(),super.destroy()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,s=e.cls||[];t.cls&&!s.includes(t.cls)&&(s.push(t.cls),e.cls=s),t.view=e,t.addDomListener()}removeDomListeners(){let e=this,t=e.view,s=[...t.domListeners];t.domListeners.forEach((t=>{t.scope===e&&r.Z.remove(s,t)})),t.domListeners=s}select(e,t,s){e=Array.isArray(e)?e:[e];let o,i=this,l=i.view,a=l.vdom;t=t||i.items,Neo.isEqual(t,e)||(i.singleSelect&&i.deselectAll(!0),e.forEach((e=>{"string"==typeof e&&(e=l.getVdomChild(e)),e&&(o=e.cls||[],r.Z.add(o,s||i.selectedCls),e.cls=o)})),r.Z.add(t,e),l[l.silentSelect?"_vdom":"vdom"]=a,l.onSelect?.(e))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,t=e.view.cls||[];e.cls&&t.includes(e.cls)&&(r.Z.remove(t,e.cls),e.view.cls=t),e.deselectAll(),e.removeDomListeners()}}Neo.applyClassConfig(i);const l=i}}]);