(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6355],{6355:(e,t,n)=>{"use strict";n.r(t),n.d(t,{onStart:()=>u});var o=n(3452),r=n(5354);class a extends r.Z{static getConfig(){return{className:"NeoApp.view.MainComponentController"}}onButtonClick(e){let t=this.getReference("table");switch(e.path[0].id){case"add":t.add();break;case"clear":t.clear();break;case"runlots":t.runlots()}}}Neo.applyClassConfig(a);var l=n(4508),s=n(2783);function c(e){return Math.round(1e3*Math.random())%e}class d extends s.Z{static getConfig(){return{className:"NeoApp.TableCollection",idCounter:1}}buildData(e=1e3){let t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],r=[],a=0;for(;a<e;a++)r.push({id:this.idCounter++,label:t[c(t.length)]+" "+n[c(n.length)]+" "+o[c(o.length)]});return r}}Neo.applyClassConfig(d);class i extends o.Z{static getConfig(){return{className:"NeoApp.view.TableComponent",cls:["table","table-hover","table-striped","test-data"],store_:d,_vdom:{tag:"table",cn:[{tag:"tbody",id:"tbody",cn:[]}]}}}add(){let e=this,t=e.vdom,n=e.store.buildData();e.store.add(n),n.forEach((n=>{t.cn[0].cn.push(e.createTableRow(n))})),e.vdom=t}beforeSetStore(e,t){return t&&t.destroy(),l.Z.beforeSetInstance(e)}clear(){let e=this,t=e.vdom;e.store.clear(),t.cn[0].cn=[],e.vdom=t}createTableRow(e){return{tag:"tr",cn:[{tag:"td",cls:["col-md-1"],html:e.id},{tag:"td",cls:["col-md-4"],cn:[{tag:"a",cls:["lbl"],html:e.label}]},{tag:"td",cls:["col-md-1"],cn:[{tag:"a",cls:["remove"],cn:[{tag:"span",cls:["remove","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}]},{tag:"td",cls:["col-md-6"]}]}}runlots(){let e=this,t=e.store,n=e.vdom,o=t.buildData(1e4);t.clear(),t.add(o),n.cn[0].cn=[],o.forEach((t=>{n.cn[0].cn.push(e.createTableRow(t))})),e.vdom=n}}Neo.applyClassConfig(i);var p=n(524);class m extends o.Z{static getConfig(){return{className:"NeoApp.view.MainComponent",autoMount:!0,cls:["container"],controller:a,domListeners:[{click:"onButtonClick",delegate:".btn"}],table:null,_vdom:{cls:["container"],cn:[{cls:["jumbotron"],cn:[{cls:["row"],cn:[{cls:["col-md-6"],cn:[{cls:["row"],cn:[{tag:"h1",html:"neo.mjs"}]}]},{cls:["col-md-6"],cn:[{cls:["row"],flag:"row",cn:[]}]}]}]},{tag:"span",cls:["preloadicon","glyphicon","glyphicon-remove"],"aria-hidden":!0}]}}}constructor(e){super(e),this.createColumns(),this.createTable()}createColumns(){let e,t=this.vdom,n=p.Z.getByFlag(t,"row"),o=0,r=[{id:"run",html:"Create 1,000 rows"},{id:"runlots",html:"Create 10,000 rows"},{id:"add",html:"Append 1,000 rows"},{id:"update",html:"Update every 10th row"},{id:"clear",html:"Clear"},{id:"swaprows",html:"Swap Rows"}];for(;o<6;o++)e=r[o],n.cn.push({cls:["col-sm-6 smallpad"],cn:[{tag:"button",type:"button",cls:["btn","btn-primary","btn-block"],id:e.id,html:e.html}]})}createTable(){let e=this,t=e.vdom;e.table=Neo.create({module:i,appName:e.appName,parentId:e.id,reference:"table"}),t.cn.splice(1,0,e.table.vdom),e.vdom=t}}Neo.applyClassConfig(m);const u=()=>Neo.app({appPath:"apps/neoapp/",mainView:m,name:"NeoApp",parentId:"main"})},5354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(2641),r=(n(9342),n(1954)),a=n(3949);class l extends o.Z{static getConfig(){return{className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null}}constructor(e){super(e);let t,n=this,o=n.component;n.references={},o.isConstructed?n.onComponentConstructed():t=o.on("constructed",(()=>{o.un("constructed",t),n.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e){let t=this,n=t.parent;return Neo.isFunction(t[e])?t:n?n.getHandlerScope(e):null}getModel(e=!1){let t=this.component;return e?t.model:t.getModel()}getParent(){let e,t,n=this;return n.parent?n.parent:(t=n.component.parentId,e=t&&Neo.getComponent(t),e?.getController()||null)}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}onComponentConstructed(){}parseConfig(e=this.component){let t,n,o,l=this,s=e.domListeners,c=e.listeners,d=e.reference;s&&s.forEach((s=>{Object.entries(s).forEach((([c,d])=>{t=null,"scope"!==c&&"delegate"!==c&&(Neo.isString(d)?t=d:Neo.isObject(d)&&d.hasOwnProperty("fn")&&Neo.isString(d.fn)&&(t=d.fn),t&&(o=l.getHandlerScope(t),o?(n=o[t].bind(o),s[c]=n,r.Z.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:n,eventHandlerName:t,eventName:c,scope:void 0})):a.Z.logError("Unknown domEvent handler for",t,e)))}))})),c&&Object.entries(c).forEach((([n,r])=>{"scope"!==n&&"delegate"!==n&&r.forEach((n=>{Neo.isObject(n)&&n.hasOwnProperty("fn")&&Neo.isString(n.fn)&&(t=n.fn,o=l.getHandlerScope(t),o?n.fn=o[t].bind(o):a.Z.logError("Unknown event handler for",t,e))}))})),d&&(l.references[d]=e)}removeReference(e){let t,n=this.references;for(t in n)if(e===n[t]){delete n[t];break}}}Neo.applyClassConfig(l)}}]);