(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[2680],{2680:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(3452),r=a(2325);class i extends r.Z{static getConfig(){return{className:"Neo.layout.Base",ntype:"layout-base",appName_:null,containerId:null,isLayout:!0}}afterSetAppName(e,t){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}applyChildAttributes(e){}applyRenderAttributes(){}removeChildAttributes(e){}removeRenderAttributes(){}}Neo.applyClassConfig(i);var s=a(3501);Neo.applyClassConfig(class extends i{static getStaticConfig(){return{activeItemCls:"active-item",inactiveItemCls:"inactive-item",itemCls:"neo-layout-card-item"}}static getConfig(){return{className:"Neo.layout.Card",ntype:"layout-card",activeIndex_:0,removeInactiveCards:!0}}async afterSetActiveIndex(e,t){let a,o,r,i,n,l,c,p,d,m=this,u=m.containerId,y=Neo.getComponent(u)||Neo.get(u),f=m.getStaticConfig(),h=!1;if(Neo.isNumber(e)&&y){for(n=y.items,d=y.vdom,l=n.length,n[e]||Neo.error("Trying to activate a non existing card",e,n),o=0;o<l;o++)if(c=n[o].module,o===e&&!c?.isClass&&Neo.isFunction(c)){h=!0;break}for(o=0;o<l;o++)r=o===e,i=n[o],c=i.module,r&&!c?.isClass&&Neo.isFunction(c)&&(c=await c(),c=c.default,p=c.prototype,a=i.cls||p.constructor.config.cls||[],i.className=p.className,i.cls=[...a,f.itemCls],i.module=c,delete i.vdom,n[o]=i=Neo.create(i),y.fire("cardLoaded",{item:i}),d.cn[o]=i.vdom),i instanceof Neo.core.Base&&(a=i.cls,s.Z.remove(a,r?f.inactiveItemCls:f.activeItemCls),s.Z.add(a,r?f.activeItemCls:f.inactiveItemCls),m.removeInactiveCards||h?(i._cls=a,i.getVdomRoot().cls=a,r?(delete i.vdom.removeDom,Neo.isFunction(i.activate)&&i.activate()):(i.mounted=!1,i.vdom.removeDom=!0)):i.cls=a);(m.removeInactiveCards||h)&&(y.vdom=d)}}applyChildAttributes(e,t,a=!1){let o=this,r=o.activeIndex===t,i=o.getStaticConfig(),n=e.cls,l=e.vdom;s.Z.add(n,i.itemCls),s.Z.add(n,r?i.activeItemCls:i.inactiveItemCls),!a&&o.removeInactiveCards?(e._cls=n,l.removeDom=!r,e.vdom=l):e.cls=n}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.cls||[];e||Neo.logError("layout.Card: applyRenderAttributes -> container not yet created",this.containerId),s.Z.add(t,"neo-layout-card"),e.cls=t}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.cls||[];e||Neo.logError("layout.Card: removeRenderAttributes -> container not yet created",this.containerId),s.Z.remove(t,"neo-layout-card"),e.cls=t}}),Neo.applyClassConfig(class extends i{static getConfig(){return{className:"Neo.layout.Fit",ntype:"layout-fit"}}applyChildAttributes(e,t){e.ignoreLayout||(e.cls=s.Z.union(e.cls,"neo-layout-fit-item"))}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.cls||[];e||Neo.logError("layout.Fit: applyRenderAttributes -> container not yet created",this.containerId),s.Z.add(t,"neo-layout-fit"),e.cls=t}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e?.cls||[];e||Neo.logError("layout.Fit: removeRenderAttributes -> container not yet created",this.containerId),s.Z.remove(t,"neo-layout-fit"),e.cls=t}});class n extends i{static getStaticConfig(){return{alignValues:["center","end","start","stretch",null],directionValues:["column","column-reverse","row","row-reverse",null],packValues:["center","end","start",null],wrapValues:["nowrap","wrap","wrap-reverse"]}}static getConfig(){return{className:"Neo.layout.Flexbox",ntype:"layout-flexbox",align_:null,direction_:null,pack_:null,prefix:"neo-flex-",wrap_:"nowrap"}}afterSetAlign(e,t){this.updateInputValue(e,t,"align")}afterSetDirection(e,t){this.updateInputValue(e,t,"direction")}afterSetPack(e,t){this.updateInputValue(e,t,"pack")}afterSetWrap(e,t){this.updateInputValue(e,t,"wrap")}applyChildAttributes(e){let t=e.wrapperStyle;t.flex=t.flex||e.flex||("stretch"===this.align?1:"0 1 auto"),e.wrapperStyle=t}applyRenderAttributes(){let e=this,t=Neo.getComponent(e.containerId),a=e.prefix,o=t?.cls||[];t||Neo.logError("layout.Flexbox: applyRenderAttributes -> container not yet created",e.containerId),s.Z.add(o,a+"container"),e.align&&s.Z.add(o,a+"align-"+e.align),e.direction&&s.Z.add(o,a+"direction-"+e.direction),e.pack&&s.Z.add(o,a+"pack-"+e.pack),e.wrap&&s.Z.add(o,a+"wrap-"+e.wrap),t.cls=o}beforeSetAlign(e,t){return this.testInputValue(e,t,"alignValues","align")}beforeSetDirection(e,t){return this.testInputValue(e,t,"directionValues","direction")}beforeSetPack(e,t){return this.testInputValue(e,t,"packValues","pack")}beforeSetWrap(e,t){return this.testInputValue(e,t,"wrapValues","wrap")}removeChildAttributes(e){let t=e.wrapperStyle||{};t.flex=e.flex||null,e.wrapperStyle=t}removeRenderAttributes(){let e=this,t=Neo.getComponent(e.containerId),a=e.prefix,o=t?.cls||[];t||Neo.logError("layout.Flexbox: removeRenderAttributes -> container not yet created",e.containerId),s.Z.remove(o,a+"container"),e.align&&s.Z.remove(o,a+"align-"+e.align),e.direction&&s.Z.remove(o,a+"direction-"+e.direction),e.pack&&s.Z.remove(o,a+"pack-"+e.pack),e.wrap&&s.Z.remove(o,a+"wrap-"+e.wrap),t.cls=o}testInputValue(e,t,a,o){const r=this.getStaticConfig(a);return s.Z.hasItem(r,e)?e:(Neo.logError(this.containerId,'-> layout: supported values for "'+o+'" are',r),t)}updateInputValue(e,t,a){let o=Neo.getComponent(this.containerId),r=this.prefix,i=o?.cls;o?.rendered&&(s.Z.remove(i,r+a+"-"+t),null!==e&&s.Z.add(i,r+a+"-"+e),o.cls=i)}}Neo.applyClassConfig(n),Neo.applyClassConfig(class extends n{static getConfig(){return{className:"Neo.layout.HBox",ntype:"layout-hbox",direction:"row"}}applyChildAttributes(e){e.width||super.applyChildAttributes(e)}}),Neo.applyClassConfig(class extends n{static getConfig(){return{className:"Neo.layout.VBox",ntype:"layout-vbox",direction:"column"}}applyChildAttributes(e){e.height||super.applyChildAttributes(e)}});var l=a(3949);class c extends o.Z{static getConfig(){return{className:"Neo.container.Base",ntype:"container",cls:["neo-container"],itemDefaults_:null,items_:[],layout_:{ntype:"vbox",align:"stretch"},_vdom:{cn:[]}}}add(e){let t=this;return t.insert(t.items?t.items.length:0,e)}afterSetAppName(e,t){let a=this;super.afterSetAppName(e,t),e&&a.items&&a.items.forEach((t=>{Neo.isObject(t)&&(t.appName=e)})),e&&a.layout&&(a.layout.appName=e)}afterSetLayout(e,t){this.rendered&&(t.removeRenderAttributes(),e.applyRenderAttributes(),this.items.forEach(((a,o)=>{t.removeChildAttributes(a,o),e.applyChildAttributes(a,o)})))}afterSetMounted(e,t){if(super.afterSetMounted(e,t),void 0!==t){let t=this.items,a=0,o=t.length;for(;a<o;a++)t[a].vdom.removeDom||(t[a].mounted=e)}}afterSetRendering(e,t){if(void 0!==t){let t=this.items,a=0,o=t.length;for(;a<o;a++)t[a].vdom.removeDom||(t[a].rendering=e)}}beforeSetLayout(e){return this.createLayout(e)}createItems(){let e,t,a=this,o=a._items,r=a.itemDefaults,i=a.layout,s=a.vdom,n=a.getVdomRoot();n.cn=[],o.forEach(((s,l)=>{s.constructor.isClass&&s instanceof Neo.core.Base?Object.assign(s,{appName:a.appName,parentId:a.id}):s.isClass?s=Neo.create(s,{appName:a.appName,parentId:a.id}):"string"==typeof s?s=Neo.ntype({ntype:"component",appName:a.appName,parentId:a.id,vdom:{innerHTML:s}}):(r&&Neo.assignDefaults(s,r),t=s.module,e=t&&!t.isClass&&Neo.isFunction(t),t&&!e&&(s.className=t.prototype.className),Object.assign(s,{appName:a.appName,parentId:a.id,style:s.style||{}}),e?s.vdom={removeDom:!0}:s=Neo[s.className?"create":"ntype"](s)),o[l]=s,e||i.applyChildAttributes(s,l),n.cn.push(s.vdom)})),a.vdom=s}createLayout(e){let t=this;return e&&(e instanceof i&&e.isLayout?(e.appName=t.appName,e.containerId=t.id):((e=t.parseLayoutClass(e)).appName=t.appName,e.containerId=t.id,e=Neo.ntype(e))),e}destroy(e=!1,t=!1){this.items.forEach((e=>{e.destroy(!1,!0)})),super.destroy(e,t)}getVdomItemsRoot(){return this.vdom.cn}indexOf(e){let t=this,a=0,o=t.items?.length||0;for(Neo.isString(e)||(e=e.id);a<o;a++)if(t.items[a].id===e)return a;return-1}insert(e,t,a=!1){let o,r,i=this,s=i.items,n=[],l=i.vdom;if(Array.isArray(t)){for(o=0,r=t.length;o<r;o++)n.unshift(i.insert(e,t[r-1-o],!0));t=n}else"object"==typeof t&&(t instanceof Neo.component.Base?Object.assign(t,{appName:i.appName,parentId:i.id,parentIndex:e}):(t.module&&(t.className=t.module.prototype.className),t={...i.itemDefaults,appName:i.appName,parentId:i.id,parentIndex:e,...t},t=Neo[t.className?"create":"ntype"](t)),i.layout.applyChildAttributes(t,e,!0),s.splice(e,0,t),i.items=s,l.cn.splice(e,0,t.vdom));return a?i._vdom=l:i.promiseVdomUpdate().then((()=>{i.fire("insert",{index:e,item:t})})),t}mergeConfig(...e){let t=super.mergeConfig(...e);return t.itemDefaults&&(this._itemDefaults=Neo.clone(t.itemDefaults,!0,!0),delete t.itemDefaults),t.items&&(this._items=Neo.clone(t.items,!0,!0),delete t.items),t}moveTo(e,t){let a=this.items[e];return e!==t&&this.switchItems(t,e),a}onConstructed(){let e=this;e._layout=e.createLayout(e.layout),e._layout.applyRenderAttributes(),super.onConstructed(),e.parseItemConfigs(e.items),e.createItems()}parseItemConfigs(e){let t=this;e.forEach((e=>{Object.entries(e).forEach((([a,o])=>{"items"===a?t.parseItemConfigs(o):"string"==typeof o&&o.startsWith("@config:")&&(o=o.substr(8),t.hasOwnProperty(o)?e[a]=t[o]:l.Z.logError("The used @config does not exist:",o,t))}))}))}parseLayoutClass(e){return Neo.isObject(e)?e.ntype.indexOf("layout-")<0&&(e.ntype="layout-"+e.ntype):e=e.indexOf("layout-")<0?{ntype:"layout-"+e}:{ntype:e},e}remove(e,t=!0,a=!1){let o=[...this.items],r=0,i=o.length;for(;r<i;r++)o[r].id===e.id&&this.removeAt(r,t,a)}removeAt(e,t=!0,a=!1){let o,r,i=this,s=i.items,n=i.vdom;e>=s.length?Neo.warn("Container.removeAt: index >= items.length. "+i.id):(r=s[e],s.splice(e,1),o=n.cn||n.childNodes||n.children,o.splice(e,1),i[a&&!t?"_vdom":"vdom"]=n,t?r.destroy(!0):r.mounted=!1)}removeLast(e=!0,t=!1){this.removeAt(this.items.length-1,e,t)}switchItems(e,t){let a=this,o=Neo.isNumber(e)?e:a.indexOf(e),r=Neo.isNumber(t)?t:a.indexOf(t),i=a.vdom;s.Z.move(a.items,r,o),s.Z.move(a.getVdomItemsRoot(),r,o),a.vdom=i}}Neo.applyClassConfig(c)}}]);