(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[2680],{2680:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var o=a(7696),r=a(2325);class i extends r.Z{static getConfig(){return{className:"Neo.layout.Base",ntype:"layout-base",containerId:null,isLayout:!0}}applyChildAttributes(e){}applyRenderAttributes(){}removeChildAttributes(e){}removeRenderAttributes(){}}Neo.applyClassConfig(i);var n=a(3501);Neo.applyClassConfig(class extends i{static getStaticConfig(){return{activeItemCls:"active-item",inactiveItemCls:"inactive-item",itemCls:"neo-layout-card-item"}}static getConfig(){return{className:"Neo.layout.Card",ntype:"layout-card",activeIndex_:0,removeInactiveCards:!0}}afterSetActiveIndex(e,t){let a,o,r,i,s=this,l=Neo.getComponent(s.containerId),d=s.getStaticConfig();l&&(r=l.items,i=l.vdom,r[e]||Neo.error("Trying to activate a non existing card",e,r),r.forEach(((t,r)=>{o=t.cls,a=r===e,n.Z.remove(o,a?d.inactiveItemCls:d.activeItemCls),n.Z.add(o,a?d.activeItemCls:d.inactiveItemCls),s.removeInactiveCards?(t._cls=o,t.getVdomRoot().cls=o,a?t.vdom.removeDom=!1:(t.mounted=!1,t.vdom.removeDom=!0)):t.cls=o})),s.removeInactiveCards&&(l.vdom=i))}applyChildAttributes(e,t,a=!1){let o=this,r=o.activeIndex===t,i=o.getStaticConfig(),s=e.cls,l=e.vdom;n.Z.add(s,i.itemCls),n.Z.add(s,r?i.activeItemCls:i.inactiveItemCls),!a&&o.removeInactiveCards?(e._cls=s,l.removeDom=!r,e.vdom=l):e.cls=s}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e&&e.cls;e||Neo.logError("layout.Card: applyRenderAttributes -> container not yet created",this.containerId),n.Z.add(t||[],"neo-layout-card"),e.cls=t}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e&&e.cls;e||Neo.logError("layout.Card: removeRenderAttributes -> container not yet created",this.containerId),n.Z.remove(t,"neo-layout-card"),e.cls=t}}),Neo.applyClassConfig(class extends i{static getConfig(){return{className:"Neo.layout.Fit",ntype:"layout-fit"}}applyChildAttributes(e,t){e.ignoreLayout||(e.cls=n.Z.union(e.cls,"neo-layout-fit-item"))}applyRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e&&e.cls;e||Neo.logError("layout.Fit: applyRenderAttributes -> container not yet created",this.containerId),n.Z.add(t||[],"neo-layout-fit"),e.cls=t}removeRenderAttributes(){let e=Neo.getComponent(this.containerId),t=e&&e.cls;e||Neo.logError("layout.Fit: removeRenderAttributes -> container not yet created",this.containerId),n.Z.remove(t,"neo-layout-fit"),e.cls=t}});class s extends i{static getStaticConfig(){return{alignValues:["center","end","start","stretch",null],directionValues:["column","column-reverse","row","row-reverse",null],packValues:["center","end","start",null],wrapValues:["nowrap","wrap","wrap-reverse"]}}static getConfig(){return{className:"Neo.layout.Flexbox",ntype:"layout-flexbox",align_:null,direction_:null,pack_:null,prefix:"neo-flex-",wrap_:"nowrap"}}afterSetAlign(e,t){this.updateInputValue(e,t,"align")}afterSetDirection(e,t){this.updateInputValue(e,t,"direction")}afterSetPack(e,t){this.updateInputValue(e,t,"pack")}afterSetWrap(e,t){this.updateInputValue(e,t,"wrap")}applyChildAttributes(e){let t=e.wrapperStyle;t.flex=t.flex||e.flex||("stretch"===this.align?1:"0 1 auto"),e.wrapperStyle=t}applyRenderAttributes(){let e=this,t=Neo.getComponent(e.containerId),a=e.prefix,o=t&&t.cls;t||Neo.logError("layout.Flexbox: applyRenderAttributes -> container not yet created",e.containerId),n.Z.add(o||[],a+"container"),e.align&&n.Z.add(o,a+"align-"+e.align),e.direction&&n.Z.add(o,a+"direction-"+e.direction),e.pack&&n.Z.add(o,a+"pack-"+e.pack),e.wrap&&n.Z.add(o,a+"wrap-"+e.wrap),t.cls=o}beforeSetAlign(e,t){return this.testInputValue(e,t,"alignValues","align")}beforeSetDirection(e,t){return this.testInputValue(e,t,"directionValues","direction")}beforeSetPack(e,t){return this.testInputValue(e,t,"packValues","pack")}beforeSetWrap(e,t){return this.testInputValue(e,t,"wrapValues","wrap")}removeChildAttributes(e){let t=e.wrapperStyle||{};t.flex=e.flex||null,e.wrapperStyle=t}removeRenderAttributes(){let e=this,t=Neo.getComponent(e.containerId),a=e.prefix,o=t&&t.cls;t||Neo.logError("layout.Flexbox: removeRenderAttributes -> container not yet created",e.containerId),n.Z.remove(o,a+"container"),e.align&&n.Z.remove(o,a+"align-"+e.align),e.direction&&n.Z.remove(o,a+"direction-"+e.direction),e.pack&&n.Z.remove(o,a+"pack-"+e.pack),e.wrap&&n.Z.remove(o,a+"wrap-"+e.wrap),t.cls=o}testInputValue(e,t,a,o){const r=this.getStaticConfig(a);return n.Z.hasItem(r,e)?e:(Neo.logError(this.containerId,'-> layout: supported values for "'+o+'" are',r),t)}updateInputValue(e,t,a){let o=Neo.getComponent(this.containerId),r=this.prefix,i=o&&o.cls;o&&o.rendered&&(n.Z.remove(i,r+a+"-"+t),null!==e&&n.Z.add(i,r+a+"-"+e),o.cls=i)}}Neo.applyClassConfig(s),Neo.applyClassConfig(class extends s{static getConfig(){return{className:"Neo.layout.HBox",ntype:"layout-hbox",direction:"row"}}applyChildAttributes(e){e.width||super.applyChildAttributes(e)}}),Neo.applyClassConfig(class extends s{static getConfig(){return{className:"Neo.layout.VBox",ntype:"layout-vbox",direction:"column"}}applyChildAttributes(e){e.height||super.applyChildAttributes(e)}});var l=a(3949);class d extends o.Z{static getConfig(){return{className:"Neo.container.Base",ntype:"container",cls:["neo-container"],itemDefaults_:null,items_:[],layout_:{ntype:"vbox",align:"stretch"},_vdom:{cn:[]}}}add(e){let t=this;return t.insert(t.items?t.items.length:0,e)}afterSetAppName(e,t){e&&this.items&&this.items.forEach((t=>{Neo.isObject(t)&&(t.appName=e)}))}afterSetLayout(e,t){this.rendered&&(t.removeRenderAttributes(),e.applyRenderAttributes(),this.items.forEach(((a,o)=>{t.removeChildAttributes(a,o),e.applyChildAttributes(a,o)})))}afterSetMounted(e,t){if(super.afterSetMounted(e,t),void 0!==t){let t=this.items,a=0,o=t.length;for(;a<o;a++)t[a].vdom.removeDom||(t[a].mounted=e)}}afterSetRendering(e,t){if(void 0!==t){let t=this.items,a=0,o=t.length;for(;a<o;a++)t[a].vdom.removeDom||(t[a].rendering=e)}}beforeSetLayout(e){return this.createLayout(e)}createItems(){let e=this,t=e._items,a=e.itemDefaults,o=e.layout,r=e.vdom,i=e.getVdomRoot();i.cn=[],t.forEach(((r,n)=>{r.constructor.isClass&&r instanceof Neo.core.Base?Object.assign(r,{appName:e.appName,parentId:e.id}):r.isClass?r=Neo.create(r,{appName:e.appName,parentId:e.id}):"string"==typeof r?r=Neo.ntype({ntype:"component",appName:e.appName,vdom:{innerHTML:r}}):(a&&Neo.assignDefaults(r,a),r.module&&(r.className=r.module.prototype.className),Object.assign(r,{appName:e.appName,parentId:e.id,style:r.style||{}}),r=Neo[r.className?"create":"ntype"](r)),t[n]=r,o.applyChildAttributes(r,n),i.cn.push(r.vdom)})),e.vdom=r}createLayout(e){let t=this;return e&&(e instanceof i&&e.isLayout?e.containerId=t.id:((e=t.parseLayoutClass(e)).containerId=t.id,e=Neo.ntype(e))),e}destroy(e=!1,t=!1){this.items.forEach((e=>{e.destroy(!1,!0)})),super.destroy(e,t)}getVdomItemsRoot(){return this.vdom.cn}indexOf(e){let t=this,a=0,o=t.items&&t.items.length||0;for(Neo.isString(e)||(e=e.id);a<o;a++)if(t.items[a].id===e)return a;return-1}insert(e,t,a=!1){let o,r,i=this,n=i.items,s=i.vdom;if(Array.isArray(t))for(o=0,r=t.length;o<r;o++)i.insert(e,t[r-1-o],!0);else"object"==typeof t&&(t instanceof Neo.component.Base?Object.assign(t,{appName:i.appName,parentId:i.id,parentIndex:e}):(t.module&&(t.className=t.module.prototype.className),t={...i.itemDefaults||{},appName:i.appName,parentId:i.id,parentIndex:e,...t},t=Neo[t.className?"create":"ntype"](t)),i.layout.applyChildAttributes(t,e,!0),n.splice(e,0,t),i.items=n,s.cn.splice(e,0,t.vdom));return a?i._vdom=s:i.promiseVdomUpdate().then((()=>{i.fire("insert",{index:e,item:t})})),t}mergeConfig(...e){let t=super.mergeConfig(...e);return t.itemDefaults&&(this._itemDefaults=Neo.clone(t.itemDefaults,!0,!0),delete t.itemDefaults),t.items&&(this._items=Neo.clone(t.items,!0,!0),delete t.items),t}moveTo(e,t){let a=this,o=a.items[e];return e!==t&&a.switchItems(a.items[t].id,o.id),o}onConstructed(){let e=this;e._layout=e.createLayout(e.layout),e._layout.applyRenderAttributes(),super.onConstructed(),e.parseItemConfigs(e.items),e.createItems()}parseItemConfigs(e){let t=this;e.forEach((e=>{Object.entries(e).forEach((([a,o])=>{"items"===a?t.parseItemConfigs(o):"string"==typeof o&&o.startsWith("@config:")&&(o=o.substr(8),t.hasOwnProperty(o)?e[a]=t[o]:l.Z.logError("The used @config does not exist:",o,t))}))}))}parseLayoutClass(e){return Neo.isObject(e)?e.ntype.indexOf("layout-")<0&&(e.ntype="layout-"+e.ntype):e=e.indexOf("layout-")<0?{ntype:"layout-"+e}:{ntype:e},e}remove(e,t=!0,a=!1){let o=[...this.items],r=0,i=o.length;for(;r<i;r++)o[r].id===e.id&&this.removeAt(r,t,a)}removeAt(e,t=!0,a=!1){let o,r,i=this,n=i.items,s=i.vdom;e>=n.length?Neo.warn("Container.removeAt: index >= items.length. "+i.id):(r=n[e],n.splice(e,1),o=s.cn||s.childNodes||s.children,o.splice(e,1),i[a&&!t?"_vdom":"vdom"]=s,t?r.destroy(!0):r.mounted=!1)}switchItems(e,t){let a=this,o=a.indexOf(e),r=a.indexOf(t),i=a.vdom;n.Z.move(a.items,r,o),n.Z.move(a.getVdomItemsRoot(),r,o),a.vdom=i}}Neo.applyClassConfig(d)}}]);