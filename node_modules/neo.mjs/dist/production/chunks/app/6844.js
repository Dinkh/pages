(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6844],{6844:(e,n,o)=>{"use strict";o.r(n),o.d(n,{onStart:()=>a});var t=o(3429),r=o(5354),s=(o(1645),o(3501));class l extends r.Z{connectedApps=[];mainModel=null;static getConfig(){return{className:"Neo.examples.model.multiWindow.ViewportController"}}constructor(e){super(e);let n=this;Neo.currentWorker.on({connect:n.onAppConnect,disconnect:n.onAppDisconnect,scope:n})}onAppConnect(e){let n,t,r=this,l=e.appName;console.log("onAppConnect",e),s.Z.add(r.connectedApps,l),n=r.mainModel?{parent:r.mainModel}:{data:{user:{firstname:"Tobias",lastname:"Uhlig"}}},o.e(311).then(o.bind(o,311)).then((e=>{t=Neo.apps[l].mainView.add({module:e.default,model:n}),r.mainModel||(r.mainModel=t.model)}))}onAppDisconnect(e){let n=e.appName;s.Z.remove(this.connectedApps,n),console.log("onAppDisconnect",e)}}Neo.applyClassConfig(l);class c extends t.Z{static getConfig(){return{className:"Neo.examples.model.multiWindow.Viewport",controller:l,style:{padding:"20px"}}}}Neo.applyClassConfig(c);const a=()=>Neo.app({mainView:c,name:"Neo.examples.model.multiWindow"})},5354:(e,n,o)=>{"use strict";o.d(n,{Z:()=>l});var t=o(2641),r=(o(9342),o(1954)),s=o(3949);class l extends t.Z{static getConfig(){return{className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null}}constructor(e){super(e);let n,o=this,t=o.component;o.references={},t.isConstructed?o.onComponentConstructed():n=t.on("constructed",(()=>{t.un("constructed",n),o.onComponentConstructed()}))}beforeSetParent(e,n){return e||this.getParent()}getHandlerScope(e){let n=this,o=n.parent;return Neo.isFunction(n[e])?n:o?o.getHandlerScope(e):null}getModel(e=!1){let n=this.component;return e?n.model:n.getModel()}getParent(){let e,n,o=this;return o.parent?o.parent:(n=o.component.parentId,e=n&&Neo.getComponent(n),e&&e.getController()||null)}getReference(e){let n=this,o=n.references[e];return o||(o=n.component.down({reference:e}),o&&(n.references[e]=o)),o||null}onComponentConstructed(){}parseConfig(e=this.component){let n,o,t,l=this,c=e.domListeners,a=e.listeners,p=e.reference;c&&c.forEach((c=>{Object.entries(c).forEach((([a,p])=>{n=null,"scope"!==a&&"delegate"!==a&&(Neo.isString(p)?n=p:Neo.isObject(p)&&p.hasOwnProperty("fn")&&Neo.isString(p.fn)&&(n=p.fn),n&&(t=l.getHandlerScope(n),t?(o=t[n].bind(t),c[a]=o,r.Z.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:o,eventHandlerName:n,eventName:a,scope:void 0})):s.Z.logError("Unknown domEvent handler for",n,e)))}))})),a&&Object.entries(a).forEach((([o,r])=>{"scope"!==o&&"delegate"!==o&&r.forEach((o=>{Neo.isObject(o)&&o.hasOwnProperty("fn")&&Neo.isString(o.fn)&&(n=o.fn,t=l.getHandlerScope(n),t?o.fn=t[n].bind(t):s.Z.logError("Unknown event handler for",n,e))}))})),p&&(l.references[p]=e)}removeReference(e){let n,o=this.references;for(n in o)if(e===o[n]){delete o[n];break}}}Neo.applyClassConfig(l)}}]);