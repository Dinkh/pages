(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[8101],{8101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{onStart:()=>g});var r=a(1645),s=a(7816),n=a(231);class o extends n.Z{static getConfig(){return{className:"Neo.examples.model.table.MainModel",fields:[{name:"country",type:"string"},{name:"firstname",type:"string"},{name:"githubId",type:"string"},{name:"lastname",type:"string"}]}}}Neo.applyClassConfig(o);class i extends s.Z{static getConfig(){return{className:"Neo.examples.model.table.MainStore",keyProperty:"githubId",model:o,data:[{country:"Germany",firstname:"Tobias",githubId:"tobiu",lastname:"Uhlig"},{country:"USA",firstname:"Rich",githubId:"rwaters",lastname:"Waters"},{country:"Germany",firstname:"Nils",githubId:"mrsunshine",lastname:"Dehl"},{country:"USA",firstname:"Gerard",githubId:"camtnbikerrwc",lastname:"Horan"},{country:"Slovakia",firstname:"Jozef",githubId:"jsakalos",lastname:"Sakalos"},{country:"Germany",firstname:"Bastian",githubId:"bhaustein",lastname:"Haustein"}]}}}Neo.applyClassConfig(i);class l extends r.Z{static getConfig(){return{className:"Neo.examples.model.table.MainContainerModel",stores:{main:i}}}}Neo.applyClassConfig(l);var c=a(6593),d=a(3429);class p extends d.Z{static getConfig(){return{className:"Neo.examples.model.table.MainContainer",autoMount:!0,layout:{ntype:"fit"},model:l,style:{padding:"20px"},items:[{module:c.Z,width:"100%",wrapperStyle:{height:"300px"},bind:{store:"stores.main"},columns:[{dataField:"firstname",text:"Firstname"},{dataField:"lastname",text:"Lastname"},{dataField:"githubId",text:"Github Id"},{dataField:"country",text:"Country"}]}]}}}Neo.applyClassConfig(p);const g=()=>Neo.app({appPath:"examples/model/table/",mainView:p,name:"Neo.examples.model.table"})},3429:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(2680);class s extends r.Z{static getConfig(){return{className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,cls:["neo-viewport"]}}onConstructed(){super.onConstructed(),this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:this.appName,cls:["neo-body-viewport"]})}}Neo.applyClassConfig(s)},1645:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(2325),s=a(4508),n=a(3501);a(3648);const o=/\${(.+?)}/g,i=/data((?!(\.[a-z_]\w*\(\)))\.[a-z_]\w*)+/gi,l={};class c extends r.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.model.Component",ntype:"component-model",bindings_:null,cacheFormatterFunctions:!0,data_:null,owner:null,stores_:null}}constructor(e){Neo.currentWorker.isUsingViewModels=!0,super(e),this.bindings={}}addDataProperty(e,t){let a,r,s,n=this;Neo.ns(e,!0,n.data),s=n.getParentDataScope(e),a=s.scope,r=s.key,a[r]=t,n.createDataProperties(n.data,"data")}afterSetData(e,t){e&&this.createDataProperties(e,"data")}afterSetStores(e,t){e&&console.log("afterSetStores",e)}beforeGetData(e){return e||{}}beforeSetStores(e,t){return e&&Object.entries(e).forEach((([t,a])=>{e[t]=s.Z.beforeSetInstance(a)})),e}createBinding(e,t,a,r){let s,n,o=this,i=o.getParentDataScope(t);i.scope[i.key]?(s=Neo.ns(`${t}.${e}`,!0,o.bindings),s[a]=r):(n=o.getParent(),n?n.createBinding(e,t,a,r):console.error("No model.Component found with the specified data property",a))}createBindingByFormatter(e,t,a){let r,s,n,o,i=this;i.getFormatterVariables(t).forEach((l=>{o=i.getParentDataScope(l),r=o.scope,s=o.key,r[s]?i.createBinding(e,l,a,t):(n=i.getParent(),n?n.createBinding(e,l,a,t):console.error("No model.Component found with the specified data property",a))}))}createBindings(e){Object.entries(e.bind).forEach((([t,a])=>{this.isStoreValue(a)||this.createBindingByFormatter(e.id,a,t)}))}createDataProperties(e,t){let a,r,s,n=this,o=Neo.ns(t,!1,n);Object.entries(e).forEach((([i,l])=>{i.startsWith("_")||(a=Object.getOwnPropertyDescriptor(o,i),s=`${t}.${i}`,"object"==typeof a&&"function"==typeof a.set||(r=e[i],n.createDataProperty(i,s,o),o[i]=r),Neo.isObject(l)&&n.createDataProperties(e[i],s))}))}createDataProperty(e,t,a=this.data){let r=this;t&&t.startsWith("data.")&&(t=t.substring(5)),Object.defineProperty(a,e,{get:()=>a["_"+e],set(s){let n=`_${e}`,o=a[n];a[n]?a[n]=s:Object.defineProperty(a,n,{enumerable:!1,value:s,writable:!0}),s!==o&&r.onDataPropertyChange(t||e,s,o)}})}getData(e,t=this){let a,r=this.getParentDataScope(e),s=r.scope,n=r.key;return s.hasOwnProperty(n)?s[n]:(a=this.getParent(),a||console.error(`data property '${e}' does not exist.`,t.id),a.getData(e,t))}getFormatterVariables(e){let t,a=e.match(o)||[],r=[];return a.forEach((e=>{t=e.match(i)||[],t.forEach((e=>{n.Z.add(r,e.substr(5))}))})),r.sort(),r}getHierarchyData(e=this.getPlainData()){let t=this,a=t.getParent();return a?e={...a.getHierarchyData(e),...t.getPlainData()}:t.getPlainData()}getPlainData(){return JSON.parse(JSON.stringify(this.data))}getParent(){let e=this.owner.parentId,t=e&&Neo.getComponent(e);return t&&t.getModel()}getParentDataScope(e){let t=e,a=this.data;return e.includes(".")&&(t=(e=e.split(".")).pop(),a=Neo.ns(e.join("."),!1,a)),{key:t,scope:a}}isStoreValue(e){return e.startsWith("stores.")}onDataPropertyChange(e,t,a){let r,s,n,o,i=this,l=i.bindings&&i.bindings[e];l&&(n={},Object.entries(l).forEach((([e,t])=>{r=Neo.getComponent(e),s={},o=r.getModel(),n[o.id]||(n[o.id]=o.getHierarchyData()),Object.entries(t).forEach((([e,t])=>{s[e]=o.resolveFormatter(t,n[o.id])})),r&&r.set(s)}))),i.fire("dataPropertyChange",{key:e,id:i.id,oldValue:a,value:t})}parseConfig(e=this.owner){let t=this;e.bind&&Object.entries(e.bind).forEach((([a,r])=>{t.isStoreValue(r)?t.resolveStore(e,a,r.substring(7)):e[a]=t.resolveFormatter(r)}))}removeBindings(e){let t=this.getParent();Object.entries(this.bindings).forEach((([t,a])=>{delete a[e]})),t&&t.removeBindings(e)}resolveBindings(e=this.owner){let t=this;e.bind&&(t.createBindings(e),Object.entries(e.bind).forEach((([a,r])=>{t.isStoreValue(r)||(e[a]=t.resolveFormatter(r))})))}resolveFormatter(e,t=null){let a,r=this;return t||(t=this.getHierarchyData()),r.cacheFormatterFunctions&&l[e]?l[e].call(r,t):(a=new Function("data","return `"+e+"`;"),r.cacheFormatterFunctions&&(l[e]=a),a.call(r,t))}resolveStore(e,t,a,r=this){let s,n=this;n.stores&&n.stores.hasOwnProperty(a)?e[t]=n.stores[a]:(s=n.getParent(),s?s.resolveStore(e,t,a):console.error("bound store not found inside this model or parents:",a,r))}setData(e,t,a=this){let r,s,n,o,i=this;Neo.isObject(e)?Object.entries(e).forEach((([e,t])=>{i.setData(e,t)})):(o=i.getParentDataScope(e),r=o.scope,s=o.key,r&&r.hasOwnProperty(s)?r[s]=t:(n=i.getParent(),n?n.setData(e,t,a):a.addDataProperty(e,t)))}setDataAtSameLevel(e,t){let a,r,s,n=this;Neo.isObject(e)?Object.entries(e).forEach((([e,t])=>{n.setDataAtSameLevel(e,t)})):(s=n.getParentDataScope(e),a=s.scope,r=s.key,a&&a.hasOwnProperty(r)?a[r]=t:n.addDataProperty(e,t))}}Neo.applyClassConfig(c)}}]);