(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[8101],{8101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{onStart:()=>u});var r=a(1645),o=a(7816),s=a(231);class n extends s.Z{static getConfig(){return{className:"Neo.examples.model.table.MainModel",fields:[{name:"country",type:"string"},{name:"firstname",type:"string"},{name:"githubId",type:"string"},{name:"lastname",type:"string"}]}}}Neo.applyClassConfig(n);class i extends o.Z{static getConfig(){return{className:"Neo.examples.model.table.MainStore",keyProperty:"githubId",model:n,data:[{country:"Germany",firstname:"Tobias",githubId:"tobiu",lastname:"Uhlig"},{country:"USA",firstname:"Rich",githubId:"rwaters",lastname:"Waters"},{country:"Germany",firstname:"Nils",githubId:"mrsunshine",lastname:"Dehl"},{country:"USA",firstname:"Gerard",githubId:"camtnbikerrwc",lastname:"Horan"},{country:"Slovakia",firstname:"Jozef",githubId:"jsakalos",lastname:"Sakalos"},{country:"Germany",firstname:"Bastian",githubId:"bhaustein",lastname:"Haustein"}]}}}Neo.applyClassConfig(i);class l extends r.Z{static getConfig(){return{className:"Neo.examples.model.table.MainContainerModel",stores:{main:i}}}}Neo.applyClassConfig(l);var d=a(6593),c=a(3429);class p extends c.Z{static getConfig(){return{className:"Neo.examples.model.table.MainContainer",autoMount:!0,layout:{ntype:"fit"},model:l,style:{padding:"20px"},items:[{module:d.Z,width:"100%",wrapperStyle:{height:"300px"},bind:{store:"stores.main"},columns:[{dataField:"firstname",text:"Firstname"},{dataField:"lastname",text:"Lastname"},{dataField:"githubId",text:"Github Id"},{dataField:"country",text:"Country"}]}]}}}Neo.applyClassConfig(p);const u=()=>Neo.app({mainView:p,name:"Neo.examples.model.table"})},3429:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(2680);class o extends r.Z{static getConfig(){return{className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,cls:["neo-viewport"]}}onConstructed(){super.onConstructed(),this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:this.appName,cls:["neo-body-viewport"]})}}Neo.applyClassConfig(o)},231:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(2325);class o extends r.Z{static getConfig(){return{className:"Neo.data.Model",ntype:"model",fields_:[],keyProperty_:"id",storeId:null,trackModifiedFields:!1}}afterSetFields(e,t){}getField(e){let t=this,a=0,r=t.fields.length;for(;a<r;a++)if(t.fields[a].name===e)return t.fields[a];return null}}Neo.applyClassConfig(o)},7816:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var r=a(2783),o=a(4508),s=a(231),n=(a(3648),a(2325)),i=a(3949);let l;class d extends n.Z{static getConfig(){return{className:"Neo.data.RecordFactory",singleton:!0,ovPrefix:"ov_",recordNamespace:"Neo.data.record."}}createRecord(e,t){let a=Neo.ns(this.recordNamespace+e.className);return a||(a=this.createRecordClass(e)),new a(t)}createRecordClass(e){if(e instanceof s.Z){let t,a,r=this.recordNamespace+e.className,o=Neo.ns(r);return o||(a=r.split("."),t=a.pop(),o=Neo.ns(a,!0),o[t]=class{constructor(t){let a,r=this;Object.defineProperties(r,{_isModified:{value:!1,writable:!0}}),Array.isArray(e.fields)&&e.fields.forEach((o=>{let s=l.parseRecordValue(o,t[o.name]),n=Symbol(o.name);a={[n]:{value:s,writable:!0},[o.name]:{configurable:!0,enumerable:!0,get(){return this[n]},set(t){let a=this,r=a[n];l.hasChanged(t,r)&&(t=l.parseRecordValue(o,t),a[n]=t,a._isModified=!0,a._isModified=l.isModified(a,e.trackModifiedFields),l.onRecordChange({field:o.name,model:e,oldValue:r,record:a,value:t}))}}},e.trackModifiedFields&&(a[l.ovPrefix+o.name]={value:s}),Object.defineProperties(r,a)}))}},o[t])}}hasChanged(e,t){return!(!Array.isArray(e)&&(Neo.isObject(e)?t instanceof Date&&e instanceof Date&&t.valueOf()===e.valueOf():t===e))}isModified(e,t){if(t){let t,a=Object.keys(e),r=0,o=a.length;for(;r<o;r++)if(t=a[r],e[t]!==e[this.ovPrefix+t])return!0;return!1}return e._isModified}isModifiedField(e,t){return e.hasOwnProperty(t)||i.Z.logError("The record does not contain the field",t,e),e.hasOwnProperty(this.ovPrefix+t)?e[t]!==e[this.ovPrefix+t]:null}isRecord(e){return e&&e.constructor&&e.constructor.name&&"Record"===e.constructor.name}onRecordChange(e){let t=Neo.get(e.model.storeId);t&&t.onRecordChange(e)}parseRecordValue(e,t){return"date"===(e.type&&e.type.toLowerCase())?new Date(t):t}}Neo.applyClassConfig(d),l=Neo.create(d),Neo.applyToGlobalNs(l);const c=l;class p extends r.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.data.Store",ntype:"store",autoLoad:!1,data_:null,initialData_:null,isGrouped:!1,isLoaded:!1,isLoading:!1,model_:null,remoteFilter:!1,remoteSort:!1,url:null}}constructor(e){super(e);let t=this;t.on({mutate:t.onCollectionMutate,sort:t.onCollectionSort,scope:t})}afterSetData(e,t){let a=this;a.configsApplied&&e&&(t?a.clear():a.initialData=[...e],a.add(e))}afterSetInitialData(e,t){}afterSetModel(e,t){e&&(e.storeId=this.id,c.createRecordClass(e))}beforeSetData(e,t){let a=this;return e&&(Array.isArray(e)||(e=[e]),(e=Neo.clone(e,!0)).forEach(((t,r)=>{c.isRecord(t)||(e[r]=c.createRecord(a.model,t))}))),e}beforeSetInitialData(e,t){return!e&&t?t:e}beforeSetModel(e,t){return t&&t.destroy(),o.Z.beforeSetInstance(e,s.Z)}createRecord(e){c.createRecord(e)}load(){let e=this;Neo.Xhr.promiseJson({url:e.url}).then((t=>{e.data=Array.isArray(t.json)?t.json:t.json.data})).catch((t=>{console.log("Error for Neo.Xhr.request",t,e.id)}))}onCollectionMutate(e){let t=this;t.configsApplied&&t.fire("load",t.items)}onCollectionSort(){this.configsApplied}onConstructed(){super.onConstructed();let e=this;e.data&&e.afterSetData(e.data),e.autoLoad&&setTimeout((()=>{e.load()}),100)}onRecordChange(e){this.fire("recordChange",e)}sort(e={}){let t=this;t.remoteSort||t.configsApplied&&(e.direction?t.sorters=[{direction:e.direction,property:e.property}]:(t.startUpdate(),t.clear(),t.sorters=[],t.add([...t.initialData]),t.endUpdate(),t.fire("sort")))}}Neo.applyClassConfig(p)},1645:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(2325),o=a(4508),s=a(3501);a(3648);const n=/\${(.+?)}/g,i=/(data|[a-z])((?!(\.[a-z_]\w*\(\)))\.[a-z_]\w*)+/gi;class l extends r.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.model.Component",ntype:"component-model",bindings_:null,component:null,data_:null,parent_:null,stores_:null}}constructor(e){Neo.currentWorker.isUsingViewModels=!0,super(e),this.bindings={}}addDataProperty(e,t){let a,r,o=this;Neo.ns(e,!0,o.data),a=o.getDataScope(e),r=a.scope,r[a.key]=t,o.createDataProperties(o.data,"data")}afterSetData(e,t){e&&this.createDataProperties(e,"data")}beforeGetData(e){return e||{}}beforeSetParent(e,t){return e||this.getParent()}beforeSetStores(e,t){return e&&Object.entries(e).forEach((([t,a])=>{e[t]=o.Z.beforeSetInstance(a)})),e}callFormatter(e,t=null){return t||(t=this.getHierarchyData()),e.call(this,t)}createBinding(e,t,a,r){let o,s,n=this,i=n.getDataScope(t),l=i.scope,d=i.key;l&&l[d]?(o=Neo.ns(`${t}.${e}`,!0,n.bindings),o[a]=r):(s=n.getParent(),s?s.createBinding(e,t,a,r):console.error("No model.Component found with the specified data property",a))}createBindingByFormatter(e,t,a){let r=this;r.getFormatterVariables(t).forEach((o=>{r.createBinding(e,o,a,t)}))}createBindings(e){Object.entries(e.bind).forEach((([t,a])=>{this.isStoreValue(a)||this.createBindingByFormatter(e.id,a,t)}))}createDataProperties(e,t){let a,r,o,s=this,n=Neo.ns(t,!1,s);Object.entries(e).forEach((([i,l])=>{i.startsWith("_")||(a=Object.getOwnPropertyDescriptor(n,i),o=`${t}.${i}`,"object"==typeof a&&"function"==typeof a.set||(r=e[i],s.createDataProperty(i,o,n),n[i]=r),Neo.isObject(l)&&s.createDataProperties(e[i],o))}))}createDataProperty(e,t,a=this.data){let r=this;t&&t.startsWith("data.")&&(t=t.substring(5)),Object.defineProperty(a,e,{get:()=>a["_"+e],set(o){let s=`_${e}`,n=a[s];a[s]?a[s]=o:Object.defineProperty(a,s,{enumerable:!1,value:o,writable:!0}),o!==n&&r.onDataPropertyChange(t||e,o,n)}})}getData(e,t=this){let a,r=this.getDataScope(e),o=r.scope,s=r.key;return o&&o.hasOwnProperty(s)?o[s]:(a=this.getParent(),a||console.error(`data property '${e}' does not exist.`,t),a.getData(e,t))}getDataScope(e){let t=e,a=this.data;return e.includes(".")&&(t=(e=e.split(".")).pop(),a=Neo.ns(e.join("."),!1,a)),{key:t,scope:a}}getFormatterVariables(e){Neo.isFunction(e)&&(e=e.toString());let t,a=e.match(n)||[],r=[];return a.forEach((e=>{t=e.match(i)||[],t.forEach((e=>{e=e.substr(e.indexOf(".")+1),s.Z.add(r,e)}))})),r.sort(),r}getHierarchyData(e=this.getPlainData()){let t=this,a=t.getParent();return a?{...a.getHierarchyData(e),...t.getPlainData()}:t.getPlainData()}getPlainData(){return JSON.parse(JSON.stringify(this.data))}getParent(){let e,t,a=this;return a.parent?a.parent:(t=a.component.parentId,e=t&&Neo.getComponent(t),e&&e.getModel()||null)}internalSetData(e,t,a){let r,o,s,n,i=this;Neo.isObject(e)?Object.entries(e).forEach((([e,t])=>{i.internalSetData(e,t,a)})):(r=i.getDataScope(e),n=r.scope,o=r.key,n&&n.hasOwnProperty(o)?n[o]=t:a?(s=i.getParent(),s?s.internalSetData(e,t,a):a.addDataProperty(e,t)):i.addDataProperty(e,t))}isStoreValue(e){return Neo.isString(e)&&e.startsWith("stores.")}onDataPropertyChange(e,t,a){let r,o,s,n,i=this,l=i.bindings&&Neo.ns(e,!1,i.bindings);l&&(s={},Object.entries(l).forEach((([e,t])=>{r=Neo.getComponent(e),o={},n=r.getModel(),s[n.id]||(s[n.id]=n.getHierarchyData()),Object.entries(t).forEach((([e,t])=>{o[e]=n.callFormatter(t,s[n.id])})),r&&r.set(o)}))),i.fire("dataPropertyChange",{key:e,id:i.id,oldValue:a,value:t})}parseConfig(e=this.component){let t=this,a={};e.bind&&(t.createBindings(e),Object.entries(e.bind).forEach((([r,o])=>{t.isStoreValue(o)?t.resolveStore(e,r,o.substring(7)):a[r]=t.callFormatter(o)})),e.set(a))}removeBindings(e){let t=this.getParent();Object.entries(this.bindings).forEach((([t,a])=>{delete a[e]})),t&&t.removeBindings(e)}resolveStore(e,t,a,r=this){let o,s=this;s.stores&&s.stores.hasOwnProperty(a)?e[t]=s.stores[a]:(o=s.getParent(),o?o.resolveStore(e,t,a):console.error("bound store not found inside this model or parents:",a,r))}setData(e,t){this.internalSetData(e,t,this)}setDataAtSameLevel(e,t){this.internalSetData(e,t)}}Neo.applyClassConfig(l)}}]);