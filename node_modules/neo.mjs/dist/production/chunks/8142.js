(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[8142],{8142:(e,t,o)=>{"use strict";o.r(t),o.d(t,{onStart:()=>m});var s=o(1354),n=o(2680),i=o(5062),l=o(7703);class r extends l.Z{static getConfig(){return{className:"TodoListApp2.TodoList",ntype:"todolistapp2-todolist",displayField:"text"}}onConstructed(){super.onConstructed()}}Neo.applyClassConfig(r);var d=o(7816),a=o(231);class c extends a.Z{static getConfig(){return{className:"TestApp.MainModel",ntype:"todolist-model",keyProperty:"id",fields:[{name:"id",type:"Number"},{name:"done",type:"Boolean"},{name:"text",type:"String"}]}}}Neo.applyClassConfig(c);class p extends d.Z{static getConfig(){return{className:"TestApp.TodoListStore",ntype:"todolist-store",keyProperty:"id",model:c,data:[{id:1,done:!0,text:"Todo Item 1"},{id:2,done:!1,text:"Todo Item 2"},{id:3,done:!1,text:"Todo Item 3"}],sorters:[{property:"done",direction:"DESC"},{property:"text",direction:"ASC"}]}}}Neo.applyClassConfig(p);var y=o(4959);class u extends n.Z{static getConfig(){return{className:"TodoListApp2.MainContainer",ntype:"todolistapp2-maincontainer",autoMount:!0,height:300,margin:20,layout:{ntype:"vbox",align:"stretch"},style:{margin:"20px"},width:300,idCounter:0,store:null}}constructor(e){super(e);let t=this;t.store=Neo.create({module:p}),t.items=[{module:r,flex:1,store:t.store},{module:y.Z,flex:"none",dock:"bottom",items:[{module:i.Z,labelPosition:"inline",labelText:"Item Text",reference:"addItemField"},"->",{module:s.Z,handler:t.onAddButtonClick,handlerScope:t,scope:t,style:{height:"27px"},text:"Add Item"}]}]}onAddButtonClick(){let e,t=this,o=t.down({reference:"addItemField"});o.value&&(t.idCounter--,e=t.store.data,e.push({id:t.idCounter,done:!1,text:o.value}),t.store.data=e,console.log("onAddButtonClick",e),console.log(t.store.items))}}Neo.applyClassConfig(u);const m=()=>Neo.app({appPath:"examples/todoList/version2/",mainView:u,name:"TodoListApp2"})},7703:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var s=o(4508),n=o(7696),i=o(4896);class l extends i.Z{static getConfig(){return{className:"Neo.selection.ListModel",ntype:"selection-listmodel",stayInList:!0}}onKeyDownDown(e){this.view.disableSelection||this.onNavKey(e,1)}onKeyDownLeft(e){this.onKeyDownUp(e)}onKeyDownRight(e){this.onKeyDownDown(e)}onKeyDownUp(e){this.view.disableSelection||this.onNavKey(e,-1)}onNavKey(e,t){let o,s,n,i,l=this,r=e.path[0],d=l.view,a=d.store,c=a.getCount(),p=!1;r.cls.includes(d.itemCls)?(i=d.getItemRecordId(r.id),o=a.indexOf(i)+t,o<0?l.stayInList?o=c-1:(p=!0,d.fire("selectPreFirstItem")):o>=c&&(l.stayInList?o=0:(p=!0,d.fire("selectPostLastItem")))):o=0,p?l.deselectAll():(n=a.getAt(o),s=d.getItemId(n[l.view.getKeyProperty()]),l.select(s),d.focus(s),d.fire("itemNavigate",n))}register(e){super.register(e);let t=this.id,o=this.view;o.keys&&o.keys._keys.push({fn:"onKeyDownDown",key:"Down",scope:t},{fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t},{fn:"onKeyDownUp",key:"Up",scope:t})}selectAt(e){let t=this.view,o=t.store.getKeyAt(e),s=o&&t.getItemId(o);s&&(this.select(s),t.focus(s))}unregister(){let e=this.id,t=this.view;t.keys&&t.keys.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}Neo.applyClassConfig(l);var r=o(3501);o(7816);class d extends n.Z{static getConfig(){return{className:"Neo.list.Base",ntype:"list",autoDestroyStore:!0,cls:["neo-list-container","neo-list"],disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,highlightFilterValue:!0,itemCls:"neo-list-item",keys:{},selectionModel_:null,silentSelect:!1,store_:null,useCheckBoxes_:!1,_vdom:{tag:"ul",cn:[]}}}constructor(e){super(e);let t=this,o=t.domListeners;o.push({click:{fn:t.onClick,scope:t}}),t.domListeners=o}onConstructed(){super.onConstructed();let e=this;e.selectionModel&&e.selectionModel.register(e)}afterSetDisableSelection(e,t){let o=this;e&&o.rendered&&o.selectionModel&&o.selectionModel.deselectAll()}afterSetDraggable(e,t){let s=this;e&&!s.dragZone&&o.e(3861).then(o.bind(o,4023)).then((e=>{s.dragZone=Neo.create({module:e.default,appName:s.appName,owner:s,...s.dragZoneConfig||{}})}))}afterSetSelectionModel(e,t){this.rendered&&e.register(this)}afterSetStore(e,t){let o=this;e&&(e.on({filter:o.onStoreFilter,load:o.onStoreLoad,scope:o}),e.getCount()>0&&o.onStoreLoad())}afterSetUseCheckBoxes(e,t){let o=this.cls;r.Z[e?"add":"remove"](o,"neo-use-checkicons"),this.cls=o}beforeSetSelectionModel(e,t){return t&&t.destroy(),s.Z.beforeSetInstance(e,l)}beforeSetStore(e,t){return t&&t.destroy(),s.Z.beforeSetInstance(e)}createItem(e){let t=this,o=t.createItemContent(e);const s={tag:"li",cls:[t.itemCls],id:t.getItemId(e[t.getKeyProperty()]),tabIndex:-1};return s["string"==typeof o?"html":"cn"]=o,s}createItemContent(e){let t,o=this,s=e[this.displayField];return o.highlightFilterValue&&(t=o.store.getFilter(o.displayField),t&&null!==t.value&&""!==t.value&&(s=s.replace(new RegExp(t.value,"gi"),(function(e){return'<span class="neo-highlight-search">'+e+"</span>"})))),s}createItems(e=!1){let t=this,o=t.vdom;o.cn=[],t.store.items.forEach((e=>{o.cn.push(t.createItem(e))})),e?t._vdom=o:t.promiseVdomUpdate().then((()=>{t.fire("createItems")}))}destroy(){let e=this;e.selectionModel&&e.selectionModel.destroy(),e.store&&e.autoDestroyStore&&e.store.destroy(),super.destroy()}focus(e){super.focus(e),e&&Neo.main.DomAccess.scrollIntoView({behavior:"auto",id:e||this.id})}getItemId(e){return this.id+"__"+e}getItemRecordId(e){let t=e.split("__")[1],o=this.store.model,s=o&&o.getField(o.keyProperty);return!s||"integer"!==s.type.toLowerCase()&&"number"!==s.type.toLowerCase()||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t=this;e.path[0].id===t.id?t.onContainerClick(e):e.path[0].cls.includes(t.itemCls)&&t.onItemClick(e)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e){let t=this,o=e.path[0].id;!t.disableSelection&&t.selectionModel&&t.selectionModel.select(o),t.fire("itemClick",t.store.get(t.getItemRecordId(o)))}onStoreFilter(){this.createItems()}onStoreLoad(){let e=this;if(!e.mounted&&e.rendering){const t=e.on("rendered",(()=>{e.un("rendered",t),e.createItems()}))}else e.createItems()}selectItem(e){let t=this;!t.disableSelection&&t.selectionModel&&t.selectionModel.selectAt(e)}}Neo.applyClassConfig(d)}}]);