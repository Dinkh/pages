"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[349],{349:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var n=a(375),r=a(752),o=a(9);class t extends n.Z{static getConfig(){return{className:"Neo.main.addon.ServiceWorker",mixins:[r.Z],registration:null,singleton:!0}}construct(e){if("serviceWorker"in navigator){let e=this,s=Neo.config,a="development"===s.environment,n=a?"ServiceWorker.mjs":"serviceworker.js",r=window.location.pathname.includes("/examples/")?"examples/":"apps/",t=a?{type:"module"}:{},i=(a?s.basePath:s.workerBasePath)+(a?r:"")+n,c=navigator.serviceWorker;c.register(i,t).then((a=>{e.registration=a,c.ready.then((()=>{c.onmessage=o.Z.onWorkerMessage.bind(o.Z),o.Z.sendMessage("service",{action:"registerNeoConfig",channelPort:a.active,data:s})}))}))}}}Neo.applyClassConfig(t);let i=Neo.create(t);Neo.applyToGlobalNs(i);const c=i}}]);