(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[7420],{7420:(e,n,t)=>{"use strict";t.r(n),t.d(n,{onStart:()=>f});var o=t(1354),r=t(5763),i=t(5210),a=t(5062);class s extends i.Z{static getConfig(){return{className:"SharedDialog.DemoWindow",containerConfig:{style:{padding:"20px"}},items:[{module:a.Z,flex:"none",labelText:"Field 1"},{module:a.Z,flex:"none",labelText:"Field 2"}],wrapperStyle:{height:"40%",width:"40%"}}}}Neo.applyClassConfig(s);var l=t(3501);class c extends r.Z{static getConfig(){return{className:"SharedDialog.view.MainContainerController",ntype:"maincontainer-controller",connectedApps:[]}}onConstructed(){super.onConstructed();const e=this;e.view.on({connect:e.onAppConnect,disconnect:e.onAppDisconnect,scope:e})}createDialog(e){let n=this,t=n.view;e.component.disabled=!0,n.dialog=Neo.create(s,{animateTargetId:e.component.id,appName:t.appName,boundaryContainerId:t.boundaryContainerId,listeners:{close:n.onWindowClose,scope:n}})}getSecondWindowButton(){return this.view.down({iconCls:"fa fa-window-restore"})}onAppConnect(e){let n=this,t=e.appName;n.view,"SharedDialog"!==t&&l.Z.add(n.connectedApps,t),"SharedDialog2"===t&&(n.getSecondWindowButton().disabled=!0)}onAppDisconnect(e){let n=this,t=e.appName;n.view,"SharedDialog"===t?Neo.Main.windowClose({names:n.connectedApps}):(l.Z.remove(n.connectedApps,t),Neo.main.addon.WindowPosition.unregisterWindow({name:t})),"SharedDialog2"===t&&(n.getSecondWindowButton().disabled=!1)}onWindowClose(){this.view.down({text:"Create Dialog"}).disabled=!1}openDockedWindow(e){Neo.Main.getWindowData().then((e=>{let n=e.outerHeight-78,t=e.outerWidth+e.screenLeft,o=e.screenTop+28;Neo.Main.windowOpen({url:"../shareddialog2/index.html",windowFeatures:`height=${n},left=${t},top=${o},width=400`,windowName:"SharedDialog2"}),Neo.main.addon.WindowPosition.registerWindow({dock:"right",name:"SharedDialog2",size:400})}))}switchTheme(e){let n,t,o=e.component,r="Theme Light",i="fa fa-sun",a="neo-theme-dark";"Theme Light"===o.text&&(r="Theme Dark",i="fa fa-moon",a="neo-theme-light"),this.connectedApps.forEach((e=>{t=Neo.apps[e].mainViewInstance,n=[...t.cls],t.cls.forEach((e=>{e.includes("neo-theme")&&l.Z.remove(n,e)})),l.Z.add(n,a),t.cls=n})),o.set({iconCls:i,text:r})}}Neo.applyClassConfig(c);var d=t(4959),p=t(7228);class h extends p.Z{static getConfig(){return{className:"SharedDialog.view.MainContainer",ntype:"main-container",autoMount:!0,controller:c,layout:{ntype:"vbox",align:"stretch"},style:{padding:"20px"},boundaryContainerId:"document.body",dialog:null,items:[{module:d.Z,flex:"none",items:[{module:o.Z,handler:"createDialog",iconCls:"fa fa-window-maximize",text:"Create Dialog"},"->",{module:o.Z,handler:"switchTheme",iconCls:"fa fa-moon",text:"Theme Dark"},{module:o.Z,handler:"openDockedWindow",iconCls:"fa fa-window-restore",style:{marginLeft:"1em"},text:"Open docked Window"}]},{ntype:"component",flex:1,html:"#1",style:{alignItems:"center",color:"#bbb",display:"flex",fontSize:"200px",justifyContent:"center",userSelect:"none"}}]}}}Neo.applyClassConfig(h);const f=()=>Neo.app({appPath:"apps/shareddialog/",mainView:h,name:"SharedDialog"})},5763:(e,n,t)=>{"use strict";t.d(n,{Z:()=>d});var o=t(2641),r=t(9342),i=t(1954),a=t(3949),s=t(2325);class l extends s.Z{static getConfig(){return{className:"Neo.util.Function"}}static bindAppend(e){const n=this,t=[].slice.call(arguments).slice(1);return function(){return n.apply(e,[].slice.call(arguments).concat(t))}}static createSequence(e,n,t,o){let r=e[n]||Neo.emptyFn;return e[n]=function(){return r.apply(this,arguments),t.apply(o||this,arguments)}}static intercept(e,n,t,o){let r=e[n]||Neo.emptyFn;return e[n]=function(){let e=t.apply(o||this,arguments);return r.apply(this,arguments),e}}}Neo.applyClassConfig(l);const c=l;class d extends o.Z{static getConfig(){return{className:"Neo.controller.Component",ntype:"component-controller",references:null,view_:null}}constructor(e){super(e);let n=this;n.references={},c.createSequence(n.view,"onConstructed",n.onViewConstructed,n)}beforeGetView(e,n){return Neo.get(e)}beforeSetView(e,n){return e.id}getParent(e){let n,t=this.view,o=r.Z.getParents(t),i=0,a=o.length;for(;i<a;i++)if(n=o[i].controller,n){if(!e)return n;if(e===n.ntype)return n}return null}getParentHandlerScope(e){let n,t=this.view,o=r.Z.getParents(t),i=0,a=o.length;for(;i<a;i++)if(n=o[i].controller,n&&n[e])return n;return null}getReference(e){let n,t=this,o=t.references[e];return o&&(n=Neo.getComponent(o)),n||(n=t.view.down({reference:e}),n&&(t.references[e]=n.id)),n||null}onViewConstructed(e){let n,t,o,r,s=this,l=!!e;(e=e||s.view).domListeners=Neo.clone(e.domListeners,!0,!0),n=e.domListeners,n&&(Array.isArray(n)||(n=[n]),n.forEach((n=>{Object.entries(n).forEach((([l,c])=>{t=null,"scope"!==l&&"delegate"!==l&&(Neo.isString(c)?t=c:Neo.isObject(c)&&c.hasOwnProperty("fn")&&Neo.isString(c.fn)&&(t=c.fn),t&&(s[t]?(o=s[t].bind(s),n[l]=o,i.Z.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:o,eventHandlerName:t,eventName:l,scope:s})):(r=s.getParentHandlerScope(t),r?(o=r[t].bind(r),n[l]=o,i.Z.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:o,eventHandlerName:t,eventName:l,scope:r})):a.Z.logError("Unknown domEvent handler for",e,t))))}))}))),e.listeners&&Object.entries(e.listeners).forEach((([n,o])=>{Array.isArray(o)&&o.forEach((n=>{t=null,Neo.isObject(n)&&n.hasOwnProperty("fn")&&Neo.isString(n.fn)&&(t=n.fn,s[t]?n.fn=s[t].bind(s):a.Z.logError("Unknown event handler for",e,t))}))})),e.items&&e.items.forEach((e=>{e.controller||s.onViewConstructed(e)})),l||s.onViewParsed()}onViewParsed(){}parseConfig(e){let n,t=this,o=e||t.view,r=o.domListeners;r&&(Array.isArray(r)||(r=[r]),r.forEach((e=>{Object.entries(e).forEach((([r,i])=>{n=null,"scope"!==r&&"delegate"!==r&&(Neo.isString(i)?n=i:Neo.isObject(i)&&i.hasOwnProperty("fn")&&Neo.isString(i.fn)&&(n=i.fn),n&&(t[n]?(console.log("#",r,t.id),console.log("parseConfig",n),e[r]=t[n].bind(t)):a.Z.logError("Unknown domEvent handler for",o,n)))}))}))),o.listeners&&Object.entries(o.listeners).forEach((([e,r])=>{n=null,"scope"!==e&&"delegate"!==e&&(Neo.isString(r)?n=r:Neo.isObject(r)&&r.hasOwnProperty("fn")&&Neo.isString(r.fn)&&(n=r.fn),n&&(t[n]?o.listeners[e]=t[n].bind(t):a.Z.logError("Unknown event handler for",o,n)))})),o.headers&&o.headers.forEach((e=>{e.controller||t.parseConfig(e)})),o.items&&o.items.forEach((e=>{e.controller||t.parseConfig(e)}))}}Neo.applyClassConfig(d)}}]);