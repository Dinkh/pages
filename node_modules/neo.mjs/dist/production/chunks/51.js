self.webpackChunk([51],{108:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(72),o=n(3);let r;class i extends a.a{static getConfig(){return{className:"Neo.dialog.Base",ntype:"dialog",animateTargetId:null,autoMount:!0,autoRender:!0,boundaryContainerId:"document.body",cls:["neo-dialog","neo-panel","neo-container"],draggable_:!0,dragListenersAdded:!1,dragZone:null,headerToolbar:null,isDragging:!1,maximizeCls:"far fa-window-maximize",maximized_:!1,minimizeCls:"far fa-window-minimize",resizable_:!0,_vdom:{cls:["neo-dialog-wrapper"],cn:[{cn:[]}]}}}getVdomRoot(){return this.vdom.cn[0]}getVnodeRoot(){return this.vnode.childNodes[0]}constructor(e){super(e);let t=this;t.vdom.id=t.getWrapperId(),t.createHeader(),t.animateTargetId&&t.animateShow()}onConstructed(){super.onConstructed();this.headerToolbar=this.down({id:this.getHeaderToolbarId()})}afterSetDraggable(e,t){let a,i=this,s=i.domListeners;void 0!==t&&i.headerToolbar&&(a=i.headerToolbar.cls,o.a[e?"add":"remove"](a,"neo-draggable"),i.headerToolbar.cls=a),e&&n.e(41).then(n.bind(null,91)).then(e=>{r=e.default,i.dragListenersAdded||(s.push({"drag:end":i.onDragEnd,scope:i,delegate:".neo-header-toolbar"},{"drag:start":i.onDragStart,scope:i,delegate:".neo-header-toolbar"}),i.domListeners=s,i.dragListenersAdded=!0)})}afterSetMaximized(e,t){let n=this.vdom,a=n.cls;o.a[e?"add":"remove"](a,"neo-maximized"),this.vdom=n}afterSetMounted(e,t){if(super.afterSetMounted(e,t),e){let e=this;e.animateTargetId&&Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:e.appName,deltas:[{action:"removeNode",id:e.getAnimateTargetId()}]})}}afterSetResizable(e,t){e&&n.e(47).then(n.bind(null,122)).then(e=>{let t=this,n=t.plugins||[];t.getPlugin({module:e.default})||(n.push({module:e.default,delegationCls:"neo-dialog"}),t.plugins=n)})}animateHide(){let e=this,t=e.appName,n=e.getAnimateTargetId();Neo.main.DomAccess.getBoundingClientRect({id:[e.id,e.animateTargetId]}).then(a=>{Neo.currentWorker.promiseMessage("main",{action:"mountDom",appName:t,html:`<div id="${n}" class="neo-animate-dialog neo-hide" style="height:${a[0].height}px;left:${a[0].left}px;top:${a[0].top}px;width:${a[0].width}px;"></div>`,parentId:"document.body"}).then(()=>{setTimeout(()=>{Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:t,deltas:[{id:n,style:{height:a[1].height+"px",left:a[1].left+"px",top:a[1].top+"px",width:a[1].width+"px"}}]}).then(()=>{setTimeout(()=>{Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:t,deltas:[{action:"removeNode",id:n}]})},250)})},30),e.fire("close"),e.destroy(!0)})})}animateShow(){let e=this,t=e.appName,n=e.autoMount,a=e.getAnimateTargetId();e.autoMount=!1,e.autoRender=!1,Neo.main.DomAccess.getBoundingClientRect({id:e.animateTargetId}).then(o=>{Neo.currentWorker.promiseMessage("main",{action:"mountDom",appName:t,html:`<div id="${a}" class="neo-animate-dialog" style="height:${o.height}px;left:${o.left}px;top:${o.top}px;width:${o.width}px;"></div>`,parentId:"document.body"}).then(()=>{setTimeout(()=>{Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:t,deltas:[{id:a,style:{height:e.wrapperStyle&&e.wrapperStyle.height||"50%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:e.wrapperStyle&&e.wrapperStyle.width||"50%"}}]}).then(()=>{n&&setTimeout(()=>{e.render(!0)},200)})},30)})})}close(){let e=this;e.animateTargetId?e.animateHide():(e.fire("close"),e.destroy(!0))}createHeader(){let e=this,t=["neo-header-toolbar","neo-toolbar"],n=e.headers||[];e.draggable&&t.push("neo-draggable"),n.unshift({cls:t,dock:"top",id:e.getHeaderToolbarId(),items:[{ntype:"label",text:"Dialog Title"},"->",{iconCls:"far fa-window-maximize",handler:e.maximize.bind(e)},{iconCls:"far fa-window-close",handler:e.close.bind(e)}]}),e.headers=n}getAnimateTargetId(){return this.id+"-animate"}getHeaderToolbarId(){return this.id+"-header-toolbar"}getWrapperId(){return this.id+"-wrapper"}maximize(e){let t=this;e.component.iconCls=t.maximized?t.maximizeCls:t.minimizeCls,t.maximized=!t.maximized}onDragEnd(e){let t,n=this;n.maximized||Neo.main.DomAccess.getBoundingClientRect({id:n.dragZone.dragProxy.id}).then(a=>{t=n.wrapperStyle,Object.assign(t,{height:a.height+"px",left:a.left+"px",opacity:1,top:a.top+"px",transform:"none",width:a.width+"px"}),n.wrapperStyle=t,n.dragZone.dragEnd(e),n.dragZone.boundaryContainerId=null,n.isDragging=!1})}onDragStart(e){let t=this,n=t.wrapperStyle||{};t.maximized||(t.isDragging=!0,t.plugins[0].removeAllNodes(),t.dragZone?t.dragZone.boundaryContainerId=t.boundaryContainerId:t.dragZone=Neo.create({module:r,appName:t.appName,boundaryContainerId:t.boundaryContainerId,dragElement:t.vdom,owner:t}),t.dragZone.dragStart(e),n.opacity=.3,t.wrapperStyle=n)}}Neo.applyClassConfig(i)},34:function(e,t,n){"use strict";n.r(t),n.d(t,"onStart",(function(){return m}));var a=n(75),o=n(82),r=n(108),i=n(70);class s extends r.a{static getConfig(){return{className:"SharedDialog2.DemoWindow",containerConfig:{style:{padding:"20px"}},items:[{module:i.a,flex:"none",labelText:"Field 1"},{module:i.a,flex:"none",labelText:"Field 2"}],wrapperStyle:{height:"40%",width:"40%"}}}}Neo.applyClassConfig(s);class l extends o.a{static getConfig(){return{className:"SharedDialog2.view.MainContainerController",ntype:"maincontainer2-controller"}}createDialog(e){let t=this.view;e.component.disabled=!0,this.dialog=Neo.create(s,{animateTargetId:e.component.id,appName:t.appName,boundaryContainerId:t.boundaryContainerId,listeners:{close:this.onWindowClose,scope:this}})}onWindowClose(){this.view.down({text:"Create Dialog"}).disabled=!1}}Neo.applyClassConfig(l);var d=n(74),c=n(69);class p extends c.a{static getConfig(){return{className:"SharedDialog2.view.MainContainer",ntype:"main-container2",autoMount:!0,controller:l,layout:{ntype:"vbox",align:"stretch"},style:{padding:"20px"},boundaryContainerId:"document.body",dialog:null,items:[{module:d.a,flex:"none",items:[{module:a.a,handler:"createDialog",iconCls:"fa fa-window-maximize",text:"Create Dialog"}]},{ntype:"component",flex:1,html:"#2",style:{alignItems:"center",color:"#bbb",display:"flex",fontSize:"200px",justifyContent:"center",userSelect:"none"}}]}}}Neo.applyClassConfig(p);const m=()=>Neo.app({appPath:"apps/shareddialog2/",mainView:p,name:"SharedDialog2"})},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(66);class o extends a.a{static getConfig(){return{className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,cls:["neo-viewport"]}}onConstructed(){super.onConstructed(),this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:this.appName,cls:["neo-body-viewport"]})}}Neo.applyClassConfig(o)},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(66);n(74);class o extends a.a{static getConfig(){return{className:"Neo.container.Panel",ntype:"panel",cls:["neo-panel","neo-container"],containerConfig:null,headerDefaults:null,headers:null,_layout:{ntype:"vbox",align:"stretch"},verticalHeadersFirst:!1}}constructor(e){super(e);let t=this;(e&&!0===e.verticalHeadersFirst||!0===t.verticalHeadersFirst)&&(t.layout={ntype:"hbox",align:"stretch"})}createItems(){let e,t=this,n=!1===t.verticalHeadersFirst,a=t.headers||[],r=a.filter(e=>e.dock===(n?"bottom":"right")),i=a.filter(e=>e.dock===(n?"left":"top")),s=a.filter(e=>e.dock===(n?"right":"bottom")),l=a.filter(e=>e.dock===(n?"top":"left")),d=r.length>0||l.length>0,c=i.length>0||s.length>0,p=t.items,m=[],g=[];a.length<1&&Neo.error("Panel without headers, please use a Container instead",t.id),l.forEach(e=>{g.push(o.createHeaderConfig(e))}),c&&(n&&d||!n&&d)?(i.forEach(e=>{m.push(o.createHeaderConfig(e))}),e={ntype:"container",flex:1,items:p,itemDefaults:t.itemDefaults,...t.containerConfig||{}},m.push({...t.headerDefaults,...e}),s.forEach(e=>{m.push(o.createHeaderConfig(e))}),g.push({ntype:"container",items:m,layout:{ntype:n?"hbox":"vbox",align:"stretch"}})):(e={ntype:"container",flex:1,items:p,itemDefaults:t.itemDefaults,...t.containerConfig||{}},g.push({...t.headerDefaults,...e})),r.forEach(e=>{g.push(o.createHeaderConfig(e))}),t.items=g,t.itemDefaults=null,super.createItems()}static createHeaderConfig(e){let t={ntype:"toolbar",flex:"0 1 auto"};return e.text&&(t.items=[{ntype:"label",cls:["neo-panel-header-text","neo-label"],text:e.text}],delete e.text),Neo.isArray(e.items)&&e.items.forEach(e=>{"label"===e.ntype&&(e.cls=["neo-panel-header-text","neo-label"])}),{...t,...e}}}Neo.applyClassConfig(o)},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(13),o=n(10),r=n(12),i=n(4),s=n(0);class l extends s.a{static getConfig(){return{className:"Neo.util.Function"}}static bindAppend(e){const t=this,n=[].slice.call(arguments).slice(1);return function(){return t.apply(e,[].slice.call(arguments).concat(n))}}static createSequence(e,t,n,a){let o=e[t]||Neo.emptyFn;return e[t]=function(){return o.apply(this,arguments),n.apply(a||this,arguments)}}static intercept(e,t,n,a){let o=e[t]||Neo.emptyFn;return e[t]=function(){let e=n.apply(a||this,arguments);return o.apply(this,arguments),e}}}Neo.applyClassConfig(l);var d=l;class c extends a.a{static getConfig(){return{className:"Neo.controller.Component",ntype:"component-controller",references:null,view_:null}}constructor(e){super(e);this.references={},d.createSequence(this.view,"onConstructed",this.onViewConstructed,this)}beforeGetView(e,t){return Neo.get(e)}beforeSetView(e,t){return e.id}getParent(e){let t,n=this.view,a=o.a.getParents(n),r=0,i=a.length;for(;r<i;r++)if(t=a[r].controller,t){if(!e)return t;if(e===t.ntype)return t}return null}getParentHandlerScope(e){let t,n=this.view,a=o.a.getParents(n),r=0,i=a.length;for(;r<i;r++)if(t=a[r].controller,t&&t[e])return t;return null}getReference(e){let t,n=this,a=n.references[e];return a&&(t=Neo.getComponent(a)),t||(t=n.view.down({reference:e}),t&&(n.references[e]=t.id)),t||null}onViewConstructed(e){let t,n,a,o,s=this,l=!!e;(e=e||s.view).domListeners=Neo.clone(e.domListeners,!0,!0),t=e.domListeners,t&&(Array.isArray(t)||(t=[t]),t.forEach(t=>{Object.entries(t).forEach(([l,d])=>{n=null,"scope"!==l&&"delegate"!==l&&(Neo.isString(d)?n=d:Neo.isObject(d)&&d.hasOwnProperty("fn")&&Neo.isString(d.fn)&&(n=d.fn),n&&(s[n]?(a=s[n].bind(s),t[l]=a,r.a.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:a,eventHandlerName:n,eventName:l,scope:s})):(o=s.getParentHandlerScope(n),o?(a=o[n].bind(o),t[l]=a,r.a.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:a,eventHandlerName:n,eventName:l,scope:o})):i.a.logError("Unknown domEvent handler for",e,n))))})})),e.listeners&&Object.entries(e.listeners).forEach(([t,a])=>{Array.isArray(a)&&a.forEach(t=>{n=null,Neo.isObject(t)&&t.hasOwnProperty("fn")&&Neo.isString(t.fn)&&(n=t.fn,s[n]?t.fn=s[n].bind(s):i.a.logError("Unknown event handler for",e,n))})}),e.items&&e.items.forEach(e=>{e.controller||s.onViewConstructed(e)}),l||s.onViewParsed()}onViewParsed(){}parseConfig(e){let t,n=this,a=e||n.view,o=a.domListeners;o&&(Array.isArray(o)||(o=[o]),o.forEach(e=>{Object.entries(e).forEach(([o,r])=>{t=null,"scope"!==o&&"delegate"!==o&&(Neo.isString(r)?t=r:Neo.isObject(r)&&r.hasOwnProperty("fn")&&Neo.isString(r.fn)&&(t=r.fn),t&&(n[t]?(console.log("#",o,n.id),console.log("parseConfig",t),e[o]=n[t].bind(n)):i.a.logError("Unknown domEvent handler for",a,t)))})})),a.listeners&&Object.entries(a.listeners).forEach(([e,o])=>{t=null,"scope"!==e&&"delegate"!==e&&(Neo.isString(o)?t=o:Neo.isObject(o)&&o.hasOwnProperty("fn")&&Neo.isString(o.fn)&&(t=o.fn),t&&(n[t]?a.listeners[e]=n[t].bind(n):i.a.logError("Unknown event handler for",a,t)))}),a.headers&&a.headers.forEach(e=>{e.controller||n.parseConfig(e)}),a.items&&a.items.forEach(e=>{e.controller||n.parseConfig(e)})}}Neo.applyClassConfig(c)}});